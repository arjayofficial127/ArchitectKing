-- SQL INSERT statements for Working Fundamentals book pages
-- Org ID: 82c2d096-2638-4837-83c8-e8a933bb17c7
-- Created by: 88b62d69-6012-47ae-b45b-9ccc5f1dc87c
-- Generated: 2026-01-26 14:29:01

-- Note: Chapter 1 already exists, so we're inserting:
-- - Introduction
-- - Chapters 2-13
-- - Outroduction
-- Total: 14 rows


-- 1. Introduction
-- Slug: working-fundamentals-introduction
-- ID: 96053146-41fb-4308-b94b-f29e70102ff1
-- File: introduction.html
INSERT INTO App_Pages (
    id, org_id, name, slug, template_code, layout, layout_version, is_active,
    created_by_user_id, created_at, updated_at, visibility, description,
    is_template, template_metadata, kind, parent_id, section_tags, section_purpose,
    section_scope, palette_id, is_default_variation, variation_order, template_purpose,
    is_listed, is_org_landing_page, report, folder, layout_raw, layout_quarantine,
    layout_schema_version, layout_ingested_at
) VALUES (
    '96053146-41fb-4308-b94b-f29e70102ff1',
    '82c2d096-2638-4837-83c8-e8a933bb17c7',
    'Introduction',
    'working-fundamentals-introduction',
    NULL,
    '{"id": "block-root", "style": {}, "type": "container", "children": [{"id": "temp-container", "style": {"width": "100vw", "height": "100vh"}, "type": "container", "children": [{"id": "temp-coderunner", "style": {}, "type": "codeRunner", "data": {"html": "<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n  <meta charset=\"UTF-8\" />\n  <title>Working Fundamentals ‚Äî Arvin Jayson Castro</title>\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n\n  <!-- =====================\n       GLOBAL STYLES\n  ====================== -->\n  <style>\n    :root {\n      --bg: #f7f8f8;\n      --ink: #111111;\n      --muted: #666666;\n      --line: rgba(0,0,0,0.08);\n      --accent: #16a34a;\n      --link: #3b82f6;\n      --max-width: 1200px;\n    }\n\n    * {\n      box-sizing: border-box;\n    }\n\n    body {\n      margin: 0;\n      font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, sans-serif;\n      color: var(--ink);\n      background-color: var(--bg);\n      background-image:\n        radial-gradient(980px 560px at 14% 18%, rgba(16,185,129,0.10) 0%, rgba(16,185,129,0) 60%),\n        radial-gradient(860px 540px at 86% 74%, rgba(245,158,11,0.10) 0%, rgba(245,158,11,0) 62%),\n        repeating-linear-gradient(0deg, rgba(0,0,0,0.043) 0, rgba(0,0,0,0.043) 1px, transparent 1px, transparent 46px),\n        repeating-linear-gradient(90deg, rgba(0,0,0,0.043) 0, rgba(0,0,0,0.043) 1px, transparent 1px, transparent 46px);\n      min-height: 100vh;\n    }\n\n    a {\n      color: inherit;\n      text-decoration: none;\n    }\n\n    img {\n      max-width: 100%;\n      display: block;\n    }\n\n    /* =====================\n       PAGE WRAPPER\n    ====================== */\n    .page {\n      padding: 22px 24px;\n    }\n\n    .container {\n      max-width: var(--max-width);\n      margin: 0 auto;\n    }\n\n    /* =====================\n       SIDEBAR BACKDROP\n    ====================== */\n    .sidebar-backdrop {\n      position: fixed;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n      background: rgba(0, 0, 0, 0.2);\n      backdrop-filter: blur(4px);\n      -webkit-backdrop-filter: blur(4px);\n      opacity: 0;\n      visibility: hidden;\n      transition: opacity 0.3s ease, visibility 0.3s ease;\n      z-index: 999;\n      pointer-events: none;\n    }\n\n    .sidebar-backdrop--visible {\n      opacity: 1;\n      visibility: visible;\n      pointer-events: auto;\n    }\n\n    /* =====================\n       SIDEBAR\n    ====================== */\n    .sidebar {\n      position: fixed;\n      top: 0;\n      right: 0;\n      width: 320px;\n      height: 100vh;\n      background: var(--bg);\n      border-left: 1px solid var(--line);\n      transform: translateX(100%);\n      transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n      z-index: 1000;\n      overflow-y: auto;\n      padding: 24px;\n    }\n\n    .sidebar--open {\n      transform: translateX(0);\n    }\n\n    .sidebar__title {\n      font-size: 16px;\n      font-weight: 600;\n      margin-bottom: 24px;\n      color: var(--ink);\n    }\n\n    /* Prevent body scroll when sidebar is open */\n    body.sidebar-open {\n      overflow: hidden;\n    }\n\n    .sidebar__chapter-list {\n      list-style: none;\n      margin: 0;\n      padding: 0;\n    }\n\n    .sidebar__chapter-item {\n      margin: 0 0 8px 0;\n    }\n\n    .sidebar__chapter-link {\n      display: block;\n      font-size: 14px;\n      color: var(--muted);\n      text-decoration: none;\n      padding: 8px 0;\n      transition: color 0.2s ease;\n      line-height: 1.5;\n    }\n\n    .sidebar__chapter-link:hover {\n      color: var(--ink);\n    }\n\n    .sidebar__chapter-link--current {\n      color: var(--ink);\n      font-weight: 500;\n    }\n\n    /* =====================\n       HEADER (Top bar with chapter indicator)\n    ====================== */\n    .header {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      padding: 10px 0;\n      border-bottom: 1px solid var(--line);\n      position: relative;\n      transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n    }\n\n    .header--shifted {\n      transform: translateX(-320px);\n    }\n\n    .brand {\n      font-size: 16px;\n      font-weight: 600;\n      cursor: pointer;\n      display: inline-block;\n    }\n\n    .nav {\n      display: flex;\n      gap: 24px;\n      align-items: center;\n      font-size: 14px;\n    }\n\n    .nav a {\n      color: #1f2937;\n    }\n\n    .linkedin {\n      display: flex;\n      flex-direction: column;\n      align-items: flex-start;\n    }\n\n    .linkedin a {\n      color: var(--link);\n    }\n\n    .linkedin span {\n      font-family: Georgia, serif;\n      font-size: 9px;\n      font-style: italic;\n      color: #999;\n    }\n\n    /* =====================\n       MAIN GRID\n    ====================== */\n    .main {\n      padding-top: 48px;\n      padding-bottom: 48px;\n      display: flex;\n      justify-content: center;\n      align-items: start;\n    }\n\n    /* =====================\n       CHAPTER READING AREA (Option 1: Magazine-style)\n    ====================== */\n    .chapter-content {\n      max-width: 768px;\n      width: 100%;\n      margin: 0 auto;\n    }\n\n    .chapter-header {\n      margin-bottom: 56px;\n      padding-bottom: 32px;\n      border-bottom: 2px solid var(--line);\n    }\n\n    .book-title {\n      font-size: 12px;\n      letter-spacing: 0.15em;\n      text-transform: uppercase;\n      color: var(--muted);\n      font-weight: 500;\n      margin-bottom: 8px;\n      opacity: 0.7;\n    }\n\n    .chapter-number {\n      font-size: 13px;\n      letter-spacing: 0.2em;\n      text-transform: uppercase;\n      color: var(--muted);\n      font-weight: 600;\n      margin-bottom: 12px;\n      display: flex;\n      align-items: center;\n      gap: 8px;\n      cursor: pointer;\n      user-select: none;\n      transition: color 0.2s ease;\n    }\n\n    .chapter-number:hover {\n      color: var(--ink);\n    }\n\n    .chapter-number__icon {\n      font-size: 10px;\n      opacity: 0.6;\n      transition: transform 0.3s ease, opacity 0.2s ease;\n    }\n\n    .chapter-number:hover .chapter-number__icon {\n      opacity: 0.8;\n    }\n\n    .chapter-number__icon--open {\n      transform: rotate(180deg);\n    }\n\n    .chapter-title {\n      font-size: 56px;\n      font-weight: 900;\n      line-height: 1.05;\n      margin: 0 0 20px 0;\n      color: var(--ink);\n      letter-spacing: -0.03em;\n    }\n\n    .chapter-subtitle {\n      font-size: 22px;\n      font-weight: 500;\n      color: var(--muted);\n      line-height: 1.4;\n      margin: 0;\n    }\n\n    .chapter-body {\n      font-size: 19px;\n      line-height: 1.8;\n      color: var(--ink);\n      max-width: none;\n      font-weight: 400;\n    }\n\n    .chapter-body p {\n      margin: 0 0 28px 0;\n    }\n\n    .chapter-body p:last-child {\n      margin-bottom: 0;\n    }\n\n    .chapter-body h2 {\n      font-size: 36px;\n      font-weight: 800;\n      line-height: 1.2;\n      margin: 56px 0 24px 0;\n      color: var(--ink);\n      letter-spacing: -0.02em;\n    }\n\n    .chapter-body h3 {\n      font-size: 26px;\n      font-weight: 700;\n      line-height: 1.3;\n      margin: 40px 0 18px 0;\n      color: var(--ink);\n      letter-spacing: -0.01em;\n    }\n\n    .chapter-body strong {\n      font-weight: 600;\n      color: var(--ink);\n    }\n\n    .chapter-body em {\n      font-style: italic;\n    }\n\n    .chapter-body ul,\n    .chapter-body ol {\n      margin: 28px 0;\n      padding-left: 36px;\n    }\n\n    .chapter-body li {\n      margin-bottom: 14px;\n      line-height: 1.75;\n    }\n\n    .chapter-body blockquote {\n      margin: 40px 0;\n      padding-left: 28px;\n      border-left: 4px solid var(--accent);\n      font-style: italic;\n      color: var(--muted);\n      font-size: 18px;\n      line-height: 1.7;\n    }\n\n    .chapter-body code {\n      font-family: ''Monaco'', ''Menlo'', ''Courier New'', monospace;\n      font-size: 0.9em;\n      background: rgba(0,0,0,0.04);\n      padding: 2px 6px;\n      border-radius: 3px;\n    }\n\n    .chapter-body pre {\n      background: rgba(0,0,0,0.04);\n      padding: 20px;\n      border-radius: 8px;\n      overflow-x: auto;\n      margin: 24px 0;\n    }\n\n    .chapter-body pre code {\n      background: none;\n      padding: 0;\n    }\n\n    /* Content shift when sidebar opens */\n    .main {\n      transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n    }\n\n    .main--shifted {\n      transform: translateX(-320px);\n    }\n\n    /* Prevent horizontal scroll */\n    body {\n      overflow-x: hidden;\n    }\n\n    .page {\n      overflow-x: hidden;\n    }\n\n    /* =====================\n       CHAPTER NAVIGATION (BOTTOM)\n    ====================== */\n    .chapter-nav-bottom {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      max-width: 768px;\n      width: 100%;\n      margin: 64px auto 0 auto;\n      padding: 24px 0;\n      border-top: 1px solid var(--line);\n    }\n\n    .chapter-nav-bottom__link {\n      display: flex;\n      align-items: center;\n      gap: 8px;\n      font-size: 14px;\n      color: var(--muted);\n      text-decoration: none;\n      transition: color 0.2s ease;\n      padding: 8px 0;\n    }\n\n    .chapter-nav-bottom__link:hover {\n      color: var(--ink);\n    }\n\n    .chapter-nav-bottom__arrow {\n      font-size: 16px;\n      opacity: 0.7;\n    }\n\n    .chapter-nav-bottom__label {\n      font-weight: 500;\n    }\n\n    .chapter-nav-bottom__link--prev {\n      margin-right: auto;\n    }\n\n    .chapter-nav-bottom__link--next {\n      margin-left: auto;\n    }\n\n    .chapter-nav-bottom__link--disabled {\n      opacity: 0.4;\n      cursor: not-allowed;\n      pointer-events: none;\n    }\n\n    .page-widget__pages {\n      max-height: 0;\n      overflow: hidden;\n      transition: max-height 0.4s cubic-bezier(0.4, 0, 0.2, 1),\n                  opacity 0.3s ease,\n                  margin-top 0.3s ease;\n      opacity: 0;\n      margin-top: 0;\n      background: rgba(255, 255, 255, 0.98);\n      backdrop-filter: blur(12px);\n      -webkit-backdrop-filter: blur(12px);\n      border: 1px solid rgba(0, 0, 0, 0.06);\n      border-radius: 12px;\n      box-shadow: 0 2px 12px rgba(0, 0, 0, 0.06);\n    }\n\n    .page-widget__pages--expanded {\n      max-height: 500px;\n      opacity: 1;\n      margin-top: 12px;\n      padding: 8px;\n    }\n\n    .page-widget__pages-list {\n      list-style: none;\n      margin: 0;\n      padding: 0;\n      display: flex;\n      flex-direction: column;\n      gap: 8px;\n      max-height: 400px;\n      overflow-y: auto;\n      padding-right: 4px;\n    }\n\n    .page-widget__pages-list::-webkit-scrollbar {\n      width: 6px;\n    }\n\n    .page-widget__pages-list::-webkit-scrollbar-track {\n      background: rgba(0, 0, 0, 0.02);\n      border-radius: 3px;\n    }\n\n    .page-widget__pages-list::-webkit-scrollbar-thumb {\n      background: rgba(0, 0, 0, 0.12);\n      border-radius: 3px;\n    }\n\n    .page-widget__pages-list::-webkit-scrollbar-thumb:hover {\n      background: rgba(0, 0, 0, 0.2);\n    }\n\n    .page-widget__page-item {\n      display: flex;\n      align-items: center;\n      gap: 10px;\n      padding: 8px 10px;\n      border-radius: 8px;\n      cursor: pointer;\n      transition: all 0.2s ease;\n      text-decoration: none;\n      color: var(--ink);\n    }\n\n    .page-widget__page-item:hover {\n      background: rgba(0, 0, 0, 0.03);\n      transform: translateX(2px);\n    }\n\n    .page-widget__page-item--current {\n      background: rgba(22, 163, 74, 0.08);\n      color: var(--accent);\n      font-weight: 500;\n    }\n\n    .page-widget__page-item--current:hover {\n      background: rgba(22, 163, 74, 0.12);\n    }\n\n    .page-widget__page-number {\n      display: inline-flex;\n      align-items: center;\n      justify-content: center;\n      width: 24px;\n      height: 24px;\n      background: rgba(0, 0, 0, 0.04);\n      border-radius: 5px;\n      font-size: 11px;\n      font-weight: 500;\n      flex-shrink: 0;\n      color: var(--muted);\n    }\n\n    .page-widget__page-item--current .page-widget__page-number {\n      background: rgba(22, 163, 74, 0.15);\n      color: var(--accent);\n    }\n\n    .page-widget__page-info {\n      flex: 1;\n      min-width: 0;\n    }\n\n    .page-widget__page-name {\n      font-size: 13px;\n      font-weight: 500;\n      line-height: 1.3;\n      margin: 0 0 2px 0;\n    }\n\n    .page-widget__page-note {\n      font-size: 11px;\n      color: var(--muted);\n      line-height: 1.3;\n      margin: 0;\n      white-space: nowrap;\n      overflow: hidden;\n      text-overflow: ellipsis;\n    }\n\n    @media (max-width: 768px) {\n      .page-widget__pages-list {\n        max-height: 300px;\n      }\n    }\n\n\n/* ===============================\n   WRAPPER\n================================ */\n.book-wrap {\n  width: 320px;\n  aspect-ratio: 2 / 3;\n  position: relative;\n}\n\n/* ===============================\n   CAST SHADOW SLAB (REAL SHADOW)\n================================ */\n.shadow-slab {\n    position: absolute;\n    position: absolute;\n    inset: 0;\n    border-radius: 22px;\n    /* background: #2a2a2a; */\n    transform: translate(-30px, 30px);\n    filter: blur(13px);\n    opacity: 0.35;\n    z-index: 0;\n    background: radial-gradient(ellipse at 15% 85%, rgba(0, 0, 0, 0.35), rgba(0, 0, 0, 0.18) 35%, transparent 65%), linear-gradient(to right, #1f1f1f 0%, #2a2a2a 45%, #3a3a3a 100%);\n}\n\n.shadow-slab-2 {\n    position: absolute;\n    inset: 0;\n    border-radius: 22px;\n    background: radial-gradient(circle at top right, #f6e6a8 0%, #e2c36b 35%, #b58a3c 70%, #7a5524 100%);\n    transform: translate(-10px, 10px);\n    filter: blur(5px);\n    opacity: 0.35;\n    z-index: 0;\n}\n\n.shadow-slab-3 {\n    position: absolute;\n    inset: 0;\n    border-radius: 22px;\n    background: #333;\n    transform: translate(0px, 0px);\n    filter: blur(11px);\n    opacity: 0.35;\n    z-index: 0;\n}\n\n.shadow-slab-4 {\n    position: absolute;\n    inset: 0;\n    border-radius: 22px;\n    background: #333;\n    transform: translate(0px, 0px);\n    filter: blur(11px);\n    opacity: 0.35;\n    z-index: 0;\n}\n\n/* ===============================\n   FRONT SLAB & SPIN HANDLE\n================================ */\n\n.front-slab {\n    position: absolute;\n    inset: 0;\n    border-radius: 22px;\n    background: linear-gradient(to right, rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.1) 3%, transparent 1%);\n    /* background: green; */\n    z-index: 3;\n    opacity: .5;\n    transform: translateZ(6px);\n    pointer-events: none;\n}\n\n.spin-handle {\n  display: none;\n  position: absolute;\n  top: 50%;\n  right: -22px;\n  width: 14px;\n  height: 48px;\n  border-radius: 999px;\n  background: rgba(0,0,0,0.25);\n  backdrop-filter: blur(4px);\n  cursor: grab;\n  z-index: 10;\n}\n\n/* ===============================\n   BOOK OBJECT (NO SHADOW)\n================================ */\n.book {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  border-radius: 22px;\n  overflow: hidden;\n  z-index: 2;\n\n  /* IMPORTANT: no box-shadow */\n  box-shadow: none;\n\n  /* transform: perspective(1200px) rotateX(0.6deg); */\n}\n\n/* ===============================\n   PAPER SURFACE (LIGHT FIELD)\n================================ */\n.book .surface {\n  position: absolute;\n  inset: 0;\n  border-radius: inherit;\n  pointer-events: none;\n  z-index: 1;\n\n  background:\n    linear-gradient(\n      to bottom left,\n      rgba(255,255,255,1) 0%,\n      rgba(250,250,250,1) 42%,\n      rgba(240,240,240,1) 100%\n    ),\n    repeating-linear-gradient(\n      0deg,\n      rgba(0,0,0,0.01),\n      rgba(0,0,0,0.01) 1px,\n      transparent 1px,\n      transparent 3px\n    );\n}\n\n/* ===============================\n   LEFT OCCLUSION (CURTAIN)\n================================ */\n.book .curtain {\n  position: absolute;\n  inset: 0;\n  border-radius: inherit;\n  pointer-events: none;\n  z-index: 2;\n\n  background:\n    linear-gradient(\n      to right,\n      rgba(0,0,0,0.20) 0%,\n      rgba(0,0,0,0.12) 8%,\n      rgba(0,0,0,0.05) 16%,\n      rgba(0,0,0,0.02) 22%,\n      rgba(0,0,0,0.00) 30%\n    );\n}\n\n/* ===============================\n   RIGHT HIGHLIGHT\n================================ */\n.book .highlight {\n  position: absolute;\n  inset: 0;\n  border-radius: inherit;\n  pointer-events: none;\n  z-index: 3;\n\n  background:\n    linear-gradient(\n      to left,\n      rgba(255,255,255,0.35) 0%,\n      rgba(255,255,255,0.18) 6%,\n      rgba(255,255,255,0.06) 14%,\n      rgba(255,255,255,0.00) 24%\n    );\n}\n\n/* ===============================\n   PAGE EDGE (THICKNESS)\n================================ */\n.book .edge {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 120px;\n  height: 100%;\n  border-radius: 22px 0 0 22px;\n  pointer-events: none;\n  z-index: 4;\n\n  background:\n    linear-gradient(\n      to right,\n      rgba(215,215,215,0.95) 0%,\n      rgba(245,245,245,0.95) 40%,\n      rgba(255,255,255,0.95) 75%\n    );\n\n  box-shadow:\n    inset -1px 0 0 rgba(0,0,0,0.05);\n}\n\n/* ===============================\n   SVG (PURE WHITE)\n================================ */\n.book svg {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  display: block;\n  z-index: 5;\n}\n\n    /* =====================\n       LEFT: BOOK COVER\n    ====================== */\n    .book-cover {\n      display: flex;\n      flex-direction: column;\n      gap: 12px;\n    }\n\n\n    /* ===============================\n       BOOK + SHADOW SYSTEM\n    =============================== */\n    .book-wrap {\n      width: 320px;\n      aspect-ratio: 2 / 3;\n      position: relative;\n    }\n\n    .shadow-slab,\n    .shadow-slab-2,\n    .shadow-slab-3,\n    .shadow-slab-4 {\n      position: absolute;\n      inset: 0;\n      border-radius: 22px;\n      z-index: 0;\n      will-change: transform, filter, opacity;\n    }\n\n    .shadow-slab {\n      background:\n        radial-gradient(ellipse at 15% 85%, rgba(0,0,0,0.35), rgba(0,0,0,0.18) 35%, transparent 65%),\n        linear-gradient(to right, #1f1f1f 0%, #2a2a2a 45%, #3a3a3a 100%);\n      filter: blur(13px);\n      opacity: 0.35;\n    }\n\n    .shadow-slab-2 {\n      background: radial-gradient(circle at top right, #f6e6a8 0%, #e2c36b 35%, #b58a3c 70%, #7a5524 100%);\n      filter: blur(6px);\n      opacity: 0.30;\n    }\n\n    .shadow-slab-3,\n    .shadow-slab-4 {\n      background: #333;\n      filter: blur(11px);\n      opacity: 0.30;\n    }\n\n    .book {\n      position: relative;\n      width: 100%;\n      height: 100%;\n      border-radius: 22px;\n      overflow: hidden;\n      z-index: 2;\n      background: #f7f4ee;\n    }\n\n    .front-slab {\n      position: absolute;\n      inset: 0;\n      border-radius: 22px;\n      background: linear-gradient(to right, rgba(0,0,0,0.4), rgba(0,0,0,0.1) 3%, transparent 10%);\n      z-index: 3;\n      pointer-events: none;\n      opacity: 0.5;\n    }\n\n\n    @media (prefers-reduced-motion: reduce) {\n      .cover-frame {\n        transition: none;\n        transform: none;\n      }\n      .cover-frame:hover {\n        --lift: 0;\n      }\n    }\n\n    .start-reading {\n      display: inline-flex;\n      align-items: center;\n      justify-content: center;\n      width: 100%;\n      padding: 12px 14px;\n      border-radius: 999px;\n\n      font-size: 11px;\n      letter-spacing: 0.16em;\n      text-transform: uppercase;\n      font-weight: 650;\n      color: rgba(34,197,94,0.92);\n      text-shadow:\n        0 0 10px rgba(34,197,94,0.22),\n        0 0 22px rgba(34,197,94,0.14);\n\n      /* graphite: dark + slightly mineral */\n      background:\n        radial-gradient(120% 140% at 20% 10%, rgba(255,255,255,0.10) 0%, rgba(255,255,255,0.00) 55%),\n        radial-gradient(140% 140% at 80% 90%, rgba(255,255,255,0.06) 0%, rgba(255,255,255,0.00) 60%),\n        linear-gradient(180deg, #141414 0%, #0a0a0a 100%);\n      border: 1px solid rgba(255,255,255,0.10);\n      box-shadow:\n        0 14px 34px rgba(0,0,0,0.22),\n        0 8px 16px rgba(0,0,0,0.18),\n        inset 0 1px 0 rgba(255,255,255,0.10),\n        inset 0 -1px 0 rgba(0,0,0,0.55);\n\n      position: relative;\n      overflow: hidden;\n      cursor: pointer;\n      user-select: none;\n      -webkit-tap-highlight-color: transparent;\n\n      transition:\n        transform 160ms cubic-bezier(0.2, 0.8, 0.2, 1),\n        box-shadow 160ms cubic-bezier(0.2, 0.8, 0.2, 1),\n        border-color 160ms cubic-bezier(0.2, 0.8, 0.2, 1);\n    }\n\n    .start-reading::before {\n      content: \"\";\n      position: absolute;\n      inset: 0;\n      pointer-events: none;\n      /* texture + sheen (very subtle) */\n      background:\n        linear-gradient(120deg, rgba(255,255,255,0.12) 0%, rgba(255,255,255,0.00) 46%),\n        repeating-linear-gradient(0deg,\n          rgba(255,255,255,0.028) 0px,\n          rgba(255,255,255,0.028) 1px,\n          rgba(0,0,0,0.00) 3px,\n          rgba(0,0,0,0.00) 6px),\n        radial-gradient(120% 90% at 50% 0%, rgba(34,197,94,0.14) 0%, rgba(34,197,94,0.00) 62%);\n      opacity: 0.75;\n    }\n\n    .start-reading:hover {\n      transform: translateY(-1px);\n      border-color: rgba(34,197,94,0.30);\n      box-shadow:\n        0 18px 42px rgba(0,0,0,0.24),\n        0 10px 18px rgba(0,0,0,0.18),\n        inset 0 1px 0 rgba(255,255,255,0.12),\n        inset 0 -1px 0 rgba(0,0,0,0.55);\n      text-shadow:\n        0 0 12px rgba(34,197,94,0.28),\n        0 0 26px rgba(34,197,94,0.18);\n    }\n\n    .start-reading:active {\n      transform: translateY(0px);\n      box-shadow:\n        0 14px 34px rgba(0,0,0,0.22),\n        0 8px 16px rgba(0,0,0,0.18),\n        inset 0 1px 0 rgba(255,255,255,0.10),\n        inset 0 -1px 0 rgba(0,0,0,0.55);\n    }\n\n    .start-reading:focus-visible {\n      outline: none;\n      box-shadow:\n        0 18px 42px rgba(0,0,0,0.24),\n        0 0 0 4px rgba(34,197,94,0.22),\n        0 0 0 1px rgba(34,197,94,0.26),\n        inset 0 1px 0 rgba(255,255,255,0.12),\n        inset 0 -1px 0 rgba(0,0,0,0.55);\n      border-color: rgba(34,197,94,0.34);\n    }\n\n    @media (prefers-reduced-motion: reduce) {\n      .start-reading {\n        transition: none;\n      }\n      .start-reading:hover {\n        transform: none;\n      }\n    }\n\n    /* =====================\n       CENTER: CONTENT\n    ====================== */\n    .content h1 {\n      font-size: 40px;\n      font-weight: 800;\n      line-height: 1.15;\n      margin: 0;\n    }\n\n    .byline {\n      font-size: 13px;\n      letter-spacing: 0.12em;\n      color: #666;\n      font-weight: 600;\n    }\n\n    .tagline {\n      font-size: 18px;\n      font-weight: 500;\n      color: #333;\n    }\n\n    .paragraph {\n      font-size: 15px;\n      color: #222;\n    }\n\n    .meta {\n      margin-top: 20px;\n      padding-top: 20px;\n      border-top: 1px solid var(--line);\n      display: grid;\n      grid-template-columns: repeat(2, 1fr);\n      gap: 12px 24px;\n      font-size: 13px;\n    }\n\n    .author {\n      margin-top: 20px;\n      padding-top: 20px;\n      border-top: 1px solid var(--line);\n      display: flex;\n      gap: 16px;\n      align-items: flex-start;\n    }\n\n    .author img {\n      width: 44px;\n      height: 44px;\n      border-radius: 50%;\n    }\n\n    /* =====================\n       RIGHT: RELATED\n    ====================== */\n    .related {\n      display: flex;\n      flex-direction: column;\n      gap: 20px;\n    }\n\n    .related-title {\n      font-size: 11px;\n      letter-spacing: 0.14em;\n      color: #666;\n      text-transform: uppercase;\n      font-weight: 600;\n    }\n\n    .related-item {\n      display: flex;\n      flex-direction: column;\n      gap: 6px;\n      cursor: pointer;\n      transition: transform 0.12s ease, box-shadow 0.12s ease;\n    }\n\n    .related-item:hover {\n      transform: translateY(-2px);\n    }\n\n    .related-thumb {\n      border-radius: 6px;\n      overflow: hidden;\n      aspect-ratio: 3 / 4;\n      box-shadow: 0 8px 24px rgba(0,0,0,0.1);\n\n      /* Gray placeholder shape */\n      background: linear-gradient(135deg, #e5e7eb 0%, #d1d5db 45%, #cbd5e1 100%);\n      border: 1px solid rgba(0,0,0,0.06);\n    }\n\n    .related-thumb img {\n      width: 100%;\n      height: 100%;\n      object-fit: cover;\n      filter: grayscale(1);\n      opacity: 0.85;\n      transition: filter 160ms ease, opacity 160ms ease;\n    }\n\n    .related-thumb .thumb-placeholder {\n      width: 100%;\n      height: 100%;\n      display: block;\n    }\n\n    .related-item a {\n      font-size: 12px;\n      font-weight: 600;\n      color: #111;\n    }\n\n    /* =====================\n       RIGHT: 13 CHAPTERS\n    ====================== */\n    .chapters {\n      display: flex;\n      flex-direction: column;\n      gap: 10px;\n    }\n\n    .chapters-title {\n      font-size: 11px;\n      letter-spacing: 0.12em;\n      color: rgba(17,17,17,0.52);\n      text-transform: uppercase;\n      font-weight: 600;\n    }\n\n    .chapters-help {\n      margin-top: -4px;\n      font-size: 11px;\n      line-height: 1.35;\n      color: rgba(17,17,17,0.42);\n    }\n\n    .chapter-list {\n      list-style: none;\n      padding: 0;\n      margin: 0;\n      display: flex;\n      flex-direction: column;\n      gap: 0;\n      border-top: 1px solid rgba(0,0,0,0.06);\n    }\n\n    .chapter-item {\n      display: grid;\n      grid-template-columns: 3ch 1fr;\n      gap: 12px;\n      align-items: start;\n      padding: 10px 0;\n      border-bottom: 1px solid rgba(0,0,0,0.06);\n    }\n\n    .chapter-item--preface .chapter-name {\n      font-weight: 760;\n      letter-spacing: -0.01em;\n      color: rgba(17,17,17,0.90);\n    }\n\n    .chapter-item--current .chapter-name {\n      color: rgba(17,17,17,0.92);\n      text-decoration: underline;\n      text-decoration-thickness: 1px;\n      text-underline-offset: 3px;\n      text-decoration-color: rgba(17,17,17,0.22);\n    }\n\n    .chapter-num {\n      width: auto;\n      height: auto;\n      border-radius: 0;\n      display: block;\n      text-align: right;\n      font-size: 11px;\n      font-weight: 650;\n      color: rgba(17,17,17,0.46);\n      font-variant-numeric: tabular-nums;\n    }\n\n    .chapter-name {\n      font-size: 12px;\n      font-weight: 600;\n      color: rgba(17,17,17,0.80);\n      line-height: 1.3;\n    }\n\n    .chapter-note {\n      margin-top: 2px;\n      font-size: 11px;\n      color: rgba(17,17,17,0.46);\n      line-height: 1.4;\n    }\n\n    /* =====================\n       RESPONSIVE\n    ====================== */\n    @media (max-width: 900px) {\n      .chapter-content {\n        max-width: 100%;\n        padding: 0 24px;\n      }\n\n      .page-widget {\n        max-width: 100%;\n        margin-left: 24px;\n        margin-right: 24px;\n      }\n\n      .chapter-title {\n        font-size: 42px;\n      }\n\n      .chapter-body {\n        font-size: 18px;\n      }\n\n      .chapter-body h2 {\n        font-size: 32px;\n      }\n\n      .chapter-body h3 {\n        font-size: 24px;\n      }\n    }\n\n    @media (max-width: 768px) {\n      .header {\n        flex-direction: column;\n        gap: 12px;\n      }\n\n      .chapter-content {\n        padding: 0 16px;\n      }\n\n      .page-widget {\n        margin-left: 16px;\n        margin-right: 16px;\n      }\n\n      .chapter-title {\n        font-size: 38px;\n      }\n\n      .chapter-body {\n        font-size: 17px;\n      }\n\n      .chapter-body h2 {\n        font-size: 30px;\n      }\n\n      .chapter-body h3 {\n        font-size: 22px;\n      }\n    }\n  </style>\n</head>\n\n<body>\n  <div class=\"page\">\n    <div class=\"container\">\n\n      <!-- SIDEBAR BACKDROP -->\n      <div class=\"sidebar-backdrop\" id=\"sidebarBackdrop\"></div>\n\n      <!-- SIDEBAR -->\n      <aside class=\"sidebar\" id=\"sidebar\">\n        <div class=\"sidebar__title\">Working Fundamentals</div>\n        <ul class=\"sidebar__chapter-list\">\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-introduction\" class=\"sidebar__chapter-link sidebar__chapter-link--current\" target=\"_blank\">Introduction</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-1-of-13-programming-fundamentals\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 1 ¬∑ Programming Fundamentals</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-2-of-13-data-structures\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 2 ¬∑ Data Structures</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-3-of-13-algorithms-and-complexity\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 3 ¬∑ Algorithms & Complexity</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-4-of-13-control-and-flow\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 4 ¬∑ Control & Flow</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-5-of-13-state-and-change\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 5 ¬∑ State & Change</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-6-of-13-design-principles\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 6 ¬∑ Design Principles</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-7-of-13-architecture\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 7 ¬∑ Architecture</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-8-of-13-persistence-and-data-modeling\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 8 ¬∑ Persistence & Data Modeling</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-9-of-13-interfaces-and-apis\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 9 ¬∑ Interfaces & APIs</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-10-of-13-errors-and-failure\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 10 ¬∑ Errors & Failure</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-11-of-13-testing\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 11 ¬∑ Testing</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-12-of-13-performance-and-scale\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 12 ¬∑ Performance & Scale</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-13-of-13-the-developers-role\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 13 ¬∑ The Developer''s Role</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-outroduction\" class=\"sidebar__chapter-link\" target=\"_blank\">Outroduction</a>\n          </li>\n        </ul>\n      </aside>\n\n      <!-- HEADER -->\n      <header class=\"header\" id=\"header\">\n        <a href=\"https://arvinjaysoncastro.com/\" class=\"brand\" target=\"_blank\">Arvin Jayson Castro</a>\n        <nav class=\"nav\">\n          <a href=\"https://arvinjaysoncastro.com/hungry-dev-mind\" target=\"_blank\">Books</a>\n          <a href=\"https://arvinjaysoncastro.com/working-systems\" target=\"_blank\">Working Systems</a>\n          <a href=\"https://arvinjaysoncastro.com/about\" target=\"_blank\">16 Years</a>\n          <div class=\"linkedin\">\n            <a href=\"https://www.linkedin.com/in/arvin-jayson-castro-7458199a/\" target=\"_blank\">linkedIn</a>\n            <span>let''s connect</span>\n          </div>\n        </nav>\n      </header>\n\n      <!-- PAGE WIDGET (TOP) - REMOVED -->\n      <div style=\"display: none;\">\n          <ol class=\"page-widget__pages-list\">\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">P</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Preface</div>\n                  <div class=\"page-widget__page-note\">Why fundamentals still decide outcomes.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item page-widget__page-item--current\">\n                <span class=\"page-widget__page-number\">1</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 1</div>\n                  <div class=\"page-widget__page-note\">Core principles and constraints.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">2</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 2</div>\n                  <div class=\"page-widget__page-note\">Boundaries, ownership, and interfaces.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">3</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 3</div>\n                  <div class=\"page-widget__page-note\">State, consistency, and failure modes.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">4</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 4</div>\n                  <div class=\"page-widget__page-note\">Abstractions that survive change.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">5</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 5</div>\n                  <div class=\"page-widget__page-note\">Simplicity as an engineering practice.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">6</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 6</div>\n                  <div class=\"page-widget__page-note\">Reliability, observability, and feedback.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">7</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 7</div>\n                  <div class=\"page-widget__page-note\">Delivery systems and decision hygiene.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">8</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 8</div>\n                  <div class=\"page-widget__page-note\">Documentation that stays useful.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">9</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 9</div>\n                  <div class=\"page-widget__page-note\">Testing strategy for predictable change.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">10</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 10</div>\n                  <div class=\"page-widget__page-note\">Pragmatic architecture for teams.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">11</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 11</div>\n                  <div class=\"page-widget__page-note\">Operational excellence without ceremony.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">12</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 12</div>\n                  <div class=\"page-widget__page-note\">Leadership, standards, and leverage.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">13</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 13</div>\n                  <div class=\"page-widget__page-note\">Making fundamentals non-negotiable.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">PS</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Postscript</div>\n                  <div class=\"page-widget__page-note\">A short operating model to carry forward.</div>\n                </div>\n              </a>\n            </li>\n          </ol>\n        </div>\n      </div>\n\n      <!-- MAIN -->\n      <main class=\"main\" id=\"main\">\n\n        <!-- CHAPTER CONTENT (Option 1: Magazine-style) -->\n        <article class=\"chapter-content\">\n          <header class=\"chapter-header\">\n            <div class=\"book-title\">Working Fundamentals</div>\n            <h1 class=\"chapter-title\">On Building Software That Holds</h1>\n          </header>\n\n          <div class=\"chapter-body\">\n            <p>\n              This book is not a course. It is not a reference. It is not a collection of tricks.\n            </p>\n\n            <p>\n              It is a <strong>record of orientation</strong>.\n            </p>\n\n            <p>\n              Most people learn software by accumulation:\n            </p>\n\n            <ul>\n              <li>more languages</li>\n              <li>more frameworks</li>\n              <li>more patterns</li>\n              <li>more tools</li>\n            </ul>\n\n            <p>\n              Accumulation creates capability. It does not guarantee stability.\n            </p>\n\n            <p>\n              This book is written for a different purpose:\n            </p>\n\n            <blockquote>\n              to explain what must remain <strong>true</strong> for software to hold together over time.\n            </blockquote>\n\n            <h2>Why this book exists</h2>\n\n            <p>\n              Software rarely fails suddenly.\n            </p>\n\n            <p>\n              It decays.\n            </p>\n\n            <p>\n              It decays through:\n            </p>\n\n            <ul>\n              <li>unnamed assumptions</li>\n              <li>unclear responsibilities</li>\n              <li>invisible state</li>\n              <li>misplaced abstractions</li>\n              <li>containers used without thought</li>\n            </ul>\n\n            <p>\n              These failures are not dramatic. They are quiet.\n            </p>\n\n            <p>\n              This book exists to name those quiet forces.\n            </p>\n\n            <h2>Who this book is for</h2>\n\n            <p>\n              This book is for:\n            </p>\n\n            <ul>\n              <li>beginners who want ground, not tricks</li>\n              <li>experienced developers who feel systems growing heavy</li>\n              <li>architects who care about longevity more than novelty</li>\n            </ul>\n\n            <p>\n              If you are looking for:\n            </p>\n\n            <ul>\n              <li>syntax</li>\n              <li>shortcuts</li>\n              <li>\"best practices of the year\"</li>\n            </ul>\n\n            <p>\n              This book will disappoint you.\n            </p>\n\n            <p>\n              If you are looking for:\n            </p>\n\n            <ul>\n              <li>clarity</li>\n              <li>stability</li>\n              <li>reasoning you can reuse for decades</li>\n            </ul>\n\n            <p>\n              Then you are in the right place.\n            </p>\n\n            <h2>How to read this book</h2>\n\n            <p>\n              Read slowly.\n            </p>\n\n            <p>\n              Do not skim for techniques. Read for <strong>shape</strong>.\n            </p>\n\n            <p>\n              If something feels obvious, keep reading. Obvious truths are often the most neglected.\n            </p>\n\n            <p>\n              If something feels familiar, pause. Recognition is a sign of alignment.\n            </p>\n\n            <h2>The promise</h2>\n\n            <p>\n              This book will not make you faster immediately. It will make you <strong>harder to break</strong>.\n            </p>\n\n            <p>\n              And in software, that matters more.\n            </p>\n          </div>\n\n            <p>\n              This chapter defines the <strong>minimum thinking system</strong> required to make software behave predictably.\n            </p>\n\n            <p>\n              If you understand this chapter, you can learn any programming language faster. If you skip it, every abstraction you learn later will feel fragile.\n            </p>\n\n            <h2>The core truth</h2>\n\n            <p>\n              Every program‚Äîregardless of language, framework, or scale‚Äîreduces to the same shape:\n            </p>\n\n            <p>\n              <strong>Input ‚Üí Transform ‚Üí Output</strong>\n            </p>\n\n            <p>\n              This is not a metaphor. This is the invariant.\n            </p>\n\n            <p>\n              Languages change. Frameworks change. Paradigms evolve.\n            </p>\n\n            <p>\n              This shape does not.\n            </p>\n\n            <h2>Why fundamentals matter (beyond beginners)</h2>\n\n            <p>\n              Most bugs are not caused by advanced concepts. They are caused by <strong>unclear fundamentals</strong> hidden under abstraction.\n            </p>\n\n            <p>\n              Unclear fundamentals lead to:\n            </p>\n\n            <ul>\n              <li>unpredictable behavior</li>\n              <li>defensive code</li>\n              <li>excessive logging</li>\n              <li>unnecessary complexity</li>\n              <li>fragile refactors</li>\n            </ul>\n\n            <p>\n              Strong fundamentals produce:\n            </p>\n\n            <ul>\n              <li>calm code</li>\n              <li>obvious flow</li>\n              <li>fewer surprises</li>\n              <li>easier collaboration</li>\n              <li>long-term stability</li>\n            </ul>\n\n            <p>\n              This chapter is about <strong>preventing drift</strong>.\n            </p>\n\n            <h2>The six fundamentals (the complete set)</h2>\n\n            <p>\n              Everything you write in code belongs to <strong>one of these six</strong>. If you cannot name which one, the system is already weakening.\n            </p>\n\n            <h3>1. Data</h3>\n\n            <p>\n              <strong>What exists</strong>\n            </p>\n\n            <p>\n              Data is the raw material of a program. Numbers, text, flags, collections, objects.\n            </p>\n\n            <p>\n              Data does nothing by itself. It only exists.\n            </p>\n\n            <p>\n              üß† <strong>Mental Model</strong> Data is passive. Behavior comes later.\n            </p>\n\n            <p>\n              ‚ö†Ô∏è <strong>Common Drift</strong> When developers confuse data with behavior, logic spreads uncontrollably.\n            </p>\n\n            <h3>2. Variables</h3>\n\n            <p>\n              <strong>What names data</strong>\n            </p>\n\n            <p>\n              Variables do not store values. They <strong>point to values</strong>.\n            </p>\n\n            <p>\n              Naming is not cosmetic‚Äîit is structural.\n            </p>\n\n            <p>\n              A good variable name:\n            </p>\n\n            <ul>\n              <li>communicates intent</li>\n              <li>limits misuse</li>\n              <li>reduces comments</li>\n            </ul>\n\n            <p>\n              üß† <strong>Perspective</strong> Poor naming is the earliest form of technical debt.\n            </p>\n\n            <h3>3. Control Flow</h3>\n\n            <p>\n              <strong>What decides what happens</strong>\n            </p>\n\n            <p>\n              Control flow determines:\n            </p>\n\n            <ul>\n              <li>when something runs</li>\n              <li>if something runs</li>\n              <li>how often it runs</li>\n              <li>when it stops</li>\n            </ul>\n\n            <p>\n              Conditionals and loops are not logic. They are <strong>traffic signals</strong>.\n            </p>\n\n            <p>\n              üß† <strong>Mental Model</strong> Control flow answers: <em>\"What path does execution take?\"</em>\n            </p>\n\n            <p>\n              ‚ö†Ô∏è <strong>Common Drift</strong> Nested conditionals are a symptom of unclear rules.\n            </p>\n\n            <h3>4. Functions</h3>\n\n            <p>\n              <strong>What transforms input into output</strong>\n            </p>\n\n            <p>\n              A function is a <strong>boundary</strong>.\n            </p>\n\n            <p>\n              It should answer four questions clearly:\n            </p>\n\n            <ol>\n              <li>What does it take in?</li>\n              <li>What does it return?</li>\n              <li>What rules does it apply?</li>\n              <li>What can go wrong?</li>\n            </ol>\n\n            <p>\n              If a function cannot be explained in one sentence, it is doing too much.\n            </p>\n\n            <p>\n              üß† <strong>Architect''s Note</strong> Good systems are collections of small, honest transformations.\n            </p>\n\n            <h3>5. State & Mutability</h3>\n\n            <p>\n              <strong>What changes over time</strong>\n            </p>\n\n            <p>\n              State is data that can change. Mutability is <em>how</em> it changes.\n            </p>\n\n            <p>\n              Not all data should be mutable. Not all changes should be allowed.\n            </p>\n\n            <p>\n              üß† <strong>Mental Model</strong> The more things that can change, the harder the system is to reason about.\n            </p>\n\n            <p>\n              ‚ö†Ô∏è <strong>Common Drift</strong> Hidden state is responsible for most \"impossible\" bugs.\n            </p>\n\n            <h3>6. Errors</h3>\n\n            <p>\n              <strong>What happens when assumptions break</strong>\n            </p>\n\n            <p>\n              Errors are not edge cases. They are <strong>alternate paths</strong>.\n            </p>\n\n            <p>\n              Every system operates on assumptions:\n            </p>\n\n            <ul>\n              <li>input format</li>\n              <li>timing</li>\n              <li>availability</li>\n              <li>correctness</li>\n            </ul>\n\n            <p>\n              When assumptions fail, errors appear.\n            </p>\n\n            <p>\n              üß† <strong>Perspective</strong> Unhandled errors are silent contracts you didn''t realize you made.\n            </p>\n\n            <h2>How these fundamentals work together</h2>\n\n            <p>\n              A stable program follows this rhythm:\n            </p>\n\n            <ol>\n              <li>Accept input (data)</li>\n              <li>Name it (variables)</li>\n              <li>Choose a path (control flow)</li>\n              <li>Transform it (functions)</li>\n              <li>Update what must change (state)</li>\n              <li>Handle what can fail (errors)</li>\n              <li>Produce output</li>\n            </ol>\n\n            <p>\n              When systems fail, one of these steps is unclear.\n            </p>\n\n            <h2>Minimal practice (no code yet)</h2>\n\n            <p>\n              <strong>Problem (in plain language):</strong> \"Given a list of numbers, return only the even ones, then double them.\"\n            </p>\n\n            <p>\n              Before writing code, answer:\n            </p>\n\n            <ul>\n              <li>What is the input?</li>\n              <li>What is the output?</li>\n              <li>Where is the decision?</li>\n              <li>Where is the transformation?</li>\n              <li>What could go wrong?</li>\n            </ul>\n\n            <p>\n              If you can answer these clearly, implementation is mechanical.\n            </p>\n\n            <p>\n              üß† <strong>Architect''s Note</strong> If you cannot describe behavior in words, code will not save you.\n            </p>\n\n            <h2>What beginners gain here</h2>\n\n            <ul>\n              <li>A stable mental foundation</li>\n              <li>Confidence reading unfamiliar code</li>\n              <li>Reduced dependence on memorization</li>\n            </ul>\n\n            <h2>What experienced developers recognize</h2>\n\n            <ul>\n              <li>Why certain bugs keep returning</li>\n              <li>Why refactors feel risky</li>\n              <li>Why some codebases feel heavy despite \"best practices\"</li>\n            </ul>\n\n            <p>\n              This chapter gives names to intuitions you already had.\n            </p>\n\n            <h2>What this chapter deliberately avoids</h2>\n\n            <ul>\n              <li>Language syntax</li>\n              <li>Framework examples</li>\n              <li>Tooling</li>\n              <li>Patterns</li>\n              <li>Optimization</li>\n            </ul>\n\n            <p>\n              Those come later.\n            </p>\n\n            <p>\n              Foundations come first.\n            </p>\n\n            <h2>Closing</h2>\n\n            <p>\n              Programming fundamentals are not about skill level. They are about <strong>predictability</strong>.\n            </p>\n\n            <p>\n              Predictable systems scale. Predictable systems survive refactors. Predictable systems can be trusted.\n            </p>\n\n            <p>\n              This chapter is not mastery. It is the ground.\n            </p>\n          </div>\n        </article>\n\n        <!-- RIGHT -->\n\n      </main>\n\n      <!-- CHAPTER NAVIGATION (BOTTOM) -->\n      <nav class=\"chapter-nav-bottom\" id=\"chapterNavBottom\">\n        <a href=\"#\" class=\"chapter-nav-bottom__link chapter-nav-bottom__link--prev\" id=\"prevChapter\">\n          <span class=\"chapter-nav-bottom__arrow\">‚Üê</span>\n          <span class=\"chapter-nav-bottom__label\">Previous</span>\n        </a>\n        <a href=\"#\" class=\"chapter-nav-bottom__link chapter-nav-bottom__link--next\" id=\"nextChapter\">\n          <span class=\"chapter-nav-bottom__label\">Next</span>\n          <span class=\"chapter-nav-bottom__arrow\">‚Üí</span>\n        </a>\n      </nav>\n\n      <!-- PAGE WIDGET (BOTTOM) - REMOVED -->\n      <div style=\"display: none;\">\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">P</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Preface</div>\n                  <div class=\"page-widget__page-note\">Why fundamentals still decide outcomes.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item page-widget__page-item--current\">\n                <span class=\"page-widget__page-number\">1</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 1</div>\n                  <div class=\"page-widget__page-note\">Core principles and constraints.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">2</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 2</div>\n                  <div class=\"page-widget__page-note\">Boundaries, ownership, and interfaces.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">3</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 3</div>\n                  <div class=\"page-widget__page-note\">State, consistency, and failure modes.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">4</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 4</div>\n                  <div class=\"page-widget__page-note\">Abstractions that survive change.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">5</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 5</div>\n                  <div class=\"page-widget__page-note\">Simplicity as an engineering practice.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">6</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 6</div>\n                  <div class=\"page-widget__page-note\">Reliability, observability, and feedback.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">7</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 7</div>\n                  <div class=\"page-widget__page-note\">Delivery systems and decision hygiene.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">8</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 8</div>\n                  <div class=\"page-widget__page-note\">Documentation that stays useful.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">9</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 9</div>\n                  <div class=\"page-widget__page-note\">Testing strategy for predictable change.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">10</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 10</div>\n                  <div class=\"page-widget__page-note\">Pragmatic architecture for teams.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">11</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 11</div>\n                  <div class=\"page-widget__page-note\">Operational excellence without ceremony.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">12</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 12</div>\n                  <div class=\"page-widget__page-note\">Leadership, standards, and leverage.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">13</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 13</div>\n                  <div class=\"page-widget__page-note\">Making fundamentals non-negotiable.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">PS</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Postscript</div>\n                  <div class=\"page-widget__page-note\">A short operating model to carry forward.</div>\n                </div>\n              </a>\n            </li>\n          </ol>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <!-- PAGE WIDGET JS -->\n  <!-- SIDEBAR TOGGLE JS -->\n  <script>\n  (() => {\n    const sidebar = document.getElementById(''sidebar'');\n    const backdrop = document.getElementById(''sidebarBackdrop'');\n    const indicator = document.getElementById(''chapterIndicator'');\n    const icon = document.getElementById(''chapterIndicatorIcon'');\n    const header = document.getElementById(''header'');\n    const main = document.getElementById(''main'');\n    const body = document.body;\n\n    if (!sidebar || !backdrop || !indicator || !icon || !header || !main) return;\n\n    let isOpen = false;\n    let scrollTimeout = null;\n\n    const openSidebar = () => {\n      isOpen = true;\n      sidebar.classList.add(''sidebar--open'');\n      backdrop.classList.add(''sidebar-backdrop--visible'');\n      header.classList.add(''header--shifted'');\n      main.classList.add(''main--shifted'');\n      icon.classList.add(''chapter-number__icon--open'');\n      body.classList.add(''sidebar-open'');\n    };\n\n    const closeSidebar = () => {\n      isOpen = false;\n      sidebar.classList.remove(''sidebar--open'');\n      backdrop.classList.remove(''sidebar-backdrop--visible'');\n      header.classList.remove(''header--shifted'');\n      main.classList.remove(''main--shifted'');\n      icon.classList.remove(''chapter-number__icon--open'');\n      body.classList.remove(''sidebar-open'');\n    };\n\n    // Toggle sidebar\n    indicator.addEventListener(''click'', (e) => {\n      e.stopPropagation();\n      if (isOpen) {\n        closeSidebar();\n      } else {\n        openSidebar();\n      }\n    });\n\n    // Close sidebar when clicking backdrop\n    backdrop.addEventListener(''click'', () => {\n      closeSidebar();\n    });\n\n    // Close sidebar when clicking outside\n    document.addEventListener(''click'', (e) => {\n      // Don''t close sidebar if clicking on brand link or nav links\n      const brandLink = header.querySelector(''.brand'');\n      const isClickOnLink = brandLink && brandLink.contains(e.target);\n      const isClickOnNav = header.querySelector(''.nav'') && header.querySelector(''.nav'').contains(e.target);\n      \n      if (isOpen && !sidebar.contains(e.target) && !indicator.contains(e.target) && !isClickOnLink && !isClickOnNav) {\n        closeSidebar();\n      }\n    });\n\n    // Close sidebar on scroll (debounced)\n    const handleScroll = () => {\n      if (isOpen) {\n        clearTimeout(scrollTimeout);\n        scrollTimeout = setTimeout(() => {\n          closeSidebar();\n        }, 100);\n      }\n    };\n\n    // Listen for scroll on main content\n    window.addEventListener(''scroll'', handleScroll, { passive: true });\n    \n    // Also listen for scroll attempts on body (when scroll is disabled)\n    let lastScrollTop = window.pageYOffset;\n    const handleScrollAttempt = () => {\n      if (isOpen) {\n        const currentScrollTop = window.pageYOffset;\n        if (currentScrollTop !== lastScrollTop) {\n          closeSidebar();\n        }\n        lastScrollTop = currentScrollTop;\n      }\n    };\n\n    // Prevent scroll on body when sidebar is open\n    document.addEventListener(''wheel'', (e) => {\n      if (isOpen && !sidebar.contains(e.target)) {\n        e.preventDefault();\n        closeSidebar();\n      }\n    }, { passive: false });\n\n    // Prevent touch scroll on body when sidebar is open\n    document.addEventListener(''touchmove'', (e) => {\n      if (isOpen && !sidebar.contains(e.target)) {\n        e.preventDefault();\n        closeSidebar();\n      }\n    }, { passive: false });\n  })();\n  </script>\n\n  <!-- CHAPTER NAVIGATION (BOTTOM) JS -->\n  <script>\n  (() => {\n    // Chapter list: Introduction = -1, Chapter 1-13 = 0-12, Postscript = 13\n    const chapters = [\n      { id: ''intro'', title: ''Introduction'', url: ''https://arvinjaysoncastro.com/working-fundamentals-introduction'' },\n      { id: ''ch1'', title: ''Chapter 1'', url: ''https://arvinjaysoncastro.com/working-fundamentals-1-of-13-programming-fundamentals'' },\n      { id: ''ch2'', title: ''Chapter 2'', url: ''https://arvinjaysoncastro.com/working-fundamentals-2-of-13-data-structures'' },\n      { id: ''ch3'', title: ''Chapter 3'', url: ''https://arvinjaysoncastro.com/working-fundamentals-3-of-13-algorithms-and-complexity'' },\n      { id: ''ch4'', title: ''Chapter 4'', url: ''https://arvinjaysoncastro.com/working-fundamentals-4-of-13-control-and-flow'' },\n      { id: ''ch5'', title: ''Chapter 5'', url: ''https://arvinjaysoncastro.com/working-fundamentals-5-of-13-state-and-change'' },\n      { id: ''ch6'', title: ''Chapter 6'', url: ''https://arvinjaysoncastro.com/working-fundamentals-6-of-13-design-principles'' },\n      { id: ''ch7'', title: ''Chapter 7'', url: ''https://arvinjaysoncastro.com/working-fundamentals-7-of-13-architecture'' },\n      { id: ''ch8'', title: ''Chapter 8'', url: ''https://arvinjaysoncastro.com/working-fundamentals-8-of-13-persistence-and-data-modeling'' },\n      { id: ''ch9'', title: ''Chapter 9'', url: ''https://arvinjaysoncastro.com/working-fundamentals-9-of-13-interfaces-and-apis'' },\n      { id: ''ch10'', title: ''Chapter 10'', url: ''https://arvinjaysoncastro.com/working-fundamentals-10-of-13-errors-and-failure'' },\n      { id: ''ch11'', title: ''Chapter 11'', url: ''https://arvinjaysoncastro.com/working-fundamentals-11-of-13-testing'' },\n      { id: ''ch12'', title: ''Chapter 12'', url: ''https://arvinjaysoncastro.com/working-fundamentals-12-of-13-performance-and-scale'' },\n      { id: ''ch13'', title: ''Chapter 13'', url: ''https://arvinjaysoncastro.com/working-fundamentals-13-of-13-the-developers-role'' },\n      { id: ''outro'', title: ''Outroduction'', url: ''https://arvinjaysoncastro.com/working-fundamentals-outroduction'' }\n    ];\n\n    const currentChapterIndex = -1; // Introduction (before chapters)\n    const prevLink = document.getElementById(''prevChapter'');\n    const nextLink = document.getElementById(''nextChapter'');\n\n    if (!prevLink || !nextLink) return;\n\n    // Previous chapter (Introduction has no previous)\n    prevLink.href = ''/books'';\n    prevLink.innerHTML = `\n      <span class=\"chapter-nav-bottom__arrow\">‚Üê</span>\n      <span class=\"chapter-nav-bottom__label\">Go back to book list</span>\n    `;\n\n    // Next chapter (Chapter 1)\n    if (currentChapterIndex < chapters.length - 1) {\n      const nextChapter = chapters[currentChapterIndex + 1];\n      nextLink.href = nextChapter.url;\n      nextLink.target = ''_blank'';\n      nextLink.innerHTML = `\n        <span class=\"chapter-nav-bottom__label\">Next: ${nextChapter.title}</span>\n        <span class=\"chapter-nav-bottom__arrow\">‚Üí</span>\n      `;\n    }\n  })();\n  </script>\n\n  <!-- OPTIONAL JS -->\n <script>\n(() => {\n  const wrap = document.querySelector(''.book-wrap'');\n  if (!wrap) return;\n\n  const slab1 = wrap.querySelector(''.shadow-slab'');\n  const slab2 = wrap.querySelector(''.shadow-slab-2'');\n  const slab3 = wrap.querySelector(''.shadow-slab-3'');\n  const slab4 = wrap.querySelector(''.shadow-slab-4'');\n  const front = wrap.querySelector(''.front-slab'');\n\n  const clamp = (v, min, max) => Math.max(min, Math.min(max, v));\n\n  let raf = 0;\n  let lx = 0; // light vector x\n  let ly = 0; // light vector y\n\n  function render() {\n    raf = 0;\n\n    // Shadow direction = opposite of light\n    const sx = -lx;\n    const sy = -ly;\n\n    const intensity = Math.abs(lx) + Math.abs(ly);\n\n    /* ---------------------------\n       SLAB 1 ‚Äî KEY CAST SHADOW\n    ---------------------------- */\n    slab1.style.transform =\n      `translate(${(sx * 38).toFixed(2)}px, ${(sy * 38).toFixed(2)}px)`;\n    slab1.style.filter =\n      `blur(${(14 + intensity * 6).toFixed(2)}px)`;\n    slab1.style.opacity =\n      (0.28 + intensity * 0.14).toFixed(2);\n\n    /* ---------------------------\n       SLAB 2 ‚Äî BOUNCE / COLOR BLEED\n    ---------------------------- */\n    slab2.style.transform =\n      `translate(${(sx * 14).toFixed(2)}px, ${(sy * 14).toFixed(2)}px)`;\n    slab2.style.filter =\n      `blur(${(6 + intensity * 4).toFixed(2)}px)`;\n    slab2.style.opacity =\n      (0.16 + intensity * 0.10).toFixed(2);\n\n    /* ---------------------------\n       SLAB 3 ‚Äî CONTACT SHADOW\n    ---------------------------- */\n    slab3.style.transform =\n      `translate(${(sx * 6).toFixed(2)}px, ${(sy * 6).toFixed(2)}px)`;\n    slab3.style.filter = `blur(9px)`;\n    slab3.style.opacity =\n      (0.24 + Math.abs(lx) * 0.06).toFixed(2);\n\n    /* ---------------------------\n       SLAB 4 ‚Äî AMBIENT DEPTH\n    ---------------------------- */\n    slab4.style.transform =\n      `translate(${(sx * 3).toFixed(2)}px, ${(sy * 3).toFixed(2)}px)`;\n    slab4.style.filter = `blur(18px)`;\n    slab4.style.opacity =\n      (0.16 + Math.abs(ly) * 0.04).toFixed(2);\n\n    /* ---------------------------\n       FRONT SLAB ‚Äî SPECULAR RESPONSE\n       (moves TOWARD light)\n    ---------------------------- */\nif (front) {\n  // Very subtle counter-parallax (NOT toward light)\n  front.style.transform =\n    `translate(${(-lx * 1.6).toFixed(2)}px, ${(-ly * 1.6).toFixed(2)}px)`;\n\n  // Opacity increases when light is grazing\n  front.style.opacity =\n    (0.34 + intensity * 0.22).toFixed(2);\n\n  // Highlight shifts OPPOSITE the light direction\n  const gx = 50 - lx * 28;\n  const gy = 50 - ly * 28;\n  front.style.backgroundPosition = `${gx}% ${gy}%`;\n}\n\n  }\n\n  function onMove(e) {\n    const r = wrap.getBoundingClientRect();\n    const cx = r.left + r.width / 2;\n    const cy = r.top + r.height / 2;\n\n    // LIGHT VECTOR (mouse = light source)\n    lx = clamp((e.clientX - cx) / (r.width / 2), -1, 1);\n    ly = clamp((e.clientY - cy) / (r.height / 2), -1, 1);\n\n    if (!raf) raf = requestAnimationFrame(render);\n  }\n\n  window.addEventListener(''mousemove'', onMove, { passive: true });\n})();\n</script>\n</body>\n</html>\n", "css": "body { font-family: system-ui; padding: 20px; }", "js": "console.log(\"Code Runner initialized\");", "imports": {"css": [], "js": []}, "entryPoint": {"type": "htmlDocument", "mountSelector": "#app", "injectMountIfMissing": true}, "settings": {"mode": "play", "viewport": {"type": "responsive", "background": "white"}, "securityPreset": "trusted", "autoRun": true, "runOnLoad": true}, "codePanel": {"isVisible": false, "isEditable": false}}}]}]}',
    '1.0.0',
    true,
    '88b62d69-6012-47ae-b45b-9ccc5f1dc87c',
    NOW(),
    NOW(),
    'public',
    NULL,
    false,
    NULL,
    'page',
    NULL,
    NULL,
    NULL,
    NULL,
    NULL,
    false,
    0,
    NULL,
    true,
    false,
    NULL,
    NULL,
    '{"id": "block-root", "style": {}, "type": "container", "children": [{"id": "temp-container", "style": {"width": "100vw", "height": "100vh"}, "type": "container", "children": [{"id": "temp-coderunner", "style": {}, "type": "codeRunner", "data": {"html": "<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n  <meta charset=\"UTF-8\" />\n  <title>Working Fundamentals ‚Äî Arvin Jayson Castro</title>\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n\n  <!-- =====================\n       GLOBAL STYLES\n  ====================== -->\n  <style>\n    :root {\n      --bg: #f7f8f8;\n      --ink: #111111;\n      --muted: #666666;\n      --line: rgba(0,0,0,0.08);\n      --accent: #16a34a;\n      --link: #3b82f6;\n      --max-width: 1200px;\n    }\n\n    * {\n      box-sizing: border-box;\n    }\n\n    body {\n      margin: 0;\n      font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, sans-serif;\n      color: var(--ink);\n      background-color: var(--bg);\n      background-image:\n        radial-gradient(980px 560px at 14% 18%, rgba(16,185,129,0.10) 0%, rgba(16,185,129,0) 60%),\n        radial-gradient(860px 540px at 86% 74%, rgba(245,158,11,0.10) 0%, rgba(245,158,11,0) 62%),\n        repeating-linear-gradient(0deg, rgba(0,0,0,0.043) 0, rgba(0,0,0,0.043) 1px, transparent 1px, transparent 46px),\n        repeating-linear-gradient(90deg, rgba(0,0,0,0.043) 0, rgba(0,0,0,0.043) 1px, transparent 1px, transparent 46px);\n      min-height: 100vh;\n    }\n\n    a {\n      color: inherit;\n      text-decoration: none;\n    }\n\n    img {\n      max-width: 100%;\n      display: block;\n    }\n\n    /* =====================\n       PAGE WRAPPER\n    ====================== */\n    .page {\n      padding: 22px 24px;\n    }\n\n    .container {\n      max-width: var(--max-width);\n      margin: 0 auto;\n    }\n\n    /* =====================\n       SIDEBAR BACKDROP\n    ====================== */\n    .sidebar-backdrop {\n      position: fixed;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n      background: rgba(0, 0, 0, 0.2);\n      backdrop-filter: blur(4px);\n      -webkit-backdrop-filter: blur(4px);\n      opacity: 0;\n      visibility: hidden;\n      transition: opacity 0.3s ease, visibility 0.3s ease;\n      z-index: 999;\n      pointer-events: none;\n    }\n\n    .sidebar-backdrop--visible {\n      opacity: 1;\n      visibility: visible;\n      pointer-events: auto;\n    }\n\n    /* =====================\n       SIDEBAR\n    ====================== */\n    .sidebar {\n      position: fixed;\n      top: 0;\n      right: 0;\n      width: 320px;\n      height: 100vh;\n      background: var(--bg);\n      border-left: 1px solid var(--line);\n      transform: translateX(100%);\n      transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n      z-index: 1000;\n      overflow-y: auto;\n      padding: 24px;\n    }\n\n    .sidebar--open {\n      transform: translateX(0);\n    }\n\n    .sidebar__title {\n      font-size: 16px;\n      font-weight: 600;\n      margin-bottom: 24px;\n      color: var(--ink);\n    }\n\n    /* Prevent body scroll when sidebar is open */\n    body.sidebar-open {\n      overflow: hidden;\n    }\n\n    .sidebar__chapter-list {\n      list-style: none;\n      margin: 0;\n      padding: 0;\n    }\n\n    .sidebar__chapter-item {\n      margin: 0 0 8px 0;\n    }\n\n    .sidebar__chapter-link {\n      display: block;\n      font-size: 14px;\n      color: var(--muted);\n      text-decoration: none;\n      padding: 8px 0;\n      transition: color 0.2s ease;\n      line-height: 1.5;\n    }\n\n    .sidebar__chapter-link:hover {\n      color: var(--ink);\n    }\n\n    .sidebar__chapter-link--current {\n      color: var(--ink);\n      font-weight: 500;\n    }\n\n    /* =====================\n       HEADER (Top bar with chapter indicator)\n    ====================== */\n    .header {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      padding: 10px 0;\n      border-bottom: 1px solid var(--line);\n      position: relative;\n      transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n    }\n\n    .header--shifted {\n      transform: translateX(-320px);\n    }\n\n    .brand {\n      font-size: 16px;\n      font-weight: 600;\n      cursor: pointer;\n      display: inline-block;\n    }\n\n    .nav {\n      display: flex;\n      gap: 24px;\n      align-items: center;\n      font-size: 14px;\n    }\n\n    .nav a {\n      color: #1f2937;\n    }\n\n    .linkedin {\n      display: flex;\n      flex-direction: column;\n      align-items: flex-start;\n    }\n\n    .linkedin a {\n      color: var(--link);\n    }\n\n    .linkedin span {\n      font-family: Georgia, serif;\n      font-size: 9px;\n      font-style: italic;\n      color: #999;\n    }\n\n    /* =====================\n       MAIN GRID\n    ====================== */\n    .main {\n      padding-top: 48px;\n      padding-bottom: 48px;\n      display: flex;\n      justify-content: center;\n      align-items: start;\n    }\n\n    /* =====================\n       CHAPTER READING AREA (Option 1: Magazine-style)\n    ====================== */\n    .chapter-content {\n      max-width: 768px;\n      width: 100%;\n      margin: 0 auto;\n    }\n\n    .chapter-header {\n      margin-bottom: 56px;\n      padding-bottom: 32px;\n      border-bottom: 2px solid var(--line);\n    }\n\n    .book-title {\n      font-size: 12px;\n      letter-spacing: 0.15em;\n      text-transform: uppercase;\n      color: var(--muted);\n      font-weight: 500;\n      margin-bottom: 8px;\n      opacity: 0.7;\n    }\n\n    .chapter-number {\n      font-size: 13px;\n      letter-spacing: 0.2em;\n      text-transform: uppercase;\n      color: var(--muted);\n      font-weight: 600;\n      margin-bottom: 12px;\n      display: flex;\n      align-items: center;\n      gap: 8px;\n      cursor: pointer;\n      user-select: none;\n      transition: color 0.2s ease;\n    }\n\n    .chapter-number:hover {\n      color: var(--ink);\n    }\n\n    .chapter-number__icon {\n      font-size: 10px;\n      opacity: 0.6;\n      transition: transform 0.3s ease, opacity 0.2s ease;\n    }\n\n    .chapter-number:hover .chapter-number__icon {\n      opacity: 0.8;\n    }\n\n    .chapter-number__icon--open {\n      transform: rotate(180deg);\n    }\n\n    .chapter-title {\n      font-size: 56px;\n      font-weight: 900;\n      line-height: 1.05;\n      margin: 0 0 20px 0;\n      color: var(--ink);\n      letter-spacing: -0.03em;\n    }\n\n    .chapter-subtitle {\n      font-size: 22px;\n      font-weight: 500;\n      color: var(--muted);\n      line-height: 1.4;\n      margin: 0;\n    }\n\n    .chapter-body {\n      font-size: 19px;\n      line-height: 1.8;\n      color: var(--ink);\n      max-width: none;\n      font-weight: 400;\n    }\n\n    .chapter-body p {\n      margin: 0 0 28px 0;\n    }\n\n    .chapter-body p:last-child {\n      margin-bottom: 0;\n    }\n\n    .chapter-body h2 {\n      font-size: 36px;\n      font-weight: 800;\n      line-height: 1.2;\n      margin: 56px 0 24px 0;\n      color: var(--ink);\n      letter-spacing: -0.02em;\n    }\n\n    .chapter-body h3 {\n      font-size: 26px;\n      font-weight: 700;\n      line-height: 1.3;\n      margin: 40px 0 18px 0;\n      color: var(--ink);\n      letter-spacing: -0.01em;\n    }\n\n    .chapter-body strong {\n      font-weight: 600;\n      color: var(--ink);\n    }\n\n    .chapter-body em {\n      font-style: italic;\n    }\n\n    .chapter-body ul,\n    .chapter-body ol {\n      margin: 28px 0;\n      padding-left: 36px;\n    }\n\n    .chapter-body li {\n      margin-bottom: 14px;\n      line-height: 1.75;\n    }\n\n    .chapter-body blockquote {\n      margin: 40px 0;\n      padding-left: 28px;\n      border-left: 4px solid var(--accent);\n      font-style: italic;\n      color: var(--muted);\n      font-size: 18px;\n      line-height: 1.7;\n    }\n\n    .chapter-body code {\n      font-family: ''Monaco'', ''Menlo'', ''Courier New'', monospace;\n      font-size: 0.9em;\n      background: rgba(0,0,0,0.04);\n      padding: 2px 6px;\n      border-radius: 3px;\n    }\n\n    .chapter-body pre {\n      background: rgba(0,0,0,0.04);\n      padding: 20px;\n      border-radius: 8px;\n      overflow-x: auto;\n      margin: 24px 0;\n    }\n\n    .chapter-body pre code {\n      background: none;\n      padding: 0;\n    }\n\n    /* Content shift when sidebar opens */\n    .main {\n      transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n    }\n\n    .main--shifted {\n      transform: translateX(-320px);\n    }\n\n    /* Prevent horizontal scroll */\n    body {\n      overflow-x: hidden;\n    }\n\n    .page {\n      overflow-x: hidden;\n    }\n\n    /* =====================\n       CHAPTER NAVIGATION (BOTTOM)\n    ====================== */\n    .chapter-nav-bottom {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      max-width: 768px;\n      width: 100%;\n      margin: 64px auto 0 auto;\n      padding: 24px 0;\n      border-top: 1px solid var(--line);\n    }\n\n    .chapter-nav-bottom__link {\n      display: flex;\n      align-items: center;\n      gap: 8px;\n      font-size: 14px;\n      color: var(--muted);\n      text-decoration: none;\n      transition: color 0.2s ease;\n      padding: 8px 0;\n    }\n\n    .chapter-nav-bottom__link:hover {\n      color: var(--ink);\n    }\n\n    .chapter-nav-bottom__arrow {\n      font-size: 16px;\n      opacity: 0.7;\n    }\n\n    .chapter-nav-bottom__label {\n      font-weight: 500;\n    }\n\n    .chapter-nav-bottom__link--prev {\n      margin-right: auto;\n    }\n\n    .chapter-nav-bottom__link--next {\n      margin-left: auto;\n    }\n\n    .chapter-nav-bottom__link--disabled {\n      opacity: 0.4;\n      cursor: not-allowed;\n      pointer-events: none;\n    }\n\n    .page-widget__pages {\n      max-height: 0;\n      overflow: hidden;\n      transition: max-height 0.4s cubic-bezier(0.4, 0, 0.2, 1),\n                  opacity 0.3s ease,\n                  margin-top 0.3s ease;\n      opacity: 0;\n      margin-top: 0;\n      background: rgba(255, 255, 255, 0.98);\n      backdrop-filter: blur(12px);\n      -webkit-backdrop-filter: blur(12px);\n      border: 1px solid rgba(0, 0, 0, 0.06);\n      border-radius: 12px;\n      box-shadow: 0 2px 12px rgba(0, 0, 0, 0.06);\n    }\n\n    .page-widget__pages--expanded {\n      max-height: 500px;\n      opacity: 1;\n      margin-top: 12px;\n      padding: 8px;\n    }\n\n    .page-widget__pages-list {\n      list-style: none;\n      margin: 0;\n      padding: 0;\n      display: flex;\n      flex-direction: column;\n      gap: 8px;\n      max-height: 400px;\n      overflow-y: auto;\n      padding-right: 4px;\n    }\n\n    .page-widget__pages-list::-webkit-scrollbar {\n      width: 6px;\n    }\n\n    .page-widget__pages-list::-webkit-scrollbar-track {\n      background: rgba(0, 0, 0, 0.02);\n      border-radius: 3px;\n    }\n\n    .page-widget__pages-list::-webkit-scrollbar-thumb {\n      background: rgba(0, 0, 0, 0.12);\n      border-radius: 3px;\n    }\n\n    .page-widget__pages-list::-webkit-scrollbar-thumb:hover {\n      background: rgba(0, 0, 0, 0.2);\n    }\n\n    .page-widget__page-item {\n      display: flex;\n      align-items: center;\n      gap: 10px;\n      padding: 8px 10px;\n      border-radius: 8px;\n      cursor: pointer;\n      transition: all 0.2s ease;\n      text-decoration: none;\n      color: var(--ink);\n    }\n\n    .page-widget__page-item:hover {\n      background: rgba(0, 0, 0, 0.03);\n      transform: translateX(2px);\n    }\n\n    .page-widget__page-item--current {\n      background: rgba(22, 163, 74, 0.08);\n      color: var(--accent);\n      font-weight: 500;\n    }\n\n    .page-widget__page-item--current:hover {\n      background: rgba(22, 163, 74, 0.12);\n    }\n\n    .page-widget__page-number {\n      display: inline-flex;\n      align-items: center;\n      justify-content: center;\n      width: 24px;\n      height: 24px;\n      background: rgba(0, 0, 0, 0.04);\n      border-radius: 5px;\n      font-size: 11px;\n      font-weight: 500;\n      flex-shrink: 0;\n      color: var(--muted);\n    }\n\n    .page-widget__page-item--current .page-widget__page-number {\n      background: rgba(22, 163, 74, 0.15);\n      color: var(--accent);\n    }\n\n    .page-widget__page-info {\n      flex: 1;\n      min-width: 0;\n    }\n\n    .page-widget__page-name {\n      font-size: 13px;\n      font-weight: 500;\n      line-height: 1.3;\n      margin: 0 0 2px 0;\n    }\n\n    .page-widget__page-note {\n      font-size: 11px;\n      color: var(--muted);\n      line-height: 1.3;\n      margin: 0;\n      white-space: nowrap;\n      overflow: hidden;\n      text-overflow: ellipsis;\n    }\n\n    @media (max-width: 768px) {\n      .page-widget__pages-list {\n        max-height: 300px;\n      }\n    }\n\n\n/* ===============================\n   WRAPPER\n================================ */\n.book-wrap {\n  width: 320px;\n  aspect-ratio: 2 / 3;\n  position: relative;\n}\n\n/* ===============================\n   CAST SHADOW SLAB (REAL SHADOW)\n================================ */\n.shadow-slab {\n    position: absolute;\n    position: absolute;\n    inset: 0;\n    border-radius: 22px;\n    /* background: #2a2a2a; */\n    transform: translate(-30px, 30px);\n    filter: blur(13px);\n    opacity: 0.35;\n    z-index: 0;\n    background: radial-gradient(ellipse at 15% 85%, rgba(0, 0, 0, 0.35), rgba(0, 0, 0, 0.18) 35%, transparent 65%), linear-gradient(to right, #1f1f1f 0%, #2a2a2a 45%, #3a3a3a 100%);\n}\n\n.shadow-slab-2 {\n    position: absolute;\n    inset: 0;\n    border-radius: 22px;\n    background: radial-gradient(circle at top right, #f6e6a8 0%, #e2c36b 35%, #b58a3c 70%, #7a5524 100%);\n    transform: translate(-10px, 10px);\n    filter: blur(5px);\n    opacity: 0.35;\n    z-index: 0;\n}\n\n.shadow-slab-3 {\n    position: absolute;\n    inset: 0;\n    border-radius: 22px;\n    background: #333;\n    transform: translate(0px, 0px);\n    filter: blur(11px);\n    opacity: 0.35;\n    z-index: 0;\n}\n\n.shadow-slab-4 {\n    position: absolute;\n    inset: 0;\n    border-radius: 22px;\n    background: #333;\n    transform: translate(0px, 0px);\n    filter: blur(11px);\n    opacity: 0.35;\n    z-index: 0;\n}\n\n/* ===============================\n   FRONT SLAB & SPIN HANDLE\n================================ */\n\n.front-slab {\n    position: absolute;\n    inset: 0;\n    border-radius: 22px;\n    background: linear-gradient(to right, rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.1) 3%, transparent 1%);\n    /* background: green; */\n    z-index: 3;\n    opacity: .5;\n    transform: translateZ(6px);\n    pointer-events: none;\n}\n\n.spin-handle {\n  display: none;\n  position: absolute;\n  top: 50%;\n  right: -22px;\n  width: 14px;\n  height: 48px;\n  border-radius: 999px;\n  background: rgba(0,0,0,0.25);\n  backdrop-filter: blur(4px);\n  cursor: grab;\n  z-index: 10;\n}\n\n/* ===============================\n   BOOK OBJECT (NO SHADOW)\n================================ */\n.book {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  border-radius: 22px;\n  overflow: hidden;\n  z-index: 2;\n\n  /* IMPORTANT: no box-shadow */\n  box-shadow: none;\n\n  /* transform: perspective(1200px) rotateX(0.6deg); */\n}\n\n/* ===============================\n   PAPER SURFACE (LIGHT FIELD)\n================================ */\n.book .surface {\n  position: absolute;\n  inset: 0;\n  border-radius: inherit;\n  pointer-events: none;\n  z-index: 1;\n\n  background:\n    linear-gradient(\n      to bottom left,\n      rgba(255,255,255,1) 0%,\n      rgba(250,250,250,1) 42%,\n      rgba(240,240,240,1) 100%\n    ),\n    repeating-linear-gradient(\n      0deg,\n      rgba(0,0,0,0.01),\n      rgba(0,0,0,0.01) 1px,\n      transparent 1px,\n      transparent 3px\n    );\n}\n\n/* ===============================\n   LEFT OCCLUSION (CURTAIN)\n================================ */\n.book .curtain {\n  position: absolute;\n  inset: 0;\n  border-radius: inherit;\n  pointer-events: none;\n  z-index: 2;\n\n  background:\n    linear-gradient(\n      to right,\n      rgba(0,0,0,0.20) 0%,\n      rgba(0,0,0,0.12) 8%,\n      rgba(0,0,0,0.05) 16%,\n      rgba(0,0,0,0.02) 22%,\n      rgba(0,0,0,0.00) 30%\n    );\n}\n\n/* ===============================\n   RIGHT HIGHLIGHT\n================================ */\n.book .highlight {\n  position: absolute;\n  inset: 0;\n  border-radius: inherit;\n  pointer-events: none;\n  z-index: 3;\n\n  background:\n    linear-gradient(\n      to left,\n      rgba(255,255,255,0.35) 0%,\n      rgba(255,255,255,0.18) 6%,\n      rgba(255,255,255,0.06) 14%,\n      rgba(255,255,255,0.00) 24%\n    );\n}\n\n/* ===============================\n   PAGE EDGE (THICKNESS)\n================================ */\n.book .edge {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 120px;\n  height: 100%;\n  border-radius: 22px 0 0 22px;\n  pointer-events: none;\n  z-index: 4;\n\n  background:\n    linear-gradient(\n      to right,\n      rgba(215,215,215,0.95) 0%,\n      rgba(245,245,245,0.95) 40%,\n      rgba(255,255,255,0.95) 75%\n    );\n\n  box-shadow:\n    inset -1px 0 0 rgba(0,0,0,0.05);\n}\n\n/* ===============================\n   SVG (PURE WHITE)\n================================ */\n.book svg {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  display: block;\n  z-index: 5;\n}\n\n    /* =====================\n       LEFT: BOOK COVER\n    ====================== */\n    .book-cover {\n      display: flex;\n      flex-direction: column;\n      gap: 12px;\n    }\n\n\n    /* ===============================\n       BOOK + SHADOW SYSTEM\n    =============================== */\n    .book-wrap {\n      width: 320px;\n      aspect-ratio: 2 / 3;\n      position: relative;\n    }\n\n    .shadow-slab,\n    .shadow-slab-2,\n    .shadow-slab-3,\n    .shadow-slab-4 {\n      position: absolute;\n      inset: 0;\n      border-radius: 22px;\n      z-index: 0;\n      will-change: transform, filter, opacity;\n    }\n\n    .shadow-slab {\n      background:\n        radial-gradient(ellipse at 15% 85%, rgba(0,0,0,0.35), rgba(0,0,0,0.18) 35%, transparent 65%),\n        linear-gradient(to right, #1f1f1f 0%, #2a2a2a 45%, #3a3a3a 100%);\n      filter: blur(13px);\n      opacity: 0.35;\n    }\n\n    .shadow-slab-2 {\n      background: radial-gradient(circle at top right, #f6e6a8 0%, #e2c36b 35%, #b58a3c 70%, #7a5524 100%);\n      filter: blur(6px);\n      opacity: 0.30;\n    }\n\n    .shadow-slab-3,\n    .shadow-slab-4 {\n      background: #333;\n      filter: blur(11px);\n      opacity: 0.30;\n    }\n\n    .book {\n      position: relative;\n      width: 100%;\n      height: 100%;\n      border-radius: 22px;\n      overflow: hidden;\n      z-index: 2;\n      background: #f7f4ee;\n    }\n\n    .front-slab {\n      position: absolute;\n      inset: 0;\n      border-radius: 22px;\n      background: linear-gradient(to right, rgba(0,0,0,0.4), rgba(0,0,0,0.1) 3%, transparent 10%);\n      z-index: 3;\n      pointer-events: none;\n      opacity: 0.5;\n    }\n\n\n    @media (prefers-reduced-motion: reduce) {\n      .cover-frame {\n        transition: none;\n        transform: none;\n      }\n      .cover-frame:hover {\n        --lift: 0;\n      }\n    }\n\n    .start-reading {\n      display: inline-flex;\n      align-items: center;\n      justify-content: center;\n      width: 100%;\n      padding: 12px 14px;\n      border-radius: 999px;\n\n      font-size: 11px;\n      letter-spacing: 0.16em;\n      text-transform: uppercase;\n      font-weight: 650;\n      color: rgba(34,197,94,0.92);\n      text-shadow:\n        0 0 10px rgba(34,197,94,0.22),\n        0 0 22px rgba(34,197,94,0.14);\n\n      /* graphite: dark + slightly mineral */\n      background:\n        radial-gradient(120% 140% at 20% 10%, rgba(255,255,255,0.10) 0%, rgba(255,255,255,0.00) 55%),\n        radial-gradient(140% 140% at 80% 90%, rgba(255,255,255,0.06) 0%, rgba(255,255,255,0.00) 60%),\n        linear-gradient(180deg, #141414 0%, #0a0a0a 100%);\n      border: 1px solid rgba(255,255,255,0.10);\n      box-shadow:\n        0 14px 34px rgba(0,0,0,0.22),\n        0 8px 16px rgba(0,0,0,0.18),\n        inset 0 1px 0 rgba(255,255,255,0.10),\n        inset 0 -1px 0 rgba(0,0,0,0.55);\n\n      position: relative;\n      overflow: hidden;\n      cursor: pointer;\n      user-select: none;\n      -webkit-tap-highlight-color: transparent;\n\n      transition:\n        transform 160ms cubic-bezier(0.2, 0.8, 0.2, 1),\n        box-shadow 160ms cubic-bezier(0.2, 0.8, 0.2, 1),\n        border-color 160ms cubic-bezier(0.2, 0.8, 0.2, 1);\n    }\n\n    .start-reading::before {\n      content: \"\";\n      position: absolute;\n      inset: 0;\n      pointer-events: none;\n      /* texture + sheen (very subtle) */\n      background:\n        linear-gradient(120deg, rgba(255,255,255,0.12) 0%, rgba(255,255,255,0.00) 46%),\n        repeating-linear-gradient(0deg,\n          rgba(255,255,255,0.028) 0px,\n          rgba(255,255,255,0.028) 1px,\n          rgba(0,0,0,0.00) 3px,\n          rgba(0,0,0,0.00) 6px),\n        radial-gradient(120% 90% at 50% 0%, rgba(34,197,94,0.14) 0%, rgba(34,197,94,0.00) 62%);\n      opacity: 0.75;\n    }\n\n    .start-reading:hover {\n      transform: translateY(-1px);\n      border-color: rgba(34,197,94,0.30);\n      box-shadow:\n        0 18px 42px rgba(0,0,0,0.24),\n        0 10px 18px rgba(0,0,0,0.18),\n        inset 0 1px 0 rgba(255,255,255,0.12),\n        inset 0 -1px 0 rgba(0,0,0,0.55);\n      text-shadow:\n        0 0 12px rgba(34,197,94,0.28),\n        0 0 26px rgba(34,197,94,0.18);\n    }\n\n    .start-reading:active {\n      transform: translateY(0px);\n      box-shadow:\n        0 14px 34px rgba(0,0,0,0.22),\n        0 8px 16px rgba(0,0,0,0.18),\n        inset 0 1px 0 rgba(255,255,255,0.10),\n        inset 0 -1px 0 rgba(0,0,0,0.55);\n    }\n\n    .start-reading:focus-visible {\n      outline: none;\n      box-shadow:\n        0 18px 42px rgba(0,0,0,0.24),\n        0 0 0 4px rgba(34,197,94,0.22),\n        0 0 0 1px rgba(34,197,94,0.26),\n        inset 0 1px 0 rgba(255,255,255,0.12),\n        inset 0 -1px 0 rgba(0,0,0,0.55);\n      border-color: rgba(34,197,94,0.34);\n    }\n\n    @media (prefers-reduced-motion: reduce) {\n      .start-reading {\n        transition: none;\n      }\n      .start-reading:hover {\n        transform: none;\n      }\n    }\n\n    /* =====================\n       CENTER: CONTENT\n    ====================== */\n    .content h1 {\n      font-size: 40px;\n      font-weight: 800;\n      line-height: 1.15;\n      margin: 0;\n    }\n\n    .byline {\n      font-size: 13px;\n      letter-spacing: 0.12em;\n      color: #666;\n      font-weight: 600;\n    }\n\n    .tagline {\n      font-size: 18px;\n      font-weight: 500;\n      color: #333;\n    }\n\n    .paragraph {\n      font-size: 15px;\n      color: #222;\n    }\n\n    .meta {\n      margin-top: 20px;\n      padding-top: 20px;\n      border-top: 1px solid var(--line);\n      display: grid;\n      grid-template-columns: repeat(2, 1fr);\n      gap: 12px 24px;\n      font-size: 13px;\n    }\n\n    .author {\n      margin-top: 20px;\n      padding-top: 20px;\n      border-top: 1px solid var(--line);\n      display: flex;\n      gap: 16px;\n      align-items: flex-start;\n    }\n\n    .author img {\n      width: 44px;\n      height: 44px;\n      border-radius: 50%;\n    }\n\n    /* =====================\n       RIGHT: RELATED\n    ====================== */\n    .related {\n      display: flex;\n      flex-direction: column;\n      gap: 20px;\n    }\n\n    .related-title {\n      font-size: 11px;\n      letter-spacing: 0.14em;\n      color: #666;\n      text-transform: uppercase;\n      font-weight: 600;\n    }\n\n    .related-item {\n      display: flex;\n      flex-direction: column;\n      gap: 6px;\n      cursor: pointer;\n      transition: transform 0.12s ease, box-shadow 0.12s ease;\n    }\n\n    .related-item:hover {\n      transform: translateY(-2px);\n    }\n\n    .related-thumb {\n      border-radius: 6px;\n      overflow: hidden;\n      aspect-ratio: 3 / 4;\n      box-shadow: 0 8px 24px rgba(0,0,0,0.1);\n\n      /* Gray placeholder shape */\n      background: linear-gradient(135deg, #e5e7eb 0%, #d1d5db 45%, #cbd5e1 100%);\n      border: 1px solid rgba(0,0,0,0.06);\n    }\n\n    .related-thumb img {\n      width: 100%;\n      height: 100%;\n      object-fit: cover;\n      filter: grayscale(1);\n      opacity: 0.85;\n      transition: filter 160ms ease, opacity 160ms ease;\n    }\n\n    .related-thumb .thumb-placeholder {\n      width: 100%;\n      height: 100%;\n      display: block;\n    }\n\n    .related-item a {\n      font-size: 12px;\n      font-weight: 600;\n      color: #111;\n    }\n\n    /* =====================\n       RIGHT: 13 CHAPTERS\n    ====================== */\n    .chapters {\n      display: flex;\n      flex-direction: column;\n      gap: 10px;\n    }\n\n    .chapters-title {\n      font-size: 11px;\n      letter-spacing: 0.12em;\n      color: rgba(17,17,17,0.52);\n      text-transform: uppercase;\n      font-weight: 600;\n    }\n\n    .chapters-help {\n      margin-top: -4px;\n      font-size: 11px;\n      line-height: 1.35;\n      color: rgba(17,17,17,0.42);\n    }\n\n    .chapter-list {\n      list-style: none;\n      padding: 0;\n      margin: 0;\n      display: flex;\n      flex-direction: column;\n      gap: 0;\n      border-top: 1px solid rgba(0,0,0,0.06);\n    }\n\n    .chapter-item {\n      display: grid;\n      grid-template-columns: 3ch 1fr;\n      gap: 12px;\n      align-items: start;\n      padding: 10px 0;\n      border-bottom: 1px solid rgba(0,0,0,0.06);\n    }\n\n    .chapter-item--preface .chapter-name {\n      font-weight: 760;\n      letter-spacing: -0.01em;\n      color: rgba(17,17,17,0.90);\n    }\n\n    .chapter-item--current .chapter-name {\n      color: rgba(17,17,17,0.92);\n      text-decoration: underline;\n      text-decoration-thickness: 1px;\n      text-underline-offset: 3px;\n      text-decoration-color: rgba(17,17,17,0.22);\n    }\n\n    .chapter-num {\n      width: auto;\n      height: auto;\n      border-radius: 0;\n      display: block;\n      text-align: right;\n      font-size: 11px;\n      font-weight: 650;\n      color: rgba(17,17,17,0.46);\n      font-variant-numeric: tabular-nums;\n    }\n\n    .chapter-name {\n      font-size: 12px;\n      font-weight: 600;\n      color: rgba(17,17,17,0.80);\n      line-height: 1.3;\n    }\n\n    .chapter-note {\n      margin-top: 2px;\n      font-size: 11px;\n      color: rgba(17,17,17,0.46);\n      line-height: 1.4;\n    }\n\n    /* =====================\n       RESPONSIVE\n    ====================== */\n    @media (max-width: 900px) {\n      .chapter-content {\n        max-width: 100%;\n        padding: 0 24px;\n      }\n\n      .page-widget {\n        max-width: 100%;\n        margin-left: 24px;\n        margin-right: 24px;\n      }\n\n      .chapter-title {\n        font-size: 42px;\n      }\n\n      .chapter-body {\n        font-size: 18px;\n      }\n\n      .chapter-body h2 {\n        font-size: 32px;\n      }\n\n      .chapter-body h3 {\n        font-size: 24px;\n      }\n    }\n\n    @media (max-width: 768px) {\n      .header {\n        flex-direction: column;\n        gap: 12px;\n      }\n\n      .chapter-content {\n        padding: 0 16px;\n      }\n\n      .page-widget {\n        margin-left: 16px;\n        margin-right: 16px;\n      }\n\n      .chapter-title {\n        font-size: 38px;\n      }\n\n      .chapter-body {\n        font-size: 17px;\n      }\n\n      .chapter-body h2 {\n        font-size: 30px;\n      }\n\n      .chapter-body h3 {\n        font-size: 22px;\n      }\n    }\n  </style>\n</head>\n\n<body>\n  <div class=\"page\">\n    <div class=\"container\">\n\n      <!-- SIDEBAR BACKDROP -->\n      <div class=\"sidebar-backdrop\" id=\"sidebarBackdrop\"></div>\n\n      <!-- SIDEBAR -->\n      <aside class=\"sidebar\" id=\"sidebar\">\n        <div class=\"sidebar__title\">Working Fundamentals</div>\n        <ul class=\"sidebar__chapter-list\">\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-introduction\" class=\"sidebar__chapter-link sidebar__chapter-link--current\" target=\"_blank\">Introduction</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-1-of-13-programming-fundamentals\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 1 ¬∑ Programming Fundamentals</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-2-of-13-data-structures\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 2 ¬∑ Data Structures</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-3-of-13-algorithms-and-complexity\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 3 ¬∑ Algorithms & Complexity</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-4-of-13-control-and-flow\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 4 ¬∑ Control & Flow</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-5-of-13-state-and-change\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 5 ¬∑ State & Change</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-6-of-13-design-principles\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 6 ¬∑ Design Principles</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-7-of-13-architecture\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 7 ¬∑ Architecture</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-8-of-13-persistence-and-data-modeling\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 8 ¬∑ Persistence & Data Modeling</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-9-of-13-interfaces-and-apis\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 9 ¬∑ Interfaces & APIs</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-10-of-13-errors-and-failure\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 10 ¬∑ Errors & Failure</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-11-of-13-testing\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 11 ¬∑ Testing</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-12-of-13-performance-and-scale\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 12 ¬∑ Performance & Scale</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-13-of-13-the-developers-role\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 13 ¬∑ The Developer''s Role</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-outroduction\" class=\"sidebar__chapter-link\" target=\"_blank\">Outroduction</a>\n          </li>\n        </ul>\n      </aside>\n\n      <!-- HEADER -->\n      <header class=\"header\" id=\"header\">\n        <a href=\"https://arvinjaysoncastro.com/\" class=\"brand\" target=\"_blank\">Arvin Jayson Castro</a>\n        <nav class=\"nav\">\n          <a href=\"https://arvinjaysoncastro.com/hungry-dev-mind\" target=\"_blank\">Books</a>\n          <a href=\"https://arvinjaysoncastro.com/working-systems\" target=\"_blank\">Working Systems</a>\n          <a href=\"https://arvinjaysoncastro.com/about\" target=\"_blank\">16 Years</a>\n          <div class=\"linkedin\">\n            <a href=\"https://www.linkedin.com/in/arvin-jayson-castro-7458199a/\" target=\"_blank\">linkedIn</a>\n            <span>let''s connect</span>\n          </div>\n        </nav>\n      </header>\n\n      <!-- PAGE WIDGET (TOP) - REMOVED -->\n      <div style=\"display: none;\">\n          <ol class=\"page-widget__pages-list\">\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">P</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Preface</div>\n                  <div class=\"page-widget__page-note\">Why fundamentals still decide outcomes.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item page-widget__page-item--current\">\n                <span class=\"page-widget__page-number\">1</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 1</div>\n                  <div class=\"page-widget__page-note\">Core principles and constraints.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">2</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 2</div>\n                  <div class=\"page-widget__page-note\">Boundaries, ownership, and interfaces.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">3</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 3</div>\n                  <div class=\"page-widget__page-note\">State, consistency, and failure modes.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">4</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 4</div>\n                  <div class=\"page-widget__page-note\">Abstractions that survive change.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">5</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 5</div>\n                  <div class=\"page-widget__page-note\">Simplicity as an engineering practice.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">6</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 6</div>\n                  <div class=\"page-widget__page-note\">Reliability, observability, and feedback.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">7</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 7</div>\n                  <div class=\"page-widget__page-note\">Delivery systems and decision hygiene.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">8</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 8</div>\n                  <div class=\"page-widget__page-note\">Documentation that stays useful.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">9</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 9</div>\n                  <div class=\"page-widget__page-note\">Testing strategy for predictable change.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">10</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 10</div>\n                  <div class=\"page-widget__page-note\">Pragmatic architecture for teams.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">11</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 11</div>\n                  <div class=\"page-widget__page-note\">Operational excellence without ceremony.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">12</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 12</div>\n                  <div class=\"page-widget__page-note\">Leadership, standards, and leverage.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">13</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 13</div>\n                  <div class=\"page-widget__page-note\">Making fundamentals non-negotiable.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">PS</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Postscript</div>\n                  <div class=\"page-widget__page-note\">A short operating model to carry forward.</div>\n                </div>\n              </a>\n            </li>\n          </ol>\n        </div>\n      </div>\n\n      <!-- MAIN -->\n      <main class=\"main\" id=\"main\">\n\n        <!-- CHAPTER CONTENT (Option 1: Magazine-style) -->\n        <article class=\"chapter-content\">\n          <header class=\"chapter-header\">\n            <div class=\"book-title\">Working Fundamentals</div>\n            <h1 class=\"chapter-title\">On Building Software That Holds</h1>\n          </header>\n\n          <div class=\"chapter-body\">\n            <p>\n              This book is not a course. It is not a reference. It is not a collection of tricks.\n            </p>\n\n            <p>\n              It is a <strong>record of orientation</strong>.\n            </p>\n\n            <p>\n              Most people learn software by accumulation:\n            </p>\n\n            <ul>\n              <li>more languages</li>\n              <li>more frameworks</li>\n              <li>more patterns</li>\n              <li>more tools</li>\n            </ul>\n\n            <p>\n              Accumulation creates capability. It does not guarantee stability.\n            </p>\n\n            <p>\n              This book is written for a different purpose:\n            </p>\n\n            <blockquote>\n              to explain what must remain <strong>true</strong> for software to hold together over time.\n            </blockquote>\n\n            <h2>Why this book exists</h2>\n\n            <p>\n              Software rarely fails suddenly.\n            </p>\n\n            <p>\n              It decays.\n            </p>\n\n            <p>\n              It decays through:\n            </p>\n\n            <ul>\n              <li>unnamed assumptions</li>\n              <li>unclear responsibilities</li>\n              <li>invisible state</li>\n              <li>misplaced abstractions</li>\n              <li>containers used without thought</li>\n            </ul>\n\n            <p>\n              These failures are not dramatic. They are quiet.\n            </p>\n\n            <p>\n              This book exists to name those quiet forces.\n            </p>\n\n            <h2>Who this book is for</h2>\n\n            <p>\n              This book is for:\n            </p>\n\n            <ul>\n              <li>beginners who want ground, not tricks</li>\n              <li>experienced developers who feel systems growing heavy</li>\n              <li>architects who care about longevity more than novelty</li>\n            </ul>\n\n            <p>\n              If you are looking for:\n            </p>\n\n            <ul>\n              <li>syntax</li>\n              <li>shortcuts</li>\n              <li>\"best practices of the year\"</li>\n            </ul>\n\n            <p>\n              This book will disappoint you.\n            </p>\n\n            <p>\n              If you are looking for:\n            </p>\n\n            <ul>\n              <li>clarity</li>\n              <li>stability</li>\n              <li>reasoning you can reuse for decades</li>\n            </ul>\n\n            <p>\n              Then you are in the right place.\n            </p>\n\n            <h2>How to read this book</h2>\n\n            <p>\n              Read slowly.\n            </p>\n\n            <p>\n              Do not skim for techniques. Read for <strong>shape</strong>.\n            </p>\n\n            <p>\n              If something feels obvious, keep reading. Obvious truths are often the most neglected.\n            </p>\n\n            <p>\n              If something feels familiar, pause. Recognition is a sign of alignment.\n            </p>\n\n            <h2>The promise</h2>\n\n            <p>\n              This book will not make you faster immediately. It will make you <strong>harder to break</strong>.\n            </p>\n\n            <p>\n              And in software, that matters more.\n            </p>\n          </div>\n\n            <p>\n              This chapter defines the <strong>minimum thinking system</strong> required to make software behave predictably.\n            </p>\n\n            <p>\n              If you understand this chapter, you can learn any programming language faster. If you skip it, every abstraction you learn later will feel fragile.\n            </p>\n\n            <h2>The core truth</h2>\n\n            <p>\n              Every program‚Äîregardless of language, framework, or scale‚Äîreduces to the same shape:\n            </p>\n\n            <p>\n              <strong>Input ‚Üí Transform ‚Üí Output</strong>\n            </p>\n\n            <p>\n              This is not a metaphor. This is the invariant.\n            </p>\n\n            <p>\n              Languages change. Frameworks change. Paradigms evolve.\n            </p>\n\n            <p>\n              This shape does not.\n            </p>\n\n            <h2>Why fundamentals matter (beyond beginners)</h2>\n\n            <p>\n              Most bugs are not caused by advanced concepts. They are caused by <strong>unclear fundamentals</strong> hidden under abstraction.\n            </p>\n\n            <p>\n              Unclear fundamentals lead to:\n            </p>\n\n            <ul>\n              <li>unpredictable behavior</li>\n              <li>defensive code</li>\n              <li>excessive logging</li>\n              <li>unnecessary complexity</li>\n              <li>fragile refactors</li>\n            </ul>\n\n            <p>\n              Strong fundamentals produce:\n            </p>\n\n            <ul>\n              <li>calm code</li>\n              <li>obvious flow</li>\n              <li>fewer surprises</li>\n              <li>easier collaboration</li>\n              <li>long-term stability</li>\n            </ul>\n\n            <p>\n              This chapter is about <strong>preventing drift</strong>.\n            </p>\n\n            <h2>The six fundamentals (the complete set)</h2>\n\n            <p>\n              Everything you write in code belongs to <strong>one of these six</strong>. If you cannot name which one, the system is already weakening.\n            </p>\n\n            <h3>1. Data</h3>\n\n            <p>\n              <strong>What exists</strong>\n            </p>\n\n            <p>\n              Data is the raw material of a program. Numbers, text, flags, collections, objects.\n            </p>\n\n            <p>\n              Data does nothing by itself. It only exists.\n            </p>\n\n            <p>\n              üß† <strong>Mental Model</strong> Data is passive. Behavior comes later.\n            </p>\n\n            <p>\n              ‚ö†Ô∏è <strong>Common Drift</strong> When developers confuse data with behavior, logic spreads uncontrollably.\n            </p>\n\n            <h3>2. Variables</h3>\n\n            <p>\n              <strong>What names data</strong>\n            </p>\n\n            <p>\n              Variables do not store values. They <strong>point to values</strong>.\n            </p>\n\n            <p>\n              Naming is not cosmetic‚Äîit is structural.\n            </p>\n\n            <p>\n              A good variable name:\n            </p>\n\n            <ul>\n              <li>communicates intent</li>\n              <li>limits misuse</li>\n              <li>reduces comments</li>\n            </ul>\n\n            <p>\n              üß† <strong>Perspective</strong> Poor naming is the earliest form of technical debt.\n            </p>\n\n            <h3>3. Control Flow</h3>\n\n            <p>\n              <strong>What decides what happens</strong>\n            </p>\n\n            <p>\n              Control flow determines:\n            </p>\n\n            <ul>\n              <li>when something runs</li>\n              <li>if something runs</li>\n              <li>how often it runs</li>\n              <li>when it stops</li>\n            </ul>\n\n            <p>\n              Conditionals and loops are not logic. They are <strong>traffic signals</strong>.\n            </p>\n\n            <p>\n              üß† <strong>Mental Model</strong> Control flow answers: <em>\"What path does execution take?\"</em>\n            </p>\n\n            <p>\n              ‚ö†Ô∏è <strong>Common Drift</strong> Nested conditionals are a symptom of unclear rules.\n            </p>\n\n            <h3>4. Functions</h3>\n\n            <p>\n              <strong>What transforms input into output</strong>\n            </p>\n\n            <p>\n              A function is a <strong>boundary</strong>.\n            </p>\n\n            <p>\n              It should answer four questions clearly:\n            </p>\n\n            <ol>\n              <li>What does it take in?</li>\n              <li>What does it return?</li>\n              <li>What rules does it apply?</li>\n              <li>What can go wrong?</li>\n            </ol>\n\n            <p>\n              If a function cannot be explained in one sentence, it is doing too much.\n            </p>\n\n            <p>\n              üß† <strong>Architect''s Note</strong> Good systems are collections of small, honest transformations.\n            </p>\n\n            <h3>5. State & Mutability</h3>\n\n            <p>\n              <strong>What changes over time</strong>\n            </p>\n\n            <p>\n              State is data that can change. Mutability is <em>how</em> it changes.\n            </p>\n\n            <p>\n              Not all data should be mutable. Not all changes should be allowed.\n            </p>\n\n            <p>\n              üß† <strong>Mental Model</strong> The more things that can change, the harder the system is to reason about.\n            </p>\n\n            <p>\n              ‚ö†Ô∏è <strong>Common Drift</strong> Hidden state is responsible for most \"impossible\" bugs.\n            </p>\n\n            <h3>6. Errors</h3>\n\n            <p>\n              <strong>What happens when assumptions break</strong>\n            </p>\n\n            <p>\n              Errors are not edge cases. They are <strong>alternate paths</strong>.\n            </p>\n\n            <p>\n              Every system operates on assumptions:\n            </p>\n\n            <ul>\n              <li>input format</li>\n              <li>timing</li>\n              <li>availability</li>\n              <li>correctness</li>\n            </ul>\n\n            <p>\n              When assumptions fail, errors appear.\n            </p>\n\n            <p>\n              üß† <strong>Perspective</strong> Unhandled errors are silent contracts you didn''t realize you made.\n            </p>\n\n            <h2>How these fundamentals work together</h2>\n\n            <p>\n              A stable program follows this rhythm:\n            </p>\n\n            <ol>\n              <li>Accept input (data)</li>\n              <li>Name it (variables)</li>\n              <li>Choose a path (control flow)</li>\n              <li>Transform it (functions)</li>\n              <li>Update what must change (state)</li>\n              <li>Handle what can fail (errors)</li>\n              <li>Produce output</li>\n            </ol>\n\n            <p>\n              When systems fail, one of these steps is unclear.\n            </p>\n\n            <h2>Minimal practice (no code yet)</h2>\n\n            <p>\n              <strong>Problem (in plain language):</strong> \"Given a list of numbers, return only the even ones, then double them.\"\n            </p>\n\n            <p>\n              Before writing code, answer:\n            </p>\n\n            <ul>\n              <li>What is the input?</li>\n              <li>What is the output?</li>\n              <li>Where is the decision?</li>\n              <li>Where is the transformation?</li>\n              <li>What could go wrong?</li>\n            </ul>\n\n            <p>\n              If you can answer these clearly, implementation is mechanical.\n            </p>\n\n            <p>\n              üß† <strong>Architect''s Note</strong> If you cannot describe behavior in words, code will not save you.\n            </p>\n\n            <h2>What beginners gain here</h2>\n\n            <ul>\n              <li>A stable mental foundation</li>\n              <li>Confidence reading unfamiliar code</li>\n              <li>Reduced dependence on memorization</li>\n            </ul>\n\n            <h2>What experienced developers recognize</h2>\n\n            <ul>\n              <li>Why certain bugs keep returning</li>\n              <li>Why refactors feel risky</li>\n              <li>Why some codebases feel heavy despite \"best practices\"</li>\n            </ul>\n\n            <p>\n              This chapter gives names to intuitions you already had.\n            </p>\n\n            <h2>What this chapter deliberately avoids</h2>\n\n            <ul>\n              <li>Language syntax</li>\n              <li>Framework examples</li>\n              <li>Tooling</li>\n              <li>Patterns</li>\n              <li>Optimization</li>\n            </ul>\n\n            <p>\n              Those come later.\n            </p>\n\n            <p>\n              Foundations come first.\n            </p>\n\n            <h2>Closing</h2>\n\n            <p>\n              Programming fundamentals are not about skill level. They are about <strong>predictability</strong>.\n            </p>\n\n            <p>\n              Predictable systems scale. Predictable systems survive refactors. Predictable systems can be trusted.\n            </p>\n\n            <p>\n              This chapter is not mastery. It is the ground.\n            </p>\n          </div>\n        </article>\n\n        <!-- RIGHT -->\n\n      </main>\n\n      <!-- CHAPTER NAVIGATION (BOTTOM) -->\n      <nav class=\"chapter-nav-bottom\" id=\"chapterNavBottom\">\n        <a href=\"#\" class=\"chapter-nav-bottom__link chapter-nav-bottom__link--prev\" id=\"prevChapter\">\n          <span class=\"chapter-nav-bottom__arrow\">‚Üê</span>\n          <span class=\"chapter-nav-bottom__label\">Previous</span>\n        </a>\n        <a href=\"#\" class=\"chapter-nav-bottom__link chapter-nav-bottom__link--next\" id=\"nextChapter\">\n          <span class=\"chapter-nav-bottom__label\">Next</span>\n          <span class=\"chapter-nav-bottom__arrow\">‚Üí</span>\n        </a>\n      </nav>\n\n      <!-- PAGE WIDGET (BOTTOM) - REMOVED -->\n      <div style=\"display: none;\">\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">P</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Preface</div>\n                  <div class=\"page-widget__page-note\">Why fundamentals still decide outcomes.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item page-widget__page-item--current\">\n                <span class=\"page-widget__page-number\">1</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 1</div>\n                  <div class=\"page-widget__page-note\">Core principles and constraints.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">2</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 2</div>\n                  <div class=\"page-widget__page-note\">Boundaries, ownership, and interfaces.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">3</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 3</div>\n                  <div class=\"page-widget__page-note\">State, consistency, and failure modes.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">4</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 4</div>\n                  <div class=\"page-widget__page-note\">Abstractions that survive change.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">5</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 5</div>\n                  <div class=\"page-widget__page-note\">Simplicity as an engineering practice.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">6</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 6</div>\n                  <div class=\"page-widget__page-note\">Reliability, observability, and feedback.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">7</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 7</div>\n                  <div class=\"page-widget__page-note\">Delivery systems and decision hygiene.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">8</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 8</div>\n                  <div class=\"page-widget__page-note\">Documentation that stays useful.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">9</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 9</div>\n                  <div class=\"page-widget__page-note\">Testing strategy for predictable change.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">10</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 10</div>\n                  <div class=\"page-widget__page-note\">Pragmatic architecture for teams.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">11</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 11</div>\n                  <div class=\"page-widget__page-note\">Operational excellence without ceremony.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">12</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 12</div>\n                  <div class=\"page-widget__page-note\">Leadership, standards, and leverage.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">13</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 13</div>\n                  <div class=\"page-widget__page-note\">Making fundamentals non-negotiable.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">PS</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Postscript</div>\n                  <div class=\"page-widget__page-note\">A short operating model to carry forward.</div>\n                </div>\n              </a>\n            </li>\n          </ol>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <!-- PAGE WIDGET JS -->\n  <!-- SIDEBAR TOGGLE JS -->\n  <script>\n  (() => {\n    const sidebar = document.getElementById(''sidebar'');\n    const backdrop = document.getElementById(''sidebarBackdrop'');\n    const indicator = document.getElementById(''chapterIndicator'');\n    const icon = document.getElementById(''chapterIndicatorIcon'');\n    const header = document.getElementById(''header'');\n    const main = document.getElementById(''main'');\n    const body = document.body;\n\n    if (!sidebar || !backdrop || !indicator || !icon || !header || !main) return;\n\n    let isOpen = false;\n    let scrollTimeout = null;\n\n    const openSidebar = () => {\n      isOpen = true;\n      sidebar.classList.add(''sidebar--open'');\n      backdrop.classList.add(''sidebar-backdrop--visible'');\n      header.classList.add(''header--shifted'');\n      main.classList.add(''main--shifted'');\n      icon.classList.add(''chapter-number__icon--open'');\n      body.classList.add(''sidebar-open'');\n    };\n\n    const closeSidebar = () => {\n      isOpen = false;\n      sidebar.classList.remove(''sidebar--open'');\n      backdrop.classList.remove(''sidebar-backdrop--visible'');\n      header.classList.remove(''header--shifted'');\n      main.classList.remove(''main--shifted'');\n      icon.classList.remove(''chapter-number__icon--open'');\n      body.classList.remove(''sidebar-open'');\n    };\n\n    // Toggle sidebar\n    indicator.addEventListener(''click'', (e) => {\n      e.stopPropagation();\n      if (isOpen) {\n        closeSidebar();\n      } else {\n        openSidebar();\n      }\n    });\n\n    // Close sidebar when clicking backdrop\n    backdrop.addEventListener(''click'', () => {\n      closeSidebar();\n    });\n\n    // Close sidebar when clicking outside\n    document.addEventListener(''click'', (e) => {\n      // Don''t close sidebar if clicking on brand link or nav links\n      const brandLink = header.querySelector(''.brand'');\n      const isClickOnLink = brandLink && brandLink.contains(e.target);\n      const isClickOnNav = header.querySelector(''.nav'') && header.querySelector(''.nav'').contains(e.target);\n      \n      if (isOpen && !sidebar.contains(e.target) && !indicator.contains(e.target) && !isClickOnLink && !isClickOnNav) {\n        closeSidebar();\n      }\n    });\n\n    // Close sidebar on scroll (debounced)\n    const handleScroll = () => {\n      if (isOpen) {\n        clearTimeout(scrollTimeout);\n        scrollTimeout = setTimeout(() => {\n          closeSidebar();\n        }, 100);\n      }\n    };\n\n    // Listen for scroll on main content\n    window.addEventListener(''scroll'', handleScroll, { passive: true });\n    \n    // Also listen for scroll attempts on body (when scroll is disabled)\n    let lastScrollTop = window.pageYOffset;\n    const handleScrollAttempt = () => {\n      if (isOpen) {\n        const currentScrollTop = window.pageYOffset;\n        if (currentScrollTop !== lastScrollTop) {\n          closeSidebar();\n        }\n        lastScrollTop = currentScrollTop;\n      }\n    };\n\n    // Prevent scroll on body when sidebar is open\n    document.addEventListener(''wheel'', (e) => {\n      if (isOpen && !sidebar.contains(e.target)) {\n        e.preventDefault();\n        closeSidebar();\n      }\n    }, { passive: false });\n\n    // Prevent touch scroll on body when sidebar is open\n    document.addEventListener(''touchmove'', (e) => {\n      if (isOpen && !sidebar.contains(e.target)) {\n        e.preventDefault();\n        closeSidebar();\n      }\n    }, { passive: false });\n  })();\n  </script>\n\n  <!-- CHAPTER NAVIGATION (BOTTOM) JS -->\n  <script>\n  (() => {\n    // Chapter list: Introduction = -1, Chapter 1-13 = 0-12, Postscript = 13\n    const chapters = [\n      { id: ''intro'', title: ''Introduction'', url: ''https://arvinjaysoncastro.com/working-fundamentals-introduction'' },\n      { id: ''ch1'', title: ''Chapter 1'', url: ''https://arvinjaysoncastro.com/working-fundamentals-1-of-13-programming-fundamentals'' },\n      { id: ''ch2'', title: ''Chapter 2'', url: ''https://arvinjaysoncastro.com/working-fundamentals-2-of-13-data-structures'' },\n      { id: ''ch3'', title: ''Chapter 3'', url: ''https://arvinjaysoncastro.com/working-fundamentals-3-of-13-algorithms-and-complexity'' },\n      { id: ''ch4'', title: ''Chapter 4'', url: ''https://arvinjaysoncastro.com/working-fundamentals-4-of-13-control-and-flow'' },\n      { id: ''ch5'', title: ''Chapter 5'', url: ''https://arvinjaysoncastro.com/working-fundamentals-5-of-13-state-and-change'' },\n      { id: ''ch6'', title: ''Chapter 6'', url: ''https://arvinjaysoncastro.com/working-fundamentals-6-of-13-design-principles'' },\n      { id: ''ch7'', title: ''Chapter 7'', url: ''https://arvinjaysoncastro.com/working-fundamentals-7-of-13-architecture'' },\n      { id: ''ch8'', title: ''Chapter 8'', url: ''https://arvinjaysoncastro.com/working-fundamentals-8-of-13-persistence-and-data-modeling'' },\n      { id: ''ch9'', title: ''Chapter 9'', url: ''https://arvinjaysoncastro.com/working-fundamentals-9-of-13-interfaces-and-apis'' },\n      { id: ''ch10'', title: ''Chapter 10'', url: ''https://arvinjaysoncastro.com/working-fundamentals-10-of-13-errors-and-failure'' },\n      { id: ''ch11'', title: ''Chapter 11'', url: ''https://arvinjaysoncastro.com/working-fundamentals-11-of-13-testing'' },\n      { id: ''ch12'', title: ''Chapter 12'', url: ''https://arvinjaysoncastro.com/working-fundamentals-12-of-13-performance-and-scale'' },\n      { id: ''ch13'', title: ''Chapter 13'', url: ''https://arvinjaysoncastro.com/working-fundamentals-13-of-13-the-developers-role'' },\n      { id: ''outro'', title: ''Outroduction'', url: ''https://arvinjaysoncastro.com/working-fundamentals-outroduction'' }\n    ];\n\n    const currentChapterIndex = -1; // Introduction (before chapters)\n    const prevLink = document.getElementById(''prevChapter'');\n    const nextLink = document.getElementById(''nextChapter'');\n\n    if (!prevLink || !nextLink) return;\n\n    // Previous chapter (Introduction has no previous)\n    prevLink.href = ''/books'';\n    prevLink.innerHTML = `\n      <span class=\"chapter-nav-bottom__arrow\">‚Üê</span>\n      <span class=\"chapter-nav-bottom__label\">Go back to book list</span>\n    `;\n\n    // Next chapter (Chapter 1)\n    if (currentChapterIndex < chapters.length - 1) {\n      const nextChapter = chapters[currentChapterIndex + 1];\n      nextLink.href = nextChapter.url;\n      nextLink.target = ''_blank'';\n      nextLink.innerHTML = `\n        <span class=\"chapter-nav-bottom__label\">Next: ${nextChapter.title}</span>\n        <span class=\"chapter-nav-bottom__arrow\">‚Üí</span>\n      `;\n    }\n  })();\n  </script>\n\n  <!-- OPTIONAL JS -->\n <script>\n(() => {\n  const wrap = document.querySelector(''.book-wrap'');\n  if (!wrap) return;\n\n  const slab1 = wrap.querySelector(''.shadow-slab'');\n  const slab2 = wrap.querySelector(''.shadow-slab-2'');\n  const slab3 = wrap.querySelector(''.shadow-slab-3'');\n  const slab4 = wrap.querySelector(''.shadow-slab-4'');\n  const front = wrap.querySelector(''.front-slab'');\n\n  const clamp = (v, min, max) => Math.max(min, Math.min(max, v));\n\n  let raf = 0;\n  let lx = 0; // light vector x\n  let ly = 0; // light vector y\n\n  function render() {\n    raf = 0;\n\n    // Shadow direction = opposite of light\n    const sx = -lx;\n    const sy = -ly;\n\n    const intensity = Math.abs(lx) + Math.abs(ly);\n\n    /* ---------------------------\n       SLAB 1 ‚Äî KEY CAST SHADOW\n    ---------------------------- */\n    slab1.style.transform =\n      `translate(${(sx * 38).toFixed(2)}px, ${(sy * 38).toFixed(2)}px)`;\n    slab1.style.filter =\n      `blur(${(14 + intensity * 6).toFixed(2)}px)`;\n    slab1.style.opacity =\n      (0.28 + intensity * 0.14).toFixed(2);\n\n    /* ---------------------------\n       SLAB 2 ‚Äî BOUNCE / COLOR BLEED\n    ---------------------------- */\n    slab2.style.transform =\n      `translate(${(sx * 14).toFixed(2)}px, ${(sy * 14).toFixed(2)}px)`;\n    slab2.style.filter =\n      `blur(${(6 + intensity * 4).toFixed(2)}px)`;\n    slab2.style.opacity =\n      (0.16 + intensity * 0.10).toFixed(2);\n\n    /* ---------------------------\n       SLAB 3 ‚Äî CONTACT SHADOW\n    ---------------------------- */\n    slab3.style.transform =\n      `translate(${(sx * 6).toFixed(2)}px, ${(sy * 6).toFixed(2)}px)`;\n    slab3.style.filter = `blur(9px)`;\n    slab3.style.opacity =\n      (0.24 + Math.abs(lx) * 0.06).toFixed(2);\n\n    /* ---------------------------\n       SLAB 4 ‚Äî AMBIENT DEPTH\n    ---------------------------- */\n    slab4.style.transform =\n      `translate(${(sx * 3).toFixed(2)}px, ${(sy * 3).toFixed(2)}px)`;\n    slab4.style.filter = `blur(18px)`;\n    slab4.style.opacity =\n      (0.16 + Math.abs(ly) * 0.04).toFixed(2);\n\n    /* ---------------------------\n       FRONT SLAB ‚Äî SPECULAR RESPONSE\n       (moves TOWARD light)\n    ---------------------------- */\nif (front) {\n  // Very subtle counter-parallax (NOT toward light)\n  front.style.transform =\n    `translate(${(-lx * 1.6).toFixed(2)}px, ${(-ly * 1.6).toFixed(2)}px)`;\n\n  // Opacity increases when light is grazing\n  front.style.opacity =\n    (0.34 + intensity * 0.22).toFixed(2);\n\n  // Highlight shifts OPPOSITE the light direction\n  const gx = 50 - lx * 28;\n  const gy = 50 - ly * 28;\n  front.style.backgroundPosition = `${gx}% ${gy}%`;\n}\n\n  }\n\n  function onMove(e) {\n    const r = wrap.getBoundingClientRect();\n    const cx = r.left + r.width / 2;\n    const cy = r.top + r.height / 2;\n\n    // LIGHT VECTOR (mouse = light source)\n    lx = clamp((e.clientX - cx) / (r.width / 2), -1, 1);\n    ly = clamp((e.clientY - cy) / (r.height / 2), -1, 1);\n\n    if (!raf) raf = requestAnimationFrame(render);\n  }\n\n  window.addEventListener(''mousemove'', onMove, { passive: true });\n})();\n</script>\n</body>\n</html>\n", "css": "body { font-family: system-ui; padding: 20px; }", "js": "console.log(\"Code Runner initialized\");", "imports": {"css": [], "js": []}, "entryPoint": {"type": "htmlDocument", "mountSelector": "#app", "injectMountIfMissing": true}, "settings": {"mode": "play", "viewport": {"type": "responsive", "background": "white"}, "securityPreset": "trusted", "autoRun": true, "runOnLoad": true}, "codePanel": {"isVisible": false, "isEditable": false}}}]}]}',
    NULL,
    1,
    NOW()
);


-- 2. Data Structures
-- Slug: working-fundamentals-2-of-13-data-structures
-- ID: 6ff20a92-4496-4f29-b9fa-40f156f12950
-- File: ch_02.html
INSERT INTO App_Pages (
    id, org_id, name, slug, template_code, layout, layout_version, is_active,
    created_by_user_id, created_at, updated_at, visibility, description,
    is_template, template_metadata, kind, parent_id, section_tags, section_purpose,
    section_scope, palette_id, is_default_variation, variation_order, template_purpose,
    is_listed, is_org_landing_page, report, folder, layout_raw, layout_quarantine,
    layout_schema_version, layout_ingested_at
) VALUES (
    '6ff20a92-4496-4f29-b9fa-40f156f12950',
    '82c2d096-2638-4837-83c8-e8a933bb17c7',
    'Data Structures',
    'working-fundamentals-2-of-13-data-structures',
    NULL,
    '{"id": "block-root", "style": {}, "type": "container", "children": [{"id": "temp-container", "style": {"width": "100vw", "height": "100vh"}, "type": "container", "children": [{"id": "temp-coderunner", "style": {}, "type": "codeRunner", "data": {"html": "<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n  <meta charset=\"UTF-8\" />\n  <title>Working Fundamentals ‚Äî Arvin Jayson Castro</title>\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n\n  <!-- =====================\n       GLOBAL STYLES\n  ====================== -->\n  <style>\n    :root {\n      --bg: #f7f8f8;\n      --ink: #111111;\n      --muted: #666666;\n      --line: rgba(0,0,0,0.08);\n      --accent: #16a34a;\n      --link: #3b82f6;\n      --max-width: 1200px;\n    }\n\n    * {\n      box-sizing: border-box;\n    }\n\n    body {\n      margin: 0;\n      font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, sans-serif;\n      color: var(--ink);\n      background-color: var(--bg);\n      background-image:\n        radial-gradient(980px 560px at 14% 18%, rgba(16,185,129,0.10) 0%, rgba(16,185,129,0) 60%),\n        radial-gradient(860px 540px at 86% 74%, rgba(245,158,11,0.10) 0%, rgba(245,158,11,0) 62%),\n        repeating-linear-gradient(0deg, rgba(0,0,0,0.043) 0, rgba(0,0,0,0.043) 1px, transparent 1px, transparent 46px),\n        repeating-linear-gradient(90deg, rgba(0,0,0,0.043) 0, rgba(0,0,0,0.043) 1px, transparent 1px, transparent 46px);\n      min-height: 100vh;\n    }\n\n    a {\n      color: inherit;\n      text-decoration: none;\n    }\n\n    img {\n      max-width: 100%;\n      display: block;\n    }\n\n    /* =====================\n       PAGE WRAPPER\n    ====================== */\n    .page {\n      padding: 22px 24px;\n    }\n\n    .container {\n      max-width: var(--max-width);\n      margin: 0 auto;\n    }\n\n    /* =====================\n       SIDEBAR BACKDROP\n    ====================== */\n    .sidebar-backdrop {\n      position: fixed;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n      background: rgba(0, 0, 0, 0.2);\n      backdrop-filter: blur(4px);\n      -webkit-backdrop-filter: blur(4px);\n      opacity: 0;\n      visibility: hidden;\n      transition: opacity 0.3s ease, visibility 0.3s ease;\n      z-index: 999;\n      pointer-events: none;\n    }\n\n    .sidebar-backdrop--visible {\n      opacity: 1;\n      visibility: visible;\n      pointer-events: auto;\n    }\n\n    /* =====================\n       SIDEBAR\n    ====================== */\n    .sidebar {\n      position: fixed;\n      top: 0;\n      right: 0;\n      width: 320px;\n      height: 100vh;\n      background: var(--bg);\n      border-left: 1px solid var(--line);\n      transform: translateX(100%);\n      transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n      z-index: 1000;\n      overflow-y: auto;\n      padding: 24px;\n    }\n\n    .sidebar--open {\n      transform: translateX(0);\n    }\n\n    .sidebar__title {\n      font-size: 16px;\n      font-weight: 600;\n      margin-bottom: 24px;\n      color: var(--ink);\n    }\n\n    /* Prevent body scroll when sidebar is open */\n    body.sidebar-open {\n      overflow: hidden;\n    }\n\n    .sidebar__chapter-list {\n      list-style: none;\n      margin: 0;\n      padding: 0;\n    }\n\n    .sidebar__chapter-item {\n      margin: 0 0 8px 0;\n    }\n\n    .sidebar__chapter-link {\n      display: block;\n      font-size: 14px;\n      color: var(--muted);\n      text-decoration: none;\n      padding: 8px 0;\n      transition: color 0.2s ease;\n      line-height: 1.5;\n    }\n\n    .sidebar__chapter-link:hover {\n      color: var(--ink);\n    }\n\n    .sidebar__chapter-link--current {\n      color: var(--ink);\n      font-weight: 500;\n    }\n\n    /* =====================\n       HEADER (Top bar with chapter indicator)\n    ====================== */\n    .header {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      padding: 10px 0;\n      border-bottom: 1px solid var(--line);\n      position: relative;\n      transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n    }\n\n    .header--shifted {\n      transform: translateX(-320px);\n    }\n\n    .brand {\n      font-size: 16px;\n      font-weight: 600;\n      cursor: pointer;\n      display: inline-block;\n    }\n\n    .nav {\n      display: flex;\n      gap: 24px;\n      align-items: center;\n      font-size: 14px;\n    }\n\n    .nav a {\n      color: #1f2937;\n    }\n\n    .linkedin {\n      display: flex;\n      flex-direction: column;\n      align-items: flex-start;\n    }\n\n    .linkedin a {\n      color: var(--link);\n    }\n\n    .linkedin span {\n      font-family: Georgia, serif;\n      font-size: 9px;\n      font-style: italic;\n      color: #999;\n    }\n\n    /* =====================\n       MAIN GRID\n    ====================== */\n    .main {\n      padding-top: 48px;\n      padding-bottom: 48px;\n      display: flex;\n      justify-content: center;\n      align-items: start;\n    }\n\n    /* =====================\n       CHAPTER READING AREA (Option 1: Magazine-style)\n    ====================== */\n    .chapter-content {\n      max-width: 768px;\n      width: 100%;\n      margin: 0 auto;\n    }\n\n    .chapter-header {\n      margin-bottom: 56px;\n      padding-bottom: 32px;\n      border-bottom: 2px solid var(--line);\n    }\n\n    .book-title {\n      font-size: 12px;\n      letter-spacing: 0.15em;\n      text-transform: uppercase;\n      color: var(--muted);\n      font-weight: 500;\n      margin-bottom: 8px;\n      opacity: 0.7;\n    }\n\n    .chapter-number {\n      font-size: 13px;\n      letter-spacing: 0.2em;\n      text-transform: uppercase;\n      color: var(--muted);\n      font-weight: 600;\n      margin-bottom: 12px;\n      display: flex;\n      align-items: center;\n      gap: 8px;\n      cursor: pointer;\n      user-select: none;\n      transition: color 0.2s ease;\n    }\n\n    .chapter-number:hover {\n      color: var(--ink);\n    }\n\n    .chapter-number__icon {\n      font-size: 10px;\n      opacity: 0.6;\n      transition: transform 0.3s ease, opacity 0.2s ease;\n    }\n\n    .chapter-number:hover .chapter-number__icon {\n      opacity: 0.8;\n    }\n\n    .chapter-number__icon--open {\n      transform: rotate(180deg);\n    }\n\n    .chapter-title {\n      font-size: 56px;\n      font-weight: 900;\n      line-height: 1.05;\n      margin: 0 0 20px 0;\n      color: var(--ink);\n      letter-spacing: -0.03em;\n    }\n\n    .chapter-subtitle {\n      font-size: 22px;\n      font-weight: 500;\n      color: var(--muted);\n      line-height: 1.4;\n      margin: 0;\n    }\n\n    .chapter-body {\n      font-size: 19px;\n      line-height: 1.8;\n      color: var(--ink);\n      max-width: none;\n      font-weight: 400;\n    }\n\n    .chapter-body p {\n      margin: 0 0 28px 0;\n    }\n\n    .chapter-body p:last-child {\n      margin-bottom: 0;\n    }\n\n    .chapter-body h2 {\n      font-size: 36px;\n      font-weight: 800;\n      line-height: 1.2;\n      margin: 56px 0 24px 0;\n      color: var(--ink);\n      letter-spacing: -0.02em;\n    }\n\n    .chapter-body h3 {\n      font-size: 26px;\n      font-weight: 700;\n      line-height: 1.3;\n      margin: 40px 0 18px 0;\n      color: var(--ink);\n      letter-spacing: -0.01em;\n    }\n\n    .chapter-body strong {\n      font-weight: 600;\n      color: var(--ink);\n    }\n\n    .chapter-body em {\n      font-style: italic;\n    }\n\n    .chapter-body ul,\n    .chapter-body ol {\n      margin: 28px 0;\n      padding-left: 36px;\n    }\n\n    .chapter-body li {\n      margin-bottom: 14px;\n      line-height: 1.75;\n    }\n\n    .chapter-body blockquote {\n      margin: 40px 0;\n      padding-left: 28px;\n      border-left: 4px solid var(--accent);\n      font-style: italic;\n      color: var(--muted);\n      font-size: 18px;\n      line-height: 1.7;\n    }\n\n    .chapter-body code {\n      font-family: ''Monaco'', ''Menlo'', ''Courier New'', monospace;\n      font-size: 0.9em;\n      background: rgba(0,0,0,0.04);\n      padding: 2px 6px;\n      border-radius: 3px;\n    }\n\n    .chapter-body pre {\n      background: rgba(0,0,0,0.04);\n      padding: 20px;\n      border-radius: 8px;\n      overflow-x: auto;\n      margin: 24px 0;\n    }\n\n    .chapter-body pre code {\n      background: none;\n      padding: 0;\n    }\n\n    /* Content shift when sidebar opens */\n    .main {\n      transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n    }\n\n    .main--shifted {\n      transform: translateX(-320px);\n    }\n\n    /* Prevent horizontal scroll */\n    body {\n      overflow-x: hidden;\n    }\n\n    .page {\n      overflow-x: hidden;\n    }\n\n    /* =====================\n       CHAPTER NAVIGATION (BOTTOM)\n    ====================== */\n    .chapter-nav-bottom {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      max-width: 768px;\n      width: 100%;\n      margin: 64px auto 0 auto;\n      padding: 24px 0;\n      border-top: 1px solid var(--line);\n    }\n\n    .chapter-nav-bottom__link {\n      display: flex;\n      align-items: center;\n      gap: 8px;\n      font-size: 14px;\n      color: var(--muted);\n      text-decoration: none;\n      transition: color 0.2s ease;\n      padding: 8px 0;\n    }\n\n    .chapter-nav-bottom__link:hover {\n      color: var(--ink);\n    }\n\n    .chapter-nav-bottom__arrow {\n      font-size: 16px;\n      opacity: 0.7;\n    }\n\n    .chapter-nav-bottom__label {\n      font-weight: 500;\n    }\n\n    .chapter-nav-bottom__link--prev {\n      margin-right: auto;\n    }\n\n    .chapter-nav-bottom__link--next {\n      margin-left: auto;\n    }\n\n    .chapter-nav-bottom__link--disabled {\n      opacity: 0.4;\n      cursor: not-allowed;\n      pointer-events: none;\n    }\n\n    .page-widget__pages {\n      max-height: 0;\n      overflow: hidden;\n      transition: max-height 0.4s cubic-bezier(0.4, 0, 0.2, 1),\n                  opacity 0.3s ease,\n                  margin-top 0.3s ease;\n      opacity: 0;\n      margin-top: 0;\n      background: rgba(255, 255, 255, 0.98);\n      backdrop-filter: blur(12px);\n      -webkit-backdrop-filter: blur(12px);\n      border: 1px solid rgba(0, 0, 0, 0.06);\n      border-radius: 12px;\n      box-shadow: 0 2px 12px rgba(0, 0, 0, 0.06);\n    }\n\n    .page-widget__pages--expanded {\n      max-height: 500px;\n      opacity: 1;\n      margin-top: 12px;\n      padding: 8px;\n    }\n\n    .page-widget__pages-list {\n      list-style: none;\n      margin: 0;\n      padding: 0;\n      display: flex;\n      flex-direction: column;\n      gap: 8px;\n      max-height: 400px;\n      overflow-y: auto;\n      padding-right: 4px;\n    }\n\n    .page-widget__pages-list::-webkit-scrollbar {\n      width: 6px;\n    }\n\n    .page-widget__pages-list::-webkit-scrollbar-track {\n      background: rgba(0, 0, 0, 0.02);\n      border-radius: 3px;\n    }\n\n    .page-widget__pages-list::-webkit-scrollbar-thumb {\n      background: rgba(0, 0, 0, 0.12);\n      border-radius: 3px;\n    }\n\n    .page-widget__pages-list::-webkit-scrollbar-thumb:hover {\n      background: rgba(0, 0, 0, 0.2);\n    }\n\n    .page-widget__page-item {\n      display: flex;\n      align-items: center;\n      gap: 10px;\n      padding: 8px 10px;\n      border-radius: 8px;\n      cursor: pointer;\n      transition: all 0.2s ease;\n      text-decoration: none;\n      color: var(--ink);\n    }\n\n    .page-widget__page-item:hover {\n      background: rgba(0, 0, 0, 0.03);\n      transform: translateX(2px);\n    }\n\n    .page-widget__page-item--current {\n      background: rgba(22, 163, 74, 0.08);\n      color: var(--accent);\n      font-weight: 500;\n    }\n\n    .page-widget__page-item--current:hover {\n      background: rgba(22, 163, 74, 0.12);\n    }\n\n    .page-widget__page-number {\n      display: inline-flex;\n      align-items: center;\n      justify-content: center;\n      width: 24px;\n      height: 24px;\n      background: rgba(0, 0, 0, 0.04);\n      border-radius: 5px;\n      font-size: 11px;\n      font-weight: 500;\n      flex-shrink: 0;\n      color: var(--muted);\n    }\n\n    .page-widget__page-item--current .page-widget__page-number {\n      background: rgba(22, 163, 74, 0.15);\n      color: var(--accent);\n    }\n\n    .page-widget__page-info {\n      flex: 1;\n      min-width: 0;\n    }\n\n    .page-widget__page-name {\n      font-size: 13px;\n      font-weight: 500;\n      line-height: 1.3;\n      margin: 0 0 2px 0;\n    }\n\n    .page-widget__page-note {\n      font-size: 11px;\n      color: var(--muted);\n      line-height: 1.3;\n      margin: 0;\n      white-space: nowrap;\n      overflow: hidden;\n      text-overflow: ellipsis;\n    }\n\n    @media (max-width: 768px) {\n      .page-widget__pages-list {\n        max-height: 300px;\n      }\n    }\n\n\n/* ===============================\n   WRAPPER\n================================ */\n.book-wrap {\n  width: 320px;\n  aspect-ratio: 2 / 3;\n  position: relative;\n}\n\n/* ===============================\n   CAST SHADOW SLAB (REAL SHADOW)\n================================ */\n.shadow-slab {\n    position: absolute;\n    position: absolute;\n    inset: 0;\n    border-radius: 22px;\n    /* background: #2a2a2a; */\n    transform: translate(-30px, 30px);\n    filter: blur(13px);\n    opacity: 0.35;\n    z-index: 0;\n    background: radial-gradient(ellipse at 15% 85%, rgba(0, 0, 0, 0.35), rgba(0, 0, 0, 0.18) 35%, transparent 65%), linear-gradient(to right, #1f1f1f 0%, #2a2a2a 45%, #3a3a3a 100%);\n}\n\n.shadow-slab-2 {\n    position: absolute;\n    inset: 0;\n    border-radius: 22px;\n    background: radial-gradient(circle at top right, #f6e6a8 0%, #e2c36b 35%, #b58a3c 70%, #7a5524 100%);\n    transform: translate(-10px, 10px);\n    filter: blur(5px);\n    opacity: 0.35;\n    z-index: 0;\n}\n\n.shadow-slab-3 {\n    position: absolute;\n    inset: 0;\n    border-radius: 22px;\n    background: #333;\n    transform: translate(0px, 0px);\n    filter: blur(11px);\n    opacity: 0.35;\n    z-index: 0;\n}\n\n.shadow-slab-4 {\n    position: absolute;\n    inset: 0;\n    border-radius: 22px;\n    background: #333;\n    transform: translate(0px, 0px);\n    filter: blur(11px);\n    opacity: 0.35;\n    z-index: 0;\n}\n\n/* ===============================\n   FRONT SLAB & SPIN HANDLE\n================================ */\n\n.front-slab {\n    position: absolute;\n    inset: 0;\n    border-radius: 22px;\n    background: linear-gradient(to right, rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.1) 3%, transparent 1%);\n    /* background: green; */\n    z-index: 3;\n    opacity: .5;\n    transform: translateZ(6px);\n    pointer-events: none;\n}\n\n.spin-handle {\n  display: none;\n  position: absolute;\n  top: 50%;\n  right: -22px;\n  width: 14px;\n  height: 48px;\n  border-radius: 999px;\n  background: rgba(0,0,0,0.25);\n  backdrop-filter: blur(4px);\n  cursor: grab;\n  z-index: 10;\n}\n\n/* ===============================\n   BOOK OBJECT (NO SHADOW)\n================================ */\n.book {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  border-radius: 22px;\n  overflow: hidden;\n  z-index: 2;\n\n  /* IMPORTANT: no box-shadow */\n  box-shadow: none;\n\n  /* transform: perspective(1200px) rotateX(0.6deg); */\n}\n\n/* ===============================\n   PAPER SURFACE (LIGHT FIELD)\n================================ */\n.book .surface {\n  position: absolute;\n  inset: 0;\n  border-radius: inherit;\n  pointer-events: none;\n  z-index: 1;\n\n  background:\n    linear-gradient(\n      to bottom left,\n      rgba(255,255,255,1) 0%,\n      rgba(250,250,250,1) 42%,\n      rgba(240,240,240,1) 100%\n    ),\n    repeating-linear-gradient(\n      0deg,\n      rgba(0,0,0,0.01),\n      rgba(0,0,0,0.01) 1px,\n      transparent 1px,\n      transparent 3px\n    );\n}\n\n/* ===============================\n   LEFT OCCLUSION (CURTAIN)\n================================ */\n.book .curtain {\n  position: absolute;\n  inset: 0;\n  border-radius: inherit;\n  pointer-events: none;\n  z-index: 2;\n\n  background:\n    linear-gradient(\n      to right,\n      rgba(0,0,0,0.20) 0%,\n      rgba(0,0,0,0.12) 8%,\n      rgba(0,0,0,0.05) 16%,\n      rgba(0,0,0,0.02) 22%,\n      rgba(0,0,0,0.00) 30%\n    );\n}\n\n/* ===============================\n   RIGHT HIGHLIGHT\n================================ */\n.book .highlight {\n  position: absolute;\n  inset: 0;\n  border-radius: inherit;\n  pointer-events: none;\n  z-index: 3;\n\n  background:\n    linear-gradient(\n      to left,\n      rgba(255,255,255,0.35) 0%,\n      rgba(255,255,255,0.18) 6%,\n      rgba(255,255,255,0.06) 14%,\n      rgba(255,255,255,0.00) 24%\n    );\n}\n\n/* ===============================\n   PAGE EDGE (THICKNESS)\n================================ */\n.book .edge {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 120px;\n  height: 100%;\n  border-radius: 22px 0 0 22px;\n  pointer-events: none;\n  z-index: 4;\n\n  background:\n    linear-gradient(\n      to right,\n      rgba(215,215,215,0.95) 0%,\n      rgba(245,245,245,0.95) 40%,\n      rgba(255,255,255,0.95) 75%\n    );\n\n  box-shadow:\n    inset -1px 0 0 rgba(0,0,0,0.05);\n}\n\n/* ===============================\n   SVG (PURE WHITE)\n================================ */\n.book svg {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  display: block;\n  z-index: 5;\n}\n\n    /* =====================\n       LEFT: BOOK COVER\n    ====================== */\n    .book-cover {\n      display: flex;\n      flex-direction: column;\n      gap: 12px;\n    }\n\n\n    /* ===============================\n       BOOK + SHADOW SYSTEM\n    =============================== */\n    .book-wrap {\n      width: 320px;\n      aspect-ratio: 2 / 3;\n      position: relative;\n    }\n\n    .shadow-slab,\n    .shadow-slab-2,\n    .shadow-slab-3,\n    .shadow-slab-4 {\n      position: absolute;\n      inset: 0;\n      border-radius: 22px;\n      z-index: 0;\n      will-change: transform, filter, opacity;\n    }\n\n    .shadow-slab {\n      background:\n        radial-gradient(ellipse at 15% 85%, rgba(0,0,0,0.35), rgba(0,0,0,0.18) 35%, transparent 65%),\n        linear-gradient(to right, #1f1f1f 0%, #2a2a2a 45%, #3a3a3a 100%);\n      filter: blur(13px);\n      opacity: 0.35;\n    }\n\n    .shadow-slab-2 {\n      background: radial-gradient(circle at top right, #f6e6a8 0%, #e2c36b 35%, #b58a3c 70%, #7a5524 100%);\n      filter: blur(6px);\n      opacity: 0.30;\n    }\n\n    .shadow-slab-3,\n    .shadow-slab-4 {\n      background: #333;\n      filter: blur(11px);\n      opacity: 0.30;\n    }\n\n    .book {\n      position: relative;\n      width: 100%;\n      height: 100%;\n      border-radius: 22px;\n      overflow: hidden;\n      z-index: 2;\n      background: #f7f4ee;\n    }\n\n    .front-slab {\n      position: absolute;\n      inset: 0;\n      border-radius: 22px;\n      background: linear-gradient(to right, rgba(0,0,0,0.4), rgba(0,0,0,0.1) 3%, transparent 10%);\n      z-index: 3;\n      pointer-events: none;\n      opacity: 0.5;\n    }\n\n\n    @media (prefers-reduced-motion: reduce) {\n      .cover-frame {\n        transition: none;\n        transform: none;\n      }\n      .cover-frame:hover {\n        --lift: 0;\n      }\n    }\n\n    .start-reading {\n      display: inline-flex;\n      align-items: center;\n      justify-content: center;\n      width: 100%;\n      padding: 12px 14px;\n      border-radius: 999px;\n\n      font-size: 11px;\n      letter-spacing: 0.16em;\n      text-transform: uppercase;\n      font-weight: 650;\n      color: rgba(34,197,94,0.92);\n      text-shadow:\n        0 0 10px rgba(34,197,94,0.22),\n        0 0 22px rgba(34,197,94,0.14);\n\n      /* graphite: dark + slightly mineral */\n      background:\n        radial-gradient(120% 140% at 20% 10%, rgba(255,255,255,0.10) 0%, rgba(255,255,255,0.00) 55%),\n        radial-gradient(140% 140% at 80% 90%, rgba(255,255,255,0.06) 0%, rgba(255,255,255,0.00) 60%),\n        linear-gradient(180deg, #141414 0%, #0a0a0a 100%);\n      border: 1px solid rgba(255,255,255,0.10);\n      box-shadow:\n        0 14px 34px rgba(0,0,0,0.22),\n        0 8px 16px rgba(0,0,0,0.18),\n        inset 0 1px 0 rgba(255,255,255,0.10),\n        inset 0 -1px 0 rgba(0,0,0,0.55);\n\n      position: relative;\n      overflow: hidden;\n      cursor: pointer;\n      user-select: none;\n      -webkit-tap-highlight-color: transparent;\n\n      transition:\n        transform 160ms cubic-bezier(0.2, 0.8, 0.2, 1),\n        box-shadow 160ms cubic-bezier(0.2, 0.8, 0.2, 1),\n        border-color 160ms cubic-bezier(0.2, 0.8, 0.2, 1);\n    }\n\n    .start-reading::before {\n      content: \"\";\n      position: absolute;\n      inset: 0;\n      pointer-events: none;\n      /* texture + sheen (very subtle) */\n      background:\n        linear-gradient(120deg, rgba(255,255,255,0.12) 0%, rgba(255,255,255,0.00) 46%),\n        repeating-linear-gradient(0deg,\n          rgba(255,255,255,0.028) 0px,\n          rgba(255,255,255,0.028) 1px,\n          rgba(0,0,0,0.00) 3px,\n          rgba(0,0,0,0.00) 6px),\n        radial-gradient(120% 90% at 50% 0%, rgba(34,197,94,0.14) 0%, rgba(34,197,94,0.00) 62%);\n      opacity: 0.75;\n    }\n\n    .start-reading:hover {\n      transform: translateY(-1px);\n      border-color: rgba(34,197,94,0.30);\n      box-shadow:\n        0 18px 42px rgba(0,0,0,0.24),\n        0 10px 18px rgba(0,0,0,0.18),\n        inset 0 1px 0 rgba(255,255,255,0.12),\n        inset 0 -1px 0 rgba(0,0,0,0.55);\n      text-shadow:\n        0 0 12px rgba(34,197,94,0.28),\n        0 0 26px rgba(34,197,94,0.18);\n    }\n\n    .start-reading:active {\n      transform: translateY(0px);\n      box-shadow:\n        0 14px 34px rgba(0,0,0,0.22),\n        0 8px 16px rgba(0,0,0,0.18),\n        inset 0 1px 0 rgba(255,255,255,0.10),\n        inset 0 -1px 0 rgba(0,0,0,0.55);\n    }\n\n    .start-reading:focus-visible {\n      outline: none;\n      box-shadow:\n        0 18px 42px rgba(0,0,0,0.24),\n        0 0 0 4px rgba(34,197,94,0.22),\n        0 0 0 1px rgba(34,197,94,0.26),\n        inset 0 1px 0 rgba(255,255,255,0.12),\n        inset 0 -1px 0 rgba(0,0,0,0.55);\n      border-color: rgba(34,197,94,0.34);\n    }\n\n    @media (prefers-reduced-motion: reduce) {\n      .start-reading {\n        transition: none;\n      }\n      .start-reading:hover {\n        transform: none;\n      }\n    }\n\n    /* =====================\n       CENTER: CONTENT\n    ====================== */\n    .content h1 {\n      font-size: 40px;\n      font-weight: 800;\n      line-height: 1.15;\n      margin: 0;\n    }\n\n    .byline {\n      font-size: 13px;\n      letter-spacing: 0.12em;\n      color: #666;\n      font-weight: 600;\n    }\n\n    .tagline {\n      font-size: 18px;\n      font-weight: 500;\n      color: #333;\n    }\n\n    .paragraph {\n      font-size: 15px;\n      color: #222;\n    }\n\n    .meta {\n      margin-top: 20px;\n      padding-top: 20px;\n      border-top: 1px solid var(--line);\n      display: grid;\n      grid-template-columns: repeat(2, 1fr);\n      gap: 12px 24px;\n      font-size: 13px;\n    }\n\n    .author {\n      margin-top: 20px;\n      padding-top: 20px;\n      border-top: 1px solid var(--line);\n      display: flex;\n      gap: 16px;\n      align-items: flex-start;\n    }\n\n    .author img {\n      width: 44px;\n      height: 44px;\n      border-radius: 50%;\n    }\n\n    /* =====================\n       RIGHT: RELATED\n    ====================== */\n    .related {\n      display: flex;\n      flex-direction: column;\n      gap: 20px;\n    }\n\n    .related-title {\n      font-size: 11px;\n      letter-spacing: 0.14em;\n      color: #666;\n      text-transform: uppercase;\n      font-weight: 600;\n    }\n\n    .related-item {\n      display: flex;\n      flex-direction: column;\n      gap: 6px;\n      cursor: pointer;\n      transition: transform 0.12s ease, box-shadow 0.12s ease;\n    }\n\n    .related-item:hover {\n      transform: translateY(-2px);\n    }\n\n    .related-thumb {\n      border-radius: 6px;\n      overflow: hidden;\n      aspect-ratio: 3 / 4;\n      box-shadow: 0 8px 24px rgba(0,0,0,0.1);\n\n      /* Gray placeholder shape */\n      background: linear-gradient(135deg, #e5e7eb 0%, #d1d5db 45%, #cbd5e1 100%);\n      border: 1px solid rgba(0,0,0,0.06);\n    }\n\n    .related-thumb img {\n      width: 100%;\n      height: 100%;\n      object-fit: cover;\n      filter: grayscale(1);\n      opacity: 0.85;\n      transition: filter 160ms ease, opacity 160ms ease;\n    }\n\n    .related-thumb .thumb-placeholder {\n      width: 100%;\n      height: 100%;\n      display: block;\n    }\n\n    .related-item a {\n      font-size: 12px;\n      font-weight: 600;\n      color: #111;\n    }\n\n    /* =====================\n       RIGHT: 13 CHAPTERS\n    ====================== */\n    .chapters {\n      display: flex;\n      flex-direction: column;\n      gap: 10px;\n    }\n\n    .chapters-title {\n      font-size: 11px;\n      letter-spacing: 0.12em;\n      color: rgba(17,17,17,0.52);\n      text-transform: uppercase;\n      font-weight: 600;\n    }\n\n    .chapters-help {\n      margin-top: -4px;\n      font-size: 11px;\n      line-height: 1.35;\n      color: rgba(17,17,17,0.42);\n    }\n\n    .chapter-list {\n      list-style: none;\n      padding: 0;\n      margin: 0;\n      display: flex;\n      flex-direction: column;\n      gap: 0;\n      border-top: 1px solid rgba(0,0,0,0.06);\n    }\n\n    .chapter-item {\n      display: grid;\n      grid-template-columns: 3ch 1fr;\n      gap: 12px;\n      align-items: start;\n      padding: 10px 0;\n      border-bottom: 1px solid rgba(0,0,0,0.06);\n    }\n\n    .chapter-item--preface .chapter-name {\n      font-weight: 760;\n      letter-spacing: -0.01em;\n      color: rgba(17,17,17,0.90);\n    }\n\n    .chapter-item--current .chapter-name {\n      color: rgba(17,17,17,0.92);\n      text-decoration: underline;\n      text-decoration-thickness: 1px;\n      text-underline-offset: 3px;\n      text-decoration-color: rgba(17,17,17,0.22);\n    }\n\n    .chapter-num {\n      width: auto;\n      height: auto;\n      border-radius: 0;\n      display: block;\n      text-align: right;\n      font-size: 11px;\n      font-weight: 650;\n      color: rgba(17,17,17,0.46);\n      font-variant-numeric: tabular-nums;\n    }\n\n    .chapter-name {\n      font-size: 12px;\n      font-weight: 600;\n      color: rgba(17,17,17,0.80);\n      line-height: 1.3;\n    }\n\n    .chapter-note {\n      margin-top: 2px;\n      font-size: 11px;\n      color: rgba(17,17,17,0.46);\n      line-height: 1.4;\n    }\n\n    /* =====================\n       RESPONSIVE\n    ====================== */\n    @media (max-width: 900px) {\n      .chapter-content {\n        max-width: 100%;\n        padding: 0 24px;\n      }\n\n      .page-widget {\n        max-width: 100%;\n        margin-left: 24px;\n        margin-right: 24px;\n      }\n\n      .chapter-title {\n        font-size: 42px;\n      }\n\n      .chapter-body {\n        font-size: 18px;\n      }\n\n      .chapter-body h2 {\n        font-size: 32px;\n      }\n\n      .chapter-body h3 {\n        font-size: 24px;\n      }\n    }\n\n    @media (max-width: 768px) {\n      .header {\n        flex-direction: column;\n        gap: 12px;\n      }\n\n      .chapter-content {\n        padding: 0 16px;\n      }\n\n      .page-widget {\n        margin-left: 16px;\n        margin-right: 16px;\n      }\n\n      .chapter-title {\n        font-size: 38px;\n      }\n\n      .chapter-body {\n        font-size: 17px;\n      }\n\n      .chapter-body h2 {\n        font-size: 30px;\n      }\n\n      .chapter-body h3 {\n        font-size: 22px;\n      }\n    }\n  </style>\n</head>\n\n<body>\n  <div class=\"page\">\n    <div class=\"container\">\n\n      <!-- SIDEBAR BACKDROP -->\n      <div class=\"sidebar-backdrop\" id=\"sidebarBackdrop\"></div>\n\n      <!-- SIDEBAR -->\n      <aside class=\"sidebar\" id=\"sidebar\">\n        <div class=\"sidebar__title\">Working Fundamentals</div>\n        <ul class=\"sidebar__chapter-list\">\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-introduction\" class=\"sidebar__chapter-link\" target=\"_blank\">Introduction</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-1-of-13-programming-fundamentals\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 1 ¬∑ Programming Fundamentals</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-2-of-13-data-structures\" class=\"sidebar__chapter-link sidebar__chapter-link--current\" target=\"_blank\">Chapter 2 ¬∑ Data Structures</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-3-of-13-algorithms-and-complexity\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 3 ¬∑ Algorithms & Complexity</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-4-of-13-control-and-flow\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 4 ¬∑ Control & Flow</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-5-of-13-state-and-change\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 5 ¬∑ State & Change</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-6-of-13-design-principles\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 6 ¬∑ Design Principles</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-7-of-13-architecture\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 7 ¬∑ Architecture</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-8-of-13-persistence-and-data-modeling\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 8 ¬∑ Persistence & Data Modeling</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-9-of-13-interfaces-and-apis\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 9 ¬∑ Interfaces & APIs</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-10-of-13-errors-and-failure\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 10 ¬∑ Errors & Failure</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-11-of-13-testing\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 11 ¬∑ Testing</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-12-of-13-performance-and-scale\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 12 ¬∑ Performance & Scale</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-13-of-13-the-developers-role\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 13 ¬∑ The Developer''s Role</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-outroduction\" class=\"sidebar__chapter-link\" target=\"_blank\">Outroduction</a>\n          </li>\n        </ul>\n      </aside>\n\n      <!-- HEADER -->\n      <header class=\"header\" id=\"header\">\n        <a href=\"https://arvinjaysoncastro.com/\" class=\"brand\" target=\"_blank\">Arvin Jayson Castro</a>\n        <nav class=\"nav\">\n          <a href=\"https://arvinjaysoncastro.com/hungry-dev-mind\" target=\"_blank\">Books</a>\n          <a href=\"https://arvinjaysoncastro.com/working-systems\" target=\"_blank\">Working Systems</a>\n          <a href=\"https://arvinjaysoncastro.com/about\" target=\"_blank\">16 Years</a>\n          <div class=\"linkedin\">\n            <a href=\"https://www.linkedin.com/in/arvin-jayson-castro-7458199a/\" target=\"_blank\">linkedIn</a>\n            <span>let''s connect</span>\n          </div>\n        </nav>\n      </header>\n\n      <!-- PAGE WIDGET (TOP) - REMOVED -->\n      <div style=\"display: none;\">\n          <ol class=\"page-widget__pages-list\">\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">P</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Preface</div>\n                  <div class=\"page-widget__page-note\">Why fundamentals still decide outcomes.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item page-widget__page-item--current\">\n                <span class=\"page-widget__page-number\">1</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 1</div>\n                  <div class=\"page-widget__page-note\">Core principles and constraints.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">2</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 2</div>\n                  <div class=\"page-widget__page-note\">Boundaries, ownership, and interfaces.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">3</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 3</div>\n                  <div class=\"page-widget__page-note\">State, consistency, and failure modes.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">4</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 4</div>\n                  <div class=\"page-widget__page-note\">Abstractions that survive change.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">5</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 5</div>\n                  <div class=\"page-widget__page-note\">Simplicity as an engineering practice.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">6</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 6</div>\n                  <div class=\"page-widget__page-note\">Reliability, observability, and feedback.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">7</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 7</div>\n                  <div class=\"page-widget__page-note\">Delivery systems and decision hygiene.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">8</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 8</div>\n                  <div class=\"page-widget__page-note\">Documentation that stays useful.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">9</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 9</div>\n                  <div class=\"page-widget__page-note\">Testing strategy for predictable change.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">10</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 10</div>\n                  <div class=\"page-widget__page-note\">Pragmatic architecture for teams.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">11</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 11</div>\n                  <div class=\"page-widget__page-note\">Operational excellence without ceremony.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">12</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 12</div>\n                  <div class=\"page-widget__page-note\">Leadership, standards, and leverage.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">13</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 13</div>\n                  <div class=\"page-widget__page-note\">Making fundamentals non-negotiable.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">PS</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Postscript</div>\n                  <div class=\"page-widget__page-note\">A short operating model to carry forward.</div>\n                </div>\n              </a>\n            </li>\n          </ol>\n        </div>\n      </div>\n\n      <!-- MAIN -->\n      <main class=\"main\" id=\"main\">\n\n        <!-- CHAPTER CONTENT (Option 1: Magazine-style) -->\n        <article class=\"chapter-content\">\n          <header class=\"chapter-header\">\n            <div class=\"book-title\">Working Fundamentals</div>\n            <div class=\"chapter-number\" id=\"chapterIndicator\">\n              <span>chapter 2 of 13</span>\n              <span class=\"chapter-number__icon\" id=\"chapterIndicatorIcon\">‚ñæ</span>\n            </div>\n            <h1 class=\"chapter-title\">Data Structures</h1>\n            <p class=\"chapter-subtitle\">Containers shape behavior</p>\n          </header>\n\n          <div class=\"chapter-body\">\n            <h3>What this chapter is</h3>\n\n            <p>\n              This chapter is not a catalog of structures. It is not a comparison table. It is not about memorizing when to use what.\n            </p>\n\n            <p>\n              This chapter explains <strong>why containers matter</strong>.\n            </p>\n\n            <p>\n              Data structures are not implementation details. They are <strong>behavioral decisions</strong>.\n            </p>\n\n            <h2>The core truth</h2>\n\n            <p>\n              A data structure is not just a way to store data.\n            </p>\n\n            <p>\n              It is a <strong>promise</strong> about:\n            </p>\n\n            <ul>\n              <li>access</li>\n              <li>ordering</li>\n              <li>duplication</li>\n              <li>absence</li>\n              <li>cost</li>\n            </ul>\n\n            <p>\n              When you choose a data structure, you choose behavior‚Äîwhether you intended to or not.\n            </p>\n\n            <h2>Containers are constraints</h2>\n\n            <p>\n              Every container answers questions implicitly:\n            </p>\n\n            <ul>\n              <li>Can there be duplicates?</li>\n              <li>Does order matter?</li>\n              <li>Can items be missing?</li>\n              <li>Is lookup fast or slow?</li>\n              <li>Is mutation expected?</li>\n            </ul>\n\n            <p>\n              You do not answer these questions with comments. You answer them with <strong>structure</strong>.\n            </p>\n\n            <p>\n              üß† <strong>Mental Model</strong> A data structure encodes rules without asking permission.\n            </p>\n\n            <h2>Why systems drift here</h2>\n\n            <p>\n              Most developers choose data structures by habit.\n            </p>\n\n            <ul>\n              <li>Arrays because they are familiar</li>\n              <li>Objects because they are convenient</li>\n              <li>Lists because they are flexible</li>\n            </ul>\n\n            <p>\n              Habit is not reasoning.\n            </p>\n\n            <p>\n              ‚ö†Ô∏è <strong>Common Drift</strong> When containers are chosen casually, rules migrate into code.\n            </p>\n\n            <p>\n              That is how conditionals multiply.\n            </p>\n\n            <h2>Structure before algorithm</h2>\n\n            <p>\n              Many developers jump from data directly to logic.\n            </p>\n\n            <p>\n              That is backwards.\n            </p>\n\n            <p>\n              First ask:\n            </p>\n\n            <ul>\n              <li>What relationships exist?</li>\n              <li>What must be unique?</li>\n              <li>What must be ordered?</li>\n              <li>What must be fast?</li>\n              <li>What must be stable?</li>\n            </ul>\n\n            <p>\n              Only after the container is correct does logic become simple.\n            </p>\n\n            <p>\n              üß† <strong>Architect''s Note</strong> Good algorithms often emerge automatically from correct structure.\n            </p>\n\n            <h2>The cost dimension</h2>\n\n            <p>\n              Every data structure trades something.\n            </p>\n\n            <ul>\n              <li>Time vs space</li>\n              <li>Simplicity vs flexibility</li>\n              <li>Read performance vs write performance</li>\n            </ul>\n\n            <p>\n              Ignoring cost does not remove it. It only makes it unpredictable.\n            </p>\n\n            <p>\n              üß† <strong>Perspective</strong> Performance problems are often structural, not computational.\n            </p>\n\n            <h2>Mutability and containment</h2>\n\n            <p>\n              Some containers invite mutation. Some resist it.\n            </p>\n\n            <p>\n              This matters.\n            </p>\n\n            <p>\n              A mutable container:\n            </p>\n\n            <ul>\n              <li>spreads responsibility</li>\n              <li>increases coupling</li>\n              <li>hides state changes</li>\n            </ul>\n\n            <p>\n              An immutable container:\n            </p>\n\n            <ul>\n              <li>constrains behavior</li>\n              <li>localizes change</li>\n              <li>clarifies ownership</li>\n            </ul>\n\n            <p>\n              Neither is \"better.\" But one must be <strong>chosen deliberately</strong>.\n            </p>\n\n            <h2>When structure lies</h2>\n\n            <p>\n              A dangerous moment in any system is when:\n            </p>\n\n            <ul>\n              <li>the container allows something</li>\n              <li>but the domain forbids it</li>\n            </ul>\n\n            <p>\n              Example:\n            </p>\n\n            <ul>\n              <li>duplicates allowed when uniqueness is required</li>\n              <li>ordering implied where none exists</li>\n              <li>absence treated as presence</li>\n            </ul>\n\n            <p>\n              This mismatch forces logic to compensate.\n            </p>\n\n            <p>\n              üß† <strong>Common Drift</strong> Validation code is often an apology for poor structure.\n            </p>\n\n            <h2>Minimal practice (again, no code)</h2>\n\n            <p>\n              <strong>Problem:</strong> \"You are storing registered users. Each user must be unique by email. Order does not matter. Lookups are frequent.\"\n            </p>\n\n            <p>\n              Before choosing anything, answer:\n            </p>\n\n            <ul>\n              <li>What must never happen?</li>\n              <li>What must be fast?</li>\n              <li>What must be impossible by design?</li>\n            </ul>\n\n            <p>\n              If your container allows violation, the system will eventually violate it.\n            </p>\n\n            <h2>What beginners gain here</h2>\n\n            <ul>\n              <li>Relief from guessing</li>\n              <li>A reason containers exist</li>\n              <li>Fewer \"why is this hard?\" moments</li>\n            </ul>\n\n            <h2>What experienced developers recognize</h2>\n\n            <ul>\n              <li>Why certain bugs cluster</li>\n              <li>Why validation grows endlessly</li>\n              <li>Why performance fixes feel reactive</li>\n            </ul>\n\n            <p>\n              The container was wrong.\n            </p>\n\n            <h2>What this chapter deliberately avoids</h2>\n\n            <ul>\n              <li>Specific language structures</li>\n              <li>Library comparisons</li>\n              <li>Premature optimization</li>\n              <li>Academic taxonomy</li>\n            </ul>\n\n            <p>\n              Those are secondary.\n            </p>\n\n            <h2>Closing</h2>\n\n            <p>\n              Data structures are not about data.\n            </p>\n\n            <p>\n              They are about <strong>rules made physical</strong>.\n            </p>\n\n            <p>\n              When rules live in structure:\n            </p>\n\n            <ul>\n              <li>code simplifies</li>\n              <li>errors decrease</li>\n              <li>systems calm down</li>\n            </ul>\n\n            <p>\n              When rules live in logic:\n            </p>\n\n            <ul>\n              <li>complexity accumulates</li>\n              <li>behavior surprises</li>\n              <li>systems drift</li>\n            </ul>\n\n            <p>\n              Choose containers carefully.\n            </p>\n\n            <p>\n              They speak even when your code is silent.\n            </p>\n          </div>\n        </article>\n\n        <!-- RIGHT -->\n\n      </main>\n\n      <!-- CHAPTER NAVIGATION (BOTTOM) -->\n      <nav class=\"chapter-nav-bottom\" id=\"chapterNavBottom\">\n        <a href=\"#\" class=\"chapter-nav-bottom__link chapter-nav-bottom__link--prev\" id=\"prevChapter\">\n          <span class=\"chapter-nav-bottom__arrow\">‚Üê</span>\n          <span class=\"chapter-nav-bottom__label\">Previous</span>\n        </a>\n        <a href=\"#\" class=\"chapter-nav-bottom__link chapter-nav-bottom__link--next\" id=\"nextChapter\">\n          <span class=\"chapter-nav-bottom__label\">Next</span>\n          <span class=\"chapter-nav-bottom__arrow\">‚Üí</span>\n        </a>\n      </nav>\n\n      <!-- PAGE WIDGET (BOTTOM) - REMOVED -->\n      <div style=\"display: none;\">\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">P</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Preface</div>\n                  <div class=\"page-widget__page-note\">Why fundamentals still decide outcomes.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item page-widget__page-item--current\">\n                <span class=\"page-widget__page-number\">1</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 1</div>\n                  <div class=\"page-widget__page-note\">Core principles and constraints.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">2</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 2</div>\n                  <div class=\"page-widget__page-note\">Boundaries, ownership, and interfaces.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">3</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 3</div>\n                  <div class=\"page-widget__page-note\">State, consistency, and failure modes.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">4</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 4</div>\n                  <div class=\"page-widget__page-note\">Abstractions that survive change.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">5</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 5</div>\n                  <div class=\"page-widget__page-note\">Simplicity as an engineering practice.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">6</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 6</div>\n                  <div class=\"page-widget__page-note\">Reliability, observability, and feedback.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">7</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 7</div>\n                  <div class=\"page-widget__page-note\">Delivery systems and decision hygiene.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">8</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 8</div>\n                  <div class=\"page-widget__page-note\">Documentation that stays useful.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">9</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 9</div>\n                  <div class=\"page-widget__page-note\">Testing strategy for predictable change.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">10</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 10</div>\n                  <div class=\"page-widget__page-note\">Pragmatic architecture for teams.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">11</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 11</div>\n                  <div class=\"page-widget__page-note\">Operational excellence without ceremony.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">12</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 12</div>\n                  <div class=\"page-widget__page-note\">Leadership, standards, and leverage.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">13</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 13</div>\n                  <div class=\"page-widget__page-note\">Making fundamentals non-negotiable.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">PS</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Postscript</div>\n                  <div class=\"page-widget__page-note\">A short operating model to carry forward.</div>\n                </div>\n              </a>\n            </li>\n          </ol>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <!-- PAGE WIDGET JS -->\n  <!-- SIDEBAR TOGGLE JS -->\n  <script>\n  (() => {\n    const sidebar = document.getElementById(''sidebar'');\n    const backdrop = document.getElementById(''sidebarBackdrop'');\n    const indicator = document.getElementById(''chapterIndicator'');\n    const icon = document.getElementById(''chapterIndicatorIcon'');\n    const header = document.getElementById(''header'');\n    const main = document.getElementById(''main'');\n    const body = document.body;\n\n    if (!sidebar || !backdrop || !indicator || !icon || !header || !main) return;\n\n    let isOpen = false;\n    let scrollTimeout = null;\n\n    const openSidebar = () => {\n      isOpen = true;\n      sidebar.classList.add(''sidebar--open'');\n      backdrop.classList.add(''sidebar-backdrop--visible'');\n      header.classList.add(''header--shifted'');\n      main.classList.add(''main--shifted'');\n      icon.classList.add(''chapter-number__icon--open'');\n      body.classList.add(''sidebar-open'');\n    };\n\n    const closeSidebar = () => {\n      isOpen = false;\n      sidebar.classList.remove(''sidebar--open'');\n      backdrop.classList.remove(''sidebar-backdrop--visible'');\n      header.classList.remove(''header--shifted'');\n      main.classList.remove(''main--shifted'');\n      icon.classList.remove(''chapter-number__icon--open'');\n      body.classList.remove(''sidebar-open'');\n    };\n\n    // Toggle sidebar\n    indicator.addEventListener(''click'', (e) => {\n      e.stopPropagation();\n      if (isOpen) {\n        closeSidebar();\n      } else {\n        openSidebar();\n      }\n    });\n\n    // Close sidebar when clicking backdrop\n    backdrop.addEventListener(''click'', () => {\n      closeSidebar();\n    });\n\n    // Close sidebar when clicking outside\n    document.addEventListener(''click'', (e) => {\n      // Don''t close sidebar if clicking on brand link or nav links\n      const brandLink = header.querySelector(''.brand'');\n      const isClickOnLink = brandLink && brandLink.contains(e.target);\n      const isClickOnNav = header.querySelector(''.nav'') && header.querySelector(''.nav'').contains(e.target);\n      \n      if (isOpen && !sidebar.contains(e.target) && !indicator.contains(e.target) && !isClickOnLink && !isClickOnNav) {\n        closeSidebar();\n      }\n    });\n\n    // Close sidebar on scroll (debounced)\n    const handleScroll = () => {\n      if (isOpen) {\n        clearTimeout(scrollTimeout);\n        scrollTimeout = setTimeout(() => {\n          closeSidebar();\n        }, 100);\n      }\n    };\n\n    // Listen for scroll on main content\n    window.addEventListener(''scroll'', handleScroll, { passive: true });\n    \n    // Also listen for scroll attempts on body (when scroll is disabled)\n    let lastScrollTop = window.pageYOffset;\n    const handleScrollAttempt = () => {\n      if (isOpen) {\n        const currentScrollTop = window.pageYOffset;\n        if (currentScrollTop !== lastScrollTop) {\n          closeSidebar();\n        }\n        lastScrollTop = currentScrollTop;\n      }\n    };\n\n    // Prevent scroll on body when sidebar is open\n    document.addEventListener(''wheel'', (e) => {\n      if (isOpen && !sidebar.contains(e.target)) {\n        e.preventDefault();\n        closeSidebar();\n      }\n    }, { passive: false });\n\n    // Prevent touch scroll on body when sidebar is open\n    document.addEventListener(''touchmove'', (e) => {\n      if (isOpen && !sidebar.contains(e.target)) {\n        e.preventDefault();\n        closeSidebar();\n      }\n    }, { passive: false });\n  })();\n  </script>\n\n  <!-- CHAPTER NAVIGATION (BOTTOM) JS -->\n  <script>\n  (() => {\n    // Chapter list: Preface = 0, Chapter 1-13 = 1-13, Postscript = 14\n    const chapters = [\n      { id: ''preface'', title: ''Preface'', url: ''https://arvinjaysoncastro.com/working-fundamentals-introduction'' },\n      { id: ''ch1'', title: ''Chapter 1'', url: ''https://arvinjaysoncastro.com/working-fundamentals-1-of-13-programming-fundamentals'' },\n      { id: ''ch2'', title: ''Chapter 2'', url: ''https://arvinjaysoncastro.com/working-fundamentals-2-of-13-data-structures'' },\n      { id: ''ch3'', title: ''Chapter 3'', url: ''https://arvinjaysoncastro.com/working-fundamentals-3-of-13-algorithms-and-complexity'' },\n      { id: ''ch4'', title: ''Chapter 4'', url: ''https://arvinjaysoncastro.com/working-fundamentals-4-of-13-control-and-flow'' },\n      { id: ''ch5'', title: ''Chapter 5'', url: ''https://arvinjaysoncastro.com/working-fundamentals-5-of-13-state-and-change'' },\n      { id: ''ch6'', title: ''Chapter 6'', url: ''https://arvinjaysoncastro.com/working-fundamentals-6-of-13-design-principles'' },\n      { id: ''ch7'', title: ''Chapter 7'', url: ''https://arvinjaysoncastro.com/working-fundamentals-7-of-13-architecture'' },\n      { id: ''ch8'', title: ''Chapter 8'', url: ''https://arvinjaysoncastro.com/working-fundamentals-8-of-13-persistence-and-data-modeling'' },\n      { id: ''ch9'', title: ''Chapter 9'', url: ''https://arvinjaysoncastro.com/working-fundamentals-9-of-13-interfaces-and-apis'' },\n      { id: ''ch10'', title: ''Chapter 10'', url: ''https://arvinjaysoncastro.com/working-fundamentals-10-of-13-errors-and-failure'' },\n      { id: ''ch11'', title: ''Chapter 11'', url: ''https://arvinjaysoncastro.com/working-fundamentals-11-of-13-testing'' },\n      { id: ''ch12'', title: ''Chapter 12'', url: ''https://arvinjaysoncastro.com/working-fundamentals-12-of-13-performance-and-scale'' },\n      { id: ''ch13'', title: ''Chapter 13'', url: ''https://arvinjaysoncastro.com/working-fundamentals-13-of-13-the-developers-role'' },\n      { id: ''postscript'', title: ''Postscript'', url: ''https://arvinjaysoncastro.com/working-fundamentals-outroduction'' }\n    ];\n\n    const currentChapterIndex = 2; // Chapter 2 is index 2 (Preface is 0, Chapter 1 is 1)\n    const prevLink = document.getElementById(''prevChapter'');\n    const nextLink = document.getElementById(''nextChapter'');\n\n    if (!prevLink || !nextLink) return;\n\n    // Previous chapter\n    if (currentChapterIndex > 0) {\n      const prevChapter = chapters[currentChapterIndex - 1];\n      prevLink.href = prevChapter.url;\n      prevLink.target = ''_blank'';\n      prevLink.innerHTML = `\n        <span class=\"chapter-nav-bottom__arrow\">‚Üê</span>\n        <span class=\"chapter-nav-bottom__label\">Previous: ${prevChapter.title}</span>\n      `;\n    } else {\n      // No previous chapter - show \"go back to book list\"\n      prevLink.href = ''https://arvinjaysoncastro.com/hungry-dev-mind'';\n      prevLink.target = ''_blank'';\n      prevLink.innerHTML = `\n        <span class=\"chapter-nav-bottom__arrow\">‚Üê</span>\n        <span class=\"chapter-nav-bottom__label\">Go back to book list</span>\n      `;\n    }\n\n    // Next chapter\n    if (currentChapterIndex < chapters.length - 1) {\n      const nextChapter = chapters[currentChapterIndex + 1];\n      nextLink.href = nextChapter.url;\n      nextLink.target = ''_blank'';\n      nextLink.innerHTML = `\n        <span class=\"chapter-nav-bottom__label\">Next: ${nextChapter.title}</span>\n        <span class=\"chapter-nav-bottom__arrow\">‚Üí</span>\n      `;\n    } else {\n      // No next chapter - show \"go back to book list\"\n      nextLink.href = ''https://arvinjaysoncastro.com/hungry-dev-mind'';\n      nextLink.target = ''_blank'';\n      nextLink.innerHTML = `\n        <span class=\"chapter-nav-bottom__label\">Go back to book list</span>\n        <span class=\"chapter-nav-bottom__arrow\">‚Üí</span>\n      `;\n    }\n  })();\n  </script>\n\n  <!-- OPTIONAL JS -->\n <script>\n(() => {\n  const wrap = document.querySelector(''.book-wrap'');\n  if (!wrap) return;\n\n  const slab1 = wrap.querySelector(''.shadow-slab'');\n  const slab2 = wrap.querySelector(''.shadow-slab-2'');\n  const slab3 = wrap.querySelector(''.shadow-slab-3'');\n  const slab4 = wrap.querySelector(''.shadow-slab-4'');\n  const front = wrap.querySelector(''.front-slab'');\n\n  const clamp = (v, min, max) => Math.max(min, Math.min(max, v));\n\n  let raf = 0;\n  let lx = 0; // light vector x\n  let ly = 0; // light vector y\n\n  function render() {\n    raf = 0;\n\n    // Shadow direction = opposite of light\n    const sx = -lx;\n    const sy = -ly;\n\n    const intensity = Math.abs(lx) + Math.abs(ly);\n\n    /* ---------------------------\n       SLAB 1 ‚Äî KEY CAST SHADOW\n    ---------------------------- */\n    slab1.style.transform =\n      `translate(${(sx * 38).toFixed(2)}px, ${(sy * 38).toFixed(2)}px)`;\n    slab1.style.filter =\n      `blur(${(14 + intensity * 6).toFixed(2)}px)`;\n    slab1.style.opacity =\n      (0.28 + intensity * 0.14).toFixed(2);\n\n    /* ---------------------------\n       SLAB 2 ‚Äî BOUNCE / COLOR BLEED\n    ---------------------------- */\n    slab2.style.transform =\n      `translate(${(sx * 14).toFixed(2)}px, ${(sy * 14).toFixed(2)}px)`;\n    slab2.style.filter =\n      `blur(${(6 + intensity * 4).toFixed(2)}px)`;\n    slab2.style.opacity =\n      (0.16 + intensity * 0.10).toFixed(2);\n\n    /* ---------------------------\n       SLAB 3 ‚Äî CONTACT SHADOW\n    ---------------------------- */\n    slab3.style.transform =\n      `translate(${(sx * 6).toFixed(2)}px, ${(sy * 6).toFixed(2)}px)`;\n    slab3.style.filter = `blur(9px)`;\n    slab3.style.opacity =\n      (0.24 + Math.abs(lx) * 0.06).toFixed(2);\n\n    /* ---------------------------\n       SLAB 4 ‚Äî AMBIENT DEPTH\n    ---------------------------- */\n    slab4.style.transform =\n      `translate(${(sx * 3).toFixed(2)}px, ${(sy * 3).toFixed(2)}px)`;\n    slab4.style.filter = `blur(18px)`;\n    slab4.style.opacity =\n      (0.16 + Math.abs(ly) * 0.04).toFixed(2);\n\n    /* ---------------------------\n       FRONT SLAB ‚Äî SPECULAR RESPONSE\n       (moves TOWARD light)\n    ---------------------------- */\nif (front) {\n  // Very subtle counter-parallax (NOT toward light)\n  front.style.transform =\n    `translate(${(-lx * 1.6).toFixed(2)}px, ${(-ly * 1.6).toFixed(2)}px)`;\n\n  // Opacity increases when light is grazing\n  front.style.opacity =\n    (0.34 + intensity * 0.22).toFixed(2);\n\n  // Highlight shifts OPPOSITE the light direction\n  const gx = 50 - lx * 28;\n  const gy = 50 - ly * 28;\n  front.style.backgroundPosition = `${gx}% ${gy}%`;\n}\n\n  }\n\n  function onMove(e) {\n    const r = wrap.getBoundingClientRect();\n    const cx = r.left + r.width / 2;\n    const cy = r.top + r.height / 2;\n\n    // LIGHT VECTOR (mouse = light source)\n    lx = clamp((e.clientX - cx) / (r.width / 2), -1, 1);\n    ly = clamp((e.clientY - cy) / (r.height / 2), -1, 1);\n\n    if (!raf) raf = requestAnimationFrame(render);\n  }\n\n  window.addEventListener(''mousemove'', onMove, { passive: true });\n})();\n</script>\n</body>\n</html>\n", "css": "body { font-family: system-ui; padding: 20px; }", "js": "console.log(\"Code Runner initialized\");", "imports": {"css": [], "js": []}, "entryPoint": {"type": "htmlDocument", "mountSelector": "#app", "injectMountIfMissing": true}, "settings": {"mode": "play", "viewport": {"type": "responsive", "background": "white"}, "securityPreset": "trusted", "autoRun": true, "runOnLoad": true}, "codePanel": {"isVisible": false, "isEditable": false}}}]}]}',
    '1.0.0',
    true,
    '88b62d69-6012-47ae-b45b-9ccc5f1dc87c',
    NOW(),
    NOW(),
    'public',
    NULL,
    false,
    NULL,
    'page',
    NULL,
    NULL,
    NULL,
    NULL,
    NULL,
    false,
    0,
    NULL,
    true,
    false,
    NULL,
    NULL,
    '{"id": "block-root", "style": {}, "type": "container", "children": [{"id": "temp-container", "style": {"width": "100vw", "height": "100vh"}, "type": "container", "children": [{"id": "temp-coderunner", "style": {}, "type": "codeRunner", "data": {"html": "<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n  <meta charset=\"UTF-8\" />\n  <title>Working Fundamentals ‚Äî Arvin Jayson Castro</title>\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n\n  <!-- =====================\n       GLOBAL STYLES\n  ====================== -->\n  <style>\n    :root {\n      --bg: #f7f8f8;\n      --ink: #111111;\n      --muted: #666666;\n      --line: rgba(0,0,0,0.08);\n      --accent: #16a34a;\n      --link: #3b82f6;\n      --max-width: 1200px;\n    }\n\n    * {\n      box-sizing: border-box;\n    }\n\n    body {\n      margin: 0;\n      font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, sans-serif;\n      color: var(--ink);\n      background-color: var(--bg);\n      background-image:\n        radial-gradient(980px 560px at 14% 18%, rgba(16,185,129,0.10) 0%, rgba(16,185,129,0) 60%),\n        radial-gradient(860px 540px at 86% 74%, rgba(245,158,11,0.10) 0%, rgba(245,158,11,0) 62%),\n        repeating-linear-gradient(0deg, rgba(0,0,0,0.043) 0, rgba(0,0,0,0.043) 1px, transparent 1px, transparent 46px),\n        repeating-linear-gradient(90deg, rgba(0,0,0,0.043) 0, rgba(0,0,0,0.043) 1px, transparent 1px, transparent 46px);\n      min-height: 100vh;\n    }\n\n    a {\n      color: inherit;\n      text-decoration: none;\n    }\n\n    img {\n      max-width: 100%;\n      display: block;\n    }\n\n    /* =====================\n       PAGE WRAPPER\n    ====================== */\n    .page {\n      padding: 22px 24px;\n    }\n\n    .container {\n      max-width: var(--max-width);\n      margin: 0 auto;\n    }\n\n    /* =====================\n       SIDEBAR BACKDROP\n    ====================== */\n    .sidebar-backdrop {\n      position: fixed;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n      background: rgba(0, 0, 0, 0.2);\n      backdrop-filter: blur(4px);\n      -webkit-backdrop-filter: blur(4px);\n      opacity: 0;\n      visibility: hidden;\n      transition: opacity 0.3s ease, visibility 0.3s ease;\n      z-index: 999;\n      pointer-events: none;\n    }\n\n    .sidebar-backdrop--visible {\n      opacity: 1;\n      visibility: visible;\n      pointer-events: auto;\n    }\n\n    /* =====================\n       SIDEBAR\n    ====================== */\n    .sidebar {\n      position: fixed;\n      top: 0;\n      right: 0;\n      width: 320px;\n      height: 100vh;\n      background: var(--bg);\n      border-left: 1px solid var(--line);\n      transform: translateX(100%);\n      transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n      z-index: 1000;\n      overflow-y: auto;\n      padding: 24px;\n    }\n\n    .sidebar--open {\n      transform: translateX(0);\n    }\n\n    .sidebar__title {\n      font-size: 16px;\n      font-weight: 600;\n      margin-bottom: 24px;\n      color: var(--ink);\n    }\n\n    /* Prevent body scroll when sidebar is open */\n    body.sidebar-open {\n      overflow: hidden;\n    }\n\n    .sidebar__chapter-list {\n      list-style: none;\n      margin: 0;\n      padding: 0;\n    }\n\n    .sidebar__chapter-item {\n      margin: 0 0 8px 0;\n    }\n\n    .sidebar__chapter-link {\n      display: block;\n      font-size: 14px;\n      color: var(--muted);\n      text-decoration: none;\n      padding: 8px 0;\n      transition: color 0.2s ease;\n      line-height: 1.5;\n    }\n\n    .sidebar__chapter-link:hover {\n      color: var(--ink);\n    }\n\n    .sidebar__chapter-link--current {\n      color: var(--ink);\n      font-weight: 500;\n    }\n\n    /* =====================\n       HEADER (Top bar with chapter indicator)\n    ====================== */\n    .header {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      padding: 10px 0;\n      border-bottom: 1px solid var(--line);\n      position: relative;\n      transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n    }\n\n    .header--shifted {\n      transform: translateX(-320px);\n    }\n\n    .brand {\n      font-size: 16px;\n      font-weight: 600;\n      cursor: pointer;\n      display: inline-block;\n    }\n\n    .nav {\n      display: flex;\n      gap: 24px;\n      align-items: center;\n      font-size: 14px;\n    }\n\n    .nav a {\n      color: #1f2937;\n    }\n\n    .linkedin {\n      display: flex;\n      flex-direction: column;\n      align-items: flex-start;\n    }\n\n    .linkedin a {\n      color: var(--link);\n    }\n\n    .linkedin span {\n      font-family: Georgia, serif;\n      font-size: 9px;\n      font-style: italic;\n      color: #999;\n    }\n\n    /* =====================\n       MAIN GRID\n    ====================== */\n    .main {\n      padding-top: 48px;\n      padding-bottom: 48px;\n      display: flex;\n      justify-content: center;\n      align-items: start;\n    }\n\n    /* =====================\n       CHAPTER READING AREA (Option 1: Magazine-style)\n    ====================== */\n    .chapter-content {\n      max-width: 768px;\n      width: 100%;\n      margin: 0 auto;\n    }\n\n    .chapter-header {\n      margin-bottom: 56px;\n      padding-bottom: 32px;\n      border-bottom: 2px solid var(--line);\n    }\n\n    .book-title {\n      font-size: 12px;\n      letter-spacing: 0.15em;\n      text-transform: uppercase;\n      color: var(--muted);\n      font-weight: 500;\n      margin-bottom: 8px;\n      opacity: 0.7;\n    }\n\n    .chapter-number {\n      font-size: 13px;\n      letter-spacing: 0.2em;\n      text-transform: uppercase;\n      color: var(--muted);\n      font-weight: 600;\n      margin-bottom: 12px;\n      display: flex;\n      align-items: center;\n      gap: 8px;\n      cursor: pointer;\n      user-select: none;\n      transition: color 0.2s ease;\n    }\n\n    .chapter-number:hover {\n      color: var(--ink);\n    }\n\n    .chapter-number__icon {\n      font-size: 10px;\n      opacity: 0.6;\n      transition: transform 0.3s ease, opacity 0.2s ease;\n    }\n\n    .chapter-number:hover .chapter-number__icon {\n      opacity: 0.8;\n    }\n\n    .chapter-number__icon--open {\n      transform: rotate(180deg);\n    }\n\n    .chapter-title {\n      font-size: 56px;\n      font-weight: 900;\n      line-height: 1.05;\n      margin: 0 0 20px 0;\n      color: var(--ink);\n      letter-spacing: -0.03em;\n    }\n\n    .chapter-subtitle {\n      font-size: 22px;\n      font-weight: 500;\n      color: var(--muted);\n      line-height: 1.4;\n      margin: 0;\n    }\n\n    .chapter-body {\n      font-size: 19px;\n      line-height: 1.8;\n      color: var(--ink);\n      max-width: none;\n      font-weight: 400;\n    }\n\n    .chapter-body p {\n      margin: 0 0 28px 0;\n    }\n\n    .chapter-body p:last-child {\n      margin-bottom: 0;\n    }\n\n    .chapter-body h2 {\n      font-size: 36px;\n      font-weight: 800;\n      line-height: 1.2;\n      margin: 56px 0 24px 0;\n      color: var(--ink);\n      letter-spacing: -0.02em;\n    }\n\n    .chapter-body h3 {\n      font-size: 26px;\n      font-weight: 700;\n      line-height: 1.3;\n      margin: 40px 0 18px 0;\n      color: var(--ink);\n      letter-spacing: -0.01em;\n    }\n\n    .chapter-body strong {\n      font-weight: 600;\n      color: var(--ink);\n    }\n\n    .chapter-body em {\n      font-style: italic;\n    }\n\n    .chapter-body ul,\n    .chapter-body ol {\n      margin: 28px 0;\n      padding-left: 36px;\n    }\n\n    .chapter-body li {\n      margin-bottom: 14px;\n      line-height: 1.75;\n    }\n\n    .chapter-body blockquote {\n      margin: 40px 0;\n      padding-left: 28px;\n      border-left: 4px solid var(--accent);\n      font-style: italic;\n      color: var(--muted);\n      font-size: 18px;\n      line-height: 1.7;\n    }\n\n    .chapter-body code {\n      font-family: ''Monaco'', ''Menlo'', ''Courier New'', monospace;\n      font-size: 0.9em;\n      background: rgba(0,0,0,0.04);\n      padding: 2px 6px;\n      border-radius: 3px;\n    }\n\n    .chapter-body pre {\n      background: rgba(0,0,0,0.04);\n      padding: 20px;\n      border-radius: 8px;\n      overflow-x: auto;\n      margin: 24px 0;\n    }\n\n    .chapter-body pre code {\n      background: none;\n      padding: 0;\n    }\n\n    /* Content shift when sidebar opens */\n    .main {\n      transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n    }\n\n    .main--shifted {\n      transform: translateX(-320px);\n    }\n\n    /* Prevent horizontal scroll */\n    body {\n      overflow-x: hidden;\n    }\n\n    .page {\n      overflow-x: hidden;\n    }\n\n    /* =====================\n       CHAPTER NAVIGATION (BOTTOM)\n    ====================== */\n    .chapter-nav-bottom {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      max-width: 768px;\n      width: 100%;\n      margin: 64px auto 0 auto;\n      padding: 24px 0;\n      border-top: 1px solid var(--line);\n    }\n\n    .chapter-nav-bottom__link {\n      display: flex;\n      align-items: center;\n      gap: 8px;\n      font-size: 14px;\n      color: var(--muted);\n      text-decoration: none;\n      transition: color 0.2s ease;\n      padding: 8px 0;\n    }\n\n    .chapter-nav-bottom__link:hover {\n      color: var(--ink);\n    }\n\n    .chapter-nav-bottom__arrow {\n      font-size: 16px;\n      opacity: 0.7;\n    }\n\n    .chapter-nav-bottom__label {\n      font-weight: 500;\n    }\n\n    .chapter-nav-bottom__link--prev {\n      margin-right: auto;\n    }\n\n    .chapter-nav-bottom__link--next {\n      margin-left: auto;\n    }\n\n    .chapter-nav-bottom__link--disabled {\n      opacity: 0.4;\n      cursor: not-allowed;\n      pointer-events: none;\n    }\n\n    .page-widget__pages {\n      max-height: 0;\n      overflow: hidden;\n      transition: max-height 0.4s cubic-bezier(0.4, 0, 0.2, 1),\n                  opacity 0.3s ease,\n                  margin-top 0.3s ease;\n      opacity: 0;\n      margin-top: 0;\n      background: rgba(255, 255, 255, 0.98);\n      backdrop-filter: blur(12px);\n      -webkit-backdrop-filter: blur(12px);\n      border: 1px solid rgba(0, 0, 0, 0.06);\n      border-radius: 12px;\n      box-shadow: 0 2px 12px rgba(0, 0, 0, 0.06);\n    }\n\n    .page-widget__pages--expanded {\n      max-height: 500px;\n      opacity: 1;\n      margin-top: 12px;\n      padding: 8px;\n    }\n\n    .page-widget__pages-list {\n      list-style: none;\n      margin: 0;\n      padding: 0;\n      display: flex;\n      flex-direction: column;\n      gap: 8px;\n      max-height: 400px;\n      overflow-y: auto;\n      padding-right: 4px;\n    }\n\n    .page-widget__pages-list::-webkit-scrollbar {\n      width: 6px;\n    }\n\n    .page-widget__pages-list::-webkit-scrollbar-track {\n      background: rgba(0, 0, 0, 0.02);\n      border-radius: 3px;\n    }\n\n    .page-widget__pages-list::-webkit-scrollbar-thumb {\n      background: rgba(0, 0, 0, 0.12);\n      border-radius: 3px;\n    }\n\n    .page-widget__pages-list::-webkit-scrollbar-thumb:hover {\n      background: rgba(0, 0, 0, 0.2);\n    }\n\n    .page-widget__page-item {\n      display: flex;\n      align-items: center;\n      gap: 10px;\n      padding: 8px 10px;\n      border-radius: 8px;\n      cursor: pointer;\n      transition: all 0.2s ease;\n      text-decoration: none;\n      color: var(--ink);\n    }\n\n    .page-widget__page-item:hover {\n      background: rgba(0, 0, 0, 0.03);\n      transform: translateX(2px);\n    }\n\n    .page-widget__page-item--current {\n      background: rgba(22, 163, 74, 0.08);\n      color: var(--accent);\n      font-weight: 500;\n    }\n\n    .page-widget__page-item--current:hover {\n      background: rgba(22, 163, 74, 0.12);\n    }\n\n    .page-widget__page-number {\n      display: inline-flex;\n      align-items: center;\n      justify-content: center;\n      width: 24px;\n      height: 24px;\n      background: rgba(0, 0, 0, 0.04);\n      border-radius: 5px;\n      font-size: 11px;\n      font-weight: 500;\n      flex-shrink: 0;\n      color: var(--muted);\n    }\n\n    .page-widget__page-item--current .page-widget__page-number {\n      background: rgba(22, 163, 74, 0.15);\n      color: var(--accent);\n    }\n\n    .page-widget__page-info {\n      flex: 1;\n      min-width: 0;\n    }\n\n    .page-widget__page-name {\n      font-size: 13px;\n      font-weight: 500;\n      line-height: 1.3;\n      margin: 0 0 2px 0;\n    }\n\n    .page-widget__page-note {\n      font-size: 11px;\n      color: var(--muted);\n      line-height: 1.3;\n      margin: 0;\n      white-space: nowrap;\n      overflow: hidden;\n      text-overflow: ellipsis;\n    }\n\n    @media (max-width: 768px) {\n      .page-widget__pages-list {\n        max-height: 300px;\n      }\n    }\n\n\n/* ===============================\n   WRAPPER\n================================ */\n.book-wrap {\n  width: 320px;\n  aspect-ratio: 2 / 3;\n  position: relative;\n}\n\n/* ===============================\n   CAST SHADOW SLAB (REAL SHADOW)\n================================ */\n.shadow-slab {\n    position: absolute;\n    position: absolute;\n    inset: 0;\n    border-radius: 22px;\n    /* background: #2a2a2a; */\n    transform: translate(-30px, 30px);\n    filter: blur(13px);\n    opacity: 0.35;\n    z-index: 0;\n    background: radial-gradient(ellipse at 15% 85%, rgba(0, 0, 0, 0.35), rgba(0, 0, 0, 0.18) 35%, transparent 65%), linear-gradient(to right, #1f1f1f 0%, #2a2a2a 45%, #3a3a3a 100%);\n}\n\n.shadow-slab-2 {\n    position: absolute;\n    inset: 0;\n    border-radius: 22px;\n    background: radial-gradient(circle at top right, #f6e6a8 0%, #e2c36b 35%, #b58a3c 70%, #7a5524 100%);\n    transform: translate(-10px, 10px);\n    filter: blur(5px);\n    opacity: 0.35;\n    z-index: 0;\n}\n\n.shadow-slab-3 {\n    position: absolute;\n    inset: 0;\n    border-radius: 22px;\n    background: #333;\n    transform: translate(0px, 0px);\n    filter: blur(11px);\n    opacity: 0.35;\n    z-index: 0;\n}\n\n.shadow-slab-4 {\n    position: absolute;\n    inset: 0;\n    border-radius: 22px;\n    background: #333;\n    transform: translate(0px, 0px);\n    filter: blur(11px);\n    opacity: 0.35;\n    z-index: 0;\n}\n\n/* ===============================\n   FRONT SLAB & SPIN HANDLE\n================================ */\n\n.front-slab {\n    position: absolute;\n    inset: 0;\n    border-radius: 22px;\n    background: linear-gradient(to right, rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.1) 3%, transparent 1%);\n    /* background: green; */\n    z-index: 3;\n    opacity: .5;\n    transform: translateZ(6px);\n    pointer-events: none;\n}\n\n.spin-handle {\n  display: none;\n  position: absolute;\n  top: 50%;\n  right: -22px;\n  width: 14px;\n  height: 48px;\n  border-radius: 999px;\n  background: rgba(0,0,0,0.25);\n  backdrop-filter: blur(4px);\n  cursor: grab;\n  z-index: 10;\n}\n\n/* ===============================\n   BOOK OBJECT (NO SHADOW)\n================================ */\n.book {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  border-radius: 22px;\n  overflow: hidden;\n  z-index: 2;\n\n  /* IMPORTANT: no box-shadow */\n  box-shadow: none;\n\n  /* transform: perspective(1200px) rotateX(0.6deg); */\n}\n\n/* ===============================\n   PAPER SURFACE (LIGHT FIELD)\n================================ */\n.book .surface {\n  position: absolute;\n  inset: 0;\n  border-radius: inherit;\n  pointer-events: none;\n  z-index: 1;\n\n  background:\n    linear-gradient(\n      to bottom left,\n      rgba(255,255,255,1) 0%,\n      rgba(250,250,250,1) 42%,\n      rgba(240,240,240,1) 100%\n    ),\n    repeating-linear-gradient(\n      0deg,\n      rgba(0,0,0,0.01),\n      rgba(0,0,0,0.01) 1px,\n      transparent 1px,\n      transparent 3px\n    );\n}\n\n/* ===============================\n   LEFT OCCLUSION (CURTAIN)\n================================ */\n.book .curtain {\n  position: absolute;\n  inset: 0;\n  border-radius: inherit;\n  pointer-events: none;\n  z-index: 2;\n\n  background:\n    linear-gradient(\n      to right,\n      rgba(0,0,0,0.20) 0%,\n      rgba(0,0,0,0.12) 8%,\n      rgba(0,0,0,0.05) 16%,\n      rgba(0,0,0,0.02) 22%,\n      rgba(0,0,0,0.00) 30%\n    );\n}\n\n/* ===============================\n   RIGHT HIGHLIGHT\n================================ */\n.book .highlight {\n  position: absolute;\n  inset: 0;\n  border-radius: inherit;\n  pointer-events: none;\n  z-index: 3;\n\n  background:\n    linear-gradient(\n      to left,\n      rgba(255,255,255,0.35) 0%,\n      rgba(255,255,255,0.18) 6%,\n      rgba(255,255,255,0.06) 14%,\n      rgba(255,255,255,0.00) 24%\n    );\n}\n\n/* ===============================\n   PAGE EDGE (THICKNESS)\n================================ */\n.book .edge {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 120px;\n  height: 100%;\n  border-radius: 22px 0 0 22px;\n  pointer-events: none;\n  z-index: 4;\n\n  background:\n    linear-gradient(\n      to right,\n      rgba(215,215,215,0.95) 0%,\n      rgba(245,245,245,0.95) 40%,\n      rgba(255,255,255,0.95) 75%\n    );\n\n  box-shadow:\n    inset -1px 0 0 rgba(0,0,0,0.05);\n}\n\n/* ===============================\n   SVG (PURE WHITE)\n================================ */\n.book svg {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  display: block;\n  z-index: 5;\n}\n\n    /* =====================\n       LEFT: BOOK COVER\n    ====================== */\n    .book-cover {\n      display: flex;\n      flex-direction: column;\n      gap: 12px;\n    }\n\n\n    /* ===============================\n       BOOK + SHADOW SYSTEM\n    =============================== */\n    .book-wrap {\n      width: 320px;\n      aspect-ratio: 2 / 3;\n      position: relative;\n    }\n\n    .shadow-slab,\n    .shadow-slab-2,\n    .shadow-slab-3,\n    .shadow-slab-4 {\n      position: absolute;\n      inset: 0;\n      border-radius: 22px;\n      z-index: 0;\n      will-change: transform, filter, opacity;\n    }\n\n    .shadow-slab {\n      background:\n        radial-gradient(ellipse at 15% 85%, rgba(0,0,0,0.35), rgba(0,0,0,0.18) 35%, transparent 65%),\n        linear-gradient(to right, #1f1f1f 0%, #2a2a2a 45%, #3a3a3a 100%);\n      filter: blur(13px);\n      opacity: 0.35;\n    }\n\n    .shadow-slab-2 {\n      background: radial-gradient(circle at top right, #f6e6a8 0%, #e2c36b 35%, #b58a3c 70%, #7a5524 100%);\n      filter: blur(6px);\n      opacity: 0.30;\n    }\n\n    .shadow-slab-3,\n    .shadow-slab-4 {\n      background: #333;\n      filter: blur(11px);\n      opacity: 0.30;\n    }\n\n    .book {\n      position: relative;\n      width: 100%;\n      height: 100%;\n      border-radius: 22px;\n      overflow: hidden;\n      z-index: 2;\n      background: #f7f4ee;\n    }\n\n    .front-slab {\n      position: absolute;\n      inset: 0;\n      border-radius: 22px;\n      background: linear-gradient(to right, rgba(0,0,0,0.4), rgba(0,0,0,0.1) 3%, transparent 10%);\n      z-index: 3;\n      pointer-events: none;\n      opacity: 0.5;\n    }\n\n\n    @media (prefers-reduced-motion: reduce) {\n      .cover-frame {\n        transition: none;\n        transform: none;\n      }\n      .cover-frame:hover {\n        --lift: 0;\n      }\n    }\n\n    .start-reading {\n      display: inline-flex;\n      align-items: center;\n      justify-content: center;\n      width: 100%;\n      padding: 12px 14px;\n      border-radius: 999px;\n\n      font-size: 11px;\n      letter-spacing: 0.16em;\n      text-transform: uppercase;\n      font-weight: 650;\n      color: rgba(34,197,94,0.92);\n      text-shadow:\n        0 0 10px rgba(34,197,94,0.22),\n        0 0 22px rgba(34,197,94,0.14);\n\n      /* graphite: dark + slightly mineral */\n      background:\n        radial-gradient(120% 140% at 20% 10%, rgba(255,255,255,0.10) 0%, rgba(255,255,255,0.00) 55%),\n        radial-gradient(140% 140% at 80% 90%, rgba(255,255,255,0.06) 0%, rgba(255,255,255,0.00) 60%),\n        linear-gradient(180deg, #141414 0%, #0a0a0a 100%);\n      border: 1px solid rgba(255,255,255,0.10);\n      box-shadow:\n        0 14px 34px rgba(0,0,0,0.22),\n        0 8px 16px rgba(0,0,0,0.18),\n        inset 0 1px 0 rgba(255,255,255,0.10),\n        inset 0 -1px 0 rgba(0,0,0,0.55);\n\n      position: relative;\n      overflow: hidden;\n      cursor: pointer;\n      user-select: none;\n      -webkit-tap-highlight-color: transparent;\n\n      transition:\n        transform 160ms cubic-bezier(0.2, 0.8, 0.2, 1),\n        box-shadow 160ms cubic-bezier(0.2, 0.8, 0.2, 1),\n        border-color 160ms cubic-bezier(0.2, 0.8, 0.2, 1);\n    }\n\n    .start-reading::before {\n      content: \"\";\n      position: absolute;\n      inset: 0;\n      pointer-events: none;\n      /* texture + sheen (very subtle) */\n      background:\n        linear-gradient(120deg, rgba(255,255,255,0.12) 0%, rgba(255,255,255,0.00) 46%),\n        repeating-linear-gradient(0deg,\n          rgba(255,255,255,0.028) 0px,\n          rgba(255,255,255,0.028) 1px,\n          rgba(0,0,0,0.00) 3px,\n          rgba(0,0,0,0.00) 6px),\n        radial-gradient(120% 90% at 50% 0%, rgba(34,197,94,0.14) 0%, rgba(34,197,94,0.00) 62%);\n      opacity: 0.75;\n    }\n\n    .start-reading:hover {\n      transform: translateY(-1px);\n      border-color: rgba(34,197,94,0.30);\n      box-shadow:\n        0 18px 42px rgba(0,0,0,0.24),\n        0 10px 18px rgba(0,0,0,0.18),\n        inset 0 1px 0 rgba(255,255,255,0.12),\n        inset 0 -1px 0 rgba(0,0,0,0.55);\n      text-shadow:\n        0 0 12px rgba(34,197,94,0.28),\n        0 0 26px rgba(34,197,94,0.18);\n    }\n\n    .start-reading:active {\n      transform: translateY(0px);\n      box-shadow:\n        0 14px 34px rgba(0,0,0,0.22),\n        0 8px 16px rgba(0,0,0,0.18),\n        inset 0 1px 0 rgba(255,255,255,0.10),\n        inset 0 -1px 0 rgba(0,0,0,0.55);\n    }\n\n    .start-reading:focus-visible {\n      outline: none;\n      box-shadow:\n        0 18px 42px rgba(0,0,0,0.24),\n        0 0 0 4px rgba(34,197,94,0.22),\n        0 0 0 1px rgba(34,197,94,0.26),\n        inset 0 1px 0 rgba(255,255,255,0.12),\n        inset 0 -1px 0 rgba(0,0,0,0.55);\n      border-color: rgba(34,197,94,0.34);\n    }\n\n    @media (prefers-reduced-motion: reduce) {\n      .start-reading {\n        transition: none;\n      }\n      .start-reading:hover {\n        transform: none;\n      }\n    }\n\n    /* =====================\n       CENTER: CONTENT\n    ====================== */\n    .content h1 {\n      font-size: 40px;\n      font-weight: 800;\n      line-height: 1.15;\n      margin: 0;\n    }\n\n    .byline {\n      font-size: 13px;\n      letter-spacing: 0.12em;\n      color: #666;\n      font-weight: 600;\n    }\n\n    .tagline {\n      font-size: 18px;\n      font-weight: 500;\n      color: #333;\n    }\n\n    .paragraph {\n      font-size: 15px;\n      color: #222;\n    }\n\n    .meta {\n      margin-top: 20px;\n      padding-top: 20px;\n      border-top: 1px solid var(--line);\n      display: grid;\n      grid-template-columns: repeat(2, 1fr);\n      gap: 12px 24px;\n      font-size: 13px;\n    }\n\n    .author {\n      margin-top: 20px;\n      padding-top: 20px;\n      border-top: 1px solid var(--line);\n      display: flex;\n      gap: 16px;\n      align-items: flex-start;\n    }\n\n    .author img {\n      width: 44px;\n      height: 44px;\n      border-radius: 50%;\n    }\n\n    /* =====================\n       RIGHT: RELATED\n    ====================== */\n    .related {\n      display: flex;\n      flex-direction: column;\n      gap: 20px;\n    }\n\n    .related-title {\n      font-size: 11px;\n      letter-spacing: 0.14em;\n      color: #666;\n      text-transform: uppercase;\n      font-weight: 600;\n    }\n\n    .related-item {\n      display: flex;\n      flex-direction: column;\n      gap: 6px;\n      cursor: pointer;\n      transition: transform 0.12s ease, box-shadow 0.12s ease;\n    }\n\n    .related-item:hover {\n      transform: translateY(-2px);\n    }\n\n    .related-thumb {\n      border-radius: 6px;\n      overflow: hidden;\n      aspect-ratio: 3 / 4;\n      box-shadow: 0 8px 24px rgba(0,0,0,0.1);\n\n      /* Gray placeholder shape */\n      background: linear-gradient(135deg, #e5e7eb 0%, #d1d5db 45%, #cbd5e1 100%);\n      border: 1px solid rgba(0,0,0,0.06);\n    }\n\n    .related-thumb img {\n      width: 100%;\n      height: 100%;\n      object-fit: cover;\n      filter: grayscale(1);\n      opacity: 0.85;\n      transition: filter 160ms ease, opacity 160ms ease;\n    }\n\n    .related-thumb .thumb-placeholder {\n      width: 100%;\n      height: 100%;\n      display: block;\n    }\n\n    .related-item a {\n      font-size: 12px;\n      font-weight: 600;\n      color: #111;\n    }\n\n    /* =====================\n       RIGHT: 13 CHAPTERS\n    ====================== */\n    .chapters {\n      display: flex;\n      flex-direction: column;\n      gap: 10px;\n    }\n\n    .chapters-title {\n      font-size: 11px;\n      letter-spacing: 0.12em;\n      color: rgba(17,17,17,0.52);\n      text-transform: uppercase;\n      font-weight: 600;\n    }\n\n    .chapters-help {\n      margin-top: -4px;\n      font-size: 11px;\n      line-height: 1.35;\n      color: rgba(17,17,17,0.42);\n    }\n\n    .chapter-list {\n      list-style: none;\n      padding: 0;\n      margin: 0;\n      display: flex;\n      flex-direction: column;\n      gap: 0;\n      border-top: 1px solid rgba(0,0,0,0.06);\n    }\n\n    .chapter-item {\n      display: grid;\n      grid-template-columns: 3ch 1fr;\n      gap: 12px;\n      align-items: start;\n      padding: 10px 0;\n      border-bottom: 1px solid rgba(0,0,0,0.06);\n    }\n\n    .chapter-item--preface .chapter-name {\n      font-weight: 760;\n      letter-spacing: -0.01em;\n      color: rgba(17,17,17,0.90);\n    }\n\n    .chapter-item--current .chapter-name {\n      color: rgba(17,17,17,0.92);\n      text-decoration: underline;\n      text-decoration-thickness: 1px;\n      text-underline-offset: 3px;\n      text-decoration-color: rgba(17,17,17,0.22);\n    }\n\n    .chapter-num {\n      width: auto;\n      height: auto;\n      border-radius: 0;\n      display: block;\n      text-align: right;\n      font-size: 11px;\n      font-weight: 650;\n      color: rgba(17,17,17,0.46);\n      font-variant-numeric: tabular-nums;\n    }\n\n    .chapter-name {\n      font-size: 12px;\n      font-weight: 600;\n      color: rgba(17,17,17,0.80);\n      line-height: 1.3;\n    }\n\n    .chapter-note {\n      margin-top: 2px;\n      font-size: 11px;\n      color: rgba(17,17,17,0.46);\n      line-height: 1.4;\n    }\n\n    /* =====================\n       RESPONSIVE\n    ====================== */\n    @media (max-width: 900px) {\n      .chapter-content {\n        max-width: 100%;\n        padding: 0 24px;\n      }\n\n      .page-widget {\n        max-width: 100%;\n        margin-left: 24px;\n        margin-right: 24px;\n      }\n\n      .chapter-title {\n        font-size: 42px;\n      }\n\n      .chapter-body {\n        font-size: 18px;\n      }\n\n      .chapter-body h2 {\n        font-size: 32px;\n      }\n\n      .chapter-body h3 {\n        font-size: 24px;\n      }\n    }\n\n    @media (max-width: 768px) {\n      .header {\n        flex-direction: column;\n        gap: 12px;\n      }\n\n      .chapter-content {\n        padding: 0 16px;\n      }\n\n      .page-widget {\n        margin-left: 16px;\n        margin-right: 16px;\n      }\n\n      .chapter-title {\n        font-size: 38px;\n      }\n\n      .chapter-body {\n        font-size: 17px;\n      }\n\n      .chapter-body h2 {\n        font-size: 30px;\n      }\n\n      .chapter-body h3 {\n        font-size: 22px;\n      }\n    }\n  </style>\n</head>\n\n<body>\n  <div class=\"page\">\n    <div class=\"container\">\n\n      <!-- SIDEBAR BACKDROP -->\n      <div class=\"sidebar-backdrop\" id=\"sidebarBackdrop\"></div>\n\n      <!-- SIDEBAR -->\n      <aside class=\"sidebar\" id=\"sidebar\">\n        <div class=\"sidebar__title\">Working Fundamentals</div>\n        <ul class=\"sidebar__chapter-list\">\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-introduction\" class=\"sidebar__chapter-link\" target=\"_blank\">Introduction</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-1-of-13-programming-fundamentals\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 1 ¬∑ Programming Fundamentals</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-2-of-13-data-structures\" class=\"sidebar__chapter-link sidebar__chapter-link--current\" target=\"_blank\">Chapter 2 ¬∑ Data Structures</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-3-of-13-algorithms-and-complexity\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 3 ¬∑ Algorithms & Complexity</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-4-of-13-control-and-flow\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 4 ¬∑ Control & Flow</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-5-of-13-state-and-change\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 5 ¬∑ State & Change</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-6-of-13-design-principles\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 6 ¬∑ Design Principles</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-7-of-13-architecture\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 7 ¬∑ Architecture</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-8-of-13-persistence-and-data-modeling\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 8 ¬∑ Persistence & Data Modeling</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-9-of-13-interfaces-and-apis\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 9 ¬∑ Interfaces & APIs</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-10-of-13-errors-and-failure\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 10 ¬∑ Errors & Failure</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-11-of-13-testing\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 11 ¬∑ Testing</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-12-of-13-performance-and-scale\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 12 ¬∑ Performance & Scale</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-13-of-13-the-developers-role\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 13 ¬∑ The Developer''s Role</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-outroduction\" class=\"sidebar__chapter-link\" target=\"_blank\">Outroduction</a>\n          </li>\n        </ul>\n      </aside>\n\n      <!-- HEADER -->\n      <header class=\"header\" id=\"header\">\n        <a href=\"https://arvinjaysoncastro.com/\" class=\"brand\" target=\"_blank\">Arvin Jayson Castro</a>\n        <nav class=\"nav\">\n          <a href=\"https://arvinjaysoncastro.com/hungry-dev-mind\" target=\"_blank\">Books</a>\n          <a href=\"https://arvinjaysoncastro.com/working-systems\" target=\"_blank\">Working Systems</a>\n          <a href=\"https://arvinjaysoncastro.com/about\" target=\"_blank\">16 Years</a>\n          <div class=\"linkedin\">\n            <a href=\"https://www.linkedin.com/in/arvin-jayson-castro-7458199a/\" target=\"_blank\">linkedIn</a>\n            <span>let''s connect</span>\n          </div>\n        </nav>\n      </header>\n\n      <!-- PAGE WIDGET (TOP) - REMOVED -->\n      <div style=\"display: none;\">\n          <ol class=\"page-widget__pages-list\">\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">P</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Preface</div>\n                  <div class=\"page-widget__page-note\">Why fundamentals still decide outcomes.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item page-widget__page-item--current\">\n                <span class=\"page-widget__page-number\">1</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 1</div>\n                  <div class=\"page-widget__page-note\">Core principles and constraints.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">2</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 2</div>\n                  <div class=\"page-widget__page-note\">Boundaries, ownership, and interfaces.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">3</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 3</div>\n                  <div class=\"page-widget__page-note\">State, consistency, and failure modes.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">4</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 4</div>\n                  <div class=\"page-widget__page-note\">Abstractions that survive change.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">5</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 5</div>\n                  <div class=\"page-widget__page-note\">Simplicity as an engineering practice.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">6</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 6</div>\n                  <div class=\"page-widget__page-note\">Reliability, observability, and feedback.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">7</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 7</div>\n                  <div class=\"page-widget__page-note\">Delivery systems and decision hygiene.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">8</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 8</div>\n                  <div class=\"page-widget__page-note\">Documentation that stays useful.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">9</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 9</div>\n                  <div class=\"page-widget__page-note\">Testing strategy for predictable change.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">10</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 10</div>\n                  <div class=\"page-widget__page-note\">Pragmatic architecture for teams.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">11</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 11</div>\n                  <div class=\"page-widget__page-note\">Operational excellence without ceremony.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">12</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 12</div>\n                  <div class=\"page-widget__page-note\">Leadership, standards, and leverage.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">13</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 13</div>\n                  <div class=\"page-widget__page-note\">Making fundamentals non-negotiable.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">PS</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Postscript</div>\n                  <div class=\"page-widget__page-note\">A short operating model to carry forward.</div>\n                </div>\n              </a>\n            </li>\n          </ol>\n        </div>\n      </div>\n\n      <!-- MAIN -->\n      <main class=\"main\" id=\"main\">\n\n        <!-- CHAPTER CONTENT (Option 1: Magazine-style) -->\n        <article class=\"chapter-content\">\n          <header class=\"chapter-header\">\n            <div class=\"book-title\">Working Fundamentals</div>\n            <div class=\"chapter-number\" id=\"chapterIndicator\">\n              <span>chapter 2 of 13</span>\n              <span class=\"chapter-number__icon\" id=\"chapterIndicatorIcon\">‚ñæ</span>\n            </div>\n            <h1 class=\"chapter-title\">Data Structures</h1>\n            <p class=\"chapter-subtitle\">Containers shape behavior</p>\n          </header>\n\n          <div class=\"chapter-body\">\n            <h3>What this chapter is</h3>\n\n            <p>\n              This chapter is not a catalog of structures. It is not a comparison table. It is not about memorizing when to use what.\n            </p>\n\n            <p>\n              This chapter explains <strong>why containers matter</strong>.\n            </p>\n\n            <p>\n              Data structures are not implementation details. They are <strong>behavioral decisions</strong>.\n            </p>\n\n            <h2>The core truth</h2>\n\n            <p>\n              A data structure is not just a way to store data.\n            </p>\n\n            <p>\n              It is a <strong>promise</strong> about:\n            </p>\n\n            <ul>\n              <li>access</li>\n              <li>ordering</li>\n              <li>duplication</li>\n              <li>absence</li>\n              <li>cost</li>\n            </ul>\n\n            <p>\n              When you choose a data structure, you choose behavior‚Äîwhether you intended to or not.\n            </p>\n\n            <h2>Containers are constraints</h2>\n\n            <p>\n              Every container answers questions implicitly:\n            </p>\n\n            <ul>\n              <li>Can there be duplicates?</li>\n              <li>Does order matter?</li>\n              <li>Can items be missing?</li>\n              <li>Is lookup fast or slow?</li>\n              <li>Is mutation expected?</li>\n            </ul>\n\n            <p>\n              You do not answer these questions with comments. You answer them with <strong>structure</strong>.\n            </p>\n\n            <p>\n              üß† <strong>Mental Model</strong> A data structure encodes rules without asking permission.\n            </p>\n\n            <h2>Why systems drift here</h2>\n\n            <p>\n              Most developers choose data structures by habit.\n            </p>\n\n            <ul>\n              <li>Arrays because they are familiar</li>\n              <li>Objects because they are convenient</li>\n              <li>Lists because they are flexible</li>\n            </ul>\n\n            <p>\n              Habit is not reasoning.\n            </p>\n\n            <p>\n              ‚ö†Ô∏è <strong>Common Drift</strong> When containers are chosen casually, rules migrate into code.\n            </p>\n\n            <p>\n              That is how conditionals multiply.\n            </p>\n\n            <h2>Structure before algorithm</h2>\n\n            <p>\n              Many developers jump from data directly to logic.\n            </p>\n\n            <p>\n              That is backwards.\n            </p>\n\n            <p>\n              First ask:\n            </p>\n\n            <ul>\n              <li>What relationships exist?</li>\n              <li>What must be unique?</li>\n              <li>What must be ordered?</li>\n              <li>What must be fast?</li>\n              <li>What must be stable?</li>\n            </ul>\n\n            <p>\n              Only after the container is correct does logic become simple.\n            </p>\n\n            <p>\n              üß† <strong>Architect''s Note</strong> Good algorithms often emerge automatically from correct structure.\n            </p>\n\n            <h2>The cost dimension</h2>\n\n            <p>\n              Every data structure trades something.\n            </p>\n\n            <ul>\n              <li>Time vs space</li>\n              <li>Simplicity vs flexibility</li>\n              <li>Read performance vs write performance</li>\n            </ul>\n\n            <p>\n              Ignoring cost does not remove it. It only makes it unpredictable.\n            </p>\n\n            <p>\n              üß† <strong>Perspective</strong> Performance problems are often structural, not computational.\n            </p>\n\n            <h2>Mutability and containment</h2>\n\n            <p>\n              Some containers invite mutation. Some resist it.\n            </p>\n\n            <p>\n              This matters.\n            </p>\n\n            <p>\n              A mutable container:\n            </p>\n\n            <ul>\n              <li>spreads responsibility</li>\n              <li>increases coupling</li>\n              <li>hides state changes</li>\n            </ul>\n\n            <p>\n              An immutable container:\n            </p>\n\n            <ul>\n              <li>constrains behavior</li>\n              <li>localizes change</li>\n              <li>clarifies ownership</li>\n            </ul>\n\n            <p>\n              Neither is \"better.\" But one must be <strong>chosen deliberately</strong>.\n            </p>\n\n            <h2>When structure lies</h2>\n\n            <p>\n              A dangerous moment in any system is when:\n            </p>\n\n            <ul>\n              <li>the container allows something</li>\n              <li>but the domain forbids it</li>\n            </ul>\n\n            <p>\n              Example:\n            </p>\n\n            <ul>\n              <li>duplicates allowed when uniqueness is required</li>\n              <li>ordering implied where none exists</li>\n              <li>absence treated as presence</li>\n            </ul>\n\n            <p>\n              This mismatch forces logic to compensate.\n            </p>\n\n            <p>\n              üß† <strong>Common Drift</strong> Validation code is often an apology for poor structure.\n            </p>\n\n            <h2>Minimal practice (again, no code)</h2>\n\n            <p>\n              <strong>Problem:</strong> \"You are storing registered users. Each user must be unique by email. Order does not matter. Lookups are frequent.\"\n            </p>\n\n            <p>\n              Before choosing anything, answer:\n            </p>\n\n            <ul>\n              <li>What must never happen?</li>\n              <li>What must be fast?</li>\n              <li>What must be impossible by design?</li>\n            </ul>\n\n            <p>\n              If your container allows violation, the system will eventually violate it.\n            </p>\n\n            <h2>What beginners gain here</h2>\n\n            <ul>\n              <li>Relief from guessing</li>\n              <li>A reason containers exist</li>\n              <li>Fewer \"why is this hard?\" moments</li>\n            </ul>\n\n            <h2>What experienced developers recognize</h2>\n\n            <ul>\n              <li>Why certain bugs cluster</li>\n              <li>Why validation grows endlessly</li>\n              <li>Why performance fixes feel reactive</li>\n            </ul>\n\n            <p>\n              The container was wrong.\n            </p>\n\n            <h2>What this chapter deliberately avoids</h2>\n\n            <ul>\n              <li>Specific language structures</li>\n              <li>Library comparisons</li>\n              <li>Premature optimization</li>\n              <li>Academic taxonomy</li>\n            </ul>\n\n            <p>\n              Those are secondary.\n            </p>\n\n            <h2>Closing</h2>\n\n            <p>\n              Data structures are not about data.\n            </p>\n\n            <p>\n              They are about <strong>rules made physical</strong>.\n            </p>\n\n            <p>\n              When rules live in structure:\n            </p>\n\n            <ul>\n              <li>code simplifies</li>\n              <li>errors decrease</li>\n              <li>systems calm down</li>\n            </ul>\n\n            <p>\n              When rules live in logic:\n            </p>\n\n            <ul>\n              <li>complexity accumulates</li>\n              <li>behavior surprises</li>\n              <li>systems drift</li>\n            </ul>\n\n            <p>\n              Choose containers carefully.\n            </p>\n\n            <p>\n              They speak even when your code is silent.\n            </p>\n          </div>\n        </article>\n\n        <!-- RIGHT -->\n\n      </main>\n\n      <!-- CHAPTER NAVIGATION (BOTTOM) -->\n      <nav class=\"chapter-nav-bottom\" id=\"chapterNavBottom\">\n        <a href=\"#\" class=\"chapter-nav-bottom__link chapter-nav-bottom__link--prev\" id=\"prevChapter\">\n          <span class=\"chapter-nav-bottom__arrow\">‚Üê</span>\n          <span class=\"chapter-nav-bottom__label\">Previous</span>\n        </a>\n        <a href=\"#\" class=\"chapter-nav-bottom__link chapter-nav-bottom__link--next\" id=\"nextChapter\">\n          <span class=\"chapter-nav-bottom__label\">Next</span>\n          <span class=\"chapter-nav-bottom__arrow\">‚Üí</span>\n        </a>\n      </nav>\n\n      <!-- PAGE WIDGET (BOTTOM) - REMOVED -->\n      <div style=\"display: none;\">\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">P</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Preface</div>\n                  <div class=\"page-widget__page-note\">Why fundamentals still decide outcomes.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item page-widget__page-item--current\">\n                <span class=\"page-widget__page-number\">1</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 1</div>\n                  <div class=\"page-widget__page-note\">Core principles and constraints.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">2</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 2</div>\n                  <div class=\"page-widget__page-note\">Boundaries, ownership, and interfaces.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">3</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 3</div>\n                  <div class=\"page-widget__page-note\">State, consistency, and failure modes.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">4</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 4</div>\n                  <div class=\"page-widget__page-note\">Abstractions that survive change.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">5</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 5</div>\n                  <div class=\"page-widget__page-note\">Simplicity as an engineering practice.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">6</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 6</div>\n                  <div class=\"page-widget__page-note\">Reliability, observability, and feedback.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">7</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 7</div>\n                  <div class=\"page-widget__page-note\">Delivery systems and decision hygiene.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">8</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 8</div>\n                  <div class=\"page-widget__page-note\">Documentation that stays useful.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">9</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 9</div>\n                  <div class=\"page-widget__page-note\">Testing strategy for predictable change.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">10</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 10</div>\n                  <div class=\"page-widget__page-note\">Pragmatic architecture for teams.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">11</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 11</div>\n                  <div class=\"page-widget__page-note\">Operational excellence without ceremony.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">12</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 12</div>\n                  <div class=\"page-widget__page-note\">Leadership, standards, and leverage.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">13</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 13</div>\n                  <div class=\"page-widget__page-note\">Making fundamentals non-negotiable.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">PS</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Postscript</div>\n                  <div class=\"page-widget__page-note\">A short operating model to carry forward.</div>\n                </div>\n              </a>\n            </li>\n          </ol>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <!-- PAGE WIDGET JS -->\n  <!-- SIDEBAR TOGGLE JS -->\n  <script>\n  (() => {\n    const sidebar = document.getElementById(''sidebar'');\n    const backdrop = document.getElementById(''sidebarBackdrop'');\n    const indicator = document.getElementById(''chapterIndicator'');\n    const icon = document.getElementById(''chapterIndicatorIcon'');\n    const header = document.getElementById(''header'');\n    const main = document.getElementById(''main'');\n    const body = document.body;\n\n    if (!sidebar || !backdrop || !indicator || !icon || !header || !main) return;\n\n    let isOpen = false;\n    let scrollTimeout = null;\n\n    const openSidebar = () => {\n      isOpen = true;\n      sidebar.classList.add(''sidebar--open'');\n      backdrop.classList.add(''sidebar-backdrop--visible'');\n      header.classList.add(''header--shifted'');\n      main.classList.add(''main--shifted'');\n      icon.classList.add(''chapter-number__icon--open'');\n      body.classList.add(''sidebar-open'');\n    };\n\n    const closeSidebar = () => {\n      isOpen = false;\n      sidebar.classList.remove(''sidebar--open'');\n      backdrop.classList.remove(''sidebar-backdrop--visible'');\n      header.classList.remove(''header--shifted'');\n      main.classList.remove(''main--shifted'');\n      icon.classList.remove(''chapter-number__icon--open'');\n      body.classList.remove(''sidebar-open'');\n    };\n\n    // Toggle sidebar\n    indicator.addEventListener(''click'', (e) => {\n      e.stopPropagation();\n      if (isOpen) {\n        closeSidebar();\n      } else {\n        openSidebar();\n      }\n    });\n\n    // Close sidebar when clicking backdrop\n    backdrop.addEventListener(''click'', () => {\n      closeSidebar();\n    });\n\n    // Close sidebar when clicking outside\n    document.addEventListener(''click'', (e) => {\n      // Don''t close sidebar if clicking on brand link or nav links\n      const brandLink = header.querySelector(''.brand'');\n      const isClickOnLink = brandLink && brandLink.contains(e.target);\n      const isClickOnNav = header.querySelector(''.nav'') && header.querySelector(''.nav'').contains(e.target);\n      \n      if (isOpen && !sidebar.contains(e.target) && !indicator.contains(e.target) && !isClickOnLink && !isClickOnNav) {\n        closeSidebar();\n      }\n    });\n\n    // Close sidebar on scroll (debounced)\n    const handleScroll = () => {\n      if (isOpen) {\n        clearTimeout(scrollTimeout);\n        scrollTimeout = setTimeout(() => {\n          closeSidebar();\n        }, 100);\n      }\n    };\n\n    // Listen for scroll on main content\n    window.addEventListener(''scroll'', handleScroll, { passive: true });\n    \n    // Also listen for scroll attempts on body (when scroll is disabled)\n    let lastScrollTop = window.pageYOffset;\n    const handleScrollAttempt = () => {\n      if (isOpen) {\n        const currentScrollTop = window.pageYOffset;\n        if (currentScrollTop !== lastScrollTop) {\n          closeSidebar();\n        }\n        lastScrollTop = currentScrollTop;\n      }\n    };\n\n    // Prevent scroll on body when sidebar is open\n    document.addEventListener(''wheel'', (e) => {\n      if (isOpen && !sidebar.contains(e.target)) {\n        e.preventDefault();\n        closeSidebar();\n      }\n    }, { passive: false });\n\n    // Prevent touch scroll on body when sidebar is open\n    document.addEventListener(''touchmove'', (e) => {\n      if (isOpen && !sidebar.contains(e.target)) {\n        e.preventDefault();\n        closeSidebar();\n      }\n    }, { passive: false });\n  })();\n  </script>\n\n  <!-- CHAPTER NAVIGATION (BOTTOM) JS -->\n  <script>\n  (() => {\n    // Chapter list: Preface = 0, Chapter 1-13 = 1-13, Postscript = 14\n    const chapters = [\n      { id: ''preface'', title: ''Preface'', url: ''https://arvinjaysoncastro.com/working-fundamentals-introduction'' },\n      { id: ''ch1'', title: ''Chapter 1'', url: ''https://arvinjaysoncastro.com/working-fundamentals-1-of-13-programming-fundamentals'' },\n      { id: ''ch2'', title: ''Chapter 2'', url: ''https://arvinjaysoncastro.com/working-fundamentals-2-of-13-data-structures'' },\n      { id: ''ch3'', title: ''Chapter 3'', url: ''https://arvinjaysoncastro.com/working-fundamentals-3-of-13-algorithms-and-complexity'' },\n      { id: ''ch4'', title: ''Chapter 4'', url: ''https://arvinjaysoncastro.com/working-fundamentals-4-of-13-control-and-flow'' },\n      { id: ''ch5'', title: ''Chapter 5'', url: ''https://arvinjaysoncastro.com/working-fundamentals-5-of-13-state-and-change'' },\n      { id: ''ch6'', title: ''Chapter 6'', url: ''https://arvinjaysoncastro.com/working-fundamentals-6-of-13-design-principles'' },\n      { id: ''ch7'', title: ''Chapter 7'', url: ''https://arvinjaysoncastro.com/working-fundamentals-7-of-13-architecture'' },\n      { id: ''ch8'', title: ''Chapter 8'', url: ''https://arvinjaysoncastro.com/working-fundamentals-8-of-13-persistence-and-data-modeling'' },\n      { id: ''ch9'', title: ''Chapter 9'', url: ''https://arvinjaysoncastro.com/working-fundamentals-9-of-13-interfaces-and-apis'' },\n      { id: ''ch10'', title: ''Chapter 10'', url: ''https://arvinjaysoncastro.com/working-fundamentals-10-of-13-errors-and-failure'' },\n      { id: ''ch11'', title: ''Chapter 11'', url: ''https://arvinjaysoncastro.com/working-fundamentals-11-of-13-testing'' },\n      { id: ''ch12'', title: ''Chapter 12'', url: ''https://arvinjaysoncastro.com/working-fundamentals-12-of-13-performance-and-scale'' },\n      { id: ''ch13'', title: ''Chapter 13'', url: ''https://arvinjaysoncastro.com/working-fundamentals-13-of-13-the-developers-role'' },\n      { id: ''postscript'', title: ''Postscript'', url: ''https://arvinjaysoncastro.com/working-fundamentals-outroduction'' }\n    ];\n\n    const currentChapterIndex = 2; // Chapter 2 is index 2 (Preface is 0, Chapter 1 is 1)\n    const prevLink = document.getElementById(''prevChapter'');\n    const nextLink = document.getElementById(''nextChapter'');\n\n    if (!prevLink || !nextLink) return;\n\n    // Previous chapter\n    if (currentChapterIndex > 0) {\n      const prevChapter = chapters[currentChapterIndex - 1];\n      prevLink.href = prevChapter.url;\n      prevLink.target = ''_blank'';\n      prevLink.innerHTML = `\n        <span class=\"chapter-nav-bottom__arrow\">‚Üê</span>\n        <span class=\"chapter-nav-bottom__label\">Previous: ${prevChapter.title}</span>\n      `;\n    } else {\n      // No previous chapter - show \"go back to book list\"\n      prevLink.href = ''https://arvinjaysoncastro.com/hungry-dev-mind'';\n      prevLink.target = ''_blank'';\n      prevLink.innerHTML = `\n        <span class=\"chapter-nav-bottom__arrow\">‚Üê</span>\n        <span class=\"chapter-nav-bottom__label\">Go back to book list</span>\n      `;\n    }\n\n    // Next chapter\n    if (currentChapterIndex < chapters.length - 1) {\n      const nextChapter = chapters[currentChapterIndex + 1];\n      nextLink.href = nextChapter.url;\n      nextLink.target = ''_blank'';\n      nextLink.innerHTML = `\n        <span class=\"chapter-nav-bottom__label\">Next: ${nextChapter.title}</span>\n        <span class=\"chapter-nav-bottom__arrow\">‚Üí</span>\n      `;\n    } else {\n      // No next chapter - show \"go back to book list\"\n      nextLink.href = ''https://arvinjaysoncastro.com/hungry-dev-mind'';\n      nextLink.target = ''_blank'';\n      nextLink.innerHTML = `\n        <span class=\"chapter-nav-bottom__label\">Go back to book list</span>\n        <span class=\"chapter-nav-bottom__arrow\">‚Üí</span>\n      `;\n    }\n  })();\n  </script>\n\n  <!-- OPTIONAL JS -->\n <script>\n(() => {\n  const wrap = document.querySelector(''.book-wrap'');\n  if (!wrap) return;\n\n  const slab1 = wrap.querySelector(''.shadow-slab'');\n  const slab2 = wrap.querySelector(''.shadow-slab-2'');\n  const slab3 = wrap.querySelector(''.shadow-slab-3'');\n  const slab4 = wrap.querySelector(''.shadow-slab-4'');\n  const front = wrap.querySelector(''.front-slab'');\n\n  const clamp = (v, min, max) => Math.max(min, Math.min(max, v));\n\n  let raf = 0;\n  let lx = 0; // light vector x\n  let ly = 0; // light vector y\n\n  function render() {\n    raf = 0;\n\n    // Shadow direction = opposite of light\n    const sx = -lx;\n    const sy = -ly;\n\n    const intensity = Math.abs(lx) + Math.abs(ly);\n\n    /* ---------------------------\n       SLAB 1 ‚Äî KEY CAST SHADOW\n    ---------------------------- */\n    slab1.style.transform =\n      `translate(${(sx * 38).toFixed(2)}px, ${(sy * 38).toFixed(2)}px)`;\n    slab1.style.filter =\n      `blur(${(14 + intensity * 6).toFixed(2)}px)`;\n    slab1.style.opacity =\n      (0.28 + intensity * 0.14).toFixed(2);\n\n    /* ---------------------------\n       SLAB 2 ‚Äî BOUNCE / COLOR BLEED\n    ---------------------------- */\n    slab2.style.transform =\n      `translate(${(sx * 14).toFixed(2)}px, ${(sy * 14).toFixed(2)}px)`;\n    slab2.style.filter =\n      `blur(${(6 + intensity * 4).toFixed(2)}px)`;\n    slab2.style.opacity =\n      (0.16 + intensity * 0.10).toFixed(2);\n\n    /* ---------------------------\n       SLAB 3 ‚Äî CONTACT SHADOW\n    ---------------------------- */\n    slab3.style.transform =\n      `translate(${(sx * 6).toFixed(2)}px, ${(sy * 6).toFixed(2)}px)`;\n    slab3.style.filter = `blur(9px)`;\n    slab3.style.opacity =\n      (0.24 + Math.abs(lx) * 0.06).toFixed(2);\n\n    /* ---------------------------\n       SLAB 4 ‚Äî AMBIENT DEPTH\n    ---------------------------- */\n    slab4.style.transform =\n      `translate(${(sx * 3).toFixed(2)}px, ${(sy * 3).toFixed(2)}px)`;\n    slab4.style.filter = `blur(18px)`;\n    slab4.style.opacity =\n      (0.16 + Math.abs(ly) * 0.04).toFixed(2);\n\n    /* ---------------------------\n       FRONT SLAB ‚Äî SPECULAR RESPONSE\n       (moves TOWARD light)\n    ---------------------------- */\nif (front) {\n  // Very subtle counter-parallax (NOT toward light)\n  front.style.transform =\n    `translate(${(-lx * 1.6).toFixed(2)}px, ${(-ly * 1.6).toFixed(2)}px)`;\n\n  // Opacity increases when light is grazing\n  front.style.opacity =\n    (0.34 + intensity * 0.22).toFixed(2);\n\n  // Highlight shifts OPPOSITE the light direction\n  const gx = 50 - lx * 28;\n  const gy = 50 - ly * 28;\n  front.style.backgroundPosition = `${gx}% ${gy}%`;\n}\n\n  }\n\n  function onMove(e) {\n    const r = wrap.getBoundingClientRect();\n    const cx = r.left + r.width / 2;\n    const cy = r.top + r.height / 2;\n\n    // LIGHT VECTOR (mouse = light source)\n    lx = clamp((e.clientX - cx) / (r.width / 2), -1, 1);\n    ly = clamp((e.clientY - cy) / (r.height / 2), -1, 1);\n\n    if (!raf) raf = requestAnimationFrame(render);\n  }\n\n  window.addEventListener(''mousemove'', onMove, { passive: true });\n})();\n</script>\n</body>\n</html>\n", "css": "body { font-family: system-ui; padding: 20px; }", "js": "console.log(\"Code Runner initialized\");", "imports": {"css": [], "js": []}, "entryPoint": {"type": "htmlDocument", "mountSelector": "#app", "injectMountIfMissing": true}, "settings": {"mode": "play", "viewport": {"type": "responsive", "background": "white"}, "securityPreset": "trusted", "autoRun": true, "runOnLoad": true}, "codePanel": {"isVisible": false, "isEditable": false}}}]}]}',
    NULL,
    1,
    NOW()
);


-- 3. Algorithms & Complexity
-- Slug: working-fundamentals-3-of-13-algorithms-and-complexity
-- ID: d3c6f385-754d-4d9d-b84d-2a617ce99f8f
-- File: ch_03.html
INSERT INTO App_Pages (
    id, org_id, name, slug, template_code, layout, layout_version, is_active,
    created_by_user_id, created_at, updated_at, visibility, description,
    is_template, template_metadata, kind, parent_id, section_tags, section_purpose,
    section_scope, palette_id, is_default_variation, variation_order, template_purpose,
    is_listed, is_org_landing_page, report, folder, layout_raw, layout_quarantine,
    layout_schema_version, layout_ingested_at
) VALUES (
    'd3c6f385-754d-4d9d-b84d-2a617ce99f8f',
    '82c2d096-2638-4837-83c8-e8a933bb17c7',
    'Algorithms & Complexity',
    'working-fundamentals-3-of-13-algorithms-and-complexity',
    NULL,
    '{"id": "block-root", "style": {}, "type": "container", "children": [{"id": "temp-container", "style": {"width": "100vw", "height": "100vh"}, "type": "container", "children": [{"id": "temp-coderunner", "style": {}, "type": "codeRunner", "data": {"html": "<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n  <meta charset=\"UTF-8\" />\n  <title>Working Fundamentals ‚Äî Arvin Jayson Castro</title>\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n\n  <!-- =====================\n       GLOBAL STYLES\n  ====================== -->\n  <style>\n    :root {\n      --bg: #f7f8f8;\n      --ink: #111111;\n      --muted: #666666;\n      --line: rgba(0,0,0,0.08);\n      --accent: #16a34a;\n      --link: #3b82f6;\n      --max-width: 1200px;\n    }\n\n    * {\n      box-sizing: border-box;\n    }\n\n    body {\n      margin: 0;\n      font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, sans-serif;\n      color: var(--ink);\n      background-color: var(--bg);\n      background-image:\n        radial-gradient(980px 560px at 14% 18%, rgba(16,185,129,0.10) 0%, rgba(16,185,129,0) 60%),\n        radial-gradient(860px 540px at 86% 74%, rgba(245,158,11,0.10) 0%, rgba(245,158,11,0) 62%),\n        repeating-linear-gradient(0deg, rgba(0,0,0,0.043) 0, rgba(0,0,0,0.043) 1px, transparent 1px, transparent 46px),\n        repeating-linear-gradient(90deg, rgba(0,0,0,0.043) 0, rgba(0,0,0,0.043) 1px, transparent 1px, transparent 46px);\n      min-height: 100vh;\n    }\n\n    a {\n      color: inherit;\n      text-decoration: none;\n    }\n\n    img {\n      max-width: 100%;\n      display: block;\n    }\n\n    /* =====================\n       PAGE WRAPPER\n    ====================== */\n    .page {\n      padding: 22px 24px;\n    }\n\n    .container {\n      max-width: var(--max-width);\n      margin: 0 auto;\n    }\n\n    /* =====================\n       SIDEBAR BACKDROP\n    ====================== */\n    .sidebar-backdrop {\n      position: fixed;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n      background: rgba(0, 0, 0, 0.2);\n      backdrop-filter: blur(4px);\n      -webkit-backdrop-filter: blur(4px);\n      opacity: 0;\n      visibility: hidden;\n      transition: opacity 0.3s ease, visibility 0.3s ease;\n      z-index: 999;\n      pointer-events: none;\n    }\n\n    .sidebar-backdrop--visible {\n      opacity: 1;\n      visibility: visible;\n      pointer-events: auto;\n    }\n\n    /* =====================\n       SIDEBAR\n    ====================== */\n    .sidebar {\n      position: fixed;\n      top: 0;\n      right: 0;\n      width: 320px;\n      height: 100vh;\n      background: var(--bg);\n      border-left: 1px solid var(--line);\n      transform: translateX(100%);\n      transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n      z-index: 1000;\n      overflow-y: auto;\n      padding: 24px;\n    }\n\n    .sidebar--open {\n      transform: translateX(0);\n    }\n\n    .sidebar__title {\n      font-size: 16px;\n      font-weight: 600;\n      margin-bottom: 24px;\n      color: var(--ink);\n    }\n\n    /* Prevent body scroll when sidebar is open */\n    body.sidebar-open {\n      overflow: hidden;\n    }\n\n    .sidebar__chapter-list {\n      list-style: none;\n      margin: 0;\n      padding: 0;\n    }\n\n    .sidebar__chapter-item {\n      margin: 0 0 8px 0;\n    }\n\n    .sidebar__chapter-link {\n      display: block;\n      font-size: 14px;\n      color: var(--muted);\n      text-decoration: none;\n      padding: 8px 0;\n      transition: color 0.2s ease;\n      line-height: 1.5;\n    }\n\n    .sidebar__chapter-link:hover {\n      color: var(--ink);\n    }\n\n    .sidebar__chapter-link {\n      color: var(--ink);\n      font-weight: 500;\n    }\n\n    /* =====================\n       HEADER (Top bar with chapter indicator)\n    ====================== */\n    .header {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      padding: 10px 0;\n      border-bottom: 1px solid var(--line);\n      position: relative;\n      transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n    }\n\n    .header--shifted {\n      transform: translateX(-320px);\n    }\n\n    .brand {\n      font-size: 16px;\n      font-weight: 600;\n      cursor: pointer;\n      display: inline-block;\n    }\n\n    .nav {\n      display: flex;\n      gap: 24px;\n      align-items: center;\n      font-size: 14px;\n    }\n\n    .nav a {\n      color: #1f2937;\n    }\n\n    .linkedin {\n      display: flex;\n      flex-direction: column;\n      align-items: flex-start;\n    }\n\n    .linkedin a {\n      color: var(--link);\n    }\n\n    .linkedin span {\n      font-family: Georgia, serif;\n      font-size: 9px;\n      font-style: italic;\n      color: #999;\n    }\n\n    /* =====================\n       MAIN GRID\n    ====================== */\n    .main {\n      padding-top: 48px;\n      padding-bottom: 48px;\n      display: flex;\n      justify-content: center;\n      align-items: start;\n    }\n\n    /* =====================\n       CHAPTER READING AREA (Option 1: Magazine-style)\n    ====================== */\n    .chapter-content {\n      max-width: 768px;\n      width: 100%;\n      margin: 0 auto;\n    }\n\n    .chapter-header {\n      margin-bottom: 56px;\n      padding-bottom: 32px;\n      border-bottom: 2px solid var(--line);\n    }\n\n    .book-title {\n      font-size: 12px;\n      letter-spacing: 0.15em;\n      text-transform: uppercase;\n      color: var(--muted);\n      font-weight: 500;\n      margin-bottom: 8px;\n      opacity: 0.7;\n    }\n\n    .chapter-number {\n      font-size: 13px;\n      letter-spacing: 0.2em;\n      text-transform: uppercase;\n      color: var(--muted);\n      font-weight: 600;\n      margin-bottom: 12px;\n      display: flex;\n      align-items: center;\n      gap: 8px;\n      cursor: pointer;\n      user-select: none;\n      transition: color 0.2s ease;\n    }\n\n    .chapter-number:hover {\n      color: var(--ink);\n    }\n\n    .chapter-number__icon {\n      font-size: 10px;\n      opacity: 0.6;\n      transition: transform 0.3s ease, opacity 0.2s ease;\n    }\n\n    .chapter-number:hover .chapter-number__icon {\n      opacity: 0.8;\n    }\n\n    .chapter-number__icon--open {\n      transform: rotate(180deg);\n    }\n\n    .chapter-title {\n      font-size: 56px;\n      font-weight: 900;\n      line-height: 1.05;\n      margin: 0 0 20px 0;\n      color: var(--ink);\n      letter-spacing: -0.03em;\n    }\n\n    .chapter-subtitle {\n      font-size: 22px;\n      font-weight: 500;\n      color: var(--muted);\n      line-height: 1.4;\n      margin: 0;\n    }\n\n    .chapter-body {\n      font-size: 19px;\n      line-height: 1.8;\n      color: var(--ink);\n      max-width: none;\n      font-weight: 400;\n    }\n\n    .chapter-body p {\n      margin: 0 0 28px 0;\n    }\n\n    .chapter-body p:last-child {\n      margin-bottom: 0;\n    }\n\n    .chapter-body h2 {\n      font-size: 36px;\n      font-weight: 800;\n      line-height: 1.2;\n      margin: 56px 0 24px 0;\n      color: var(--ink);\n      letter-spacing: -0.02em;\n    }\n\n    .chapter-body h3 {\n      font-size: 26px;\n      font-weight: 700;\n      line-height: 1.3;\n      margin: 40px 0 18px 0;\n      color: var(--ink);\n      letter-spacing: -0.01em;\n    }\n\n    .chapter-body strong {\n      font-weight: 600;\n      color: var(--ink);\n    }\n\n    .chapter-body em {\n      font-style: italic;\n    }\n\n    .chapter-body ul,\n    .chapter-body ol {\n      margin: 28px 0;\n      padding-left: 36px;\n    }\n\n    .chapter-body li {\n      margin-bottom: 14px;\n      line-height: 1.75;\n    }\n\n    .chapter-body blockquote {\n      margin: 40px 0;\n      padding-left: 28px;\n      border-left: 4px solid var(--accent);\n      font-style: italic;\n      color: var(--muted);\n      font-size: 18px;\n      line-height: 1.7;\n    }\n\n    .chapter-body code {\n      font-family: ''Monaco'', ''Menlo'', ''Courier New'', monospace;\n      font-size: 0.9em;\n      background: rgba(0,0,0,0.04);\n      padding: 2px 6px;\n      border-radius: 3px;\n    }\n\n    .chapter-body pre {\n      background: rgba(0,0,0,0.04);\n      padding: 20px;\n      border-radius: 8px;\n      overflow-x: auto;\n      margin: 24px 0;\n    }\n\n    .chapter-body pre code {\n      background: none;\n      padding: 0;\n    }\n\n    /* Content shift when sidebar opens */\n    .main {\n      transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n    }\n\n    .main--shifted {\n      transform: translateX(-320px);\n    }\n\n    /* Prevent horizontal scroll */\n    body {\n      overflow-x: hidden;\n    }\n\n    .page {\n      overflow-x: hidden;\n    }\n\n    /* =====================\n       CHAPTER NAVIGATION (BOTTOM)\n    ====================== */\n    .chapter-nav-bottom {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      max-width: 768px;\n      width: 100%;\n      margin: 64px auto 0 auto;\n      padding: 24px 0;\n      border-top: 1px solid var(--line);\n    }\n\n    .chapter-nav-bottom__link {\n      display: flex;\n      align-items: center;\n      gap: 8px;\n      font-size: 14px;\n      color: var(--muted);\n      text-decoration: none;\n      transition: color 0.2s ease;\n      padding: 8px 0;\n    }\n\n    .chapter-nav-bottom__link:hover {\n      color: var(--ink);\n    }\n\n    .chapter-nav-bottom__arrow {\n      font-size: 16px;\n      opacity: 0.7;\n    }\n\n    .chapter-nav-bottom__label {\n      font-weight: 500;\n    }\n\n    .chapter-nav-bottom__link--prev {\n      margin-right: auto;\n    }\n\n    .chapter-nav-bottom__link--next {\n      margin-left: auto;\n    }\n\n    .chapter-nav-bottom__link--disabled {\n      opacity: 0.4;\n      cursor: not-allowed;\n      pointer-events: none;\n    }\n\n    .page-widget__pages {\n      max-height: 0;\n      overflow: hidden;\n      transition: max-height 0.4s cubic-bezier(0.4, 0, 0.2, 1),\n                  opacity 0.3s ease,\n                  margin-top 0.3s ease;\n      opacity: 0;\n      margin-top: 0;\n      background: rgba(255, 255, 255, 0.98);\n      backdrop-filter: blur(12px);\n      -webkit-backdrop-filter: blur(12px);\n      border: 1px solid rgba(0, 0, 0, 0.06);\n      border-radius: 12px;\n      box-shadow: 0 2px 12px rgba(0, 0, 0, 0.06);\n    }\n\n    .page-widget__pages--expanded {\n      max-height: 500px;\n      opacity: 1;\n      margin-top: 12px;\n      padding: 8px;\n    }\n\n    .page-widget__pages-list {\n      list-style: none;\n      margin: 0;\n      padding: 0;\n      display: flex;\n      flex-direction: column;\n      gap: 8px;\n      max-height: 400px;\n      overflow-y: auto;\n      padding-right: 4px;\n    }\n\n    .page-widget__pages-list::-webkit-scrollbar {\n      width: 6px;\n    }\n\n    .page-widget__pages-list::-webkit-scrollbar-track {\n      background: rgba(0, 0, 0, 0.02);\n      border-radius: 3px;\n    }\n\n    .page-widget__pages-list::-webkit-scrollbar-thumb {\n      background: rgba(0, 0, 0, 0.12);\n      border-radius: 3px;\n    }\n\n    .page-widget__pages-list::-webkit-scrollbar-thumb:hover {\n      background: rgba(0, 0, 0, 0.2);\n    }\n\n    .page-widget__page-item {\n      display: flex;\n      align-items: center;\n      gap: 10px;\n      padding: 8px 10px;\n      border-radius: 8px;\n      cursor: pointer;\n      transition: all 0.2s ease;\n      text-decoration: none;\n      color: var(--ink);\n    }\n\n    .page-widget__page-item:hover {\n      background: rgba(0, 0, 0, 0.03);\n      transform: translateX(2px);\n    }\n\n    .page-widget__page-item--current {\n      background: rgba(22, 163, 74, 0.08);\n      color: var(--accent);\n      font-weight: 500;\n    }\n\n    .page-widget__page-item--current:hover {\n      background: rgba(22, 163, 74, 0.12);\n    }\n\n    .page-widget__page-number {\n      display: inline-flex;\n      align-items: center;\n      justify-content: center;\n      width: 24px;\n      height: 24px;\n      background: rgba(0, 0, 0, 0.04);\n      border-radius: 5px;\n      font-size: 11px;\n      font-weight: 500;\n      flex-shrink: 0;\n      color: var(--muted);\n    }\n\n    .page-widget__page-item--current .page-widget__page-number {\n      background: rgba(22, 163, 74, 0.15);\n      color: var(--accent);\n    }\n\n    .page-widget__page-info {\n      flex: 1;\n      min-width: 0;\n    }\n\n    .page-widget__page-name {\n      font-size: 13px;\n      font-weight: 500;\n      line-height: 1.3;\n      margin: 0 0 2px 0;\n    }\n\n    .page-widget__page-note {\n      font-size: 11px;\n      color: var(--muted);\n      line-height: 1.3;\n      margin: 0;\n      white-space: nowrap;\n      overflow: hidden;\n      text-overflow: ellipsis;\n    }\n\n    @media (max-width: 768px) {\n      .page-widget__pages-list {\n        max-height: 300px;\n      }\n    }\n\n\n/* ===============================\n   WRAPPER\n================================ */\n.book-wrap {\n  width: 320px;\n  aspect-ratio: 2 / 3;\n  position: relative;\n}\n\n/* ===============================\n   CAST SHADOW SLAB (REAL SHADOW)\n================================ */\n.shadow-slab {\n    position: absolute;\n    position: absolute;\n    inset: 0;\n    border-radius: 22px;\n    /* background: #2a2a2a; */\n    transform: translate(-30px, 30px);\n    filter: blur(13px);\n    opacity: 0.35;\n    z-index: 0;\n    background: radial-gradient(ellipse at 15% 85%, rgba(0, 0, 0, 0.35), rgba(0, 0, 0, 0.18) 35%, transparent 65%), linear-gradient(to right, #1f1f1f 0%, #2a2a2a 45%, #3a3a3a 100%);\n}\n\n.shadow-slab-2 {\n    position: absolute;\n    inset: 0;\n    border-radius: 22px;\n    background: radial-gradient(circle at top right, #f6e6a8 0%, #e2c36b 35%, #b58a3c 70%, #7a5524 100%);\n    transform: translate(-10px, 10px);\n    filter: blur(5px);\n    opacity: 0.35;\n    z-index: 0;\n}\n\n.shadow-slab-3 {\n    position: absolute;\n    inset: 0;\n    border-radius: 22px;\n    background: #333;\n    transform: translate(0px, 0px);\n    filter: blur(11px);\n    opacity: 0.35;\n    z-index: 0;\n}\n\n.shadow-slab-4 {\n    position: absolute;\n    inset: 0;\n    border-radius: 22px;\n    background: #333;\n    transform: translate(0px, 0px);\n    filter: blur(11px);\n    opacity: 0.35;\n    z-index: 0;\n}\n\n/* ===============================\n   FRONT SLAB & SPIN HANDLE\n================================ */\n\n.front-slab {\n    position: absolute;\n    inset: 0;\n    border-radius: 22px;\n    background: linear-gradient(to right, rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.1) 3%, transparent 1%);\n    /* background: green; */\n    z-index: 3;\n    opacity: .5;\n    transform: translateZ(6px);\n    pointer-events: none;\n}\n\n.spin-handle {\n  display: none;\n  position: absolute;\n  top: 50%;\n  right: -22px;\n  width: 14px;\n  height: 48px;\n  border-radius: 999px;\n  background: rgba(0,0,0,0.25);\n  backdrop-filter: blur(4px);\n  cursor: grab;\n  z-index: 10;\n}\n\n/* ===============================\n   BOOK OBJECT (NO SHADOW)\n================================ */\n.book {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  border-radius: 22px;\n  overflow: hidden;\n  z-index: 2;\n\n  /* IMPORTANT: no box-shadow */\n  box-shadow: none;\n\n  /* transform: perspective(1200px) rotateX(0.6deg); */\n}\n\n/* ===============================\n   PAPER SURFACE (LIGHT FIELD)\n================================ */\n.book .surface {\n  position: absolute;\n  inset: 0;\n  border-radius: inherit;\n  pointer-events: none;\n  z-index: 1;\n\n  background:\n    linear-gradient(\n      to bottom left,\n      rgba(255,255,255,1) 0%,\n      rgba(250,250,250,1) 42%,\n      rgba(240,240,240,1) 100%\n    ),\n    repeating-linear-gradient(\n      0deg,\n      rgba(0,0,0,0.01),\n      rgba(0,0,0,0.01) 1px,\n      transparent 1px,\n      transparent 3px\n    );\n}\n\n/* ===============================\n   LEFT OCCLUSION (CURTAIN)\n================================ */\n.book .curtain {\n  position: absolute;\n  inset: 0;\n  border-radius: inherit;\n  pointer-events: none;\n  z-index: 2;\n\n  background:\n    linear-gradient(\n      to right,\n      rgba(0,0,0,0.20) 0%,\n      rgba(0,0,0,0.12) 8%,\n      rgba(0,0,0,0.05) 16%,\n      rgba(0,0,0,0.02) 22%,\n      rgba(0,0,0,0.00) 30%\n    );\n}\n\n/* ===============================\n   RIGHT HIGHLIGHT\n================================ */\n.book .highlight {\n  position: absolute;\n  inset: 0;\n  border-radius: inherit;\n  pointer-events: none;\n  z-index: 3;\n\n  background:\n    linear-gradient(\n      to left,\n      rgba(255,255,255,0.35) 0%,\n      rgba(255,255,255,0.18) 6%,\n      rgba(255,255,255,0.06) 14%,\n      rgba(255,255,255,0.00) 24%\n    );\n}\n\n/* ===============================\n   PAGE EDGE (THICKNESS)\n================================ */\n.book .edge {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 120px;\n  height: 100%;\n  border-radius: 22px 0 0 22px;\n  pointer-events: none;\n  z-index: 4;\n\n  background:\n    linear-gradient(\n      to right,\n      rgba(215,215,215,0.95) 0%,\n      rgba(245,245,245,0.95) 40%,\n      rgba(255,255,255,0.95) 75%\n    );\n\n  box-shadow:\n    inset -1px 0 0 rgba(0,0,0,0.05);\n}\n\n/* ===============================\n   SVG (PURE WHITE)\n================================ */\n.book svg {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  display: block;\n  z-index: 5;\n}\n\n    /* =====================\n       LEFT: BOOK COVER\n    ====================== */\n    .book-cover {\n      display: flex;\n      flex-direction: column;\n      gap: 12px;\n    }\n\n\n    /* ===============================\n       BOOK + SHADOW SYSTEM\n    =============================== */\n    .book-wrap {\n      width: 320px;\n      aspect-ratio: 2 / 3;\n      position: relative;\n    }\n\n    .shadow-slab,\n    .shadow-slab-2,\n    .shadow-slab-3,\n    .shadow-slab-4 {\n      position: absolute;\n      inset: 0;\n      border-radius: 22px;\n      z-index: 0;\n      will-change: transform, filter, opacity;\n    }\n\n    .shadow-slab {\n      background:\n        radial-gradient(ellipse at 15% 85%, rgba(0,0,0,0.35), rgba(0,0,0,0.18) 35%, transparent 65%),\n        linear-gradient(to right, #1f1f1f 0%, #2a2a2a 45%, #3a3a3a 100%);\n      filter: blur(13px);\n      opacity: 0.35;\n    }\n\n    .shadow-slab-2 {\n      background: radial-gradient(circle at top right, #f6e6a8 0%, #e2c36b 35%, #b58a3c 70%, #7a5524 100%);\n      filter: blur(6px);\n      opacity: 0.30;\n    }\n\n    .shadow-slab-3,\n    .shadow-slab-4 {\n      background: #333;\n      filter: blur(11px);\n      opacity: 0.30;\n    }\n\n    .book {\n      position: relative;\n      width: 100%;\n      height: 100%;\n      border-radius: 22px;\n      overflow: hidden;\n      z-index: 2;\n      background: #f7f4ee;\n    }\n\n    .front-slab {\n      position: absolute;\n      inset: 0;\n      border-radius: 22px;\n      background: linear-gradient(to right, rgba(0,0,0,0.4), rgba(0,0,0,0.1) 3%, transparent 10%);\n      z-index: 3;\n      pointer-events: none;\n      opacity: 0.5;\n    }\n\n\n    @media (prefers-reduced-motion: reduce) {\n      .cover-frame {\n        transition: none;\n        transform: none;\n      }\n      .cover-frame:hover {\n        --lift: 0;\n      }\n    }\n\n    .start-reading {\n      display: inline-flex;\n      align-items: center;\n      justify-content: center;\n      width: 100%;\n      padding: 12px 14px;\n      border-radius: 999px;\n\n      font-size: 11px;\n      letter-spacing: 0.16em;\n      text-transform: uppercase;\n      font-weight: 650;\n      color: rgba(34,197,94,0.92);\n      text-shadow:\n        0 0 10px rgba(34,197,94,0.22),\n        0 0 22px rgba(34,197,94,0.14);\n\n      /* graphite: dark + slightly mineral */\n      background:\n        radial-gradient(120% 140% at 20% 10%, rgba(255,255,255,0.10) 0%, rgba(255,255,255,0.00) 55%),\n        radial-gradient(140% 140% at 80% 90%, rgba(255,255,255,0.06) 0%, rgba(255,255,255,0.00) 60%),\n        linear-gradient(180deg, #141414 0%, #0a0a0a 100%);\n      border: 1px solid rgba(255,255,255,0.10);\n      box-shadow:\n        0 14px 34px rgba(0,0,0,0.22),\n        0 8px 16px rgba(0,0,0,0.18),\n        inset 0 1px 0 rgba(255,255,255,0.10),\n        inset 0 -1px 0 rgba(0,0,0,0.55);\n\n      position: relative;\n      overflow: hidden;\n      cursor: pointer;\n      user-select: none;\n      -webkit-tap-highlight-color: transparent;\n\n      transition:\n        transform 160ms cubic-bezier(0.2, 0.8, 0.2, 1),\n        box-shadow 160ms cubic-bezier(0.2, 0.8, 0.2, 1),\n        border-color 160ms cubic-bezier(0.2, 0.8, 0.2, 1);\n    }\n\n    .start-reading::before {\n      content: \"\";\n      position: absolute;\n      inset: 0;\n      pointer-events: none;\n      /* texture + sheen (very subtle) */\n      background:\n        linear-gradient(120deg, rgba(255,255,255,0.12) 0%, rgba(255,255,255,0.00) 46%),\n        repeating-linear-gradient(0deg,\n          rgba(255,255,255,0.028) 0px,\n          rgba(255,255,255,0.028) 1px,\n          rgba(0,0,0,0.00) 3px,\n          rgba(0,0,0,0.00) 6px),\n        radial-gradient(120% 90% at 50% 0%, rgba(34,197,94,0.14) 0%, rgba(34,197,94,0.00) 62%);\n      opacity: 0.75;\n    }\n\n    .start-reading:hover {\n      transform: translateY(-1px);\n      border-color: rgba(34,197,94,0.30);\n      box-shadow:\n        0 18px 42px rgba(0,0,0,0.24),\n        0 10px 18px rgba(0,0,0,0.18),\n        inset 0 1px 0 rgba(255,255,255,0.12),\n        inset 0 -1px 0 rgba(0,0,0,0.55);\n      text-shadow:\n        0 0 12px rgba(34,197,94,0.28),\n        0 0 26px rgba(34,197,94,0.18);\n    }\n\n    .start-reading:active {\n      transform: translateY(0px);\n      box-shadow:\n        0 14px 34px rgba(0,0,0,0.22),\n        0 8px 16px rgba(0,0,0,0.18),\n        inset 0 1px 0 rgba(255,255,255,0.10),\n        inset 0 -1px 0 rgba(0,0,0,0.55);\n    }\n\n    .start-reading:focus-visible {\n      outline: none;\n      box-shadow:\n        0 18px 42px rgba(0,0,0,0.24),\n        0 0 0 4px rgba(34,197,94,0.22),\n        0 0 0 1px rgba(34,197,94,0.26),\n        inset 0 1px 0 rgba(255,255,255,0.12),\n        inset 0 -1px 0 rgba(0,0,0,0.55);\n      border-color: rgba(34,197,94,0.34);\n    }\n\n    @media (prefers-reduced-motion: reduce) {\n      .start-reading {\n        transition: none;\n      }\n      .start-reading:hover {\n        transform: none;\n      }\n    }\n\n    /* =====================\n       CENTER: CONTENT\n    ====================== */\n    .content h1 {\n      font-size: 40px;\n      font-weight: 800;\n      line-height: 1.15;\n      margin: 0;\n    }\n\n    .byline {\n      font-size: 13px;\n      letter-spacing: 0.12em;\n      color: #666;\n      font-weight: 600;\n    }\n\n    .tagline {\n      font-size: 18px;\n      font-weight: 500;\n      color: #333;\n    }\n\n    .paragraph {\n      font-size: 15px;\n      color: #222;\n    }\n\n    .meta {\n      margin-top: 20px;\n      padding-top: 20px;\n      border-top: 1px solid var(--line);\n      display: grid;\n      grid-template-columns: repeat(2, 1fr);\n      gap: 12px 24px;\n      font-size: 13px;\n    }\n\n    .author {\n      margin-top: 20px;\n      padding-top: 20px;\n      border-top: 1px solid var(--line);\n      display: flex;\n      gap: 16px;\n      align-items: flex-start;\n    }\n\n    .author img {\n      width: 44px;\n      height: 44px;\n      border-radius: 50%;\n    }\n\n    /* =====================\n       RIGHT: RELATED\n    ====================== */\n    .related {\n      display: flex;\n      flex-direction: column;\n      gap: 20px;\n    }\n\n    .related-title {\n      font-size: 11px;\n      letter-spacing: 0.14em;\n      color: #666;\n      text-transform: uppercase;\n      font-weight: 600;\n    }\n\n    .related-item {\n      display: flex;\n      flex-direction: column;\n      gap: 6px;\n      cursor: pointer;\n      transition: transform 0.12s ease, box-shadow 0.12s ease;\n    }\n\n    .related-item:hover {\n      transform: translateY(-2px);\n    }\n\n    .related-thumb {\n      border-radius: 6px;\n      overflow: hidden;\n      aspect-ratio: 3 / 4;\n      box-shadow: 0 8px 24px rgba(0,0,0,0.1);\n\n      /* Gray placeholder shape */\n      background: linear-gradient(135deg, #e5e7eb 0%, #d1d5db 45%, #cbd5e1 100%);\n      border: 1px solid rgba(0,0,0,0.06);\n    }\n\n    .related-thumb img {\n      width: 100%;\n      height: 100%;\n      object-fit: cover;\n      filter: grayscale(1);\n      opacity: 0.85;\n      transition: filter 160ms ease, opacity 160ms ease;\n    }\n\n    .related-thumb .thumb-placeholder {\n      width: 100%;\n      height: 100%;\n      display: block;\n    }\n\n    .related-item a {\n      font-size: 12px;\n      font-weight: 600;\n      color: #111;\n    }\n\n    /* =====================\n       RIGHT: 13 CHAPTERS\n    ====================== */\n    .chapters {\n      display: flex;\n      flex-direction: column;\n      gap: 10px;\n    }\n\n    .chapters-title {\n      font-size: 11px;\n      letter-spacing: 0.12em;\n      color: rgba(17,17,17,0.52);\n      text-transform: uppercase;\n      font-weight: 600;\n    }\n\n    .chapters-help {\n      margin-top: -4px;\n      font-size: 11px;\n      line-height: 1.35;\n      color: rgba(17,17,17,0.42);\n    }\n\n    .chapter-list {\n      list-style: none;\n      padding: 0;\n      margin: 0;\n      display: flex;\n      flex-direction: column;\n      gap: 0;\n      border-top: 1px solid rgba(0,0,0,0.06);\n    }\n\n    .chapter-item {\n      display: grid;\n      grid-template-columns: 3ch 1fr;\n      gap: 12px;\n      align-items: start;\n      padding: 10px 0;\n      border-bottom: 1px solid rgba(0,0,0,0.06);\n    }\n\n    .chapter-item--preface .chapter-name {\n      font-weight: 760;\n      letter-spacing: -0.01em;\n      color: rgba(17,17,17,0.90);\n    }\n\n    .chapter-item--current .chapter-name {\n      color: rgba(17,17,17,0.92);\n      text-decoration: underline;\n      text-decoration-thickness: 1px;\n      text-underline-offset: 3px;\n      text-decoration-color: rgba(17,17,17,0.22);\n    }\n\n    .chapter-num {\n      width: auto;\n      height: auto;\n      border-radius: 0;\n      display: block;\n      text-align: right;\n      font-size: 11px;\n      font-weight: 650;\n      color: rgba(17,17,17,0.46);\n      font-variant-numeric: tabular-nums;\n    }\n\n    .chapter-name {\n      font-size: 12px;\n      font-weight: 600;\n      color: rgba(17,17,17,0.80);\n      line-height: 1.3;\n    }\n\n    .chapter-note {\n      margin-top: 2px;\n      font-size: 11px;\n      color: rgba(17,17,17,0.46);\n      line-height: 1.4;\n    }\n\n    /* =====================\n       RESPONSIVE\n    ====================== */\n    @media (max-width: 900px) {\n      .chapter-content {\n        max-width: 100%;\n        padding: 0 24px;\n      }\n\n      .page-widget {\n        max-width: 100%;\n        margin-left: 24px;\n        margin-right: 24px;\n      }\n\n      .chapter-title {\n        font-size: 42px;\n      }\n\n      .chapter-body {\n        font-size: 18px;\n      }\n\n      .chapter-body h2 {\n        font-size: 32px;\n      }\n\n      .chapter-body h3 {\n        font-size: 24px;\n      }\n    }\n\n    @media (max-width: 768px) {\n      .header {\n        flex-direction: column;\n        gap: 12px;\n      }\n\n      .chapter-content {\n        padding: 0 16px;\n      }\n\n      .page-widget {\n        margin-left: 16px;\n        margin-right: 16px;\n      }\n\n      .chapter-title {\n        font-size: 38px;\n      }\n\n      .chapter-body {\n        font-size: 17px;\n      }\n\n      .chapter-body h2 {\n        font-size: 30px;\n      }\n\n      .chapter-body h3 {\n        font-size: 22px;\n      }\n    }\n  </style>\n</head>\n\n<body>\n  <div class=\"page\">\n    <div class=\"container\">\n\n      <!-- SIDEBAR BACKDROP -->\n      <div class=\"sidebar-backdrop\" id=\"sidebarBackdrop\"></div>\n\n      <!-- SIDEBAR -->\n      <aside class=\"sidebar\" id=\"sidebar\">\n        <div class=\"sidebar__title\">Working Fundamentals</div>\n        <ul class=\"sidebar__chapter-list\">\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-introduction\" class=\"sidebar__chapter-link\" target=\"_blank\">Introduction</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-3-of-13-algorithms-and-complexity\" class=\"sidebar__chapter-link sidebar__chapter-link\" target=\"_blank\">Chapter 3 ¬∑ Algorithms & Complexity</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-3-of-13-algorithms-and-complexity\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 3 ¬∑ Algorithms & Complexity</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-3-of-13-algorithms-and-complexity\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 3 ¬∑ Algorithms & Complexity</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-3-of-13-algorithms-and-complexity\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 3 ¬∑ Algorithms & Complexity</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-3-of-13-algorithms-and-complexity\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 3 ¬∑ Algorithms & Complexity</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-3-of-13-algorithms-and-complexity\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 3 ¬∑ Algorithms & Complexity</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-3-of-13-algorithms-and-complexity\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 3 ¬∑ Algorithms & Complexity</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-3-of-13-algorithms-and-complexity\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 3 ¬∑ Algorithms & Complexity</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-3-of-13-algorithms-and-complexity\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 3 ¬∑ Algorithms & Complexity</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-3-of-13-algorithms-and-complexity\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 3 ¬∑ Algorithms & Complexity</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-3-of-13-algorithms-and-complexity\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 3 ¬∑ Algorithms & Complexity</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-3-of-13-algorithms-and-complexity\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 3 ¬∑ Algorithms & Complexity</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-3-of-13-algorithms-and-complexity\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 3 ¬∑ Algorithms & Complexity</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-outroduction\" class=\"sidebar__chapter-link\" target=\"_blank\">Outroduction</a>\n          </li>\n        </ul>\n      </aside>\n\n      <!-- HEADER -->\n      <header class=\"header\" id=\"header\">\n        <a href=\"https://arvinjaysoncastro.com/\" class=\"brand\" target=\"_blank\">Arvin Jayson Castro</a>\n        <nav class=\"nav\">\n          <a href=\"https://arvinjaysoncastro.com/hungry-dev-mind\" target=\"_blank\">Books</a>\n          <a href=\"https://arvinjaysoncastro.com/working-systems\" target=\"_blank\">Working Systems</a>\n          <a href=\"https://arvinjaysoncastro.com/about\" target=\"_blank\">16 Years</a>\n          <div class=\"linkedin\">\n            <a href=\"https://www.linkedin.com/in/arvin-jayson-castro-7458199a/\" target=\"_blank\">linkedIn</a>\n            <span>let''s connect</span>\n          </div>\n        </nav>\n      </header>\n\n      <!-- PAGE WIDGET (TOP) - REMOVED -->\n      <div style=\"display: none;\">\n          <ol class=\"page-widget__pages-list\">\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">P</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Preface</div>\n                  <div class=\"page-widget__page-note\">Why fundamentals still decide outcomes.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item page-widget__page-item--current\">\n                <span class=\"page-widget__page-number\">1</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 1</div>\n                  <div class=\"page-widget__page-note\">Core principles and constraints.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">2</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 2</div>\n                  <div class=\"page-widget__page-note\">Boundaries, ownership, and interfaces.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">3</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 3</div>\n                  <div class=\"page-widget__page-note\">State, consistency, and failure modes.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">4</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 4</div>\n                  <div class=\"page-widget__page-note\">Abstractions that survive change.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">5</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 5</div>\n                  <div class=\"page-widget__page-note\">Simplicity as an engineering practice.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">6</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 6</div>\n                  <div class=\"page-widget__page-note\">Reliability, observability, and feedback.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">7</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 7</div>\n                  <div class=\"page-widget__page-note\">Delivery systems and decision hygiene.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">8</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 8</div>\n                  <div class=\"page-widget__page-note\">Documentation that stays useful.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">9</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 9</div>\n                  <div class=\"page-widget__page-note\">Testing strategy for predictable change.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">10</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 10</div>\n                  <div class=\"page-widget__page-note\">Pragmatic architecture for teams.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">11</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 11</div>\n                  <div class=\"page-widget__page-note\">Operational excellence without ceremony.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">12</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 12</div>\n                  <div class=\"page-widget__page-note\">Leadership, standards, and leverage.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">13</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 13</div>\n                  <div class=\"page-widget__page-note\">Making fundamentals non-negotiable.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">PS</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Postscript</div>\n                  <div class=\"page-widget__page-note\">A short operating model to carry forward.</div>\n                </div>\n              </a>\n            </li>\n          </ol>\n        </div>\n      </div>\n\n      <!-- MAIN -->\n      <main class=\"main\" id=\"main\">\n\n        <!-- CHAPTER CONTENT (Option 1: Magazine-style) -->\n        <article class=\"chapter-content\">\n          <header class=\"chapter-header\">\n            <div class=\"book-title\">Working Fundamentals</div>\n            <div class=\"chapter-number\" id=\"chapterIndicator\">\n              <span>chapter 3 of 13</span>\n              <span class=\"chapter-number__icon\" id=\"chapterIndicatorIcon\">‚ñæ</span>\n            </div>\n            <h1 class=\"chapter-title\">Algorithms & Complexity</h1>\n            <p class=\"chapter-subtitle\">Cost is behavior made visible</p>\n          </header>\n\n          <div class=\"chapter-body\">\n            <h3>What this chapter is</h3>\n\n            <p>This chapter is not a catalog of algorithms.It is not a race for cleverness.It is not about trick solutions.</p>\n\n            <p>This chapter explains <strong>why cost exists</strong> and <strong>how it shapes systems</strong>.</p>\n\n            <p>Algorithms are not about speed.They are about <strong>tradeoffs you cannot escape</strong>.</p>\n\n            <h2>The core truth</h2>\n\n            <p>Every operation has a cost.</p>\n\n            <p>If you do not name the cost,the system will pay it <strong>somewhere else</strong>.</p>\n\n            <p>Time, space, and complexity do not disappear.They only move.</p>\n\n            <h2>What an algorithm really is</h2>\n\n            <p>An algorithm is not code.</p>\n\n            <p>It is a <strong>decision procedure</strong>:</p>\n\n            <ul>\n\n            <li>how work progresses</li>\n\n            </ul>\n\n            <ul>\n\n            <li>how often it repeats</li>\n\n            </ul>\n\n            <ul>\n\n            <li>how it grows with input</li>\n\n            </ul>\n\n            <p>Code is just the expression.</p>\n\n            <p>üß† <strong>Mental Model</strong>An algorithm describes <em>how effort scales</em>, not <em>what happens once</em>.</p>\n\n            <h2>Complexity is about growth, not size</h2>\n\n            <p>Many misunderstand complexity as ‚Äúfast vs slow.‚Äù</p>\n\n            <p>That is shallow.</p>\n\n            <p>Complexity answers a deeper question:</p>\n\n            <blockquote>_What happens when this grows?_</blockquote>\n\n            <ul>\n\n            <li>More users</li>\n\n            </ul>\n\n            <ul>\n\n            <li>More data</li>\n\n            </ul>\n\n            <ul>\n\n            <li>More interactions</li>\n\n            </ul>\n\n            <ul>\n\n            <li>More time</li>\n\n            </ul>\n\n            <p>A solution that works at small scale can collapse silently at larger scale.</p>\n\n            <p>‚ö†Ô∏è <strong>Common Drift</strong>Systems fail when growth was never modeled.</p>\n\n            <h2>Big-O is a warning label, not a badge</h2>\n\n            <p>Big-O notation is often misused as a flex.</p>\n\n            <p>That misses the point.</p>\n\n            <p>Big-O exists to say:</p>\n\n            <ul>\n\n            <li>‚ÄúThis will get expensive.‚Äù</li>\n\n            </ul>\n\n            <ul>\n\n            <li>‚ÄúThis will stay stable.‚Äù</li>\n\n            </ul>\n\n            <ul>\n\n            <li>‚ÄúThis will surprise you later.‚Äù</li>\n\n            </ul>\n\n            <p>üß† <strong>Perspective</strong>Big-O does not measure speed.It measures <strong>risk under growth</strong>.</p>\n\n            <h2>The invisible loop problem</h2>\n\n            <p>Most performance issues come from <strong>unseen repetition</strong>.</p>\n\n            <ul>\n\n            <li>loops inside loops</li>\n\n            </ul>\n\n            <ul>\n\n            <li>repeated lookups</li>\n\n            </ul>\n\n            <ul>\n\n            <li>redundant transformations</li>\n\n            </ul>\n\n            <ul>\n\n            <li>recomputation instead of reuse</li>\n\n            </ul>\n\n            <p>Individually harmless.Collectively destructive.</p>\n\n            <p>üß† <strong>Architect‚Äôs Note</strong>If work repeats, ask <em>why</em> before asking <em>how fast</em>.</p>\n\n            <h2>Structure determines algorithmic cost</h2>\n\n            <p>Algorithms do not live alone.</p>\n\n            <p>They sit on top of:</p>\n\n            <ul>\n\n            <li>data structures</li>\n\n            </ul>\n\n            <ul>\n\n            <li>access patterns</li>\n\n            </ul>\n\n            <ul>\n\n            <li>assumptions about ordering and uniqueness</li>\n\n            </ul>\n\n            <p>A poor structure forces expensive algorithms.A good structure simplifies them.</p>\n\n            <p>This is why Chapter 2 comes first.</p>\n\n            <h2>Space is a decision, not waste</h2>\n\n            <p>Many developers fear memory usage unnecessarily.</p>\n\n            <p>Space can be used to:</p>\n\n            <ul>\n\n            <li>reduce recomputation</li>\n\n            </ul>\n\n            <ul>\n\n            <li>preserve results</li>\n\n            </ul>\n\n            <ul>\n\n            <li>stabilize performance</li>\n\n            </ul>\n\n            <p>Caching is not optimization.It is <strong>time traded for space</strong>.</p>\n\n            <p>üß† <strong>Mental Model</strong>Every cache is a promise about consistency.</p>\n\n            <p>Break that promise, and bugs follow.</p>\n\n            <h2>When ‚Äúfast enough‚Äù is correct</h2>\n\n            <p>Not every system needs to be optimal.</p>\n\n            <p>Some systems need to be:</p>\n\n            <ul>\n\n            <li>readable</li>\n\n            </ul>\n\n            <ul>\n\n            <li>stable</li>\n\n            </ul>\n\n            <ul>\n\n            <li>predictable</li>\n\n            </ul>\n\n            <ul>\n\n            <li>easy to reason about</li>\n\n            </ul>\n\n            <p>Optimization too early creates:</p>\n\n            <ul>\n\n            <li>brittle code</li>\n\n            </ul>\n\n            <ul>\n\n            <li>unclear intent</li>\n\n            </ul>\n\n            <ul>\n\n            <li>defensive logic</li>\n\n            </ul>\n\n            <p>üß† <strong>Perspective</strong>The best algorithm is often the one that stays obvious longest.</p>\n\n            <h2>When optimization is unavoidable</h2>\n\n            <p>Optimization becomes necessary when:</p>\n\n            <ul>\n\n            <li>growth is real</li>\n\n            </ul>\n\n            <ul>\n\n            <li>cost is measured</li>\n\n            </ul>\n\n            <ul>\n\n            <li>failure is visible</li>\n\n            </ul>\n\n            <p>At that point:</p>\n\n            <ul>\n\n            <li>remove repeated work</li>\n\n            </ul>\n\n            <ul>\n\n            <li>move work earlier or later</li>\n\n            </ul>\n\n            <ul>\n\n            <li>change the structure</li>\n\n            </ul>\n\n            <ul>\n\n            <li>change the boundary</li>\n\n            </ul>\n\n            <p>Micro-optimizations rarely matter.Structural changes do.</p>\n\n            <h2>Minimal practice (still no code)</h2>\n\n            <p><strong>Problem:</strong>‚ÄúYou need to check whether a user already exists, and this check happens for every request.‚Äù</p>\n\n            <p>Ask:</p>\n\n            <ul>\n\n            <li>How often does this run?</li>\n\n            </ul>\n\n            <ul>\n\n            <li>What does it scale with?</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Is the cost constant or growing?</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Can structure remove repetition?</li>\n\n            </ul>\n\n            <p>If the answer is ‚Äúwe‚Äôll see later,‚Äùlater will be painful.</p>\n\n            <h2>What beginners gain here</h2>\n\n            <ul>\n\n            <li>Relief from guessing</li>\n\n            </ul>\n\n            <ul>\n\n            <li>A sense of scale</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Understanding why some solutions ‚Äúfeel wrong‚Äù</li>\n\n            </ul>\n\n            <h2>What experienced developers recognize</h2>\n\n            <ul>\n\n            <li>Why systems slow down mysteriously</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Why fixes don‚Äôt stick</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Why performance work feels endless</li>\n\n            </ul>\n\n            <p>The cost was never named.</p>\n\n            <h2>What this chapter deliberately avoids</h2>\n\n            <ul>\n\n            <li>Algorithm lists</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Competitive programming tricks</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Language-specific optimizations</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Premature benchmarks</li>\n\n            </ul>\n\n            <p>Those belong elsewhere.</p>\n\n            <h2>Closing</h2>\n\n            <p>Algorithms are not about cleverness.</p>\n\n            <p>They are about <strong>honesty</strong>.</p>\n\n            <p>Honesty about:</p>\n\n            <ul>\n\n            <li>growth</li>\n\n            </ul>\n\n            <ul>\n\n            <li>repetition</li>\n\n            </ul>\n\n            <ul>\n\n            <li>limits</li>\n\n            </ul>\n\n            <ul>\n\n            <li>tradeoffs</li>\n\n            </ul>\n\n            <p>When cost is visible:</p>\n\n            <ul>\n\n            <li>decisions improve</li>\n\n            </ul>\n\n            <ul>\n\n            <li>systems stabilize</li>\n\n            </ul>\n\n            <ul>\n\n            <li>surprises disappear</li>\n\n            </ul>\n\n            <p>Hide cost, and it will surface at the worst time.</p>\n          </div>\n        </article>\n\n        <!-- RIGHT -->\n\n      </main>\n\n      <!-- CHAPTER NAVIGATION (BOTTOM) -->\n      <nav class=\"chapter-nav-bottom\" id=\"chapterNavBottom\">\n        <a href=\"#\" class=\"chapter-nav-bottom__link chapter-nav-bottom__link--prev\" id=\"prevChapter\">\n          <span class=\"chapter-nav-bottom__arrow\">‚Üê</span>\n          <span class=\"chapter-nav-bottom__label\">Previous</span>\n        </a>\n        <a href=\"#\" class=\"chapter-nav-bottom__link chapter-nav-bottom__link--next\" id=\"nextChapter\">\n          <span class=\"chapter-nav-bottom__label\">Next</span>\n          <span class=\"chapter-nav-bottom__arrow\">‚Üí</span>\n        </a>\n      </nav>\n\n      <!-- PAGE WIDGET (BOTTOM) - REMOVED -->\n      <div style=\"display: none;\">\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">P</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Preface</div>\n                  <div class=\"page-widget__page-note\">Why fundamentals still decide outcomes.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item page-widget__page-item--current\">\n                <span class=\"page-widget__page-number\">1</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 1</div>\n                  <div class=\"page-widget__page-note\">Core principles and constraints.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">2</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 2</div>\n                  <div class=\"page-widget__page-note\">Boundaries, ownership, and interfaces.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">3</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 3</div>\n                  <div class=\"page-widget__page-note\">State, consistency, and failure modes.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">4</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 4</div>\n                  <div class=\"page-widget__page-note\">Abstractions that survive change.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">5</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 5</div>\n                  <div class=\"page-widget__page-note\">Simplicity as an engineering practice.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">6</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 6</div>\n                  <div class=\"page-widget__page-note\">Reliability, observability, and feedback.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">7</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 7</div>\n                  <div class=\"page-widget__page-note\">Delivery systems and decision hygiene.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">8</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 8</div>\n                  <div class=\"page-widget__page-note\">Documentation that stays useful.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">9</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 9</div>\n                  <div class=\"page-widget__page-note\">Testing strategy for predictable change.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">10</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 10</div>\n                  <div class=\"page-widget__page-note\">Pragmatic architecture for teams.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">11</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 11</div>\n                  <div class=\"page-widget__page-note\">Operational excellence without ceremony.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">12</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 12</div>\n                  <div class=\"page-widget__page-note\">Leadership, standards, and leverage.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">13</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 13</div>\n                  <div class=\"page-widget__page-note\">Making fundamentals non-negotiable.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">PS</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Postscript</div>\n                  <div class=\"page-widget__page-note\">A short operating model to carry forward.</div>\n                </div>\n              </a>\n            </li>\n          </ol>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <!-- PAGE WIDGET JS -->\n  <!-- SIDEBAR TOGGLE JS -->\n  <script>\n  (() => {\n    const sidebar = document.getElementById(''sidebar'');\n    const backdrop = document.getElementById(''sidebarBackdrop'');\n    const indicator = document.getElementById(''chapterIndicator'');\n    const icon = document.getElementById(''chapterIndicatorIcon'');\n    const header = document.getElementById(''header'');\n    const main = document.getElementById(''main'');\n    const body = document.body;\n\n    if (!sidebar || !backdrop || !indicator || !icon || !header || !main) return;\n\n    let isOpen = false;\n    let scrollTimeout = null;\n\n    const openSidebar = () => {\n      isOpen = true;\n      sidebar.classList.add(''sidebar--open'');\n      backdrop.classList.add(''sidebar-backdrop--visible'');\n      header.classList.add(''header--shifted'');\n      main.classList.add(''main--shifted'');\n      icon.classList.add(''chapter-number__icon--open'');\n      body.classList.add(''sidebar-open'');\n    };\n\n    const closeSidebar = () => {\n      isOpen = false;\n      sidebar.classList.remove(''sidebar--open'');\n      backdrop.classList.remove(''sidebar-backdrop--visible'');\n      header.classList.remove(''header--shifted'');\n      main.classList.remove(''main--shifted'');\n      icon.classList.remove(''chapter-number__icon--open'');\n      body.classList.remove(''sidebar-open'');\n    };\n\n    // Toggle sidebar\n    indicator.addEventListener(''click'', (e) => {\n      e.stopPropagation();\n      if (isOpen) {\n        closeSidebar();\n      } else {\n        openSidebar();\n      }\n    });\n\n    // Close sidebar when clicking backdrop\n    backdrop.addEventListener(''click'', () => {\n      closeSidebar();\n    });\n\n    // Close sidebar when clicking outside\n    document.addEventListener(''click'', (e) => {\n      // Don''t close sidebar if clicking on brand link or nav links\n      const brandLink = header.querySelector(''.brand'');\n      const isClickOnLink = brandLink && brandLink.contains(e.target);\n      const isClickOnNav = header.querySelector(''.nav'') && header.querySelector(''.nav'').contains(e.target);\n      \n      if (isOpen && !sidebar.contains(e.target) && !indicator.contains(e.target) && !isClickOnLink && !isClickOnNav) {\n        closeSidebar();\n      }\n    });\n\n    // Close sidebar on scroll (debounced)\n    const handleScroll = () => {\n      if (isOpen) {\n        clearTimeout(scrollTimeout);\n        scrollTimeout = setTimeout(() => {\n          closeSidebar();\n        }, 100);\n      }\n    };\n\n    // Listen for scroll on main content\n    window.addEventListener(''scroll'', handleScroll, { passive: true });\n    \n    // Also listen for scroll attempts on body (when scroll is disabled)\n    let lastScrollTop = window.pageYOffset;\n    const handleScrollAttempt = () => {\n      if (isOpen) {\n        const currentScrollTop = window.pageYOffset;\n        if (currentScrollTop !== lastScrollTop) {\n          closeSidebar();\n        }\n        lastScrollTop = currentScrollTop;\n      }\n    };\n\n    // Prevent scroll on body when sidebar is open\n    document.addEventListener(''wheel'', (e) => {\n      if (isOpen && !sidebar.contains(e.target)) {\n        e.preventDefault();\n        closeSidebar();\n      }\n    }, { passive: false });\n\n    // Prevent touch scroll on body when sidebar is open\n    document.addEventListener(''touchmove'', (e) => {\n      if (isOpen && !sidebar.contains(e.target)) {\n        e.preventDefault();\n        closeSidebar();\n      }\n    }, { passive: false });\n  })();\n  </script>\n\n  <!-- CHAPTER NAVIGATION (BOTTOM) JS -->\n  <script>\n  (() => {\n    // Chapter list: Preface = 0, Chapter 1-13 = 1-13, Postscript = 14\n    const chapters = [\n      { id: ''preface'', title: ''Preface'', url: ''https://arvinjaysoncastro.com/working-fundamentals-introduction'' },\n      { id: ''ch1'', title: ''Chapter 1'', url: ''https://arvinjaysoncastro.com/working-fundamentals-1-of-13-programming-fundamentals'' },\n      { id: ''ch2'', title: ''Chapter 2'', url: ''https://arvinjaysoncastro.com/working-fundamentals-2-of-13-data-structures'' },\n      { id: ''ch3'', title: ''Chapter 3'', url: ''https://arvinjaysoncastro.com/working-fundamentals-3-of-13-algorithms-and-complexity'' },\n      { id: ''ch4'', title: ''Chapter 4'', url: ''https://arvinjaysoncastro.com/working-fundamentals-4-of-13-control-and-flow'' },\n      { id: ''ch5'', title: ''Chapter 5'', url: ''https://arvinjaysoncastro.com/working-fundamentals-5-of-13-state-and-change'' },\n      { id: ''ch6'', title: ''Chapter 6'', url: ''https://arvinjaysoncastro.com/working-fundamentals-6-of-13-design-principles'' },\n      { id: ''ch7'', title: ''Chapter 7'', url: ''https://arvinjaysoncastro.com/working-fundamentals-7-of-13-architecture'' },\n      { id: ''ch8'', title: ''Chapter 8'', url: ''https://arvinjaysoncastro.com/working-fundamentals-8-of-13-persistence-and-data-modeling'' },\n      { id: ''ch9'', title: ''Chapter 9'', url: ''https://arvinjaysoncastro.com/working-fundamentals-9-of-13-interfaces-and-apis'' },\n      { id: ''ch10'', title: ''Chapter 10'', url: ''https://arvinjaysoncastro.com/working-fundamentals-10-of-13-errors-and-failure'' },\n      { id: ''ch11'', title: ''Chapter 11'', url: ''https://arvinjaysoncastro.com/working-fundamentals-11-of-13-testing'' },\n      { id: ''ch12'', title: ''Chapter 12'', url: ''https://arvinjaysoncastro.com/working-fundamentals-12-of-13-performance-and-scale'' },\n      { id: ''ch13'', title: ''Chapter 13'', url: ''https://arvinjaysoncastro.com/working-fundamentals-13-of-13-the-developers-role'' },\n      { id: ''postscript'', title: ''Postscript'', url: ''https://arvinjaysoncastro.com/working-fundamentals-outroduction'' }\n    ];\n\n    const currentChapterIndex = 3; // Chapter 1 is index 1 (Preface is 0)\n    const prevLink = document.getElementById(''prevChapter'');\n    const nextLink = document.getElementById(''nextChapter'');\n\n    if (!prevLink || !nextLink) return;\n\n    // Previous chapter\n    if (currentChapterIndex > 0) {\n      const prevChapter = chapters[currentChapterIndex - 1];\n      prevLink.href = prevChapter.url;\n      prevLink.target = ''_blank'';\n      prevLink.innerHTML = `\n        <span class=\"chapter-nav-bottom__arrow\">‚Üê</span>\n        <span class=\"chapter-nav-bottom__label\">Previous: ${prevChapter.title}</span>\n      `;\n    } else {\n      // No previous chapter - show \"go back to book list\"\n      prevLink.href = ''https://arvinjaysoncastro.com/hungry-dev-mind'';\n      prevLink.target = ''_blank'';\n      prevLink.innerHTML = `\n        <span class=\"chapter-nav-bottom__arrow\">‚Üê</span>\n        <span class=\"chapter-nav-bottom__label\">Go back to book list</span>\n      `;\n    }\n\n    // Next chapter\n    if (currentChapterIndex < chapters.length - 1) {\n      const nextChapter = chapters[currentChapterIndex + 1];\n      nextLink.href = nextChapter.url;\n      nextLink.target = ''_blank'';\n      nextLink.innerHTML = `\n        <span class=\"chapter-nav-bottom__label\">Next: ${nextChapter.title}</span>\n        <span class=\"chapter-nav-bottom__arrow\">‚Üí</span>\n      `;\n    } else {\n      // No next chapter - show \"go back to book list\"\n      nextLink.href = ''https://arvinjaysoncastro.com/hungry-dev-mind'';\n      nextLink.target = ''_blank'';\n      nextLink.innerHTML = `\n        <span class=\"chapter-nav-bottom__label\">Go back to book list</span>\n        <span class=\"chapter-nav-bottom__arrow\">‚Üí</span>\n      `;\n    }\n  })();\n  </script>\n\n  <!-- OPTIONAL JS -->\n <script>\n(() => {\n  const wrap = document.querySelector(''.book-wrap'');\n  if (!wrap) return;\n\n  const slab1 = wrap.querySelector(''.shadow-slab'');\n  const slab2 = wrap.querySelector(''.shadow-slab-2'');\n  const slab3 = wrap.querySelector(''.shadow-slab-3'');\n  const slab4 = wrap.querySelector(''.shadow-slab-4'');\n  const front = wrap.querySelector(''.front-slab'');\n\n  const clamp = (v, min, max) => Math.max(min, Math.min(max, v));\n\n  let raf = 0;\n  let lx = 0; // light vector x\n  let ly = 0; // light vector y\n\n  function render() {\n    raf = 0;\n\n    // Shadow direction = opposite of light\n    const sx = -lx;\n    const sy = -ly;\n\n    const intensity = Math.abs(lx) + Math.abs(ly);\n\n    /* ---------------------------\n       SLAB 1 ‚Äî KEY CAST SHADOW\n    ---------------------------- */\n    slab1.style.transform =\n      `translate(${(sx * 38).toFixed(2)}px, ${(sy * 38).toFixed(2)}px)`;\n    slab1.style.filter =\n      `blur(${(14 + intensity * 6).toFixed(2)}px)`;\n    slab1.style.opacity =\n      (0.28 + intensity * 0.14).toFixed(2);\n\n    /* ---------------------------\n       SLAB 2 ‚Äî BOUNCE / COLOR BLEED\n    ---------------------------- */\n    slab2.style.transform =\n      `translate(${(sx * 14).toFixed(2)}px, ${(sy * 14).toFixed(2)}px)`;\n    slab2.style.filter =\n      `blur(${(6 + intensity * 4).toFixed(2)}px)`;\n    slab2.style.opacity =\n      (0.16 + intensity * 0.10).toFixed(2);\n\n    /* ---------------------------\n       SLAB 3 ‚Äî CONTACT SHADOW\n    ---------------------------- */\n    slab3.style.transform =\n      `translate(${(sx * 6).toFixed(2)}px, ${(sy * 6).toFixed(2)}px)`;\n    slab3.style.filter = `blur(9px)`;\n    slab3.style.opacity =\n      (0.24 + Math.abs(lx) * 0.06).toFixed(2);\n\n    /* ---------------------------\n       SLAB 4 ‚Äî AMBIENT DEPTH\n    ---------------------------- */\n    slab4.style.transform =\n      `translate(${(sx * 3).toFixed(2)}px, ${(sy * 3).toFixed(2)}px)`;\n    slab4.style.filter = `blur(18px)`;\n    slab4.style.opacity =\n      (0.16 + Math.abs(ly) * 0.04).toFixed(2);\n\n    /* ---------------------------\n       FRONT SLAB ‚Äî SPECULAR RESPONSE\n       (moves TOWARD light)\n    ---------------------------- */\nif (front) {\n  // Very subtle counter-parallax (NOT toward light)\n  front.style.transform =\n    `translate(${(-lx * 1.6).toFixed(2)}px, ${(-ly * 1.6).toFixed(2)}px)`;\n\n  // Opacity increases when light is grazing\n  front.style.opacity =\n    (0.34 + intensity * 0.22).toFixed(2);\n\n  // Highlight shifts OPPOSITE the light direction\n  const gx = 50 - lx * 28;\n  const gy = 50 - ly * 28;\n  front.style.backgroundPosition = `${gx}% ${gy}%`;\n}\n\n  }\n\n  function onMove(e) {\n    const r = wrap.getBoundingClientRect();\n    const cx = r.left + r.width / 2;\n    const cy = r.top + r.height / 2;\n\n    // LIGHT VECTOR (mouse = light source)\n    lx = clamp((e.clientX - cx) / (r.width / 2), -1, 1);\n    ly = clamp((e.clientY - cy) / (r.height / 2), -1, 1);\n\n    if (!raf) raf = requestAnimationFrame(render);\n  }\n\n  window.addEventListener(''mousemove'', onMove, { passive: true });\n})();\n</script>\n</body>\n</html>\n", "css": "body { font-family: system-ui; padding: 20px; }", "js": "console.log(\"Code Runner initialized\");", "imports": {"css": [], "js": []}, "entryPoint": {"type": "htmlDocument", "mountSelector": "#app", "injectMountIfMissing": true}, "settings": {"mode": "play", "viewport": {"type": "responsive", "background": "white"}, "securityPreset": "trusted", "autoRun": true, "runOnLoad": true}, "codePanel": {"isVisible": false, "isEditable": false}}}]}]}',
    '1.0.0',
    true,
    '88b62d69-6012-47ae-b45b-9ccc5f1dc87c',
    NOW(),
    NOW(),
    'public',
    NULL,
    false,
    NULL,
    'page',
    NULL,
    NULL,
    NULL,
    NULL,
    NULL,
    false,
    0,
    NULL,
    true,
    false,
    NULL,
    NULL,
    '{"id": "block-root", "style": {}, "type": "container", "children": [{"id": "temp-container", "style": {"width": "100vw", "height": "100vh"}, "type": "container", "children": [{"id": "temp-coderunner", "style": {}, "type": "codeRunner", "data": {"html": "<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n  <meta charset=\"UTF-8\" />\n  <title>Working Fundamentals ‚Äî Arvin Jayson Castro</title>\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n\n  <!-- =====================\n       GLOBAL STYLES\n  ====================== -->\n  <style>\n    :root {\n      --bg: #f7f8f8;\n      --ink: #111111;\n      --muted: #666666;\n      --line: rgba(0,0,0,0.08);\n      --accent: #16a34a;\n      --link: #3b82f6;\n      --max-width: 1200px;\n    }\n\n    * {\n      box-sizing: border-box;\n    }\n\n    body {\n      margin: 0;\n      font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, sans-serif;\n      color: var(--ink);\n      background-color: var(--bg);\n      background-image:\n        radial-gradient(980px 560px at 14% 18%, rgba(16,185,129,0.10) 0%, rgba(16,185,129,0) 60%),\n        radial-gradient(860px 540px at 86% 74%, rgba(245,158,11,0.10) 0%, rgba(245,158,11,0) 62%),\n        repeating-linear-gradient(0deg, rgba(0,0,0,0.043) 0, rgba(0,0,0,0.043) 1px, transparent 1px, transparent 46px),\n        repeating-linear-gradient(90deg, rgba(0,0,0,0.043) 0, rgba(0,0,0,0.043) 1px, transparent 1px, transparent 46px);\n      min-height: 100vh;\n    }\n\n    a {\n      color: inherit;\n      text-decoration: none;\n    }\n\n    img {\n      max-width: 100%;\n      display: block;\n    }\n\n    /* =====================\n       PAGE WRAPPER\n    ====================== */\n    .page {\n      padding: 22px 24px;\n    }\n\n    .container {\n      max-width: var(--max-width);\n      margin: 0 auto;\n    }\n\n    /* =====================\n       SIDEBAR BACKDROP\n    ====================== */\n    .sidebar-backdrop {\n      position: fixed;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n      background: rgba(0, 0, 0, 0.2);\n      backdrop-filter: blur(4px);\n      -webkit-backdrop-filter: blur(4px);\n      opacity: 0;\n      visibility: hidden;\n      transition: opacity 0.3s ease, visibility 0.3s ease;\n      z-index: 999;\n      pointer-events: none;\n    }\n\n    .sidebar-backdrop--visible {\n      opacity: 1;\n      visibility: visible;\n      pointer-events: auto;\n    }\n\n    /* =====================\n       SIDEBAR\n    ====================== */\n    .sidebar {\n      position: fixed;\n      top: 0;\n      right: 0;\n      width: 320px;\n      height: 100vh;\n      background: var(--bg);\n      border-left: 1px solid var(--line);\n      transform: translateX(100%);\n      transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n      z-index: 1000;\n      overflow-y: auto;\n      padding: 24px;\n    }\n\n    .sidebar--open {\n      transform: translateX(0);\n    }\n\n    .sidebar__title {\n      font-size: 16px;\n      font-weight: 600;\n      margin-bottom: 24px;\n      color: var(--ink);\n    }\n\n    /* Prevent body scroll when sidebar is open */\n    body.sidebar-open {\n      overflow: hidden;\n    }\n\n    .sidebar__chapter-list {\n      list-style: none;\n      margin: 0;\n      padding: 0;\n    }\n\n    .sidebar__chapter-item {\n      margin: 0 0 8px 0;\n    }\n\n    .sidebar__chapter-link {\n      display: block;\n      font-size: 14px;\n      color: var(--muted);\n      text-decoration: none;\n      padding: 8px 0;\n      transition: color 0.2s ease;\n      line-height: 1.5;\n    }\n\n    .sidebar__chapter-link:hover {\n      color: var(--ink);\n    }\n\n    .sidebar__chapter-link {\n      color: var(--ink);\n      font-weight: 500;\n    }\n\n    /* =====================\n       HEADER (Top bar with chapter indicator)\n    ====================== */\n    .header {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      padding: 10px 0;\n      border-bottom: 1px solid var(--line);\n      position: relative;\n      transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n    }\n\n    .header--shifted {\n      transform: translateX(-320px);\n    }\n\n    .brand {\n      font-size: 16px;\n      font-weight: 600;\n      cursor: pointer;\n      display: inline-block;\n    }\n\n    .nav {\n      display: flex;\n      gap: 24px;\n      align-items: center;\n      font-size: 14px;\n    }\n\n    .nav a {\n      color: #1f2937;\n    }\n\n    .linkedin {\n      display: flex;\n      flex-direction: column;\n      align-items: flex-start;\n    }\n\n    .linkedin a {\n      color: var(--link);\n    }\n\n    .linkedin span {\n      font-family: Georgia, serif;\n      font-size: 9px;\n      font-style: italic;\n      color: #999;\n    }\n\n    /* =====================\n       MAIN GRID\n    ====================== */\n    .main {\n      padding-top: 48px;\n      padding-bottom: 48px;\n      display: flex;\n      justify-content: center;\n      align-items: start;\n    }\n\n    /* =====================\n       CHAPTER READING AREA (Option 1: Magazine-style)\n    ====================== */\n    .chapter-content {\n      max-width: 768px;\n      width: 100%;\n      margin: 0 auto;\n    }\n\n    .chapter-header {\n      margin-bottom: 56px;\n      padding-bottom: 32px;\n      border-bottom: 2px solid var(--line);\n    }\n\n    .book-title {\n      font-size: 12px;\n      letter-spacing: 0.15em;\n      text-transform: uppercase;\n      color: var(--muted);\n      font-weight: 500;\n      margin-bottom: 8px;\n      opacity: 0.7;\n    }\n\n    .chapter-number {\n      font-size: 13px;\n      letter-spacing: 0.2em;\n      text-transform: uppercase;\n      color: var(--muted);\n      font-weight: 600;\n      margin-bottom: 12px;\n      display: flex;\n      align-items: center;\n      gap: 8px;\n      cursor: pointer;\n      user-select: none;\n      transition: color 0.2s ease;\n    }\n\n    .chapter-number:hover {\n      color: var(--ink);\n    }\n\n    .chapter-number__icon {\n      font-size: 10px;\n      opacity: 0.6;\n      transition: transform 0.3s ease, opacity 0.2s ease;\n    }\n\n    .chapter-number:hover .chapter-number__icon {\n      opacity: 0.8;\n    }\n\n    .chapter-number__icon--open {\n      transform: rotate(180deg);\n    }\n\n    .chapter-title {\n      font-size: 56px;\n      font-weight: 900;\n      line-height: 1.05;\n      margin: 0 0 20px 0;\n      color: var(--ink);\n      letter-spacing: -0.03em;\n    }\n\n    .chapter-subtitle {\n      font-size: 22px;\n      font-weight: 500;\n      color: var(--muted);\n      line-height: 1.4;\n      margin: 0;\n    }\n\n    .chapter-body {\n      font-size: 19px;\n      line-height: 1.8;\n      color: var(--ink);\n      max-width: none;\n      font-weight: 400;\n    }\n\n    .chapter-body p {\n      margin: 0 0 28px 0;\n    }\n\n    .chapter-body p:last-child {\n      margin-bottom: 0;\n    }\n\n    .chapter-body h2 {\n      font-size: 36px;\n      font-weight: 800;\n      line-height: 1.2;\n      margin: 56px 0 24px 0;\n      color: var(--ink);\n      letter-spacing: -0.02em;\n    }\n\n    .chapter-body h3 {\n      font-size: 26px;\n      font-weight: 700;\n      line-height: 1.3;\n      margin: 40px 0 18px 0;\n      color: var(--ink);\n      letter-spacing: -0.01em;\n    }\n\n    .chapter-body strong {\n      font-weight: 600;\n      color: var(--ink);\n    }\n\n    .chapter-body em {\n      font-style: italic;\n    }\n\n    .chapter-body ul,\n    .chapter-body ol {\n      margin: 28px 0;\n      padding-left: 36px;\n    }\n\n    .chapter-body li {\n      margin-bottom: 14px;\n      line-height: 1.75;\n    }\n\n    .chapter-body blockquote {\n      margin: 40px 0;\n      padding-left: 28px;\n      border-left: 4px solid var(--accent);\n      font-style: italic;\n      color: var(--muted);\n      font-size: 18px;\n      line-height: 1.7;\n    }\n\n    .chapter-body code {\n      font-family: ''Monaco'', ''Menlo'', ''Courier New'', monospace;\n      font-size: 0.9em;\n      background: rgba(0,0,0,0.04);\n      padding: 2px 6px;\n      border-radius: 3px;\n    }\n\n    .chapter-body pre {\n      background: rgba(0,0,0,0.04);\n      padding: 20px;\n      border-radius: 8px;\n      overflow-x: auto;\n      margin: 24px 0;\n    }\n\n    .chapter-body pre code {\n      background: none;\n      padding: 0;\n    }\n\n    /* Content shift when sidebar opens */\n    .main {\n      transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n    }\n\n    .main--shifted {\n      transform: translateX(-320px);\n    }\n\n    /* Prevent horizontal scroll */\n    body {\n      overflow-x: hidden;\n    }\n\n    .page {\n      overflow-x: hidden;\n    }\n\n    /* =====================\n       CHAPTER NAVIGATION (BOTTOM)\n    ====================== */\n    .chapter-nav-bottom {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      max-width: 768px;\n      width: 100%;\n      margin: 64px auto 0 auto;\n      padding: 24px 0;\n      border-top: 1px solid var(--line);\n    }\n\n    .chapter-nav-bottom__link {\n      display: flex;\n      align-items: center;\n      gap: 8px;\n      font-size: 14px;\n      color: var(--muted);\n      text-decoration: none;\n      transition: color 0.2s ease;\n      padding: 8px 0;\n    }\n\n    .chapter-nav-bottom__link:hover {\n      color: var(--ink);\n    }\n\n    .chapter-nav-bottom__arrow {\n      font-size: 16px;\n      opacity: 0.7;\n    }\n\n    .chapter-nav-bottom__label {\n      font-weight: 500;\n    }\n\n    .chapter-nav-bottom__link--prev {\n      margin-right: auto;\n    }\n\n    .chapter-nav-bottom__link--next {\n      margin-left: auto;\n    }\n\n    .chapter-nav-bottom__link--disabled {\n      opacity: 0.4;\n      cursor: not-allowed;\n      pointer-events: none;\n    }\n\n    .page-widget__pages {\n      max-height: 0;\n      overflow: hidden;\n      transition: max-height 0.4s cubic-bezier(0.4, 0, 0.2, 1),\n                  opacity 0.3s ease,\n                  margin-top 0.3s ease;\n      opacity: 0;\n      margin-top: 0;\n      background: rgba(255, 255, 255, 0.98);\n      backdrop-filter: blur(12px);\n      -webkit-backdrop-filter: blur(12px);\n      border: 1px solid rgba(0, 0, 0, 0.06);\n      border-radius: 12px;\n      box-shadow: 0 2px 12px rgba(0, 0, 0, 0.06);\n    }\n\n    .page-widget__pages--expanded {\n      max-height: 500px;\n      opacity: 1;\n      margin-top: 12px;\n      padding: 8px;\n    }\n\n    .page-widget__pages-list {\n      list-style: none;\n      margin: 0;\n      padding: 0;\n      display: flex;\n      flex-direction: column;\n      gap: 8px;\n      max-height: 400px;\n      overflow-y: auto;\n      padding-right: 4px;\n    }\n\n    .page-widget__pages-list::-webkit-scrollbar {\n      width: 6px;\n    }\n\n    .page-widget__pages-list::-webkit-scrollbar-track {\n      background: rgba(0, 0, 0, 0.02);\n      border-radius: 3px;\n    }\n\n    .page-widget__pages-list::-webkit-scrollbar-thumb {\n      background: rgba(0, 0, 0, 0.12);\n      border-radius: 3px;\n    }\n\n    .page-widget__pages-list::-webkit-scrollbar-thumb:hover {\n      background: rgba(0, 0, 0, 0.2);\n    }\n\n    .page-widget__page-item {\n      display: flex;\n      align-items: center;\n      gap: 10px;\n      padding: 8px 10px;\n      border-radius: 8px;\n      cursor: pointer;\n      transition: all 0.2s ease;\n      text-decoration: none;\n      color: var(--ink);\n    }\n\n    .page-widget__page-item:hover {\n      background: rgba(0, 0, 0, 0.03);\n      transform: translateX(2px);\n    }\n\n    .page-widget__page-item--current {\n      background: rgba(22, 163, 74, 0.08);\n      color: var(--accent);\n      font-weight: 500;\n    }\n\n    .page-widget__page-item--current:hover {\n      background: rgba(22, 163, 74, 0.12);\n    }\n\n    .page-widget__page-number {\n      display: inline-flex;\n      align-items: center;\n      justify-content: center;\n      width: 24px;\n      height: 24px;\n      background: rgba(0, 0, 0, 0.04);\n      border-radius: 5px;\n      font-size: 11px;\n      font-weight: 500;\n      flex-shrink: 0;\n      color: var(--muted);\n    }\n\n    .page-widget__page-item--current .page-widget__page-number {\n      background: rgba(22, 163, 74, 0.15);\n      color: var(--accent);\n    }\n\n    .page-widget__page-info {\n      flex: 1;\n      min-width: 0;\n    }\n\n    .page-widget__page-name {\n      font-size: 13px;\n      font-weight: 500;\n      line-height: 1.3;\n      margin: 0 0 2px 0;\n    }\n\n    .page-widget__page-note {\n      font-size: 11px;\n      color: var(--muted);\n      line-height: 1.3;\n      margin: 0;\n      white-space: nowrap;\n      overflow: hidden;\n      text-overflow: ellipsis;\n    }\n\n    @media (max-width: 768px) {\n      .page-widget__pages-list {\n        max-height: 300px;\n      }\n    }\n\n\n/* ===============================\n   WRAPPER\n================================ */\n.book-wrap {\n  width: 320px;\n  aspect-ratio: 2 / 3;\n  position: relative;\n}\n\n/* ===============================\n   CAST SHADOW SLAB (REAL SHADOW)\n================================ */\n.shadow-slab {\n    position: absolute;\n    position: absolute;\n    inset: 0;\n    border-radius: 22px;\n    /* background: #2a2a2a; */\n    transform: translate(-30px, 30px);\n    filter: blur(13px);\n    opacity: 0.35;\n    z-index: 0;\n    background: radial-gradient(ellipse at 15% 85%, rgba(0, 0, 0, 0.35), rgba(0, 0, 0, 0.18) 35%, transparent 65%), linear-gradient(to right, #1f1f1f 0%, #2a2a2a 45%, #3a3a3a 100%);\n}\n\n.shadow-slab-2 {\n    position: absolute;\n    inset: 0;\n    border-radius: 22px;\n    background: radial-gradient(circle at top right, #f6e6a8 0%, #e2c36b 35%, #b58a3c 70%, #7a5524 100%);\n    transform: translate(-10px, 10px);\n    filter: blur(5px);\n    opacity: 0.35;\n    z-index: 0;\n}\n\n.shadow-slab-3 {\n    position: absolute;\n    inset: 0;\n    border-radius: 22px;\n    background: #333;\n    transform: translate(0px, 0px);\n    filter: blur(11px);\n    opacity: 0.35;\n    z-index: 0;\n}\n\n.shadow-slab-4 {\n    position: absolute;\n    inset: 0;\n    border-radius: 22px;\n    background: #333;\n    transform: translate(0px, 0px);\n    filter: blur(11px);\n    opacity: 0.35;\n    z-index: 0;\n}\n\n/* ===============================\n   FRONT SLAB & SPIN HANDLE\n================================ */\n\n.front-slab {\n    position: absolute;\n    inset: 0;\n    border-radius: 22px;\n    background: linear-gradient(to right, rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.1) 3%, transparent 1%);\n    /* background: green; */\n    z-index: 3;\n    opacity: .5;\n    transform: translateZ(6px);\n    pointer-events: none;\n}\n\n.spin-handle {\n  display: none;\n  position: absolute;\n  top: 50%;\n  right: -22px;\n  width: 14px;\n  height: 48px;\n  border-radius: 999px;\n  background: rgba(0,0,0,0.25);\n  backdrop-filter: blur(4px);\n  cursor: grab;\n  z-index: 10;\n}\n\n/* ===============================\n   BOOK OBJECT (NO SHADOW)\n================================ */\n.book {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  border-radius: 22px;\n  overflow: hidden;\n  z-index: 2;\n\n  /* IMPORTANT: no box-shadow */\n  box-shadow: none;\n\n  /* transform: perspective(1200px) rotateX(0.6deg); */\n}\n\n/* ===============================\n   PAPER SURFACE (LIGHT FIELD)\n================================ */\n.book .surface {\n  position: absolute;\n  inset: 0;\n  border-radius: inherit;\n  pointer-events: none;\n  z-index: 1;\n\n  background:\n    linear-gradient(\n      to bottom left,\n      rgba(255,255,255,1) 0%,\n      rgba(250,250,250,1) 42%,\n      rgba(240,240,240,1) 100%\n    ),\n    repeating-linear-gradient(\n      0deg,\n      rgba(0,0,0,0.01),\n      rgba(0,0,0,0.01) 1px,\n      transparent 1px,\n      transparent 3px\n    );\n}\n\n/* ===============================\n   LEFT OCCLUSION (CURTAIN)\n================================ */\n.book .curtain {\n  position: absolute;\n  inset: 0;\n  border-radius: inherit;\n  pointer-events: none;\n  z-index: 2;\n\n  background:\n    linear-gradient(\n      to right,\n      rgba(0,0,0,0.20) 0%,\n      rgba(0,0,0,0.12) 8%,\n      rgba(0,0,0,0.05) 16%,\n      rgba(0,0,0,0.02) 22%,\n      rgba(0,0,0,0.00) 30%\n    );\n}\n\n/* ===============================\n   RIGHT HIGHLIGHT\n================================ */\n.book .highlight {\n  position: absolute;\n  inset: 0;\n  border-radius: inherit;\n  pointer-events: none;\n  z-index: 3;\n\n  background:\n    linear-gradient(\n      to left,\n      rgba(255,255,255,0.35) 0%,\n      rgba(255,255,255,0.18) 6%,\n      rgba(255,255,255,0.06) 14%,\n      rgba(255,255,255,0.00) 24%\n    );\n}\n\n/* ===============================\n   PAGE EDGE (THICKNESS)\n================================ */\n.book .edge {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 120px;\n  height: 100%;\n  border-radius: 22px 0 0 22px;\n  pointer-events: none;\n  z-index: 4;\n\n  background:\n    linear-gradient(\n      to right,\n      rgba(215,215,215,0.95) 0%,\n      rgba(245,245,245,0.95) 40%,\n      rgba(255,255,255,0.95) 75%\n    );\n\n  box-shadow:\n    inset -1px 0 0 rgba(0,0,0,0.05);\n}\n\n/* ===============================\n   SVG (PURE WHITE)\n================================ */\n.book svg {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  display: block;\n  z-index: 5;\n}\n\n    /* =====================\n       LEFT: BOOK COVER\n    ====================== */\n    .book-cover {\n      display: flex;\n      flex-direction: column;\n      gap: 12px;\n    }\n\n\n    /* ===============================\n       BOOK + SHADOW SYSTEM\n    =============================== */\n    .book-wrap {\n      width: 320px;\n      aspect-ratio: 2 / 3;\n      position: relative;\n    }\n\n    .shadow-slab,\n    .shadow-slab-2,\n    .shadow-slab-3,\n    .shadow-slab-4 {\n      position: absolute;\n      inset: 0;\n      border-radius: 22px;\n      z-index: 0;\n      will-change: transform, filter, opacity;\n    }\n\n    .shadow-slab {\n      background:\n        radial-gradient(ellipse at 15% 85%, rgba(0,0,0,0.35), rgba(0,0,0,0.18) 35%, transparent 65%),\n        linear-gradient(to right, #1f1f1f 0%, #2a2a2a 45%, #3a3a3a 100%);\n      filter: blur(13px);\n      opacity: 0.35;\n    }\n\n    .shadow-slab-2 {\n      background: radial-gradient(circle at top right, #f6e6a8 0%, #e2c36b 35%, #b58a3c 70%, #7a5524 100%);\n      filter: blur(6px);\n      opacity: 0.30;\n    }\n\n    .shadow-slab-3,\n    .shadow-slab-4 {\n      background: #333;\n      filter: blur(11px);\n      opacity: 0.30;\n    }\n\n    .book {\n      position: relative;\n      width: 100%;\n      height: 100%;\n      border-radius: 22px;\n      overflow: hidden;\n      z-index: 2;\n      background: #f7f4ee;\n    }\n\n    .front-slab {\n      position: absolute;\n      inset: 0;\n      border-radius: 22px;\n      background: linear-gradient(to right, rgba(0,0,0,0.4), rgba(0,0,0,0.1) 3%, transparent 10%);\n      z-index: 3;\n      pointer-events: none;\n      opacity: 0.5;\n    }\n\n\n    @media (prefers-reduced-motion: reduce) {\n      .cover-frame {\n        transition: none;\n        transform: none;\n      }\n      .cover-frame:hover {\n        --lift: 0;\n      }\n    }\n\n    .start-reading {\n      display: inline-flex;\n      align-items: center;\n      justify-content: center;\n      width: 100%;\n      padding: 12px 14px;\n      border-radius: 999px;\n\n      font-size: 11px;\n      letter-spacing: 0.16em;\n      text-transform: uppercase;\n      font-weight: 650;\n      color: rgba(34,197,94,0.92);\n      text-shadow:\n        0 0 10px rgba(34,197,94,0.22),\n        0 0 22px rgba(34,197,94,0.14);\n\n      /* graphite: dark + slightly mineral */\n      background:\n        radial-gradient(120% 140% at 20% 10%, rgba(255,255,255,0.10) 0%, rgba(255,255,255,0.00) 55%),\n        radial-gradient(140% 140% at 80% 90%, rgba(255,255,255,0.06) 0%, rgba(255,255,255,0.00) 60%),\n        linear-gradient(180deg, #141414 0%, #0a0a0a 100%);\n      border: 1px solid rgba(255,255,255,0.10);\n      box-shadow:\n        0 14px 34px rgba(0,0,0,0.22),\n        0 8px 16px rgba(0,0,0,0.18),\n        inset 0 1px 0 rgba(255,255,255,0.10),\n        inset 0 -1px 0 rgba(0,0,0,0.55);\n\n      position: relative;\n      overflow: hidden;\n      cursor: pointer;\n      user-select: none;\n      -webkit-tap-highlight-color: transparent;\n\n      transition:\n        transform 160ms cubic-bezier(0.2, 0.8, 0.2, 1),\n        box-shadow 160ms cubic-bezier(0.2, 0.8, 0.2, 1),\n        border-color 160ms cubic-bezier(0.2, 0.8, 0.2, 1);\n    }\n\n    .start-reading::before {\n      content: \"\";\n      position: absolute;\n      inset: 0;\n      pointer-events: none;\n      /* texture + sheen (very subtle) */\n      background:\n        linear-gradient(120deg, rgba(255,255,255,0.12) 0%, rgba(255,255,255,0.00) 46%),\n        repeating-linear-gradient(0deg,\n          rgba(255,255,255,0.028) 0px,\n          rgba(255,255,255,0.028) 1px,\n          rgba(0,0,0,0.00) 3px,\n          rgba(0,0,0,0.00) 6px),\n        radial-gradient(120% 90% at 50% 0%, rgba(34,197,94,0.14) 0%, rgba(34,197,94,0.00) 62%);\n      opacity: 0.75;\n    }\n\n    .start-reading:hover {\n      transform: translateY(-1px);\n      border-color: rgba(34,197,94,0.30);\n      box-shadow:\n        0 18px 42px rgba(0,0,0,0.24),\n        0 10px 18px rgba(0,0,0,0.18),\n        inset 0 1px 0 rgba(255,255,255,0.12),\n        inset 0 -1px 0 rgba(0,0,0,0.55);\n      text-shadow:\n        0 0 12px rgba(34,197,94,0.28),\n        0 0 26px rgba(34,197,94,0.18);\n    }\n\n    .start-reading:active {\n      transform: translateY(0px);\n      box-shadow:\n        0 14px 34px rgba(0,0,0,0.22),\n        0 8px 16px rgba(0,0,0,0.18),\n        inset 0 1px 0 rgba(255,255,255,0.10),\n        inset 0 -1px 0 rgba(0,0,0,0.55);\n    }\n\n    .start-reading:focus-visible {\n      outline: none;\n      box-shadow:\n        0 18px 42px rgba(0,0,0,0.24),\n        0 0 0 4px rgba(34,197,94,0.22),\n        0 0 0 1px rgba(34,197,94,0.26),\n        inset 0 1px 0 rgba(255,255,255,0.12),\n        inset 0 -1px 0 rgba(0,0,0,0.55);\n      border-color: rgba(34,197,94,0.34);\n    }\n\n    @media (prefers-reduced-motion: reduce) {\n      .start-reading {\n        transition: none;\n      }\n      .start-reading:hover {\n        transform: none;\n      }\n    }\n\n    /* =====================\n       CENTER: CONTENT\n    ====================== */\n    .content h1 {\n      font-size: 40px;\n      font-weight: 800;\n      line-height: 1.15;\n      margin: 0;\n    }\n\n    .byline {\n      font-size: 13px;\n      letter-spacing: 0.12em;\n      color: #666;\n      font-weight: 600;\n    }\n\n    .tagline {\n      font-size: 18px;\n      font-weight: 500;\n      color: #333;\n    }\n\n    .paragraph {\n      font-size: 15px;\n      color: #222;\n    }\n\n    .meta {\n      margin-top: 20px;\n      padding-top: 20px;\n      border-top: 1px solid var(--line);\n      display: grid;\n      grid-template-columns: repeat(2, 1fr);\n      gap: 12px 24px;\n      font-size: 13px;\n    }\n\n    .author {\n      margin-top: 20px;\n      padding-top: 20px;\n      border-top: 1px solid var(--line);\n      display: flex;\n      gap: 16px;\n      align-items: flex-start;\n    }\n\n    .author img {\n      width: 44px;\n      height: 44px;\n      border-radius: 50%;\n    }\n\n    /* =====================\n       RIGHT: RELATED\n    ====================== */\n    .related {\n      display: flex;\n      flex-direction: column;\n      gap: 20px;\n    }\n\n    .related-title {\n      font-size: 11px;\n      letter-spacing: 0.14em;\n      color: #666;\n      text-transform: uppercase;\n      font-weight: 600;\n    }\n\n    .related-item {\n      display: flex;\n      flex-direction: column;\n      gap: 6px;\n      cursor: pointer;\n      transition: transform 0.12s ease, box-shadow 0.12s ease;\n    }\n\n    .related-item:hover {\n      transform: translateY(-2px);\n    }\n\n    .related-thumb {\n      border-radius: 6px;\n      overflow: hidden;\n      aspect-ratio: 3 / 4;\n      box-shadow: 0 8px 24px rgba(0,0,0,0.1);\n\n      /* Gray placeholder shape */\n      background: linear-gradient(135deg, #e5e7eb 0%, #d1d5db 45%, #cbd5e1 100%);\n      border: 1px solid rgba(0,0,0,0.06);\n    }\n\n    .related-thumb img {\n      width: 100%;\n      height: 100%;\n      object-fit: cover;\n      filter: grayscale(1);\n      opacity: 0.85;\n      transition: filter 160ms ease, opacity 160ms ease;\n    }\n\n    .related-thumb .thumb-placeholder {\n      width: 100%;\n      height: 100%;\n      display: block;\n    }\n\n    .related-item a {\n      font-size: 12px;\n      font-weight: 600;\n      color: #111;\n    }\n\n    /* =====================\n       RIGHT: 13 CHAPTERS\n    ====================== */\n    .chapters {\n      display: flex;\n      flex-direction: column;\n      gap: 10px;\n    }\n\n    .chapters-title {\n      font-size: 11px;\n      letter-spacing: 0.12em;\n      color: rgba(17,17,17,0.52);\n      text-transform: uppercase;\n      font-weight: 600;\n    }\n\n    .chapters-help {\n      margin-top: -4px;\n      font-size: 11px;\n      line-height: 1.35;\n      color: rgba(17,17,17,0.42);\n    }\n\n    .chapter-list {\n      list-style: none;\n      padding: 0;\n      margin: 0;\n      display: flex;\n      flex-direction: column;\n      gap: 0;\n      border-top: 1px solid rgba(0,0,0,0.06);\n    }\n\n    .chapter-item {\n      display: grid;\n      grid-template-columns: 3ch 1fr;\n      gap: 12px;\n      align-items: start;\n      padding: 10px 0;\n      border-bottom: 1px solid rgba(0,0,0,0.06);\n    }\n\n    .chapter-item--preface .chapter-name {\n      font-weight: 760;\n      letter-spacing: -0.01em;\n      color: rgba(17,17,17,0.90);\n    }\n\n    .chapter-item--current .chapter-name {\n      color: rgba(17,17,17,0.92);\n      text-decoration: underline;\n      text-decoration-thickness: 1px;\n      text-underline-offset: 3px;\n      text-decoration-color: rgba(17,17,17,0.22);\n    }\n\n    .chapter-num {\n      width: auto;\n      height: auto;\n      border-radius: 0;\n      display: block;\n      text-align: right;\n      font-size: 11px;\n      font-weight: 650;\n      color: rgba(17,17,17,0.46);\n      font-variant-numeric: tabular-nums;\n    }\n\n    .chapter-name {\n      font-size: 12px;\n      font-weight: 600;\n      color: rgba(17,17,17,0.80);\n      line-height: 1.3;\n    }\n\n    .chapter-note {\n      margin-top: 2px;\n      font-size: 11px;\n      color: rgba(17,17,17,0.46);\n      line-height: 1.4;\n    }\n\n    /* =====================\n       RESPONSIVE\n    ====================== */\n    @media (max-width: 900px) {\n      .chapter-content {\n        max-width: 100%;\n        padding: 0 24px;\n      }\n\n      .page-widget {\n        max-width: 100%;\n        margin-left: 24px;\n        margin-right: 24px;\n      }\n\n      .chapter-title {\n        font-size: 42px;\n      }\n\n      .chapter-body {\n        font-size: 18px;\n      }\n\n      .chapter-body h2 {\n        font-size: 32px;\n      }\n\n      .chapter-body h3 {\n        font-size: 24px;\n      }\n    }\n\n    @media (max-width: 768px) {\n      .header {\n        flex-direction: column;\n        gap: 12px;\n      }\n\n      .chapter-content {\n        padding: 0 16px;\n      }\n\n      .page-widget {\n        margin-left: 16px;\n        margin-right: 16px;\n      }\n\n      .chapter-title {\n        font-size: 38px;\n      }\n\n      .chapter-body {\n        font-size: 17px;\n      }\n\n      .chapter-body h2 {\n        font-size: 30px;\n      }\n\n      .chapter-body h3 {\n        font-size: 22px;\n      }\n    }\n  </style>\n</head>\n\n<body>\n  <div class=\"page\">\n    <div class=\"container\">\n\n      <!-- SIDEBAR BACKDROP -->\n      <div class=\"sidebar-backdrop\" id=\"sidebarBackdrop\"></div>\n\n      <!-- SIDEBAR -->\n      <aside class=\"sidebar\" id=\"sidebar\">\n        <div class=\"sidebar__title\">Working Fundamentals</div>\n        <ul class=\"sidebar__chapter-list\">\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-introduction\" class=\"sidebar__chapter-link\" target=\"_blank\">Introduction</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-3-of-13-algorithms-and-complexity\" class=\"sidebar__chapter-link sidebar__chapter-link\" target=\"_blank\">Chapter 3 ¬∑ Algorithms & Complexity</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-3-of-13-algorithms-and-complexity\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 3 ¬∑ Algorithms & Complexity</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-3-of-13-algorithms-and-complexity\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 3 ¬∑ Algorithms & Complexity</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-3-of-13-algorithms-and-complexity\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 3 ¬∑ Algorithms & Complexity</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-3-of-13-algorithms-and-complexity\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 3 ¬∑ Algorithms & Complexity</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-3-of-13-algorithms-and-complexity\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 3 ¬∑ Algorithms & Complexity</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-3-of-13-algorithms-and-complexity\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 3 ¬∑ Algorithms & Complexity</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-3-of-13-algorithms-and-complexity\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 3 ¬∑ Algorithms & Complexity</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-3-of-13-algorithms-and-complexity\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 3 ¬∑ Algorithms & Complexity</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-3-of-13-algorithms-and-complexity\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 3 ¬∑ Algorithms & Complexity</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-3-of-13-algorithms-and-complexity\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 3 ¬∑ Algorithms & Complexity</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-3-of-13-algorithms-and-complexity\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 3 ¬∑ Algorithms & Complexity</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-3-of-13-algorithms-and-complexity\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 3 ¬∑ Algorithms & Complexity</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-outroduction\" class=\"sidebar__chapter-link\" target=\"_blank\">Outroduction</a>\n          </li>\n        </ul>\n      </aside>\n\n      <!-- HEADER -->\n      <header class=\"header\" id=\"header\">\n        <a href=\"https://arvinjaysoncastro.com/\" class=\"brand\" target=\"_blank\">Arvin Jayson Castro</a>\n        <nav class=\"nav\">\n          <a href=\"https://arvinjaysoncastro.com/hungry-dev-mind\" target=\"_blank\">Books</a>\n          <a href=\"https://arvinjaysoncastro.com/working-systems\" target=\"_blank\">Working Systems</a>\n          <a href=\"https://arvinjaysoncastro.com/about\" target=\"_blank\">16 Years</a>\n          <div class=\"linkedin\">\n            <a href=\"https://www.linkedin.com/in/arvin-jayson-castro-7458199a/\" target=\"_blank\">linkedIn</a>\n            <span>let''s connect</span>\n          </div>\n        </nav>\n      </header>\n\n      <!-- PAGE WIDGET (TOP) - REMOVED -->\n      <div style=\"display: none;\">\n          <ol class=\"page-widget__pages-list\">\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">P</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Preface</div>\n                  <div class=\"page-widget__page-note\">Why fundamentals still decide outcomes.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item page-widget__page-item--current\">\n                <span class=\"page-widget__page-number\">1</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 1</div>\n                  <div class=\"page-widget__page-note\">Core principles and constraints.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">2</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 2</div>\n                  <div class=\"page-widget__page-note\">Boundaries, ownership, and interfaces.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">3</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 3</div>\n                  <div class=\"page-widget__page-note\">State, consistency, and failure modes.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">4</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 4</div>\n                  <div class=\"page-widget__page-note\">Abstractions that survive change.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">5</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 5</div>\n                  <div class=\"page-widget__page-note\">Simplicity as an engineering practice.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">6</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 6</div>\n                  <div class=\"page-widget__page-note\">Reliability, observability, and feedback.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">7</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 7</div>\n                  <div class=\"page-widget__page-note\">Delivery systems and decision hygiene.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">8</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 8</div>\n                  <div class=\"page-widget__page-note\">Documentation that stays useful.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">9</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 9</div>\n                  <div class=\"page-widget__page-note\">Testing strategy for predictable change.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">10</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 10</div>\n                  <div class=\"page-widget__page-note\">Pragmatic architecture for teams.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">11</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 11</div>\n                  <div class=\"page-widget__page-note\">Operational excellence without ceremony.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">12</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 12</div>\n                  <div class=\"page-widget__page-note\">Leadership, standards, and leverage.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">13</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 13</div>\n                  <div class=\"page-widget__page-note\">Making fundamentals non-negotiable.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">PS</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Postscript</div>\n                  <div class=\"page-widget__page-note\">A short operating model to carry forward.</div>\n                </div>\n              </a>\n            </li>\n          </ol>\n        </div>\n      </div>\n\n      <!-- MAIN -->\n      <main class=\"main\" id=\"main\">\n\n        <!-- CHAPTER CONTENT (Option 1: Magazine-style) -->\n        <article class=\"chapter-content\">\n          <header class=\"chapter-header\">\n            <div class=\"book-title\">Working Fundamentals</div>\n            <div class=\"chapter-number\" id=\"chapterIndicator\">\n              <span>chapter 3 of 13</span>\n              <span class=\"chapter-number__icon\" id=\"chapterIndicatorIcon\">‚ñæ</span>\n            </div>\n            <h1 class=\"chapter-title\">Algorithms & Complexity</h1>\n            <p class=\"chapter-subtitle\">Cost is behavior made visible</p>\n          </header>\n\n          <div class=\"chapter-body\">\n            <h3>What this chapter is</h3>\n\n            <p>This chapter is not a catalog of algorithms.It is not a race for cleverness.It is not about trick solutions.</p>\n\n            <p>This chapter explains <strong>why cost exists</strong> and <strong>how it shapes systems</strong>.</p>\n\n            <p>Algorithms are not about speed.They are about <strong>tradeoffs you cannot escape</strong>.</p>\n\n            <h2>The core truth</h2>\n\n            <p>Every operation has a cost.</p>\n\n            <p>If you do not name the cost,the system will pay it <strong>somewhere else</strong>.</p>\n\n            <p>Time, space, and complexity do not disappear.They only move.</p>\n\n            <h2>What an algorithm really is</h2>\n\n            <p>An algorithm is not code.</p>\n\n            <p>It is a <strong>decision procedure</strong>:</p>\n\n            <ul>\n\n            <li>how work progresses</li>\n\n            </ul>\n\n            <ul>\n\n            <li>how often it repeats</li>\n\n            </ul>\n\n            <ul>\n\n            <li>how it grows with input</li>\n\n            </ul>\n\n            <p>Code is just the expression.</p>\n\n            <p>üß† <strong>Mental Model</strong>An algorithm describes <em>how effort scales</em>, not <em>what happens once</em>.</p>\n\n            <h2>Complexity is about growth, not size</h2>\n\n            <p>Many misunderstand complexity as ‚Äúfast vs slow.‚Äù</p>\n\n            <p>That is shallow.</p>\n\n            <p>Complexity answers a deeper question:</p>\n\n            <blockquote>_What happens when this grows?_</blockquote>\n\n            <ul>\n\n            <li>More users</li>\n\n            </ul>\n\n            <ul>\n\n            <li>More data</li>\n\n            </ul>\n\n            <ul>\n\n            <li>More interactions</li>\n\n            </ul>\n\n            <ul>\n\n            <li>More time</li>\n\n            </ul>\n\n            <p>A solution that works at small scale can collapse silently at larger scale.</p>\n\n            <p>‚ö†Ô∏è <strong>Common Drift</strong>Systems fail when growth was never modeled.</p>\n\n            <h2>Big-O is a warning label, not a badge</h2>\n\n            <p>Big-O notation is often misused as a flex.</p>\n\n            <p>That misses the point.</p>\n\n            <p>Big-O exists to say:</p>\n\n            <ul>\n\n            <li>‚ÄúThis will get expensive.‚Äù</li>\n\n            </ul>\n\n            <ul>\n\n            <li>‚ÄúThis will stay stable.‚Äù</li>\n\n            </ul>\n\n            <ul>\n\n            <li>‚ÄúThis will surprise you later.‚Äù</li>\n\n            </ul>\n\n            <p>üß† <strong>Perspective</strong>Big-O does not measure speed.It measures <strong>risk under growth</strong>.</p>\n\n            <h2>The invisible loop problem</h2>\n\n            <p>Most performance issues come from <strong>unseen repetition</strong>.</p>\n\n            <ul>\n\n            <li>loops inside loops</li>\n\n            </ul>\n\n            <ul>\n\n            <li>repeated lookups</li>\n\n            </ul>\n\n            <ul>\n\n            <li>redundant transformations</li>\n\n            </ul>\n\n            <ul>\n\n            <li>recomputation instead of reuse</li>\n\n            </ul>\n\n            <p>Individually harmless.Collectively destructive.</p>\n\n            <p>üß† <strong>Architect‚Äôs Note</strong>If work repeats, ask <em>why</em> before asking <em>how fast</em>.</p>\n\n            <h2>Structure determines algorithmic cost</h2>\n\n            <p>Algorithms do not live alone.</p>\n\n            <p>They sit on top of:</p>\n\n            <ul>\n\n            <li>data structures</li>\n\n            </ul>\n\n            <ul>\n\n            <li>access patterns</li>\n\n            </ul>\n\n            <ul>\n\n            <li>assumptions about ordering and uniqueness</li>\n\n            </ul>\n\n            <p>A poor structure forces expensive algorithms.A good structure simplifies them.</p>\n\n            <p>This is why Chapter 2 comes first.</p>\n\n            <h2>Space is a decision, not waste</h2>\n\n            <p>Many developers fear memory usage unnecessarily.</p>\n\n            <p>Space can be used to:</p>\n\n            <ul>\n\n            <li>reduce recomputation</li>\n\n            </ul>\n\n            <ul>\n\n            <li>preserve results</li>\n\n            </ul>\n\n            <ul>\n\n            <li>stabilize performance</li>\n\n            </ul>\n\n            <p>Caching is not optimization.It is <strong>time traded for space</strong>.</p>\n\n            <p>üß† <strong>Mental Model</strong>Every cache is a promise about consistency.</p>\n\n            <p>Break that promise, and bugs follow.</p>\n\n            <h2>When ‚Äúfast enough‚Äù is correct</h2>\n\n            <p>Not every system needs to be optimal.</p>\n\n            <p>Some systems need to be:</p>\n\n            <ul>\n\n            <li>readable</li>\n\n            </ul>\n\n            <ul>\n\n            <li>stable</li>\n\n            </ul>\n\n            <ul>\n\n            <li>predictable</li>\n\n            </ul>\n\n            <ul>\n\n            <li>easy to reason about</li>\n\n            </ul>\n\n            <p>Optimization too early creates:</p>\n\n            <ul>\n\n            <li>brittle code</li>\n\n            </ul>\n\n            <ul>\n\n            <li>unclear intent</li>\n\n            </ul>\n\n            <ul>\n\n            <li>defensive logic</li>\n\n            </ul>\n\n            <p>üß† <strong>Perspective</strong>The best algorithm is often the one that stays obvious longest.</p>\n\n            <h2>When optimization is unavoidable</h2>\n\n            <p>Optimization becomes necessary when:</p>\n\n            <ul>\n\n            <li>growth is real</li>\n\n            </ul>\n\n            <ul>\n\n            <li>cost is measured</li>\n\n            </ul>\n\n            <ul>\n\n            <li>failure is visible</li>\n\n            </ul>\n\n            <p>At that point:</p>\n\n            <ul>\n\n            <li>remove repeated work</li>\n\n            </ul>\n\n            <ul>\n\n            <li>move work earlier or later</li>\n\n            </ul>\n\n            <ul>\n\n            <li>change the structure</li>\n\n            </ul>\n\n            <ul>\n\n            <li>change the boundary</li>\n\n            </ul>\n\n            <p>Micro-optimizations rarely matter.Structural changes do.</p>\n\n            <h2>Minimal practice (still no code)</h2>\n\n            <p><strong>Problem:</strong>‚ÄúYou need to check whether a user already exists, and this check happens for every request.‚Äù</p>\n\n            <p>Ask:</p>\n\n            <ul>\n\n            <li>How often does this run?</li>\n\n            </ul>\n\n            <ul>\n\n            <li>What does it scale with?</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Is the cost constant or growing?</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Can structure remove repetition?</li>\n\n            </ul>\n\n            <p>If the answer is ‚Äúwe‚Äôll see later,‚Äùlater will be painful.</p>\n\n            <h2>What beginners gain here</h2>\n\n            <ul>\n\n            <li>Relief from guessing</li>\n\n            </ul>\n\n            <ul>\n\n            <li>A sense of scale</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Understanding why some solutions ‚Äúfeel wrong‚Äù</li>\n\n            </ul>\n\n            <h2>What experienced developers recognize</h2>\n\n            <ul>\n\n            <li>Why systems slow down mysteriously</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Why fixes don‚Äôt stick</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Why performance work feels endless</li>\n\n            </ul>\n\n            <p>The cost was never named.</p>\n\n            <h2>What this chapter deliberately avoids</h2>\n\n            <ul>\n\n            <li>Algorithm lists</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Competitive programming tricks</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Language-specific optimizations</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Premature benchmarks</li>\n\n            </ul>\n\n            <p>Those belong elsewhere.</p>\n\n            <h2>Closing</h2>\n\n            <p>Algorithms are not about cleverness.</p>\n\n            <p>They are about <strong>honesty</strong>.</p>\n\n            <p>Honesty about:</p>\n\n            <ul>\n\n            <li>growth</li>\n\n            </ul>\n\n            <ul>\n\n            <li>repetition</li>\n\n            </ul>\n\n            <ul>\n\n            <li>limits</li>\n\n            </ul>\n\n            <ul>\n\n            <li>tradeoffs</li>\n\n            </ul>\n\n            <p>When cost is visible:</p>\n\n            <ul>\n\n            <li>decisions improve</li>\n\n            </ul>\n\n            <ul>\n\n            <li>systems stabilize</li>\n\n            </ul>\n\n            <ul>\n\n            <li>surprises disappear</li>\n\n            </ul>\n\n            <p>Hide cost, and it will surface at the worst time.</p>\n          </div>\n        </article>\n\n        <!-- RIGHT -->\n\n      </main>\n\n      <!-- CHAPTER NAVIGATION (BOTTOM) -->\n      <nav class=\"chapter-nav-bottom\" id=\"chapterNavBottom\">\n        <a href=\"#\" class=\"chapter-nav-bottom__link chapter-nav-bottom__link--prev\" id=\"prevChapter\">\n          <span class=\"chapter-nav-bottom__arrow\">‚Üê</span>\n          <span class=\"chapter-nav-bottom__label\">Previous</span>\n        </a>\n        <a href=\"#\" class=\"chapter-nav-bottom__link chapter-nav-bottom__link--next\" id=\"nextChapter\">\n          <span class=\"chapter-nav-bottom__label\">Next</span>\n          <span class=\"chapter-nav-bottom__arrow\">‚Üí</span>\n        </a>\n      </nav>\n\n      <!-- PAGE WIDGET (BOTTOM) - REMOVED -->\n      <div style=\"display: none;\">\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">P</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Preface</div>\n                  <div class=\"page-widget__page-note\">Why fundamentals still decide outcomes.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item page-widget__page-item--current\">\n                <span class=\"page-widget__page-number\">1</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 1</div>\n                  <div class=\"page-widget__page-note\">Core principles and constraints.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">2</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 2</div>\n                  <div class=\"page-widget__page-note\">Boundaries, ownership, and interfaces.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">3</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 3</div>\n                  <div class=\"page-widget__page-note\">State, consistency, and failure modes.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">4</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 4</div>\n                  <div class=\"page-widget__page-note\">Abstractions that survive change.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">5</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 5</div>\n                  <div class=\"page-widget__page-note\">Simplicity as an engineering practice.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">6</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 6</div>\n                  <div class=\"page-widget__page-note\">Reliability, observability, and feedback.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">7</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 7</div>\n                  <div class=\"page-widget__page-note\">Delivery systems and decision hygiene.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">8</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 8</div>\n                  <div class=\"page-widget__page-note\">Documentation that stays useful.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">9</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 9</div>\n                  <div class=\"page-widget__page-note\">Testing strategy for predictable change.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">10</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 10</div>\n                  <div class=\"page-widget__page-note\">Pragmatic architecture for teams.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">11</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 11</div>\n                  <div class=\"page-widget__page-note\">Operational excellence without ceremony.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">12</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 12</div>\n                  <div class=\"page-widget__page-note\">Leadership, standards, and leverage.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">13</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 13</div>\n                  <div class=\"page-widget__page-note\">Making fundamentals non-negotiable.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">PS</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Postscript</div>\n                  <div class=\"page-widget__page-note\">A short operating model to carry forward.</div>\n                </div>\n              </a>\n            </li>\n          </ol>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <!-- PAGE WIDGET JS -->\n  <!-- SIDEBAR TOGGLE JS -->\n  <script>\n  (() => {\n    const sidebar = document.getElementById(''sidebar'');\n    const backdrop = document.getElementById(''sidebarBackdrop'');\n    const indicator = document.getElementById(''chapterIndicator'');\n    const icon = document.getElementById(''chapterIndicatorIcon'');\n    const header = document.getElementById(''header'');\n    const main = document.getElementById(''main'');\n    const body = document.body;\n\n    if (!sidebar || !backdrop || !indicator || !icon || !header || !main) return;\n\n    let isOpen = false;\n    let scrollTimeout = null;\n\n    const openSidebar = () => {\n      isOpen = true;\n      sidebar.classList.add(''sidebar--open'');\n      backdrop.classList.add(''sidebar-backdrop--visible'');\n      header.classList.add(''header--shifted'');\n      main.classList.add(''main--shifted'');\n      icon.classList.add(''chapter-number__icon--open'');\n      body.classList.add(''sidebar-open'');\n    };\n\n    const closeSidebar = () => {\n      isOpen = false;\n      sidebar.classList.remove(''sidebar--open'');\n      backdrop.classList.remove(''sidebar-backdrop--visible'');\n      header.classList.remove(''header--shifted'');\n      main.classList.remove(''main--shifted'');\n      icon.classList.remove(''chapter-number__icon--open'');\n      body.classList.remove(''sidebar-open'');\n    };\n\n    // Toggle sidebar\n    indicator.addEventListener(''click'', (e) => {\n      e.stopPropagation();\n      if (isOpen) {\n        closeSidebar();\n      } else {\n        openSidebar();\n      }\n    });\n\n    // Close sidebar when clicking backdrop\n    backdrop.addEventListener(''click'', () => {\n      closeSidebar();\n    });\n\n    // Close sidebar when clicking outside\n    document.addEventListener(''click'', (e) => {\n      // Don''t close sidebar if clicking on brand link or nav links\n      const brandLink = header.querySelector(''.brand'');\n      const isClickOnLink = brandLink && brandLink.contains(e.target);\n      const isClickOnNav = header.querySelector(''.nav'') && header.querySelector(''.nav'').contains(e.target);\n      \n      if (isOpen && !sidebar.contains(e.target) && !indicator.contains(e.target) && !isClickOnLink && !isClickOnNav) {\n        closeSidebar();\n      }\n    });\n\n    // Close sidebar on scroll (debounced)\n    const handleScroll = () => {\n      if (isOpen) {\n        clearTimeout(scrollTimeout);\n        scrollTimeout = setTimeout(() => {\n          closeSidebar();\n        }, 100);\n      }\n    };\n\n    // Listen for scroll on main content\n    window.addEventListener(''scroll'', handleScroll, { passive: true });\n    \n    // Also listen for scroll attempts on body (when scroll is disabled)\n    let lastScrollTop = window.pageYOffset;\n    const handleScrollAttempt = () => {\n      if (isOpen) {\n        const currentScrollTop = window.pageYOffset;\n        if (currentScrollTop !== lastScrollTop) {\n          closeSidebar();\n        }\n        lastScrollTop = currentScrollTop;\n      }\n    };\n\n    // Prevent scroll on body when sidebar is open\n    document.addEventListener(''wheel'', (e) => {\n      if (isOpen && !sidebar.contains(e.target)) {\n        e.preventDefault();\n        closeSidebar();\n      }\n    }, { passive: false });\n\n    // Prevent touch scroll on body when sidebar is open\n    document.addEventListener(''touchmove'', (e) => {\n      if (isOpen && !sidebar.contains(e.target)) {\n        e.preventDefault();\n        closeSidebar();\n      }\n    }, { passive: false });\n  })();\n  </script>\n\n  <!-- CHAPTER NAVIGATION (BOTTOM) JS -->\n  <script>\n  (() => {\n    // Chapter list: Preface = 0, Chapter 1-13 = 1-13, Postscript = 14\n    const chapters = [\n      { id: ''preface'', title: ''Preface'', url: ''https://arvinjaysoncastro.com/working-fundamentals-introduction'' },\n      { id: ''ch1'', title: ''Chapter 1'', url: ''https://arvinjaysoncastro.com/working-fundamentals-1-of-13-programming-fundamentals'' },\n      { id: ''ch2'', title: ''Chapter 2'', url: ''https://arvinjaysoncastro.com/working-fundamentals-2-of-13-data-structures'' },\n      { id: ''ch3'', title: ''Chapter 3'', url: ''https://arvinjaysoncastro.com/working-fundamentals-3-of-13-algorithms-and-complexity'' },\n      { id: ''ch4'', title: ''Chapter 4'', url: ''https://arvinjaysoncastro.com/working-fundamentals-4-of-13-control-and-flow'' },\n      { id: ''ch5'', title: ''Chapter 5'', url: ''https://arvinjaysoncastro.com/working-fundamentals-5-of-13-state-and-change'' },\n      { id: ''ch6'', title: ''Chapter 6'', url: ''https://arvinjaysoncastro.com/working-fundamentals-6-of-13-design-principles'' },\n      { id: ''ch7'', title: ''Chapter 7'', url: ''https://arvinjaysoncastro.com/working-fundamentals-7-of-13-architecture'' },\n      { id: ''ch8'', title: ''Chapter 8'', url: ''https://arvinjaysoncastro.com/working-fundamentals-8-of-13-persistence-and-data-modeling'' },\n      { id: ''ch9'', title: ''Chapter 9'', url: ''https://arvinjaysoncastro.com/working-fundamentals-9-of-13-interfaces-and-apis'' },\n      { id: ''ch10'', title: ''Chapter 10'', url: ''https://arvinjaysoncastro.com/working-fundamentals-10-of-13-errors-and-failure'' },\n      { id: ''ch11'', title: ''Chapter 11'', url: ''https://arvinjaysoncastro.com/working-fundamentals-11-of-13-testing'' },\n      { id: ''ch12'', title: ''Chapter 12'', url: ''https://arvinjaysoncastro.com/working-fundamentals-12-of-13-performance-and-scale'' },\n      { id: ''ch13'', title: ''Chapter 13'', url: ''https://arvinjaysoncastro.com/working-fundamentals-13-of-13-the-developers-role'' },\n      { id: ''postscript'', title: ''Postscript'', url: ''https://arvinjaysoncastro.com/working-fundamentals-outroduction'' }\n    ];\n\n    const currentChapterIndex = 3; // Chapter 1 is index 1 (Preface is 0)\n    const prevLink = document.getElementById(''prevChapter'');\n    const nextLink = document.getElementById(''nextChapter'');\n\n    if (!prevLink || !nextLink) return;\n\n    // Previous chapter\n    if (currentChapterIndex > 0) {\n      const prevChapter = chapters[currentChapterIndex - 1];\n      prevLink.href = prevChapter.url;\n      prevLink.target = ''_blank'';\n      prevLink.innerHTML = `\n        <span class=\"chapter-nav-bottom__arrow\">‚Üê</span>\n        <span class=\"chapter-nav-bottom__label\">Previous: ${prevChapter.title}</span>\n      `;\n    } else {\n      // No previous chapter - show \"go back to book list\"\n      prevLink.href = ''https://arvinjaysoncastro.com/hungry-dev-mind'';\n      prevLink.target = ''_blank'';\n      prevLink.innerHTML = `\n        <span class=\"chapter-nav-bottom__arrow\">‚Üê</span>\n        <span class=\"chapter-nav-bottom__label\">Go back to book list</span>\n      `;\n    }\n\n    // Next chapter\n    if (currentChapterIndex < chapters.length - 1) {\n      const nextChapter = chapters[currentChapterIndex + 1];\n      nextLink.href = nextChapter.url;\n      nextLink.target = ''_blank'';\n      nextLink.innerHTML = `\n        <span class=\"chapter-nav-bottom__label\">Next: ${nextChapter.title}</span>\n        <span class=\"chapter-nav-bottom__arrow\">‚Üí</span>\n      `;\n    } else {\n      // No next chapter - show \"go back to book list\"\n      nextLink.href = ''https://arvinjaysoncastro.com/hungry-dev-mind'';\n      nextLink.target = ''_blank'';\n      nextLink.innerHTML = `\n        <span class=\"chapter-nav-bottom__label\">Go back to book list</span>\n        <span class=\"chapter-nav-bottom__arrow\">‚Üí</span>\n      `;\n    }\n  })();\n  </script>\n\n  <!-- OPTIONAL JS -->\n <script>\n(() => {\n  const wrap = document.querySelector(''.book-wrap'');\n  if (!wrap) return;\n\n  const slab1 = wrap.querySelector(''.shadow-slab'');\n  const slab2 = wrap.querySelector(''.shadow-slab-2'');\n  const slab3 = wrap.querySelector(''.shadow-slab-3'');\n  const slab4 = wrap.querySelector(''.shadow-slab-4'');\n  const front = wrap.querySelector(''.front-slab'');\n\n  const clamp = (v, min, max) => Math.max(min, Math.min(max, v));\n\n  let raf = 0;\n  let lx = 0; // light vector x\n  let ly = 0; // light vector y\n\n  function render() {\n    raf = 0;\n\n    // Shadow direction = opposite of light\n    const sx = -lx;\n    const sy = -ly;\n\n    const intensity = Math.abs(lx) + Math.abs(ly);\n\n    /* ---------------------------\n       SLAB 1 ‚Äî KEY CAST SHADOW\n    ---------------------------- */\n    slab1.style.transform =\n      `translate(${(sx * 38).toFixed(2)}px, ${(sy * 38).toFixed(2)}px)`;\n    slab1.style.filter =\n      `blur(${(14 + intensity * 6).toFixed(2)}px)`;\n    slab1.style.opacity =\n      (0.28 + intensity * 0.14).toFixed(2);\n\n    /* ---------------------------\n       SLAB 2 ‚Äî BOUNCE / COLOR BLEED\n    ---------------------------- */\n    slab2.style.transform =\n      `translate(${(sx * 14).toFixed(2)}px, ${(sy * 14).toFixed(2)}px)`;\n    slab2.style.filter =\n      `blur(${(6 + intensity * 4).toFixed(2)}px)`;\n    slab2.style.opacity =\n      (0.16 + intensity * 0.10).toFixed(2);\n\n    /* ---------------------------\n       SLAB 3 ‚Äî CONTACT SHADOW\n    ---------------------------- */\n    slab3.style.transform =\n      `translate(${(sx * 6).toFixed(2)}px, ${(sy * 6).toFixed(2)}px)`;\n    slab3.style.filter = `blur(9px)`;\n    slab3.style.opacity =\n      (0.24 + Math.abs(lx) * 0.06).toFixed(2);\n\n    /* ---------------------------\n       SLAB 4 ‚Äî AMBIENT DEPTH\n    ---------------------------- */\n    slab4.style.transform =\n      `translate(${(sx * 3).toFixed(2)}px, ${(sy * 3).toFixed(2)}px)`;\n    slab4.style.filter = `blur(18px)`;\n    slab4.style.opacity =\n      (0.16 + Math.abs(ly) * 0.04).toFixed(2);\n\n    /* ---------------------------\n       FRONT SLAB ‚Äî SPECULAR RESPONSE\n       (moves TOWARD light)\n    ---------------------------- */\nif (front) {\n  // Very subtle counter-parallax (NOT toward light)\n  front.style.transform =\n    `translate(${(-lx * 1.6).toFixed(2)}px, ${(-ly * 1.6).toFixed(2)}px)`;\n\n  // Opacity increases when light is grazing\n  front.style.opacity =\n    (0.34 + intensity * 0.22).toFixed(2);\n\n  // Highlight shifts OPPOSITE the light direction\n  const gx = 50 - lx * 28;\n  const gy = 50 - ly * 28;\n  front.style.backgroundPosition = `${gx}% ${gy}%`;\n}\n\n  }\n\n  function onMove(e) {\n    const r = wrap.getBoundingClientRect();\n    const cx = r.left + r.width / 2;\n    const cy = r.top + r.height / 2;\n\n    // LIGHT VECTOR (mouse = light source)\n    lx = clamp((e.clientX - cx) / (r.width / 2), -1, 1);\n    ly = clamp((e.clientY - cy) / (r.height / 2), -1, 1);\n\n    if (!raf) raf = requestAnimationFrame(render);\n  }\n\n  window.addEventListener(''mousemove'', onMove, { passive: true });\n})();\n</script>\n</body>\n</html>\n", "css": "body { font-family: system-ui; padding: 20px; }", "js": "console.log(\"Code Runner initialized\");", "imports": {"css": [], "js": []}, "entryPoint": {"type": "htmlDocument", "mountSelector": "#app", "injectMountIfMissing": true}, "settings": {"mode": "play", "viewport": {"type": "responsive", "background": "white"}, "securityPreset": "trusted", "autoRun": true, "runOnLoad": true}, "codePanel": {"isVisible": false, "isEditable": false}}}]}]}',
    NULL,
    1,
    NOW()
);


-- 4. Control & Flow
-- Slug: working-fundamentals-4-of-13-control-and-flow
-- ID: 57e5a35d-542f-4a3d-b97f-e202835e00aa
-- File: ch_04.html
INSERT INTO App_Pages (
    id, org_id, name, slug, template_code, layout, layout_version, is_active,
    created_by_user_id, created_at, updated_at, visibility, description,
    is_template, template_metadata, kind, parent_id, section_tags, section_purpose,
    section_scope, palette_id, is_default_variation, variation_order, template_purpose,
    is_listed, is_org_landing_page, report, folder, layout_raw, layout_quarantine,
    layout_schema_version, layout_ingested_at
) VALUES (
    '57e5a35d-542f-4a3d-b97f-e202835e00aa',
    '82c2d096-2638-4837-83c8-e8a933bb17c7',
    'Control & Flow',
    'working-fundamentals-4-of-13-control-and-flow',
    NULL,
    '{"id": "block-root", "style": {}, "type": "container", "children": [{"id": "temp-container", "style": {"width": "100vw", "height": "100vh"}, "type": "container", "children": [{"id": "temp-coderunner", "style": {}, "type": "codeRunner", "data": {"html": "<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n  <meta charset=\"UTF-8\" />\n  <title>Working Fundamentals ‚Äî Arvin Jayson Castro</title>\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n\n  <!-- =====================\n       GLOBAL STYLES\n  ====================== -->\n  <style>\n    :root {\n      --bg: #f7f8f8;\n      --ink: #111111;\n      --muted: #666666;\n      --line: rgba(0,0,0,0.08);\n      --accent: #16a34a;\n      --link: #3b82f6;\n      --max-width: 1200px;\n    }\n\n    * {\n      box-sizing: border-box;\n    }\n\n    body {\n      margin: 0;\n      font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, sans-serif;\n      color: var(--ink);\n      background-color: var(--bg);\n      background-image:\n        radial-gradient(980px 560px at 14% 18%, rgba(16,185,129,0.10) 0%, rgba(16,185,129,0) 60%),\n        radial-gradient(860px 540px at 86% 74%, rgba(245,158,11,0.10) 0%, rgba(245,158,11,0) 62%),\n        repeating-linear-gradient(0deg, rgba(0,0,0,0.043) 0, rgba(0,0,0,0.043) 1px, transparent 1px, transparent 46px),\n        repeating-linear-gradient(90deg, rgba(0,0,0,0.043) 0, rgba(0,0,0,0.043) 1px, transparent 1px, transparent 46px);\n      min-height: 100vh;\n    }\n\n    a {\n      color: inherit;\n      text-decoration: none;\n    }\n\n    img {\n      max-width: 100%;\n      display: block;\n    }\n\n    /* =====================\n       PAGE WRAPPER\n    ====================== */\n    .page {\n      padding: 22px 24px;\n    }\n\n    .container {\n      max-width: var(--max-width);\n      margin: 0 auto;\n    }\n\n    /* =====================\n       SIDEBAR BACKDROP\n    ====================== */\n    .sidebar-backdrop {\n      position: fixed;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n      background: rgba(0, 0, 0, 0.2);\n      backdrop-filter: blur(4px);\n      -webkit-backdrop-filter: blur(4px);\n      opacity: 0;\n      visibility: hidden;\n      transition: opacity 0.3s ease, visibility 0.3s ease;\n      z-index: 999;\n      pointer-events: none;\n    }\n\n    .sidebar-backdrop--visible {\n      opacity: 1;\n      visibility: visible;\n      pointer-events: auto;\n    }\n\n    /* =====================\n       SIDEBAR\n    ====================== */\n    .sidebar {\n      position: fixed;\n      top: 0;\n      right: 0;\n      width: 320px;\n      height: 100vh;\n      background: var(--bg);\n      border-left: 1px solid var(--line);\n      transform: translateX(100%);\n      transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n      z-index: 1000;\n      overflow-y: auto;\n      padding: 24px;\n    }\n\n    .sidebar--open {\n      transform: translateX(0);\n    }\n\n    .sidebar__title {\n      font-size: 16px;\n      font-weight: 600;\n      margin-bottom: 24px;\n      color: var(--ink);\n    }\n\n    /* Prevent body scroll when sidebar is open */\n    body.sidebar-open {\n      overflow: hidden;\n    }\n\n    .sidebar__chapter-list {\n      list-style: none;\n      margin: 0;\n      padding: 0;\n    }\n\n    .sidebar__chapter-item {\n      margin: 0 0 8px 0;\n    }\n\n    .sidebar__chapter-link {\n      display: block;\n      font-size: 14px;\n      color: var(--muted);\n      text-decoration: none;\n      padding: 8px 0;\n      transition: color 0.2s ease;\n      line-height: 1.5;\n    }\n\n    .sidebar__chapter-link:hover {\n      color: var(--ink);\n    }\n\n    .sidebar__chapter-link {\n      color: var(--ink);\n      font-weight: 500;\n    }\n\n    /* =====================\n       HEADER (Top bar with chapter indicator)\n    ====================== */\n    .header {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      padding: 10px 0;\n      border-bottom: 1px solid var(--line);\n      position: relative;\n      transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n    }\n\n    .header--shifted {\n      transform: translateX(-320px);\n    }\n\n    .brand {\n      font-size: 16px;\n      font-weight: 600;\n      cursor: pointer;\n      display: inline-block;\n    }\n\n    .nav {\n      display: flex;\n      gap: 24px;\n      align-items: center;\n      font-size: 14px;\n    }\n\n    .nav a {\n      color: #1f2937;\n    }\n\n    .linkedin {\n      display: flex;\n      flex-direction: column;\n      align-items: flex-start;\n    }\n\n    .linkedin a {\n      color: var(--link);\n    }\n\n    .linkedin span {\n      font-family: Georgia, serif;\n      font-size: 9px;\n      font-style: italic;\n      color: #999;\n    }\n\n    /* =====================\n       MAIN GRID\n    ====================== */\n    .main {\n      padding-top: 48px;\n      padding-bottom: 48px;\n      display: flex;\n      justify-content: center;\n      align-items: start;\n    }\n\n    /* =====================\n       CHAPTER READING AREA (Option 1: Magazine-style)\n    ====================== */\n    .chapter-content {\n      max-width: 768px;\n      width: 100%;\n      margin: 0 auto;\n    }\n\n    .chapter-header {\n      margin-bottom: 56px;\n      padding-bottom: 32px;\n      border-bottom: 2px solid var(--line);\n    }\n\n    .book-title {\n      font-size: 12px;\n      letter-spacing: 0.15em;\n      text-transform: uppercase;\n      color: var(--muted);\n      font-weight: 500;\n      margin-bottom: 8px;\n      opacity: 0.7;\n    }\n\n    .chapter-number {\n      font-size: 13px;\n      letter-spacing: 0.2em;\n      text-transform: uppercase;\n      color: var(--muted);\n      font-weight: 600;\n      margin-bottom: 12px;\n      display: flex;\n      align-items: center;\n      gap: 8px;\n      cursor: pointer;\n      user-select: none;\n      transition: color 0.2s ease;\n    }\n\n    .chapter-number:hover {\n      color: var(--ink);\n    }\n\n    .chapter-number__icon {\n      font-size: 10px;\n      opacity: 0.6;\n      transition: transform 0.3s ease, opacity 0.2s ease;\n    }\n\n    .chapter-number:hover .chapter-number__icon {\n      opacity: 0.8;\n    }\n\n    .chapter-number__icon--open {\n      transform: rotate(180deg);\n    }\n\n    .chapter-title {\n      font-size: 56px;\n      font-weight: 900;\n      line-height: 1.05;\n      margin: 0 0 20px 0;\n      color: var(--ink);\n      letter-spacing: -0.03em;\n    }\n\n    .chapter-subtitle {\n      font-size: 22px;\n      font-weight: 500;\n      color: var(--muted);\n      line-height: 1.4;\n      margin: 0;\n    }\n\n    .chapter-body {\n      font-size: 19px;\n      line-height: 1.8;\n      color: var(--ink);\n      max-width: none;\n      font-weight: 400;\n    }\n\n    .chapter-body p {\n      margin: 0 0 28px 0;\n    }\n\n    .chapter-body p:last-child {\n      margin-bottom: 0;\n    }\n\n    .chapter-body h2 {\n      font-size: 36px;\n      font-weight: 800;\n      line-height: 1.2;\n      margin: 56px 0 24px 0;\n      color: var(--ink);\n      letter-spacing: -0.02em;\n    }\n\n    .chapter-body h3 {\n      font-size: 26px;\n      font-weight: 700;\n      line-height: 1.3;\n      margin: 40px 0 18px 0;\n      color: var(--ink);\n      letter-spacing: -0.01em;\n    }\n\n    .chapter-body strong {\n      font-weight: 600;\n      color: var(--ink);\n    }\n\n    .chapter-body em {\n      font-style: italic;\n    }\n\n    .chapter-body ul,\n    .chapter-body ol {\n      margin: 28px 0;\n      padding-left: 36px;\n    }\n\n    .chapter-body li {\n      margin-bottom: 14px;\n      line-height: 1.75;\n    }\n\n    .chapter-body blockquote {\n      margin: 40px 0;\n      padding-left: 28px;\n      border-left: 4px solid var(--accent);\n      font-style: italic;\n      color: var(--muted);\n      font-size: 18px;\n      line-height: 1.7;\n    }\n\n    .chapter-body code {\n      font-family: ''Monaco'', ''Menlo'', ''Courier New'', monospace;\n      font-size: 0.9em;\n      background: rgba(0,0,0,0.04);\n      padding: 2px 6px;\n      border-radius: 3px;\n    }\n\n    .chapter-body pre {\n      background: rgba(0,0,0,0.04);\n      padding: 20px;\n      border-radius: 8px;\n      overflow-x: auto;\n      margin: 24px 0;\n    }\n\n    .chapter-body pre code {\n      background: none;\n      padding: 0;\n    }\n\n    /* Content shift when sidebar opens */\n    .main {\n      transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n    }\n\n    .main--shifted {\n      transform: translateX(-320px);\n    }\n\n    /* Prevent horizontal scroll */\n    body {\n      overflow-x: hidden;\n    }\n\n    .page {\n      overflow-x: hidden;\n    }\n\n    /* =====================\n       CHAPTER NAVIGATION (BOTTOM)\n    ====================== */\n    .chapter-nav-bottom {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      max-width: 768px;\n      width: 100%;\n      margin: 64px auto 0 auto;\n      padding: 24px 0;\n      border-top: 1px solid var(--line);\n    }\n\n    .chapter-nav-bottom__link {\n      display: flex;\n      align-items: center;\n      gap: 8px;\n      font-size: 14px;\n      color: var(--muted);\n      text-decoration: none;\n      transition: color 0.2s ease;\n      padding: 8px 0;\n    }\n\n    .chapter-nav-bottom__link:hover {\n      color: var(--ink);\n    }\n\n    .chapter-nav-bottom__arrow {\n      font-size: 16px;\n      opacity: 0.7;\n    }\n\n    .chapter-nav-bottom__label {\n      font-weight: 500;\n    }\n\n    .chapter-nav-bottom__link--prev {\n      margin-right: auto;\n    }\n\n    .chapter-nav-bottom__link--next {\n      margin-left: auto;\n    }\n\n    .chapter-nav-bottom__link--disabled {\n      opacity: 0.4;\n      cursor: not-allowed;\n      pointer-events: none;\n    }\n\n    .page-widget__pages {\n      max-height: 0;\n      overflow: hidden;\n      transition: max-height 0.4s cubic-bezier(0.4, 0, 0.2, 1),\n                  opacity 0.3s ease,\n                  margin-top 0.3s ease;\n      opacity: 0;\n      margin-top: 0;\n      background: rgba(255, 255, 255, 0.98);\n      backdrop-filter: blur(12px);\n      -webkit-backdrop-filter: blur(12px);\n      border: 1px solid rgba(0, 0, 0, 0.06);\n      border-radius: 12px;\n      box-shadow: 0 2px 12px rgba(0, 0, 0, 0.06);\n    }\n\n    .page-widget__pages--expanded {\n      max-height: 500px;\n      opacity: 1;\n      margin-top: 12px;\n      padding: 8px;\n    }\n\n    .page-widget__pages-list {\n      list-style: none;\n      margin: 0;\n      padding: 0;\n      display: flex;\n      flex-direction: column;\n      gap: 8px;\n      max-height: 400px;\n      overflow-y: auto;\n      padding-right: 4px;\n    }\n\n    .page-widget__pages-list::-webkit-scrollbar {\n      width: 6px;\n    }\n\n    .page-widget__pages-list::-webkit-scrollbar-track {\n      background: rgba(0, 0, 0, 0.02);\n      border-radius: 3px;\n    }\n\n    .page-widget__pages-list::-webkit-scrollbar-thumb {\n      background: rgba(0, 0, 0, 0.12);\n      border-radius: 3px;\n    }\n\n    .page-widget__pages-list::-webkit-scrollbar-thumb:hover {\n      background: rgba(0, 0, 0, 0.2);\n    }\n\n    .page-widget__page-item {\n      display: flex;\n      align-items: center;\n      gap: 10px;\n      padding: 8px 10px;\n      border-radius: 8px;\n      cursor: pointer;\n      transition: all 0.2s ease;\n      text-decoration: none;\n      color: var(--ink);\n    }\n\n    .page-widget__page-item:hover {\n      background: rgba(0, 0, 0, 0.03);\n      transform: translateX(2px);\n    }\n\n    .page-widget__page-item--current {\n      background: rgba(22, 163, 74, 0.08);\n      color: var(--accent);\n      font-weight: 500;\n    }\n\n    .page-widget__page-item--current:hover {\n      background: rgba(22, 163, 74, 0.12);\n    }\n\n    .page-widget__page-number {\n      display: inline-flex;\n      align-items: center;\n      justify-content: center;\n      width: 24px;\n      height: 24px;\n      background: rgba(0, 0, 0, 0.04);\n      border-radius: 5px;\n      font-size: 11px;\n      font-weight: 500;\n      flex-shrink: 0;\n      color: var(--muted);\n    }\n\n    .page-widget__page-item--current .page-widget__page-number {\n      background: rgba(22, 163, 74, 0.15);\n      color: var(--accent);\n    }\n\n    .page-widget__page-info {\n      flex: 1;\n      min-width: 0;\n    }\n\n    .page-widget__page-name {\n      font-size: 13px;\n      font-weight: 500;\n      line-height: 1.3;\n      margin: 0 0 2px 0;\n    }\n\n    .page-widget__page-note {\n      font-size: 11px;\n      color: var(--muted);\n      line-height: 1.3;\n      margin: 0;\n      white-space: nowrap;\n      overflow: hidden;\n      text-overflow: ellipsis;\n    }\n\n    @media (max-width: 768px) {\n      .page-widget__pages-list {\n        max-height: 300px;\n      }\n    }\n\n\n/* ===============================\n   WRAPPER\n================================ */\n.book-wrap {\n  width: 320px;\n  aspect-ratio: 2 / 3;\n  position: relative;\n}\n\n/* ===============================\n   CAST SHADOW SLAB (REAL SHADOW)\n================================ */\n.shadow-slab {\n    position: absolute;\n    position: absolute;\n    inset: 0;\n    border-radius: 22px;\n    /* background: #2a2a2a; */\n    transform: translate(-30px, 30px);\n    filter: blur(13px);\n    opacity: 0.35;\n    z-index: 0;\n    background: radial-gradient(ellipse at 15% 85%, rgba(0, 0, 0, 0.35), rgba(0, 0, 0, 0.18) 35%, transparent 65%), linear-gradient(to right, #1f1f1f 0%, #2a2a2a 45%, #3a3a3a 100%);\n}\n\n.shadow-slab-2 {\n    position: absolute;\n    inset: 0;\n    border-radius: 22px;\n    background: radial-gradient(circle at top right, #f6e6a8 0%, #e2c36b 35%, #b58a3c 70%, #7a5524 100%);\n    transform: translate(-10px, 10px);\n    filter: blur(5px);\n    opacity: 0.35;\n    z-index: 0;\n}\n\n.shadow-slab-3 {\n    position: absolute;\n    inset: 0;\n    border-radius: 22px;\n    background: #333;\n    transform: translate(0px, 0px);\n    filter: blur(11px);\n    opacity: 0.35;\n    z-index: 0;\n}\n\n.shadow-slab-4 {\n    position: absolute;\n    inset: 0;\n    border-radius: 22px;\n    background: #333;\n    transform: translate(0px, 0px);\n    filter: blur(11px);\n    opacity: 0.35;\n    z-index: 0;\n}\n\n/* ===============================\n   FRONT SLAB & SPIN HANDLE\n================================ */\n\n.front-slab {\n    position: absolute;\n    inset: 0;\n    border-radius: 22px;\n    background: linear-gradient(to right, rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.1) 3%, transparent 1%);\n    /* background: green; */\n    z-index: 3;\n    opacity: .5;\n    transform: translateZ(6px);\n    pointer-events: none;\n}\n\n.spin-handle {\n  display: none;\n  position: absolute;\n  top: 50%;\n  right: -22px;\n  width: 14px;\n  height: 48px;\n  border-radius: 999px;\n  background: rgba(0,0,0,0.25);\n  backdrop-filter: blur(4px);\n  cursor: grab;\n  z-index: 10;\n}\n\n/* ===============================\n   BOOK OBJECT (NO SHADOW)\n================================ */\n.book {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  border-radius: 22px;\n  overflow: hidden;\n  z-index: 2;\n\n  /* IMPORTANT: no box-shadow */\n  box-shadow: none;\n\n  /* transform: perspective(1200px) rotateX(0.6deg); */\n}\n\n/* ===============================\n   PAPER SURFACE (LIGHT FIELD)\n================================ */\n.book .surface {\n  position: absolute;\n  inset: 0;\n  border-radius: inherit;\n  pointer-events: none;\n  z-index: 1;\n\n  background:\n    linear-gradient(\n      to bottom left,\n      rgba(255,255,255,1) 0%,\n      rgba(250,250,250,1) 42%,\n      rgba(240,240,240,1) 100%\n    ),\n    repeating-linear-gradient(\n      0deg,\n      rgba(0,0,0,0.01),\n      rgba(0,0,0,0.01) 1px,\n      transparent 1px,\n      transparent 3px\n    );\n}\n\n/* ===============================\n   LEFT OCCLUSION (CURTAIN)\n================================ */\n.book .curtain {\n  position: absolute;\n  inset: 0;\n  border-radius: inherit;\n  pointer-events: none;\n  z-index: 2;\n\n  background:\n    linear-gradient(\n      to right,\n      rgba(0,0,0,0.20) 0%,\n      rgba(0,0,0,0.12) 8%,\n      rgba(0,0,0,0.05) 16%,\n      rgba(0,0,0,0.02) 22%,\n      rgba(0,0,0,0.00) 30%\n    );\n}\n\n/* ===============================\n   RIGHT HIGHLIGHT\n================================ */\n.book .highlight {\n  position: absolute;\n  inset: 0;\n  border-radius: inherit;\n  pointer-events: none;\n  z-index: 3;\n\n  background:\n    linear-gradient(\n      to left,\n      rgba(255,255,255,0.35) 0%,\n      rgba(255,255,255,0.18) 6%,\n      rgba(255,255,255,0.06) 14%,\n      rgba(255,255,255,0.00) 24%\n    );\n}\n\n/* ===============================\n   PAGE EDGE (THICKNESS)\n================================ */\n.book .edge {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 120px;\n  height: 100%;\n  border-radius: 22px 0 0 22px;\n  pointer-events: none;\n  z-index: 4;\n\n  background:\n    linear-gradient(\n      to right,\n      rgba(215,215,215,0.95) 0%,\n      rgba(245,245,245,0.95) 40%,\n      rgba(255,255,255,0.95) 75%\n    );\n\n  box-shadow:\n    inset -1px 0 0 rgba(0,0,0,0.05);\n}\n\n/* ===============================\n   SVG (PURE WHITE)\n================================ */\n.book svg {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  display: block;\n  z-index: 5;\n}\n\n    /* =====================\n       LEFT: BOOK COVER\n    ====================== */\n    .book-cover {\n      display: flex;\n      flex-direction: column;\n      gap: 12px;\n    }\n\n\n    /* ===============================\n       BOOK + SHADOW SYSTEM\n    =============================== */\n    .book-wrap {\n      width: 320px;\n      aspect-ratio: 2 / 3;\n      position: relative;\n    }\n\n    .shadow-slab,\n    .shadow-slab-2,\n    .shadow-slab-3,\n    .shadow-slab-4 {\n      position: absolute;\n      inset: 0;\n      border-radius: 22px;\n      z-index: 0;\n      will-change: transform, filter, opacity;\n    }\n\n    .shadow-slab {\n      background:\n        radial-gradient(ellipse at 15% 85%, rgba(0,0,0,0.35), rgba(0,0,0,0.18) 35%, transparent 65%),\n        linear-gradient(to right, #1f1f1f 0%, #2a2a2a 45%, #3a3a3a 100%);\n      filter: blur(13px);\n      opacity: 0.35;\n    }\n\n    .shadow-slab-2 {\n      background: radial-gradient(circle at top right, #f6e6a8 0%, #e2c36b 35%, #b58a3c 70%, #7a5524 100%);\n      filter: blur(6px);\n      opacity: 0.30;\n    }\n\n    .shadow-slab-3,\n    .shadow-slab-4 {\n      background: #333;\n      filter: blur(11px);\n      opacity: 0.30;\n    }\n\n    .book {\n      position: relative;\n      width: 100%;\n      height: 100%;\n      border-radius: 22px;\n      overflow: hidden;\n      z-index: 2;\n      background: #f7f4ee;\n    }\n\n    .front-slab {\n      position: absolute;\n      inset: 0;\n      border-radius: 22px;\n      background: linear-gradient(to right, rgba(0,0,0,0.4), rgba(0,0,0,0.1) 3%, transparent 10%);\n      z-index: 3;\n      pointer-events: none;\n      opacity: 0.5;\n    }\n\n\n    @media (prefers-reduced-motion: reduce) {\n      .cover-frame {\n        transition: none;\n        transform: none;\n      }\n      .cover-frame:hover {\n        --lift: 0;\n      }\n    }\n\n    .start-reading {\n      display: inline-flex;\n      align-items: center;\n      justify-content: center;\n      width: 100%;\n      padding: 12px 14px;\n      border-radius: 999px;\n\n      font-size: 11px;\n      letter-spacing: 0.16em;\n      text-transform: uppercase;\n      font-weight: 650;\n      color: rgba(34,197,94,0.92);\n      text-shadow:\n        0 0 10px rgba(34,197,94,0.22),\n        0 0 22px rgba(34,197,94,0.14);\n\n      /* graphite: dark + slightly mineral */\n      background:\n        radial-gradient(120% 140% at 20% 10%, rgba(255,255,255,0.10) 0%, rgba(255,255,255,0.00) 55%),\n        radial-gradient(140% 140% at 80% 90%, rgba(255,255,255,0.06) 0%, rgba(255,255,255,0.00) 60%),\n        linear-gradient(180deg, #141414 0%, #0a0a0a 100%);\n      border: 1px solid rgba(255,255,255,0.10);\n      box-shadow:\n        0 14px 34px rgba(0,0,0,0.22),\n        0 8px 16px rgba(0,0,0,0.18),\n        inset 0 1px 0 rgba(255,255,255,0.10),\n        inset 0 -1px 0 rgba(0,0,0,0.55);\n\n      position: relative;\n      overflow: hidden;\n      cursor: pointer;\n      user-select: none;\n      -webkit-tap-highlight-color: transparent;\n\n      transition:\n        transform 160ms cubic-bezier(0.2, 0.8, 0.2, 1),\n        box-shadow 160ms cubic-bezier(0.2, 0.8, 0.2, 1),\n        border-color 160ms cubic-bezier(0.2, 0.8, 0.2, 1);\n    }\n\n    .start-reading::before {\n      content: \"\";\n      position: absolute;\n      inset: 0;\n      pointer-events: none;\n      /* texture + sheen (very subtle) */\n      background:\n        linear-gradient(120deg, rgba(255,255,255,0.12) 0%, rgba(255,255,255,0.00) 46%),\n        repeating-linear-gradient(0deg,\n          rgba(255,255,255,0.028) 0px,\n          rgba(255,255,255,0.028) 1px,\n          rgba(0,0,0,0.00) 3px,\n          rgba(0,0,0,0.00) 6px),\n        radial-gradient(120% 90% at 50% 0%, rgba(34,197,94,0.14) 0%, rgba(34,197,94,0.00) 62%);\n      opacity: 0.75;\n    }\n\n    .start-reading:hover {\n      transform: translateY(-1px);\n      border-color: rgba(34,197,94,0.30);\n      box-shadow:\n        0 18px 42px rgba(0,0,0,0.24),\n        0 10px 18px rgba(0,0,0,0.18),\n        inset 0 1px 0 rgba(255,255,255,0.12),\n        inset 0 -1px 0 rgba(0,0,0,0.55);\n      text-shadow:\n        0 0 12px rgba(34,197,94,0.28),\n        0 0 26px rgba(34,197,94,0.18);\n    }\n\n    .start-reading:active {\n      transform: translateY(0px);\n      box-shadow:\n        0 14px 34px rgba(0,0,0,0.22),\n        0 8px 16px rgba(0,0,0,0.18),\n        inset 0 1px 0 rgba(255,255,255,0.10),\n        inset 0 -1px 0 rgba(0,0,0,0.55);\n    }\n\n    .start-reading:focus-visible {\n      outline: none;\n      box-shadow:\n        0 18px 42px rgba(0,0,0,0.24),\n        0 0 0 4px rgba(34,197,94,0.22),\n        0 0 0 1px rgba(34,197,94,0.26),\n        inset 0 1px 0 rgba(255,255,255,0.12),\n        inset 0 -1px 0 rgba(0,0,0,0.55);\n      border-color: rgba(34,197,94,0.34);\n    }\n\n    @media (prefers-reduced-motion: reduce) {\n      .start-reading {\n        transition: none;\n      }\n      .start-reading:hover {\n        transform: none;\n      }\n    }\n\n    /* =====================\n       CENTER: CONTENT\n    ====================== */\n    .content h1 {\n      font-size: 40px;\n      font-weight: 800;\n      line-height: 1.15;\n      margin: 0;\n    }\n\n    .byline {\n      font-size: 13px;\n      letter-spacing: 0.12em;\n      color: #666;\n      font-weight: 600;\n    }\n\n    .tagline {\n      font-size: 18px;\n      font-weight: 500;\n      color: #333;\n    }\n\n    .paragraph {\n      font-size: 15px;\n      color: #222;\n    }\n\n    .meta {\n      margin-top: 20px;\n      padding-top: 20px;\n      border-top: 1px solid var(--line);\n      display: grid;\n      grid-template-columns: repeat(2, 1fr);\n      gap: 12px 24px;\n      font-size: 13px;\n    }\n\n    .author {\n      margin-top: 20px;\n      padding-top: 20px;\n      border-top: 1px solid var(--line);\n      display: flex;\n      gap: 16px;\n      align-items: flex-start;\n    }\n\n    .author img {\n      width: 44px;\n      height: 44px;\n      border-radius: 50%;\n    }\n\n    /* =====================\n       RIGHT: RELATED\n    ====================== */\n    .related {\n      display: flex;\n      flex-direction: column;\n      gap: 20px;\n    }\n\n    .related-title {\n      font-size: 11px;\n      letter-spacing: 0.14em;\n      color: #666;\n      text-transform: uppercase;\n      font-weight: 600;\n    }\n\n    .related-item {\n      display: flex;\n      flex-direction: column;\n      gap: 6px;\n      cursor: pointer;\n      transition: transform 0.12s ease, box-shadow 0.12s ease;\n    }\n\n    .related-item:hover {\n      transform: translateY(-2px);\n    }\n\n    .related-thumb {\n      border-radius: 6px;\n      overflow: hidden;\n      aspect-ratio: 3 / 4;\n      box-shadow: 0 8px 24px rgba(0,0,0,0.1);\n\n      /* Gray placeholder shape */\n      background: linear-gradient(135deg, #e5e7eb 0%, #d1d5db 45%, #cbd5e1 100%);\n      border: 1px solid rgba(0,0,0,0.06);\n    }\n\n    .related-thumb img {\n      width: 100%;\n      height: 100%;\n      object-fit: cover;\n      filter: grayscale(1);\n      opacity: 0.85;\n      transition: filter 160ms ease, opacity 160ms ease;\n    }\n\n    .related-thumb .thumb-placeholder {\n      width: 100%;\n      height: 100%;\n      display: block;\n    }\n\n    .related-item a {\n      font-size: 12px;\n      font-weight: 600;\n      color: #111;\n    }\n\n    /* =====================\n       RIGHT: 13 CHAPTERS\n    ====================== */\n    .chapters {\n      display: flex;\n      flex-direction: column;\n      gap: 10px;\n    }\n\n    .chapters-title {\n      font-size: 11px;\n      letter-spacing: 0.12em;\n      color: rgba(17,17,17,0.52);\n      text-transform: uppercase;\n      font-weight: 600;\n    }\n\n    .chapters-help {\n      margin-top: -4px;\n      font-size: 11px;\n      line-height: 1.35;\n      color: rgba(17,17,17,0.42);\n    }\n\n    .chapter-list {\n      list-style: none;\n      padding: 0;\n      margin: 0;\n      display: flex;\n      flex-direction: column;\n      gap: 0;\n      border-top: 1px solid rgba(0,0,0,0.06);\n    }\n\n    .chapter-item {\n      display: grid;\n      grid-template-columns: 3ch 1fr;\n      gap: 12px;\n      align-items: start;\n      padding: 10px 0;\n      border-bottom: 1px solid rgba(0,0,0,0.06);\n    }\n\n    .chapter-item--preface .chapter-name {\n      font-weight: 760;\n      letter-spacing: -0.01em;\n      color: rgba(17,17,17,0.90);\n    }\n\n    .chapter-item--current .chapter-name {\n      color: rgba(17,17,17,0.92);\n      text-decoration: underline;\n      text-decoration-thickness: 1px;\n      text-underline-offset: 3px;\n      text-decoration-color: rgba(17,17,17,0.22);\n    }\n\n    .chapter-num {\n      width: auto;\n      height: auto;\n      border-radius: 0;\n      display: block;\n      text-align: right;\n      font-size: 11px;\n      font-weight: 650;\n      color: rgba(17,17,17,0.46);\n      font-variant-numeric: tabular-nums;\n    }\n\n    .chapter-name {\n      font-size: 12px;\n      font-weight: 600;\n      color: rgba(17,17,17,0.80);\n      line-height: 1.3;\n    }\n\n    .chapter-note {\n      margin-top: 2px;\n      font-size: 11px;\n      color: rgba(17,17,17,0.46);\n      line-height: 1.4;\n    }\n\n    /* =====================\n       RESPONSIVE\n    ====================== */\n    @media (max-width: 900px) {\n      .chapter-content {\n        max-width: 100%;\n        padding: 0 24px;\n      }\n\n      .page-widget {\n        max-width: 100%;\n        margin-left: 24px;\n        margin-right: 24px;\n      }\n\n      .chapter-title {\n        font-size: 42px;\n      }\n\n      .chapter-body {\n        font-size: 18px;\n      }\n\n      .chapter-body h2 {\n        font-size: 32px;\n      }\n\n      .chapter-body h3 {\n        font-size: 24px;\n      }\n    }\n\n    @media (max-width: 768px) {\n      .header {\n        flex-direction: column;\n        gap: 12px;\n      }\n\n      .chapter-content {\n        padding: 0 16px;\n      }\n\n      .page-widget {\n        margin-left: 16px;\n        margin-right: 16px;\n      }\n\n      .chapter-title {\n        font-size: 38px;\n      }\n\n      .chapter-body {\n        font-size: 17px;\n      }\n\n      .chapter-body h2 {\n        font-size: 30px;\n      }\n\n      .chapter-body h3 {\n        font-size: 22px;\n      }\n    }\n  </style>\n</head>\n\n<body>\n  <div class=\"page\">\n    <div class=\"container\">\n\n      <!-- SIDEBAR BACKDROP -->\n      <div class=\"sidebar-backdrop\" id=\"sidebarBackdrop\"></div>\n\n      <!-- SIDEBAR -->\n      <aside class=\"sidebar\" id=\"sidebar\">\n        <div class=\"sidebar__title\">Working Fundamentals</div>\n        <ul class=\"sidebar__chapter-list\">\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-introduction\" class=\"sidebar__chapter-link\" target=\"_blank\">Introduction</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-4-of-13-control-and-flow\" class=\"sidebar__chapter-link sidebar__chapter-link\" target=\"_blank\">Chapter 4 ¬∑ Control & Flow</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-4-of-13-control-and-flow\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 4 ¬∑ Control & Flow</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-4-of-13-control-and-flow\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 4 ¬∑ Control & Flow</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-4-of-13-control-and-flow\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 4 ¬∑ Control & Flow</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-4-of-13-control-and-flow\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 4 ¬∑ Control & Flow</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-4-of-13-control-and-flow\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 4 ¬∑ Control & Flow</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-4-of-13-control-and-flow\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 4 ¬∑ Control & Flow</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-4-of-13-control-and-flow\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 4 ¬∑ Control & Flow</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-4-of-13-control-and-flow\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 4 ¬∑ Control & Flow</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-4-of-13-control-and-flow\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 4 ¬∑ Control & Flow</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-4-of-13-control-and-flow\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 4 ¬∑ Control & Flow</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-4-of-13-control-and-flow\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 4 ¬∑ Control & Flow</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-4-of-13-control-and-flow\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 4 ¬∑ Control & Flow</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-outroduction\" class=\"sidebar__chapter-link\" target=\"_blank\">Outroduction</a>\n          </li>\n        </ul>\n      </aside>\n\n      <!-- HEADER -->\n      <header class=\"header\" id=\"header\">\n        <a href=\"https://arvinjaysoncastro.com/\" class=\"brand\" target=\"_blank\">Arvin Jayson Castro</a>\n        <nav class=\"nav\">\n          <a href=\"https://arvinjaysoncastro.com/hungry-dev-mind\" target=\"_blank\">Books</a>\n          <a href=\"https://arvinjaysoncastro.com/working-systems\" target=\"_blank\">Working Systems</a>\n          <a href=\"https://arvinjaysoncastro.com/about\" target=\"_blank\">16 Years</a>\n          <div class=\"linkedin\">\n            <a href=\"https://www.linkedin.com/in/arvin-jayson-castro-7458199a/\" target=\"_blank\">linkedIn</a>\n            <span>let''s connect</span>\n          </div>\n        </nav>\n      </header>\n\n      <!-- PAGE WIDGET (TOP) - REMOVED -->\n      <div style=\"display: none;\">\n          <ol class=\"page-widget__pages-list\">\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">P</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Preface</div>\n                  <div class=\"page-widget__page-note\">Why fundamentals still decide outcomes.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item page-widget__page-item--current\">\n                <span class=\"page-widget__page-number\">1</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 1</div>\n                  <div class=\"page-widget__page-note\">Core principles and constraints.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">2</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 2</div>\n                  <div class=\"page-widget__page-note\">Boundaries, ownership, and interfaces.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">3</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 3</div>\n                  <div class=\"page-widget__page-note\">State, consistency, and failure modes.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">4</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 4</div>\n                  <div class=\"page-widget__page-note\">Abstractions that survive change.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">5</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 5</div>\n                  <div class=\"page-widget__page-note\">Simplicity as an engineering practice.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">6</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 6</div>\n                  <div class=\"page-widget__page-note\">Reliability, observability, and feedback.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">7</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 7</div>\n                  <div class=\"page-widget__page-note\">Delivery systems and decision hygiene.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">8</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 8</div>\n                  <div class=\"page-widget__page-note\">Documentation that stays useful.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">9</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 9</div>\n                  <div class=\"page-widget__page-note\">Testing strategy for predictable change.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">10</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 10</div>\n                  <div class=\"page-widget__page-note\">Pragmatic architecture for teams.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">11</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 11</div>\n                  <div class=\"page-widget__page-note\">Operational excellence without ceremony.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">12</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 12</div>\n                  <div class=\"page-widget__page-note\">Leadership, standards, and leverage.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">13</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 13</div>\n                  <div class=\"page-widget__page-note\">Making fundamentals non-negotiable.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">PS</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Postscript</div>\n                  <div class=\"page-widget__page-note\">A short operating model to carry forward.</div>\n                </div>\n              </a>\n            </li>\n          </ol>\n        </div>\n      </div>\n\n      <!-- MAIN -->\n      <main class=\"main\" id=\"main\">\n\n        <!-- CHAPTER CONTENT (Option 1: Magazine-style) -->\n        <article class=\"chapter-content\">\n          <header class=\"chapter-header\">\n            <div class=\"book-title\">Working Fundamentals</div>\n            <div class=\"chapter-number\" id=\"chapterIndicator\">\n              <span>chapter 4 of 13</span>\n              <span class=\"chapter-number__icon\" id=\"chapterIndicatorIcon\">‚ñæ</span>\n            </div>\n            <h1 class=\"chapter-title\">Control & Flow</h1>\n            <p class=\"chapter-subtitle\">Execution is a path, not a script</p>\n          </header>\n\n          <div class=\"chapter-body\">\n            <h3>What this chapter is</h3>\n\n            <p>This chapter is not about syntax.It is not about if, else, switch, or loops.</p>\n\n            <p>This chapter is about <strong>movement</strong>.</p>\n\n            <p>Most developers think of code as text that runs top to bottom.Systems do not behave that way.</p>\n\n            <p>Systems behave as <strong>paths through decisions</strong>.</p>\n\n            <p>If you misunderstand flow, you misunderstand behavior.</p>\n\n            <h2>The core truth</h2>\n\n            <p>Programs do not execute lines.They <strong>travel through possibilities</strong>.</p>\n\n            <p>Every conditional creates a fork.Every loop creates repetition.Every return creates an exit.</p>\n\n            <p>Execution is not linear.It is <strong>navigational</strong>.</p>\n\n            <p>üß† <strong>Mental Model</strong>Code is a map.Control flow is the allowed terrain.</p>\n\n            <h2>Why control flow is where bugs hide</h2>\n\n            <p>Logic errors are obvious.Flow errors are subtle.</p>\n\n            <p>Flow bugs include:</p>\n\n            <ul>\n\n            <li>code that runs too often</li>\n\n            </ul>\n\n            <ul>\n\n            <li>code that runs too late</li>\n\n            </ul>\n\n            <ul>\n\n            <li>code that should stop but continues</li>\n\n            </ul>\n\n            <ul>\n\n            <li>code that silently skips important steps</li>\n\n            </ul>\n\n            <p>These bugs survive reviews because the code <em>looks</em> correct.</p>\n\n            <p>‚ö†Ô∏è <strong>Common Drift</strong>When developers read code line-by-line instead of path-by-path, flow bugs slip through.</p>\n\n            <h2>Conditionals define reality</h2>\n\n            <p>A conditional is not a question.It is a <strong>gate</strong>.</p>\n\n            <p>It decides:</p>\n\n            <ul>\n\n            <li>what is allowed to happen</li>\n\n            </ul>\n\n            <ul>\n\n            <li>what is impossible to happen</li>\n\n            </ul>\n\n            <p>Every if encodes an assumption about reality.</p>\n\n            <p>üß† <strong>Perspective</strong>If you cannot explain <em>why</em> a branch exists, it probably should not.</p>\n\n            <h2>The danger of implicit paths</h2>\n\n            <p>Some paths are obvious.Others are implied.</p>\n\n            <p>Examples:</p>\n\n            <ul>\n\n            <li>default branches</li>\n\n            </ul>\n\n            <ul>\n\n            <li>fallthrough behavior</li>\n\n            </ul>\n\n            <ul>\n\n            <li>early exits that bypass cleanup</li>\n\n            </ul>\n\n            <ul>\n\n            <li>conditions that overlap</li>\n\n            </ul>\n\n            <p>These paths are not written explicitly,but they <strong>exist at runtime</strong>.</p>\n\n            <p>üß† <strong>Architect‚Äôs Note</strong>Unwritten paths are still real paths.</p>\n\n            <h2>Nesting is a symptom, not a style choice</h2>\n\n            <p>Deep nesting is rarely intentional.</p>\n\n            <p>It usually means:</p>\n\n            <ul>\n\n            <li>rules were added one by one</li>\n\n            </ul>\n\n            <ul>\n\n            <li>edge cases accumulated</li>\n\n            </ul>\n\n            <ul>\n\n            <li>boundaries were never drawn</li>\n\n            </ul>\n\n            <p>Each nested level increases:</p>\n\n            <ul>\n\n            <li>cognitive load</li>\n\n            </ul>\n\n            <ul>\n\n            <li>path count</li>\n\n            </ul>\n\n            <ul>\n\n            <li>chance of error</li>\n\n            </ul>\n\n            <p>üß† <strong>Mental Model</strong>Every nested block multiplies possible execution paths.</p>\n\n            <h2>Flattening flow restores reasoning</h2>\n\n            <p>Flat code is not minimal code.It is <strong>honest code</strong>.</p>\n\n            <p>Techniques that flatten flow:</p>\n\n            <ul>\n\n            <li>early returns</li>\n\n            </ul>\n\n            <ul>\n\n            <li>guard clauses</li>\n\n            </ul>\n\n            <ul>\n\n            <li>named functions</li>\n\n            </ul>\n\n            <ul>\n\n            <li>extracted decisions</li>\n\n            </ul>\n\n            <p>Flattening does not remove logic.It <strong>reveals it</strong>.</p>\n\n            <p>‚ö†Ô∏è <strong>Common Drift</strong>Code that avoids early returns often hides invalid states deep inside.</p>\n\n            <h2>Loops are promises</h2>\n\n            <p>A loop promises repetition.</p>\n\n            <p>That promise must answer:</p>\n\n            <ul>\n\n            <li>what repeats?</li>\n\n            </ul>\n\n            <ul>\n\n            <li>why does it repeat?</li>\n\n            </ul>\n\n            <ul>\n\n            <li>what guarantees it stops?</li>\n\n            </ul>\n\n            <p>A loop without a clear exit condition is not unfinished ‚Äîit is dangerous.</p>\n\n            <p>üß† <strong>Perspective</strong>Termination is a design requirement, not an implementation detail.</p>\n\n            <h2>Flow and time</h2>\n\n            <p>Control flow is tightly coupled to time.</p>\n\n            <p>Some paths assume:</p>\n\n            <ul>\n\n            <li>order</li>\n\n            </ul>\n\n            <ul>\n\n            <li>timing</li>\n\n            </ul>\n\n            <ul>\n\n            <li>exclusivity</li>\n\n            </ul>\n\n            <ul>\n\n            <li>non-interruption</li>\n\n            </ul>\n\n            <p>When concurrency or asynchrony enters,those assumptions break.</p>\n\n            <p>üß† <strong>Architect‚Äôs Note</strong>If order matters, enforce it.If it cannot be enforced, redesign.</p>\n\n            <h2>Error paths are control paths</h2>\n\n            <p>Errors are not interruptions.They are <strong>alternate flows</strong>.</p>\n\n            <p>Every error path must answer:</p>\n\n            <ul>\n\n            <li>where does execution go next?</li>\n\n            </ul>\n\n            <ul>\n\n            <li>what is skipped?</li>\n\n            </ul>\n\n            <ul>\n\n            <li>what must still happen?</li>\n\n            </ul>\n\n            <p>Ignoring error flow creates:</p>\n\n            <ul>\n\n            <li>leaked resources</li>\n\n            </ul>\n\n            <ul>\n\n            <li>partial updates</li>\n\n            </ul>\n\n            <ul>\n\n            <li>corrupted state</li>\n\n            </ul>\n\n            <p>üß† <strong>Mental Model</strong>Failure is a first-class path, not an exception to thinking.</p>\n\n            <h2>Control flow and responsibility</h2>\n\n            <p>Good flow makes responsibility obvious.</p>\n\n            <p>You should be able to point at a block of code and say:</p>\n\n            <ul>\n\n            <li>this validates</li>\n\n            </ul>\n\n            <ul>\n\n            <li>this decides</li>\n\n            </ul>\n\n            <ul>\n\n            <li>this transforms</li>\n\n            </ul>\n\n            <ul>\n\n            <li>this exits</li>\n\n            </ul>\n\n            <p>When responsibility is mixed, flow becomes tangled.</p>\n\n            <h2>Minimal practice (still no code)</h2>\n\n            <p><strong>Problem:</strong>‚ÄúA process validates input, saves data, sends a notification, and logs activity. If validation fails, nothing else should happen.‚Äù</p>\n\n            <p>Answer in words:</p>\n\n            <ul>\n\n            <li>Where does execution stop?</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Which paths are illegal?</li>\n\n            </ul>\n\n            <ul>\n\n            <li>What must never be partially executed?</li>\n\n            </ul>\n\n            <p>If you cannot describe the flow cleanly, code will not fix it.</p>\n\n            <h2>What beginners gain here</h2>\n\n            <ul>\n\n            <li>A new way to read code</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Fewer ‚Äúwhy did this run?‚Äù moments</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Confidence tracing behavior</li>\n\n            </ul>\n\n            <h2>What experienced developers recognize</h2>\n\n            <ul>\n\n            <li>Why certain bugs feel impossible</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Why fixes break unrelated features</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Why systems feel fragile under change</li>\n\n            </ul>\n\n            <p>Flow was unclear.</p>\n\n            <h2>What this chapter deliberately avoids</h2>\n\n            <ul>\n\n            <li>Language-specific constructs</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Control-flow tricks</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Clever branching</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Performance tuning</li>\n\n            </ul>\n\n            <p>Those belong after clarity.</p>\n\n            <h2>Closing</h2>\n\n            <p>Control flow is where intent becomes behavior.</p>\n\n            <p>Clear flow:</p>\n\n            <ul>\n\n            <li>reduces bugs</li>\n\n            </ul>\n\n            <ul>\n\n            <li>simplifies reasoning</li>\n\n            </ul>\n\n            <ul>\n\n            <li>stabilizes change</li>\n\n            </ul>\n\n            <p>Unclear flow:</p>\n\n            <ul>\n\n            <li>hides assumptions</li>\n\n            </ul>\n\n            <ul>\n\n            <li>multiplies paths</li>\n\n            </ul>\n\n            <ul>\n\n            <li>creates surprises</li>\n\n            </ul>\n\n            <p>Do not write code that merely <em>works</em>.Write code whose <strong>paths you can defend</strong>.</p>\n          </div>\n        </article>\n\n        <!-- RIGHT -->\n\n      </main>\n\n      <!-- CHAPTER NAVIGATION (BOTTOM) -->\n      <nav class=\"chapter-nav-bottom\" id=\"chapterNavBottom\">\n        <a href=\"#\" class=\"chapter-nav-bottom__link chapter-nav-bottom__link--prev\" id=\"prevChapter\">\n          <span class=\"chapter-nav-bottom__arrow\">‚Üê</span>\n          <span class=\"chapter-nav-bottom__label\">Previous</span>\n        </a>\n        <a href=\"#\" class=\"chapter-nav-bottom__link chapter-nav-bottom__link--next\" id=\"nextChapter\">\n          <span class=\"chapter-nav-bottom__label\">Next</span>\n          <span class=\"chapter-nav-bottom__arrow\">‚Üí</span>\n        </a>\n      </nav>\n\n      <!-- PAGE WIDGET (BOTTOM) - REMOVED -->\n      <div style=\"display: none;\">\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">P</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Preface</div>\n                  <div class=\"page-widget__page-note\">Why fundamentals still decide outcomes.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item page-widget__page-item--current\">\n                <span class=\"page-widget__page-number\">1</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 1</div>\n                  <div class=\"page-widget__page-note\">Core principles and constraints.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">2</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 2</div>\n                  <div class=\"page-widget__page-note\">Boundaries, ownership, and interfaces.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">3</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 3</div>\n                  <div class=\"page-widget__page-note\">State, consistency, and failure modes.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">4</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 4</div>\n                  <div class=\"page-widget__page-note\">Abstractions that survive change.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">5</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 5</div>\n                  <div class=\"page-widget__page-note\">Simplicity as an engineering practice.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">6</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 6</div>\n                  <div class=\"page-widget__page-note\">Reliability, observability, and feedback.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">7</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 7</div>\n                  <div class=\"page-widget__page-note\">Delivery systems and decision hygiene.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">8</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 8</div>\n                  <div class=\"page-widget__page-note\">Documentation that stays useful.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">9</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 9</div>\n                  <div class=\"page-widget__page-note\">Testing strategy for predictable change.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">10</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 10</div>\n                  <div class=\"page-widget__page-note\">Pragmatic architecture for teams.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">11</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 11</div>\n                  <div class=\"page-widget__page-note\">Operational excellence without ceremony.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">12</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 12</div>\n                  <div class=\"page-widget__page-note\">Leadership, standards, and leverage.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">13</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 13</div>\n                  <div class=\"page-widget__page-note\">Making fundamentals non-negotiable.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">PS</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Postscript</div>\n                  <div class=\"page-widget__page-note\">A short operating model to carry forward.</div>\n                </div>\n              </a>\n            </li>\n          </ol>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <!-- PAGE WIDGET JS -->\n  <!-- SIDEBAR TOGGLE JS -->\n  <script>\n  (() => {\n    const sidebar = document.getElementById(''sidebar'');\n    const backdrop = document.getElementById(''sidebarBackdrop'');\n    const indicator = document.getElementById(''chapterIndicator'');\n    const icon = document.getElementById(''chapterIndicatorIcon'');\n    const header = document.getElementById(''header'');\n    const main = document.getElementById(''main'');\n    const body = document.body;\n\n    if (!sidebar || !backdrop || !indicator || !icon || !header || !main) return;\n\n    let isOpen = false;\n    let scrollTimeout = null;\n\n    const openSidebar = () => {\n      isOpen = true;\n      sidebar.classList.add(''sidebar--open'');\n      backdrop.classList.add(''sidebar-backdrop--visible'');\n      header.classList.add(''header--shifted'');\n      main.classList.add(''main--shifted'');\n      icon.classList.add(''chapter-number__icon--open'');\n      body.classList.add(''sidebar-open'');\n    };\n\n    const closeSidebar = () => {\n      isOpen = false;\n      sidebar.classList.remove(''sidebar--open'');\n      backdrop.classList.remove(''sidebar-backdrop--visible'');\n      header.classList.remove(''header--shifted'');\n      main.classList.remove(''main--shifted'');\n      icon.classList.remove(''chapter-number__icon--open'');\n      body.classList.remove(''sidebar-open'');\n    };\n\n    // Toggle sidebar\n    indicator.addEventListener(''click'', (e) => {\n      e.stopPropagation();\n      if (isOpen) {\n        closeSidebar();\n      } else {\n        openSidebar();\n      }\n    });\n\n    // Close sidebar when clicking backdrop\n    backdrop.addEventListener(''click'', () => {\n      closeSidebar();\n    });\n\n    // Close sidebar when clicking outside\n    document.addEventListener(''click'', (e) => {\n      // Don''t close sidebar if clicking on brand link or nav links\n      const brandLink = header.querySelector(''.brand'');\n      const isClickOnLink = brandLink && brandLink.contains(e.target);\n      const isClickOnNav = header.querySelector(''.nav'') && header.querySelector(''.nav'').contains(e.target);\n      \n      if (isOpen && !sidebar.contains(e.target) && !indicator.contains(e.target) && !isClickOnLink && !isClickOnNav) {\n        closeSidebar();\n      }\n    });\n\n    // Close sidebar on scroll (debounced)\n    const handleScroll = () => {\n      if (isOpen) {\n        clearTimeout(scrollTimeout);\n        scrollTimeout = setTimeout(() => {\n          closeSidebar();\n        }, 100);\n      }\n    };\n\n    // Listen for scroll on main content\n    window.addEventListener(''scroll'', handleScroll, { passive: true });\n    \n    // Also listen for scroll attempts on body (when scroll is disabled)\n    let lastScrollTop = window.pageYOffset;\n    const handleScrollAttempt = () => {\n      if (isOpen) {\n        const currentScrollTop = window.pageYOffset;\n        if (currentScrollTop !== lastScrollTop) {\n          closeSidebar();\n        }\n        lastScrollTop = currentScrollTop;\n      }\n    };\n\n    // Prevent scroll on body when sidebar is open\n    document.addEventListener(''wheel'', (e) => {\n      if (isOpen && !sidebar.contains(e.target)) {\n        e.preventDefault();\n        closeSidebar();\n      }\n    }, { passive: false });\n\n    // Prevent touch scroll on body when sidebar is open\n    document.addEventListener(''touchmove'', (e) => {\n      if (isOpen && !sidebar.contains(e.target)) {\n        e.preventDefault();\n        closeSidebar();\n      }\n    }, { passive: false });\n  })();\n  </script>\n\n  <!-- CHAPTER NAVIGATION (BOTTOM) JS -->\n  <script>\n  (() => {\n    // Chapter list: Preface = 0, Chapter 1-13 = 1-13, Postscript = 14\n    const chapters = [\n      { id: ''preface'', title: ''Preface'', url: ''https://arvinjaysoncastro.com/working-fundamentals-introduction'' },\n      { id: ''ch1'', title: ''Chapter 1'', url: ''https://arvinjaysoncastro.com/working-fundamentals-1-of-13-programming-fundamentals'' },\n      { id: ''ch2'', title: ''Chapter 2'', url: ''https://arvinjaysoncastro.com/working-fundamentals-2-of-13-data-structures'' },\n      { id: ''ch3'', title: ''Chapter 3'', url: ''https://arvinjaysoncastro.com/working-fundamentals-3-of-13-algorithms-and-complexity'' },\n      { id: ''ch4'', title: ''Chapter 4'', url: ''https://arvinjaysoncastro.com/working-fundamentals-4-of-13-control-and-flow'' },\n      { id: ''ch5'', title: ''Chapter 5'', url: ''https://arvinjaysoncastro.com/working-fundamentals-5-of-13-state-and-change'' },\n      { id: ''ch6'', title: ''Chapter 6'', url: ''https://arvinjaysoncastro.com/working-fundamentals-6-of-13-design-principles'' },\n      { id: ''ch7'', title: ''Chapter 7'', url: ''https://arvinjaysoncastro.com/working-fundamentals-7-of-13-architecture'' },\n      { id: ''ch8'', title: ''Chapter 8'', url: ''https://arvinjaysoncastro.com/working-fundamentals-8-of-13-persistence-and-data-modeling'' },\n      { id: ''ch9'', title: ''Chapter 9'', url: ''https://arvinjaysoncastro.com/working-fundamentals-9-of-13-interfaces-and-apis'' },\n      { id: ''ch10'', title: ''Chapter 10'', url: ''https://arvinjaysoncastro.com/working-fundamentals-10-of-13-errors-and-failure'' },\n      { id: ''ch11'', title: ''Chapter 11'', url: ''https://arvinjaysoncastro.com/working-fundamentals-11-of-13-testing'' },\n      { id: ''ch12'', title: ''Chapter 12'', url: ''https://arvinjaysoncastro.com/working-fundamentals-12-of-13-performance-and-scale'' },\n      { id: ''ch13'', title: ''Chapter 13'', url: ''https://arvinjaysoncastro.com/working-fundamentals-13-of-13-the-developers-role'' },\n      { id: ''postscript'', title: ''Postscript'', url: ''https://arvinjaysoncastro.com/working-fundamentals-outroduction'' }\n    ];\n\n    const currentChapterIndex = 4; // Chapter 1 is index 1 (Preface is 0)\n    const prevLink = document.getElementById(''prevChapter'');\n    const nextLink = document.getElementById(''nextChapter'');\n\n    if (!prevLink || !nextLink) return;\n\n    // Previous chapter\n    if (currentChapterIndex > 0) {\n      const prevChapter = chapters[currentChapterIndex - 1];\n      prevLink.href = prevChapter.url;\n      prevLink.target = ''_blank'';\n      prevLink.innerHTML = `\n        <span class=\"chapter-nav-bottom__arrow\">‚Üê</span>\n        <span class=\"chapter-nav-bottom__label\">Previous: ${prevChapter.title}</span>\n      `;\n    } else {\n      // No previous chapter - show \"go back to book list\"\n      prevLink.href = ''https://arvinjaysoncastro.com/hungry-dev-mind'';\n      prevLink.target = ''_blank'';\n      prevLink.innerHTML = `\n        <span class=\"chapter-nav-bottom__arrow\">‚Üê</span>\n        <span class=\"chapter-nav-bottom__label\">Go back to book list</span>\n      `;\n    }\n\n    // Next chapter\n    if (currentChapterIndex < chapters.length - 1) {\n      const nextChapter = chapters[currentChapterIndex + 1];\n      nextLink.href = nextChapter.url;\n      nextLink.target = ''_blank'';\n      nextLink.innerHTML = `\n        <span class=\"chapter-nav-bottom__label\">Next: ${nextChapter.title}</span>\n        <span class=\"chapter-nav-bottom__arrow\">‚Üí</span>\n      `;\n    } else {\n      // No next chapter - show \"go back to book list\"\n      nextLink.href = ''https://arvinjaysoncastro.com/hungry-dev-mind'';\n      nextLink.target = ''_blank'';\n      nextLink.innerHTML = `\n        <span class=\"chapter-nav-bottom__label\">Go back to book list</span>\n        <span class=\"chapter-nav-bottom__arrow\">‚Üí</span>\n      `;\n    }\n  })();\n  </script>\n\n  <!-- OPTIONAL JS -->\n <script>\n(() => {\n  const wrap = document.querySelector(''.book-wrap'');\n  if (!wrap) return;\n\n  const slab1 = wrap.querySelector(''.shadow-slab'');\n  const slab2 = wrap.querySelector(''.shadow-slab-2'');\n  const slab3 = wrap.querySelector(''.shadow-slab-3'');\n  const slab4 = wrap.querySelector(''.shadow-slab-4'');\n  const front = wrap.querySelector(''.front-slab'');\n\n  const clamp = (v, min, max) => Math.max(min, Math.min(max, v));\n\n  let raf = 0;\n  let lx = 0; // light vector x\n  let ly = 0; // light vector y\n\n  function render() {\n    raf = 0;\n\n    // Shadow direction = opposite of light\n    const sx = -lx;\n    const sy = -ly;\n\n    const intensity = Math.abs(lx) + Math.abs(ly);\n\n    /* ---------------------------\n       SLAB 1 ‚Äî KEY CAST SHADOW\n    ---------------------------- */\n    slab1.style.transform =\n      `translate(${(sx * 38).toFixed(2)}px, ${(sy * 38).toFixed(2)}px)`;\n    slab1.style.filter =\n      `blur(${(14 + intensity * 6).toFixed(2)}px)`;\n    slab1.style.opacity =\n      (0.28 + intensity * 0.14).toFixed(2);\n\n    /* ---------------------------\n       SLAB 2 ‚Äî BOUNCE / COLOR BLEED\n    ---------------------------- */\n    slab2.style.transform =\n      `translate(${(sx * 14).toFixed(2)}px, ${(sy * 14).toFixed(2)}px)`;\n    slab2.style.filter =\n      `blur(${(6 + intensity * 4).toFixed(2)}px)`;\n    slab2.style.opacity =\n      (0.16 + intensity * 0.10).toFixed(2);\n\n    /* ---------------------------\n       SLAB 3 ‚Äî CONTACT SHADOW\n    ---------------------------- */\n    slab3.style.transform =\n      `translate(${(sx * 6).toFixed(2)}px, ${(sy * 6).toFixed(2)}px)`;\n    slab3.style.filter = `blur(9px)`;\n    slab3.style.opacity =\n      (0.24 + Math.abs(lx) * 0.06).toFixed(2);\n\n    /* ---------------------------\n       SLAB 4 ‚Äî AMBIENT DEPTH\n    ---------------------------- */\n    slab4.style.transform =\n      `translate(${(sx * 3).toFixed(2)}px, ${(sy * 3).toFixed(2)}px)`;\n    slab4.style.filter = `blur(18px)`;\n    slab4.style.opacity =\n      (0.16 + Math.abs(ly) * 0.04).toFixed(2);\n\n    /* ---------------------------\n       FRONT SLAB ‚Äî SPECULAR RESPONSE\n       (moves TOWARD light)\n    ---------------------------- */\nif (front) {\n  // Very subtle counter-parallax (NOT toward light)\n  front.style.transform =\n    `translate(${(-lx * 1.6).toFixed(2)}px, ${(-ly * 1.6).toFixed(2)}px)`;\n\n  // Opacity increases when light is grazing\n  front.style.opacity =\n    (0.34 + intensity * 0.22).toFixed(2);\n\n  // Highlight shifts OPPOSITE the light direction\n  const gx = 50 - lx * 28;\n  const gy = 50 - ly * 28;\n  front.style.backgroundPosition = `${gx}% ${gy}%`;\n}\n\n  }\n\n  function onMove(e) {\n    const r = wrap.getBoundingClientRect();\n    const cx = r.left + r.width / 2;\n    const cy = r.top + r.height / 2;\n\n    // LIGHT VECTOR (mouse = light source)\n    lx = clamp((e.clientX - cx) / (r.width / 2), -1, 1);\n    ly = clamp((e.clientY - cy) / (r.height / 2), -1, 1);\n\n    if (!raf) raf = requestAnimationFrame(render);\n  }\n\n  window.addEventListener(''mousemove'', onMove, { passive: true });\n})();\n</script>\n</body>\n</html>\n", "css": "body { font-family: system-ui; padding: 20px; }", "js": "console.log(\"Code Runner initialized\");", "imports": {"css": [], "js": []}, "entryPoint": {"type": "htmlDocument", "mountSelector": "#app", "injectMountIfMissing": true}, "settings": {"mode": "play", "viewport": {"type": "responsive", "background": "white"}, "securityPreset": "trusted", "autoRun": true, "runOnLoad": true}, "codePanel": {"isVisible": false, "isEditable": false}}}]}]}',
    '1.0.0',
    true,
    '88b62d69-6012-47ae-b45b-9ccc5f1dc87c',
    NOW(),
    NOW(),
    'public',
    NULL,
    false,
    NULL,
    'page',
    NULL,
    NULL,
    NULL,
    NULL,
    NULL,
    false,
    0,
    NULL,
    true,
    false,
    NULL,
    NULL,
    '{"id": "block-root", "style": {}, "type": "container", "children": [{"id": "temp-container", "style": {"width": "100vw", "height": "100vh"}, "type": "container", "children": [{"id": "temp-coderunner", "style": {}, "type": "codeRunner", "data": {"html": "<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n  <meta charset=\"UTF-8\" />\n  <title>Working Fundamentals ‚Äî Arvin Jayson Castro</title>\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n\n  <!-- =====================\n       GLOBAL STYLES\n  ====================== -->\n  <style>\n    :root {\n      --bg: #f7f8f8;\n      --ink: #111111;\n      --muted: #666666;\n      --line: rgba(0,0,0,0.08);\n      --accent: #16a34a;\n      --link: #3b82f6;\n      --max-width: 1200px;\n    }\n\n    * {\n      box-sizing: border-box;\n    }\n\n    body {\n      margin: 0;\n      font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, sans-serif;\n      color: var(--ink);\n      background-color: var(--bg);\n      background-image:\n        radial-gradient(980px 560px at 14% 18%, rgba(16,185,129,0.10) 0%, rgba(16,185,129,0) 60%),\n        radial-gradient(860px 540px at 86% 74%, rgba(245,158,11,0.10) 0%, rgba(245,158,11,0) 62%),\n        repeating-linear-gradient(0deg, rgba(0,0,0,0.043) 0, rgba(0,0,0,0.043) 1px, transparent 1px, transparent 46px),\n        repeating-linear-gradient(90deg, rgba(0,0,0,0.043) 0, rgba(0,0,0,0.043) 1px, transparent 1px, transparent 46px);\n      min-height: 100vh;\n    }\n\n    a {\n      color: inherit;\n      text-decoration: none;\n    }\n\n    img {\n      max-width: 100%;\n      display: block;\n    }\n\n    /* =====================\n       PAGE WRAPPER\n    ====================== */\n    .page {\n      padding: 22px 24px;\n    }\n\n    .container {\n      max-width: var(--max-width);\n      margin: 0 auto;\n    }\n\n    /* =====================\n       SIDEBAR BACKDROP\n    ====================== */\n    .sidebar-backdrop {\n      position: fixed;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n      background: rgba(0, 0, 0, 0.2);\n      backdrop-filter: blur(4px);\n      -webkit-backdrop-filter: blur(4px);\n      opacity: 0;\n      visibility: hidden;\n      transition: opacity 0.3s ease, visibility 0.3s ease;\n      z-index: 999;\n      pointer-events: none;\n    }\n\n    .sidebar-backdrop--visible {\n      opacity: 1;\n      visibility: visible;\n      pointer-events: auto;\n    }\n\n    /* =====================\n       SIDEBAR\n    ====================== */\n    .sidebar {\n      position: fixed;\n      top: 0;\n      right: 0;\n      width: 320px;\n      height: 100vh;\n      background: var(--bg);\n      border-left: 1px solid var(--line);\n      transform: translateX(100%);\n      transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n      z-index: 1000;\n      overflow-y: auto;\n      padding: 24px;\n    }\n\n    .sidebar--open {\n      transform: translateX(0);\n    }\n\n    .sidebar__title {\n      font-size: 16px;\n      font-weight: 600;\n      margin-bottom: 24px;\n      color: var(--ink);\n    }\n\n    /* Prevent body scroll when sidebar is open */\n    body.sidebar-open {\n      overflow: hidden;\n    }\n\n    .sidebar__chapter-list {\n      list-style: none;\n      margin: 0;\n      padding: 0;\n    }\n\n    .sidebar__chapter-item {\n      margin: 0 0 8px 0;\n    }\n\n    .sidebar__chapter-link {\n      display: block;\n      font-size: 14px;\n      color: var(--muted);\n      text-decoration: none;\n      padding: 8px 0;\n      transition: color 0.2s ease;\n      line-height: 1.5;\n    }\n\n    .sidebar__chapter-link:hover {\n      color: var(--ink);\n    }\n\n    .sidebar__chapter-link {\n      color: var(--ink);\n      font-weight: 500;\n    }\n\n    /* =====================\n       HEADER (Top bar with chapter indicator)\n    ====================== */\n    .header {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      padding: 10px 0;\n      border-bottom: 1px solid var(--line);\n      position: relative;\n      transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n    }\n\n    .header--shifted {\n      transform: translateX(-320px);\n    }\n\n    .brand {\n      font-size: 16px;\n      font-weight: 600;\n      cursor: pointer;\n      display: inline-block;\n    }\n\n    .nav {\n      display: flex;\n      gap: 24px;\n      align-items: center;\n      font-size: 14px;\n    }\n\n    .nav a {\n      color: #1f2937;\n    }\n\n    .linkedin {\n      display: flex;\n      flex-direction: column;\n      align-items: flex-start;\n    }\n\n    .linkedin a {\n      color: var(--link);\n    }\n\n    .linkedin span {\n      font-family: Georgia, serif;\n      font-size: 9px;\n      font-style: italic;\n      color: #999;\n    }\n\n    /* =====================\n       MAIN GRID\n    ====================== */\n    .main {\n      padding-top: 48px;\n      padding-bottom: 48px;\n      display: flex;\n      justify-content: center;\n      align-items: start;\n    }\n\n    /* =====================\n       CHAPTER READING AREA (Option 1: Magazine-style)\n    ====================== */\n    .chapter-content {\n      max-width: 768px;\n      width: 100%;\n      margin: 0 auto;\n    }\n\n    .chapter-header {\n      margin-bottom: 56px;\n      padding-bottom: 32px;\n      border-bottom: 2px solid var(--line);\n    }\n\n    .book-title {\n      font-size: 12px;\n      letter-spacing: 0.15em;\n      text-transform: uppercase;\n      color: var(--muted);\n      font-weight: 500;\n      margin-bottom: 8px;\n      opacity: 0.7;\n    }\n\n    .chapter-number {\n      font-size: 13px;\n      letter-spacing: 0.2em;\n      text-transform: uppercase;\n      color: var(--muted);\n      font-weight: 600;\n      margin-bottom: 12px;\n      display: flex;\n      align-items: center;\n      gap: 8px;\n      cursor: pointer;\n      user-select: none;\n      transition: color 0.2s ease;\n    }\n\n    .chapter-number:hover {\n      color: var(--ink);\n    }\n\n    .chapter-number__icon {\n      font-size: 10px;\n      opacity: 0.6;\n      transition: transform 0.3s ease, opacity 0.2s ease;\n    }\n\n    .chapter-number:hover .chapter-number__icon {\n      opacity: 0.8;\n    }\n\n    .chapter-number__icon--open {\n      transform: rotate(180deg);\n    }\n\n    .chapter-title {\n      font-size: 56px;\n      font-weight: 900;\n      line-height: 1.05;\n      margin: 0 0 20px 0;\n      color: var(--ink);\n      letter-spacing: -0.03em;\n    }\n\n    .chapter-subtitle {\n      font-size: 22px;\n      font-weight: 500;\n      color: var(--muted);\n      line-height: 1.4;\n      margin: 0;\n    }\n\n    .chapter-body {\n      font-size: 19px;\n      line-height: 1.8;\n      color: var(--ink);\n      max-width: none;\n      font-weight: 400;\n    }\n\n    .chapter-body p {\n      margin: 0 0 28px 0;\n    }\n\n    .chapter-body p:last-child {\n      margin-bottom: 0;\n    }\n\n    .chapter-body h2 {\n      font-size: 36px;\n      font-weight: 800;\n      line-height: 1.2;\n      margin: 56px 0 24px 0;\n      color: var(--ink);\n      letter-spacing: -0.02em;\n    }\n\n    .chapter-body h3 {\n      font-size: 26px;\n      font-weight: 700;\n      line-height: 1.3;\n      margin: 40px 0 18px 0;\n      color: var(--ink);\n      letter-spacing: -0.01em;\n    }\n\n    .chapter-body strong {\n      font-weight: 600;\n      color: var(--ink);\n    }\n\n    .chapter-body em {\n      font-style: italic;\n    }\n\n    .chapter-body ul,\n    .chapter-body ol {\n      margin: 28px 0;\n      padding-left: 36px;\n    }\n\n    .chapter-body li {\n      margin-bottom: 14px;\n      line-height: 1.75;\n    }\n\n    .chapter-body blockquote {\n      margin: 40px 0;\n      padding-left: 28px;\n      border-left: 4px solid var(--accent);\n      font-style: italic;\n      color: var(--muted);\n      font-size: 18px;\n      line-height: 1.7;\n    }\n\n    .chapter-body code {\n      font-family: ''Monaco'', ''Menlo'', ''Courier New'', monospace;\n      font-size: 0.9em;\n      background: rgba(0,0,0,0.04);\n      padding: 2px 6px;\n      border-radius: 3px;\n    }\n\n    .chapter-body pre {\n      background: rgba(0,0,0,0.04);\n      padding: 20px;\n      border-radius: 8px;\n      overflow-x: auto;\n      margin: 24px 0;\n    }\n\n    .chapter-body pre code {\n      background: none;\n      padding: 0;\n    }\n\n    /* Content shift when sidebar opens */\n    .main {\n      transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n    }\n\n    .main--shifted {\n      transform: translateX(-320px);\n    }\n\n    /* Prevent horizontal scroll */\n    body {\n      overflow-x: hidden;\n    }\n\n    .page {\n      overflow-x: hidden;\n    }\n\n    /* =====================\n       CHAPTER NAVIGATION (BOTTOM)\n    ====================== */\n    .chapter-nav-bottom {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      max-width: 768px;\n      width: 100%;\n      margin: 64px auto 0 auto;\n      padding: 24px 0;\n      border-top: 1px solid var(--line);\n    }\n\n    .chapter-nav-bottom__link {\n      display: flex;\n      align-items: center;\n      gap: 8px;\n      font-size: 14px;\n      color: var(--muted);\n      text-decoration: none;\n      transition: color 0.2s ease;\n      padding: 8px 0;\n    }\n\n    .chapter-nav-bottom__link:hover {\n      color: var(--ink);\n    }\n\n    .chapter-nav-bottom__arrow {\n      font-size: 16px;\n      opacity: 0.7;\n    }\n\n    .chapter-nav-bottom__label {\n      font-weight: 500;\n    }\n\n    .chapter-nav-bottom__link--prev {\n      margin-right: auto;\n    }\n\n    .chapter-nav-bottom__link--next {\n      margin-left: auto;\n    }\n\n    .chapter-nav-bottom__link--disabled {\n      opacity: 0.4;\n      cursor: not-allowed;\n      pointer-events: none;\n    }\n\n    .page-widget__pages {\n      max-height: 0;\n      overflow: hidden;\n      transition: max-height 0.4s cubic-bezier(0.4, 0, 0.2, 1),\n                  opacity 0.3s ease,\n                  margin-top 0.3s ease;\n      opacity: 0;\n      margin-top: 0;\n      background: rgba(255, 255, 255, 0.98);\n      backdrop-filter: blur(12px);\n      -webkit-backdrop-filter: blur(12px);\n      border: 1px solid rgba(0, 0, 0, 0.06);\n      border-radius: 12px;\n      box-shadow: 0 2px 12px rgba(0, 0, 0, 0.06);\n    }\n\n    .page-widget__pages--expanded {\n      max-height: 500px;\n      opacity: 1;\n      margin-top: 12px;\n      padding: 8px;\n    }\n\n    .page-widget__pages-list {\n      list-style: none;\n      margin: 0;\n      padding: 0;\n      display: flex;\n      flex-direction: column;\n      gap: 8px;\n      max-height: 400px;\n      overflow-y: auto;\n      padding-right: 4px;\n    }\n\n    .page-widget__pages-list::-webkit-scrollbar {\n      width: 6px;\n    }\n\n    .page-widget__pages-list::-webkit-scrollbar-track {\n      background: rgba(0, 0, 0, 0.02);\n      border-radius: 3px;\n    }\n\n    .page-widget__pages-list::-webkit-scrollbar-thumb {\n      background: rgba(0, 0, 0, 0.12);\n      border-radius: 3px;\n    }\n\n    .page-widget__pages-list::-webkit-scrollbar-thumb:hover {\n      background: rgba(0, 0, 0, 0.2);\n    }\n\n    .page-widget__page-item {\n      display: flex;\n      align-items: center;\n      gap: 10px;\n      padding: 8px 10px;\n      border-radius: 8px;\n      cursor: pointer;\n      transition: all 0.2s ease;\n      text-decoration: none;\n      color: var(--ink);\n    }\n\n    .page-widget__page-item:hover {\n      background: rgba(0, 0, 0, 0.03);\n      transform: translateX(2px);\n    }\n\n    .page-widget__page-item--current {\n      background: rgba(22, 163, 74, 0.08);\n      color: var(--accent);\n      font-weight: 500;\n    }\n\n    .page-widget__page-item--current:hover {\n      background: rgba(22, 163, 74, 0.12);\n    }\n\n    .page-widget__page-number {\n      display: inline-flex;\n      align-items: center;\n      justify-content: center;\n      width: 24px;\n      height: 24px;\n      background: rgba(0, 0, 0, 0.04);\n      border-radius: 5px;\n      font-size: 11px;\n      font-weight: 500;\n      flex-shrink: 0;\n      color: var(--muted);\n    }\n\n    .page-widget__page-item--current .page-widget__page-number {\n      background: rgba(22, 163, 74, 0.15);\n      color: var(--accent);\n    }\n\n    .page-widget__page-info {\n      flex: 1;\n      min-width: 0;\n    }\n\n    .page-widget__page-name {\n      font-size: 13px;\n      font-weight: 500;\n      line-height: 1.3;\n      margin: 0 0 2px 0;\n    }\n\n    .page-widget__page-note {\n      font-size: 11px;\n      color: var(--muted);\n      line-height: 1.3;\n      margin: 0;\n      white-space: nowrap;\n      overflow: hidden;\n      text-overflow: ellipsis;\n    }\n\n    @media (max-width: 768px) {\n      .page-widget__pages-list {\n        max-height: 300px;\n      }\n    }\n\n\n/* ===============================\n   WRAPPER\n================================ */\n.book-wrap {\n  width: 320px;\n  aspect-ratio: 2 / 3;\n  position: relative;\n}\n\n/* ===============================\n   CAST SHADOW SLAB (REAL SHADOW)\n================================ */\n.shadow-slab {\n    position: absolute;\n    position: absolute;\n    inset: 0;\n    border-radius: 22px;\n    /* background: #2a2a2a; */\n    transform: translate(-30px, 30px);\n    filter: blur(13px);\n    opacity: 0.35;\n    z-index: 0;\n    background: radial-gradient(ellipse at 15% 85%, rgba(0, 0, 0, 0.35), rgba(0, 0, 0, 0.18) 35%, transparent 65%), linear-gradient(to right, #1f1f1f 0%, #2a2a2a 45%, #3a3a3a 100%);\n}\n\n.shadow-slab-2 {\n    position: absolute;\n    inset: 0;\n    border-radius: 22px;\n    background: radial-gradient(circle at top right, #f6e6a8 0%, #e2c36b 35%, #b58a3c 70%, #7a5524 100%);\n    transform: translate(-10px, 10px);\n    filter: blur(5px);\n    opacity: 0.35;\n    z-index: 0;\n}\n\n.shadow-slab-3 {\n    position: absolute;\n    inset: 0;\n    border-radius: 22px;\n    background: #333;\n    transform: translate(0px, 0px);\n    filter: blur(11px);\n    opacity: 0.35;\n    z-index: 0;\n}\n\n.shadow-slab-4 {\n    position: absolute;\n    inset: 0;\n    border-radius: 22px;\n    background: #333;\n    transform: translate(0px, 0px);\n    filter: blur(11px);\n    opacity: 0.35;\n    z-index: 0;\n}\n\n/* ===============================\n   FRONT SLAB & SPIN HANDLE\n================================ */\n\n.front-slab {\n    position: absolute;\n    inset: 0;\n    border-radius: 22px;\n    background: linear-gradient(to right, rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.1) 3%, transparent 1%);\n    /* background: green; */\n    z-index: 3;\n    opacity: .5;\n    transform: translateZ(6px);\n    pointer-events: none;\n}\n\n.spin-handle {\n  display: none;\n  position: absolute;\n  top: 50%;\n  right: -22px;\n  width: 14px;\n  height: 48px;\n  border-radius: 999px;\n  background: rgba(0,0,0,0.25);\n  backdrop-filter: blur(4px);\n  cursor: grab;\n  z-index: 10;\n}\n\n/* ===============================\n   BOOK OBJECT (NO SHADOW)\n================================ */\n.book {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  border-radius: 22px;\n  overflow: hidden;\n  z-index: 2;\n\n  /* IMPORTANT: no box-shadow */\n  box-shadow: none;\n\n  /* transform: perspective(1200px) rotateX(0.6deg); */\n}\n\n/* ===============================\n   PAPER SURFACE (LIGHT FIELD)\n================================ */\n.book .surface {\n  position: absolute;\n  inset: 0;\n  border-radius: inherit;\n  pointer-events: none;\n  z-index: 1;\n\n  background:\n    linear-gradient(\n      to bottom left,\n      rgba(255,255,255,1) 0%,\n      rgba(250,250,250,1) 42%,\n      rgba(240,240,240,1) 100%\n    ),\n    repeating-linear-gradient(\n      0deg,\n      rgba(0,0,0,0.01),\n      rgba(0,0,0,0.01) 1px,\n      transparent 1px,\n      transparent 3px\n    );\n}\n\n/* ===============================\n   LEFT OCCLUSION (CURTAIN)\n================================ */\n.book .curtain {\n  position: absolute;\n  inset: 0;\n  border-radius: inherit;\n  pointer-events: none;\n  z-index: 2;\n\n  background:\n    linear-gradient(\n      to right,\n      rgba(0,0,0,0.20) 0%,\n      rgba(0,0,0,0.12) 8%,\n      rgba(0,0,0,0.05) 16%,\n      rgba(0,0,0,0.02) 22%,\n      rgba(0,0,0,0.00) 30%\n    );\n}\n\n/* ===============================\n   RIGHT HIGHLIGHT\n================================ */\n.book .highlight {\n  position: absolute;\n  inset: 0;\n  border-radius: inherit;\n  pointer-events: none;\n  z-index: 3;\n\n  background:\n    linear-gradient(\n      to left,\n      rgba(255,255,255,0.35) 0%,\n      rgba(255,255,255,0.18) 6%,\n      rgba(255,255,255,0.06) 14%,\n      rgba(255,255,255,0.00) 24%\n    );\n}\n\n/* ===============================\n   PAGE EDGE (THICKNESS)\n================================ */\n.book .edge {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 120px;\n  height: 100%;\n  border-radius: 22px 0 0 22px;\n  pointer-events: none;\n  z-index: 4;\n\n  background:\n    linear-gradient(\n      to right,\n      rgba(215,215,215,0.95) 0%,\n      rgba(245,245,245,0.95) 40%,\n      rgba(255,255,255,0.95) 75%\n    );\n\n  box-shadow:\n    inset -1px 0 0 rgba(0,0,0,0.05);\n}\n\n/* ===============================\n   SVG (PURE WHITE)\n================================ */\n.book svg {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  display: block;\n  z-index: 5;\n}\n\n    /* =====================\n       LEFT: BOOK COVER\n    ====================== */\n    .book-cover {\n      display: flex;\n      flex-direction: column;\n      gap: 12px;\n    }\n\n\n    /* ===============================\n       BOOK + SHADOW SYSTEM\n    =============================== */\n    .book-wrap {\n      width: 320px;\n      aspect-ratio: 2 / 3;\n      position: relative;\n    }\n\n    .shadow-slab,\n    .shadow-slab-2,\n    .shadow-slab-3,\n    .shadow-slab-4 {\n      position: absolute;\n      inset: 0;\n      border-radius: 22px;\n      z-index: 0;\n      will-change: transform, filter, opacity;\n    }\n\n    .shadow-slab {\n      background:\n        radial-gradient(ellipse at 15% 85%, rgba(0,0,0,0.35), rgba(0,0,0,0.18) 35%, transparent 65%),\n        linear-gradient(to right, #1f1f1f 0%, #2a2a2a 45%, #3a3a3a 100%);\n      filter: blur(13px);\n      opacity: 0.35;\n    }\n\n    .shadow-slab-2 {\n      background: radial-gradient(circle at top right, #f6e6a8 0%, #e2c36b 35%, #b58a3c 70%, #7a5524 100%);\n      filter: blur(6px);\n      opacity: 0.30;\n    }\n\n    .shadow-slab-3,\n    .shadow-slab-4 {\n      background: #333;\n      filter: blur(11px);\n      opacity: 0.30;\n    }\n\n    .book {\n      position: relative;\n      width: 100%;\n      height: 100%;\n      border-radius: 22px;\n      overflow: hidden;\n      z-index: 2;\n      background: #f7f4ee;\n    }\n\n    .front-slab {\n      position: absolute;\n      inset: 0;\n      border-radius: 22px;\n      background: linear-gradient(to right, rgba(0,0,0,0.4), rgba(0,0,0,0.1) 3%, transparent 10%);\n      z-index: 3;\n      pointer-events: none;\n      opacity: 0.5;\n    }\n\n\n    @media (prefers-reduced-motion: reduce) {\n      .cover-frame {\n        transition: none;\n        transform: none;\n      }\n      .cover-frame:hover {\n        --lift: 0;\n      }\n    }\n\n    .start-reading {\n      display: inline-flex;\n      align-items: center;\n      justify-content: center;\n      width: 100%;\n      padding: 12px 14px;\n      border-radius: 999px;\n\n      font-size: 11px;\n      letter-spacing: 0.16em;\n      text-transform: uppercase;\n      font-weight: 650;\n      color: rgba(34,197,94,0.92);\n      text-shadow:\n        0 0 10px rgba(34,197,94,0.22),\n        0 0 22px rgba(34,197,94,0.14);\n\n      /* graphite: dark + slightly mineral */\n      background:\n        radial-gradient(120% 140% at 20% 10%, rgba(255,255,255,0.10) 0%, rgba(255,255,255,0.00) 55%),\n        radial-gradient(140% 140% at 80% 90%, rgba(255,255,255,0.06) 0%, rgba(255,255,255,0.00) 60%),\n        linear-gradient(180deg, #141414 0%, #0a0a0a 100%);\n      border: 1px solid rgba(255,255,255,0.10);\n      box-shadow:\n        0 14px 34px rgba(0,0,0,0.22),\n        0 8px 16px rgba(0,0,0,0.18),\n        inset 0 1px 0 rgba(255,255,255,0.10),\n        inset 0 -1px 0 rgba(0,0,0,0.55);\n\n      position: relative;\n      overflow: hidden;\n      cursor: pointer;\n      user-select: none;\n      -webkit-tap-highlight-color: transparent;\n\n      transition:\n        transform 160ms cubic-bezier(0.2, 0.8, 0.2, 1),\n        box-shadow 160ms cubic-bezier(0.2, 0.8, 0.2, 1),\n        border-color 160ms cubic-bezier(0.2, 0.8, 0.2, 1);\n    }\n\n    .start-reading::before {\n      content: \"\";\n      position: absolute;\n      inset: 0;\n      pointer-events: none;\n      /* texture + sheen (very subtle) */\n      background:\n        linear-gradient(120deg, rgba(255,255,255,0.12) 0%, rgba(255,255,255,0.00) 46%),\n        repeating-linear-gradient(0deg,\n          rgba(255,255,255,0.028) 0px,\n          rgba(255,255,255,0.028) 1px,\n          rgba(0,0,0,0.00) 3px,\n          rgba(0,0,0,0.00) 6px),\n        radial-gradient(120% 90% at 50% 0%, rgba(34,197,94,0.14) 0%, rgba(34,197,94,0.00) 62%);\n      opacity: 0.75;\n    }\n\n    .start-reading:hover {\n      transform: translateY(-1px);\n      border-color: rgba(34,197,94,0.30);\n      box-shadow:\n        0 18px 42px rgba(0,0,0,0.24),\n        0 10px 18px rgba(0,0,0,0.18),\n        inset 0 1px 0 rgba(255,255,255,0.12),\n        inset 0 -1px 0 rgba(0,0,0,0.55);\n      text-shadow:\n        0 0 12px rgba(34,197,94,0.28),\n        0 0 26px rgba(34,197,94,0.18);\n    }\n\n    .start-reading:active {\n      transform: translateY(0px);\n      box-shadow:\n        0 14px 34px rgba(0,0,0,0.22),\n        0 8px 16px rgba(0,0,0,0.18),\n        inset 0 1px 0 rgba(255,255,255,0.10),\n        inset 0 -1px 0 rgba(0,0,0,0.55);\n    }\n\n    .start-reading:focus-visible {\n      outline: none;\n      box-shadow:\n        0 18px 42px rgba(0,0,0,0.24),\n        0 0 0 4px rgba(34,197,94,0.22),\n        0 0 0 1px rgba(34,197,94,0.26),\n        inset 0 1px 0 rgba(255,255,255,0.12),\n        inset 0 -1px 0 rgba(0,0,0,0.55);\n      border-color: rgba(34,197,94,0.34);\n    }\n\n    @media (prefers-reduced-motion: reduce) {\n      .start-reading {\n        transition: none;\n      }\n      .start-reading:hover {\n        transform: none;\n      }\n    }\n\n    /* =====================\n       CENTER: CONTENT\n    ====================== */\n    .content h1 {\n      font-size: 40px;\n      font-weight: 800;\n      line-height: 1.15;\n      margin: 0;\n    }\n\n    .byline {\n      font-size: 13px;\n      letter-spacing: 0.12em;\n      color: #666;\n      font-weight: 600;\n    }\n\n    .tagline {\n      font-size: 18px;\n      font-weight: 500;\n      color: #333;\n    }\n\n    .paragraph {\n      font-size: 15px;\n      color: #222;\n    }\n\n    .meta {\n      margin-top: 20px;\n      padding-top: 20px;\n      border-top: 1px solid var(--line);\n      display: grid;\n      grid-template-columns: repeat(2, 1fr);\n      gap: 12px 24px;\n      font-size: 13px;\n    }\n\n    .author {\n      margin-top: 20px;\n      padding-top: 20px;\n      border-top: 1px solid var(--line);\n      display: flex;\n      gap: 16px;\n      align-items: flex-start;\n    }\n\n    .author img {\n      width: 44px;\n      height: 44px;\n      border-radius: 50%;\n    }\n\n    /* =====================\n       RIGHT: RELATED\n    ====================== */\n    .related {\n      display: flex;\n      flex-direction: column;\n      gap: 20px;\n    }\n\n    .related-title {\n      font-size: 11px;\n      letter-spacing: 0.14em;\n      color: #666;\n      text-transform: uppercase;\n      font-weight: 600;\n    }\n\n    .related-item {\n      display: flex;\n      flex-direction: column;\n      gap: 6px;\n      cursor: pointer;\n      transition: transform 0.12s ease, box-shadow 0.12s ease;\n    }\n\n    .related-item:hover {\n      transform: translateY(-2px);\n    }\n\n    .related-thumb {\n      border-radius: 6px;\n      overflow: hidden;\n      aspect-ratio: 3 / 4;\n      box-shadow: 0 8px 24px rgba(0,0,0,0.1);\n\n      /* Gray placeholder shape */\n      background: linear-gradient(135deg, #e5e7eb 0%, #d1d5db 45%, #cbd5e1 100%);\n      border: 1px solid rgba(0,0,0,0.06);\n    }\n\n    .related-thumb img {\n      width: 100%;\n      height: 100%;\n      object-fit: cover;\n      filter: grayscale(1);\n      opacity: 0.85;\n      transition: filter 160ms ease, opacity 160ms ease;\n    }\n\n    .related-thumb .thumb-placeholder {\n      width: 100%;\n      height: 100%;\n      display: block;\n    }\n\n    .related-item a {\n      font-size: 12px;\n      font-weight: 600;\n      color: #111;\n    }\n\n    /* =====================\n       RIGHT: 13 CHAPTERS\n    ====================== */\n    .chapters {\n      display: flex;\n      flex-direction: column;\n      gap: 10px;\n    }\n\n    .chapters-title {\n      font-size: 11px;\n      letter-spacing: 0.12em;\n      color: rgba(17,17,17,0.52);\n      text-transform: uppercase;\n      font-weight: 600;\n    }\n\n    .chapters-help {\n      margin-top: -4px;\n      font-size: 11px;\n      line-height: 1.35;\n      color: rgba(17,17,17,0.42);\n    }\n\n    .chapter-list {\n      list-style: none;\n      padding: 0;\n      margin: 0;\n      display: flex;\n      flex-direction: column;\n      gap: 0;\n      border-top: 1px solid rgba(0,0,0,0.06);\n    }\n\n    .chapter-item {\n      display: grid;\n      grid-template-columns: 3ch 1fr;\n      gap: 12px;\n      align-items: start;\n      padding: 10px 0;\n      border-bottom: 1px solid rgba(0,0,0,0.06);\n    }\n\n    .chapter-item--preface .chapter-name {\n      font-weight: 760;\n      letter-spacing: -0.01em;\n      color: rgba(17,17,17,0.90);\n    }\n\n    .chapter-item--current .chapter-name {\n      color: rgba(17,17,17,0.92);\n      text-decoration: underline;\n      text-decoration-thickness: 1px;\n      text-underline-offset: 3px;\n      text-decoration-color: rgba(17,17,17,0.22);\n    }\n\n    .chapter-num {\n      width: auto;\n      height: auto;\n      border-radius: 0;\n      display: block;\n      text-align: right;\n      font-size: 11px;\n      font-weight: 650;\n      color: rgba(17,17,17,0.46);\n      font-variant-numeric: tabular-nums;\n    }\n\n    .chapter-name {\n      font-size: 12px;\n      font-weight: 600;\n      color: rgba(17,17,17,0.80);\n      line-height: 1.3;\n    }\n\n    .chapter-note {\n      margin-top: 2px;\n      font-size: 11px;\n      color: rgba(17,17,17,0.46);\n      line-height: 1.4;\n    }\n\n    /* =====================\n       RESPONSIVE\n    ====================== */\n    @media (max-width: 900px) {\n      .chapter-content {\n        max-width: 100%;\n        padding: 0 24px;\n      }\n\n      .page-widget {\n        max-width: 100%;\n        margin-left: 24px;\n        margin-right: 24px;\n      }\n\n      .chapter-title {\n        font-size: 42px;\n      }\n\n      .chapter-body {\n        font-size: 18px;\n      }\n\n      .chapter-body h2 {\n        font-size: 32px;\n      }\n\n      .chapter-body h3 {\n        font-size: 24px;\n      }\n    }\n\n    @media (max-width: 768px) {\n      .header {\n        flex-direction: column;\n        gap: 12px;\n      }\n\n      .chapter-content {\n        padding: 0 16px;\n      }\n\n      .page-widget {\n        margin-left: 16px;\n        margin-right: 16px;\n      }\n\n      .chapter-title {\n        font-size: 38px;\n      }\n\n      .chapter-body {\n        font-size: 17px;\n      }\n\n      .chapter-body h2 {\n        font-size: 30px;\n      }\n\n      .chapter-body h3 {\n        font-size: 22px;\n      }\n    }\n  </style>\n</head>\n\n<body>\n  <div class=\"page\">\n    <div class=\"container\">\n\n      <!-- SIDEBAR BACKDROP -->\n      <div class=\"sidebar-backdrop\" id=\"sidebarBackdrop\"></div>\n\n      <!-- SIDEBAR -->\n      <aside class=\"sidebar\" id=\"sidebar\">\n        <div class=\"sidebar__title\">Working Fundamentals</div>\n        <ul class=\"sidebar__chapter-list\">\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-introduction\" class=\"sidebar__chapter-link\" target=\"_blank\">Introduction</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-4-of-13-control-and-flow\" class=\"sidebar__chapter-link sidebar__chapter-link\" target=\"_blank\">Chapter 4 ¬∑ Control & Flow</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-4-of-13-control-and-flow\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 4 ¬∑ Control & Flow</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-4-of-13-control-and-flow\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 4 ¬∑ Control & Flow</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-4-of-13-control-and-flow\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 4 ¬∑ Control & Flow</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-4-of-13-control-and-flow\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 4 ¬∑ Control & Flow</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-4-of-13-control-and-flow\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 4 ¬∑ Control & Flow</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-4-of-13-control-and-flow\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 4 ¬∑ Control & Flow</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-4-of-13-control-and-flow\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 4 ¬∑ Control & Flow</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-4-of-13-control-and-flow\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 4 ¬∑ Control & Flow</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-4-of-13-control-and-flow\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 4 ¬∑ Control & Flow</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-4-of-13-control-and-flow\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 4 ¬∑ Control & Flow</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-4-of-13-control-and-flow\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 4 ¬∑ Control & Flow</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-4-of-13-control-and-flow\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 4 ¬∑ Control & Flow</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-outroduction\" class=\"sidebar__chapter-link\" target=\"_blank\">Outroduction</a>\n          </li>\n        </ul>\n      </aside>\n\n      <!-- HEADER -->\n      <header class=\"header\" id=\"header\">\n        <a href=\"https://arvinjaysoncastro.com/\" class=\"brand\" target=\"_blank\">Arvin Jayson Castro</a>\n        <nav class=\"nav\">\n          <a href=\"https://arvinjaysoncastro.com/hungry-dev-mind\" target=\"_blank\">Books</a>\n          <a href=\"https://arvinjaysoncastro.com/working-systems\" target=\"_blank\">Working Systems</a>\n          <a href=\"https://arvinjaysoncastro.com/about\" target=\"_blank\">16 Years</a>\n          <div class=\"linkedin\">\n            <a href=\"https://www.linkedin.com/in/arvin-jayson-castro-7458199a/\" target=\"_blank\">linkedIn</a>\n            <span>let''s connect</span>\n          </div>\n        </nav>\n      </header>\n\n      <!-- PAGE WIDGET (TOP) - REMOVED -->\n      <div style=\"display: none;\">\n          <ol class=\"page-widget__pages-list\">\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">P</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Preface</div>\n                  <div class=\"page-widget__page-note\">Why fundamentals still decide outcomes.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item page-widget__page-item--current\">\n                <span class=\"page-widget__page-number\">1</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 1</div>\n                  <div class=\"page-widget__page-note\">Core principles and constraints.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">2</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 2</div>\n                  <div class=\"page-widget__page-note\">Boundaries, ownership, and interfaces.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">3</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 3</div>\n                  <div class=\"page-widget__page-note\">State, consistency, and failure modes.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">4</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 4</div>\n                  <div class=\"page-widget__page-note\">Abstractions that survive change.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">5</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 5</div>\n                  <div class=\"page-widget__page-note\">Simplicity as an engineering practice.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">6</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 6</div>\n                  <div class=\"page-widget__page-note\">Reliability, observability, and feedback.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">7</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 7</div>\n                  <div class=\"page-widget__page-note\">Delivery systems and decision hygiene.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">8</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 8</div>\n                  <div class=\"page-widget__page-note\">Documentation that stays useful.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">9</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 9</div>\n                  <div class=\"page-widget__page-note\">Testing strategy for predictable change.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">10</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 10</div>\n                  <div class=\"page-widget__page-note\">Pragmatic architecture for teams.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">11</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 11</div>\n                  <div class=\"page-widget__page-note\">Operational excellence without ceremony.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">12</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 12</div>\n                  <div class=\"page-widget__page-note\">Leadership, standards, and leverage.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">13</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 13</div>\n                  <div class=\"page-widget__page-note\">Making fundamentals non-negotiable.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">PS</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Postscript</div>\n                  <div class=\"page-widget__page-note\">A short operating model to carry forward.</div>\n                </div>\n              </a>\n            </li>\n          </ol>\n        </div>\n      </div>\n\n      <!-- MAIN -->\n      <main class=\"main\" id=\"main\">\n\n        <!-- CHAPTER CONTENT (Option 1: Magazine-style) -->\n        <article class=\"chapter-content\">\n          <header class=\"chapter-header\">\n            <div class=\"book-title\">Working Fundamentals</div>\n            <div class=\"chapter-number\" id=\"chapterIndicator\">\n              <span>chapter 4 of 13</span>\n              <span class=\"chapter-number__icon\" id=\"chapterIndicatorIcon\">‚ñæ</span>\n            </div>\n            <h1 class=\"chapter-title\">Control & Flow</h1>\n            <p class=\"chapter-subtitle\">Execution is a path, not a script</p>\n          </header>\n\n          <div class=\"chapter-body\">\n            <h3>What this chapter is</h3>\n\n            <p>This chapter is not about syntax.It is not about if, else, switch, or loops.</p>\n\n            <p>This chapter is about <strong>movement</strong>.</p>\n\n            <p>Most developers think of code as text that runs top to bottom.Systems do not behave that way.</p>\n\n            <p>Systems behave as <strong>paths through decisions</strong>.</p>\n\n            <p>If you misunderstand flow, you misunderstand behavior.</p>\n\n            <h2>The core truth</h2>\n\n            <p>Programs do not execute lines.They <strong>travel through possibilities</strong>.</p>\n\n            <p>Every conditional creates a fork.Every loop creates repetition.Every return creates an exit.</p>\n\n            <p>Execution is not linear.It is <strong>navigational</strong>.</p>\n\n            <p>üß† <strong>Mental Model</strong>Code is a map.Control flow is the allowed terrain.</p>\n\n            <h2>Why control flow is where bugs hide</h2>\n\n            <p>Logic errors are obvious.Flow errors are subtle.</p>\n\n            <p>Flow bugs include:</p>\n\n            <ul>\n\n            <li>code that runs too often</li>\n\n            </ul>\n\n            <ul>\n\n            <li>code that runs too late</li>\n\n            </ul>\n\n            <ul>\n\n            <li>code that should stop but continues</li>\n\n            </ul>\n\n            <ul>\n\n            <li>code that silently skips important steps</li>\n\n            </ul>\n\n            <p>These bugs survive reviews because the code <em>looks</em> correct.</p>\n\n            <p>‚ö†Ô∏è <strong>Common Drift</strong>When developers read code line-by-line instead of path-by-path, flow bugs slip through.</p>\n\n            <h2>Conditionals define reality</h2>\n\n            <p>A conditional is not a question.It is a <strong>gate</strong>.</p>\n\n            <p>It decides:</p>\n\n            <ul>\n\n            <li>what is allowed to happen</li>\n\n            </ul>\n\n            <ul>\n\n            <li>what is impossible to happen</li>\n\n            </ul>\n\n            <p>Every if encodes an assumption about reality.</p>\n\n            <p>üß† <strong>Perspective</strong>If you cannot explain <em>why</em> a branch exists, it probably should not.</p>\n\n            <h2>The danger of implicit paths</h2>\n\n            <p>Some paths are obvious.Others are implied.</p>\n\n            <p>Examples:</p>\n\n            <ul>\n\n            <li>default branches</li>\n\n            </ul>\n\n            <ul>\n\n            <li>fallthrough behavior</li>\n\n            </ul>\n\n            <ul>\n\n            <li>early exits that bypass cleanup</li>\n\n            </ul>\n\n            <ul>\n\n            <li>conditions that overlap</li>\n\n            </ul>\n\n            <p>These paths are not written explicitly,but they <strong>exist at runtime</strong>.</p>\n\n            <p>üß† <strong>Architect‚Äôs Note</strong>Unwritten paths are still real paths.</p>\n\n            <h2>Nesting is a symptom, not a style choice</h2>\n\n            <p>Deep nesting is rarely intentional.</p>\n\n            <p>It usually means:</p>\n\n            <ul>\n\n            <li>rules were added one by one</li>\n\n            </ul>\n\n            <ul>\n\n            <li>edge cases accumulated</li>\n\n            </ul>\n\n            <ul>\n\n            <li>boundaries were never drawn</li>\n\n            </ul>\n\n            <p>Each nested level increases:</p>\n\n            <ul>\n\n            <li>cognitive load</li>\n\n            </ul>\n\n            <ul>\n\n            <li>path count</li>\n\n            </ul>\n\n            <ul>\n\n            <li>chance of error</li>\n\n            </ul>\n\n            <p>üß† <strong>Mental Model</strong>Every nested block multiplies possible execution paths.</p>\n\n            <h2>Flattening flow restores reasoning</h2>\n\n            <p>Flat code is not minimal code.It is <strong>honest code</strong>.</p>\n\n            <p>Techniques that flatten flow:</p>\n\n            <ul>\n\n            <li>early returns</li>\n\n            </ul>\n\n            <ul>\n\n            <li>guard clauses</li>\n\n            </ul>\n\n            <ul>\n\n            <li>named functions</li>\n\n            </ul>\n\n            <ul>\n\n            <li>extracted decisions</li>\n\n            </ul>\n\n            <p>Flattening does not remove logic.It <strong>reveals it</strong>.</p>\n\n            <p>‚ö†Ô∏è <strong>Common Drift</strong>Code that avoids early returns often hides invalid states deep inside.</p>\n\n            <h2>Loops are promises</h2>\n\n            <p>A loop promises repetition.</p>\n\n            <p>That promise must answer:</p>\n\n            <ul>\n\n            <li>what repeats?</li>\n\n            </ul>\n\n            <ul>\n\n            <li>why does it repeat?</li>\n\n            </ul>\n\n            <ul>\n\n            <li>what guarantees it stops?</li>\n\n            </ul>\n\n            <p>A loop without a clear exit condition is not unfinished ‚Äîit is dangerous.</p>\n\n            <p>üß† <strong>Perspective</strong>Termination is a design requirement, not an implementation detail.</p>\n\n            <h2>Flow and time</h2>\n\n            <p>Control flow is tightly coupled to time.</p>\n\n            <p>Some paths assume:</p>\n\n            <ul>\n\n            <li>order</li>\n\n            </ul>\n\n            <ul>\n\n            <li>timing</li>\n\n            </ul>\n\n            <ul>\n\n            <li>exclusivity</li>\n\n            </ul>\n\n            <ul>\n\n            <li>non-interruption</li>\n\n            </ul>\n\n            <p>When concurrency or asynchrony enters,those assumptions break.</p>\n\n            <p>üß† <strong>Architect‚Äôs Note</strong>If order matters, enforce it.If it cannot be enforced, redesign.</p>\n\n            <h2>Error paths are control paths</h2>\n\n            <p>Errors are not interruptions.They are <strong>alternate flows</strong>.</p>\n\n            <p>Every error path must answer:</p>\n\n            <ul>\n\n            <li>where does execution go next?</li>\n\n            </ul>\n\n            <ul>\n\n            <li>what is skipped?</li>\n\n            </ul>\n\n            <ul>\n\n            <li>what must still happen?</li>\n\n            </ul>\n\n            <p>Ignoring error flow creates:</p>\n\n            <ul>\n\n            <li>leaked resources</li>\n\n            </ul>\n\n            <ul>\n\n            <li>partial updates</li>\n\n            </ul>\n\n            <ul>\n\n            <li>corrupted state</li>\n\n            </ul>\n\n            <p>üß† <strong>Mental Model</strong>Failure is a first-class path, not an exception to thinking.</p>\n\n            <h2>Control flow and responsibility</h2>\n\n            <p>Good flow makes responsibility obvious.</p>\n\n            <p>You should be able to point at a block of code and say:</p>\n\n            <ul>\n\n            <li>this validates</li>\n\n            </ul>\n\n            <ul>\n\n            <li>this decides</li>\n\n            </ul>\n\n            <ul>\n\n            <li>this transforms</li>\n\n            </ul>\n\n            <ul>\n\n            <li>this exits</li>\n\n            </ul>\n\n            <p>When responsibility is mixed, flow becomes tangled.</p>\n\n            <h2>Minimal practice (still no code)</h2>\n\n            <p><strong>Problem:</strong>‚ÄúA process validates input, saves data, sends a notification, and logs activity. If validation fails, nothing else should happen.‚Äù</p>\n\n            <p>Answer in words:</p>\n\n            <ul>\n\n            <li>Where does execution stop?</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Which paths are illegal?</li>\n\n            </ul>\n\n            <ul>\n\n            <li>What must never be partially executed?</li>\n\n            </ul>\n\n            <p>If you cannot describe the flow cleanly, code will not fix it.</p>\n\n            <h2>What beginners gain here</h2>\n\n            <ul>\n\n            <li>A new way to read code</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Fewer ‚Äúwhy did this run?‚Äù moments</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Confidence tracing behavior</li>\n\n            </ul>\n\n            <h2>What experienced developers recognize</h2>\n\n            <ul>\n\n            <li>Why certain bugs feel impossible</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Why fixes break unrelated features</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Why systems feel fragile under change</li>\n\n            </ul>\n\n            <p>Flow was unclear.</p>\n\n            <h2>What this chapter deliberately avoids</h2>\n\n            <ul>\n\n            <li>Language-specific constructs</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Control-flow tricks</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Clever branching</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Performance tuning</li>\n\n            </ul>\n\n            <p>Those belong after clarity.</p>\n\n            <h2>Closing</h2>\n\n            <p>Control flow is where intent becomes behavior.</p>\n\n            <p>Clear flow:</p>\n\n            <ul>\n\n            <li>reduces bugs</li>\n\n            </ul>\n\n            <ul>\n\n            <li>simplifies reasoning</li>\n\n            </ul>\n\n            <ul>\n\n            <li>stabilizes change</li>\n\n            </ul>\n\n            <p>Unclear flow:</p>\n\n            <ul>\n\n            <li>hides assumptions</li>\n\n            </ul>\n\n            <ul>\n\n            <li>multiplies paths</li>\n\n            </ul>\n\n            <ul>\n\n            <li>creates surprises</li>\n\n            </ul>\n\n            <p>Do not write code that merely <em>works</em>.Write code whose <strong>paths you can defend</strong>.</p>\n          </div>\n        </article>\n\n        <!-- RIGHT -->\n\n      </main>\n\n      <!-- CHAPTER NAVIGATION (BOTTOM) -->\n      <nav class=\"chapter-nav-bottom\" id=\"chapterNavBottom\">\n        <a href=\"#\" class=\"chapter-nav-bottom__link chapter-nav-bottom__link--prev\" id=\"prevChapter\">\n          <span class=\"chapter-nav-bottom__arrow\">‚Üê</span>\n          <span class=\"chapter-nav-bottom__label\">Previous</span>\n        </a>\n        <a href=\"#\" class=\"chapter-nav-bottom__link chapter-nav-bottom__link--next\" id=\"nextChapter\">\n          <span class=\"chapter-nav-bottom__label\">Next</span>\n          <span class=\"chapter-nav-bottom__arrow\">‚Üí</span>\n        </a>\n      </nav>\n\n      <!-- PAGE WIDGET (BOTTOM) - REMOVED -->\n      <div style=\"display: none;\">\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">P</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Preface</div>\n                  <div class=\"page-widget__page-note\">Why fundamentals still decide outcomes.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item page-widget__page-item--current\">\n                <span class=\"page-widget__page-number\">1</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 1</div>\n                  <div class=\"page-widget__page-note\">Core principles and constraints.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">2</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 2</div>\n                  <div class=\"page-widget__page-note\">Boundaries, ownership, and interfaces.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">3</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 3</div>\n                  <div class=\"page-widget__page-note\">State, consistency, and failure modes.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">4</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 4</div>\n                  <div class=\"page-widget__page-note\">Abstractions that survive change.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">5</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 5</div>\n                  <div class=\"page-widget__page-note\">Simplicity as an engineering practice.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">6</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 6</div>\n                  <div class=\"page-widget__page-note\">Reliability, observability, and feedback.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">7</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 7</div>\n                  <div class=\"page-widget__page-note\">Delivery systems and decision hygiene.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">8</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 8</div>\n                  <div class=\"page-widget__page-note\">Documentation that stays useful.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">9</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 9</div>\n                  <div class=\"page-widget__page-note\">Testing strategy for predictable change.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">10</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 10</div>\n                  <div class=\"page-widget__page-note\">Pragmatic architecture for teams.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">11</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 11</div>\n                  <div class=\"page-widget__page-note\">Operational excellence without ceremony.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">12</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 12</div>\n                  <div class=\"page-widget__page-note\">Leadership, standards, and leverage.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">13</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 13</div>\n                  <div class=\"page-widget__page-note\">Making fundamentals non-negotiable.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">PS</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Postscript</div>\n                  <div class=\"page-widget__page-note\">A short operating model to carry forward.</div>\n                </div>\n              </a>\n            </li>\n          </ol>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <!-- PAGE WIDGET JS -->\n  <!-- SIDEBAR TOGGLE JS -->\n  <script>\n  (() => {\n    const sidebar = document.getElementById(''sidebar'');\n    const backdrop = document.getElementById(''sidebarBackdrop'');\n    const indicator = document.getElementById(''chapterIndicator'');\n    const icon = document.getElementById(''chapterIndicatorIcon'');\n    const header = document.getElementById(''header'');\n    const main = document.getElementById(''main'');\n    const body = document.body;\n\n    if (!sidebar || !backdrop || !indicator || !icon || !header || !main) return;\n\n    let isOpen = false;\n    let scrollTimeout = null;\n\n    const openSidebar = () => {\n      isOpen = true;\n      sidebar.classList.add(''sidebar--open'');\n      backdrop.classList.add(''sidebar-backdrop--visible'');\n      header.classList.add(''header--shifted'');\n      main.classList.add(''main--shifted'');\n      icon.classList.add(''chapter-number__icon--open'');\n      body.classList.add(''sidebar-open'');\n    };\n\n    const closeSidebar = () => {\n      isOpen = false;\n      sidebar.classList.remove(''sidebar--open'');\n      backdrop.classList.remove(''sidebar-backdrop--visible'');\n      header.classList.remove(''header--shifted'');\n      main.classList.remove(''main--shifted'');\n      icon.classList.remove(''chapter-number__icon--open'');\n      body.classList.remove(''sidebar-open'');\n    };\n\n    // Toggle sidebar\n    indicator.addEventListener(''click'', (e) => {\n      e.stopPropagation();\n      if (isOpen) {\n        closeSidebar();\n      } else {\n        openSidebar();\n      }\n    });\n\n    // Close sidebar when clicking backdrop\n    backdrop.addEventListener(''click'', () => {\n      closeSidebar();\n    });\n\n    // Close sidebar when clicking outside\n    document.addEventListener(''click'', (e) => {\n      // Don''t close sidebar if clicking on brand link or nav links\n      const brandLink = header.querySelector(''.brand'');\n      const isClickOnLink = brandLink && brandLink.contains(e.target);\n      const isClickOnNav = header.querySelector(''.nav'') && header.querySelector(''.nav'').contains(e.target);\n      \n      if (isOpen && !sidebar.contains(e.target) && !indicator.contains(e.target) && !isClickOnLink && !isClickOnNav) {\n        closeSidebar();\n      }\n    });\n\n    // Close sidebar on scroll (debounced)\n    const handleScroll = () => {\n      if (isOpen) {\n        clearTimeout(scrollTimeout);\n        scrollTimeout = setTimeout(() => {\n          closeSidebar();\n        }, 100);\n      }\n    };\n\n    // Listen for scroll on main content\n    window.addEventListener(''scroll'', handleScroll, { passive: true });\n    \n    // Also listen for scroll attempts on body (when scroll is disabled)\n    let lastScrollTop = window.pageYOffset;\n    const handleScrollAttempt = () => {\n      if (isOpen) {\n        const currentScrollTop = window.pageYOffset;\n        if (currentScrollTop !== lastScrollTop) {\n          closeSidebar();\n        }\n        lastScrollTop = currentScrollTop;\n      }\n    };\n\n    // Prevent scroll on body when sidebar is open\n    document.addEventListener(''wheel'', (e) => {\n      if (isOpen && !sidebar.contains(e.target)) {\n        e.preventDefault();\n        closeSidebar();\n      }\n    }, { passive: false });\n\n    // Prevent touch scroll on body when sidebar is open\n    document.addEventListener(''touchmove'', (e) => {\n      if (isOpen && !sidebar.contains(e.target)) {\n        e.preventDefault();\n        closeSidebar();\n      }\n    }, { passive: false });\n  })();\n  </script>\n\n  <!-- CHAPTER NAVIGATION (BOTTOM) JS -->\n  <script>\n  (() => {\n    // Chapter list: Preface = 0, Chapter 1-13 = 1-13, Postscript = 14\n    const chapters = [\n      { id: ''preface'', title: ''Preface'', url: ''https://arvinjaysoncastro.com/working-fundamentals-introduction'' },\n      { id: ''ch1'', title: ''Chapter 1'', url: ''https://arvinjaysoncastro.com/working-fundamentals-1-of-13-programming-fundamentals'' },\n      { id: ''ch2'', title: ''Chapter 2'', url: ''https://arvinjaysoncastro.com/working-fundamentals-2-of-13-data-structures'' },\n      { id: ''ch3'', title: ''Chapter 3'', url: ''https://arvinjaysoncastro.com/working-fundamentals-3-of-13-algorithms-and-complexity'' },\n      { id: ''ch4'', title: ''Chapter 4'', url: ''https://arvinjaysoncastro.com/working-fundamentals-4-of-13-control-and-flow'' },\n      { id: ''ch5'', title: ''Chapter 5'', url: ''https://arvinjaysoncastro.com/working-fundamentals-5-of-13-state-and-change'' },\n      { id: ''ch6'', title: ''Chapter 6'', url: ''https://arvinjaysoncastro.com/working-fundamentals-6-of-13-design-principles'' },\n      { id: ''ch7'', title: ''Chapter 7'', url: ''https://arvinjaysoncastro.com/working-fundamentals-7-of-13-architecture'' },\n      { id: ''ch8'', title: ''Chapter 8'', url: ''https://arvinjaysoncastro.com/working-fundamentals-8-of-13-persistence-and-data-modeling'' },\n      { id: ''ch9'', title: ''Chapter 9'', url: ''https://arvinjaysoncastro.com/working-fundamentals-9-of-13-interfaces-and-apis'' },\n      { id: ''ch10'', title: ''Chapter 10'', url: ''https://arvinjaysoncastro.com/working-fundamentals-10-of-13-errors-and-failure'' },\n      { id: ''ch11'', title: ''Chapter 11'', url: ''https://arvinjaysoncastro.com/working-fundamentals-11-of-13-testing'' },\n      { id: ''ch12'', title: ''Chapter 12'', url: ''https://arvinjaysoncastro.com/working-fundamentals-12-of-13-performance-and-scale'' },\n      { id: ''ch13'', title: ''Chapter 13'', url: ''https://arvinjaysoncastro.com/working-fundamentals-13-of-13-the-developers-role'' },\n      { id: ''postscript'', title: ''Postscript'', url: ''https://arvinjaysoncastro.com/working-fundamentals-outroduction'' }\n    ];\n\n    const currentChapterIndex = 4; // Chapter 1 is index 1 (Preface is 0)\n    const prevLink = document.getElementById(''prevChapter'');\n    const nextLink = document.getElementById(''nextChapter'');\n\n    if (!prevLink || !nextLink) return;\n\n    // Previous chapter\n    if (currentChapterIndex > 0) {\n      const prevChapter = chapters[currentChapterIndex - 1];\n      prevLink.href = prevChapter.url;\n      prevLink.target = ''_blank'';\n      prevLink.innerHTML = `\n        <span class=\"chapter-nav-bottom__arrow\">‚Üê</span>\n        <span class=\"chapter-nav-bottom__label\">Previous: ${prevChapter.title}</span>\n      `;\n    } else {\n      // No previous chapter - show \"go back to book list\"\n      prevLink.href = ''https://arvinjaysoncastro.com/hungry-dev-mind'';\n      prevLink.target = ''_blank'';\n      prevLink.innerHTML = `\n        <span class=\"chapter-nav-bottom__arrow\">‚Üê</span>\n        <span class=\"chapter-nav-bottom__label\">Go back to book list</span>\n      `;\n    }\n\n    // Next chapter\n    if (currentChapterIndex < chapters.length - 1) {\n      const nextChapter = chapters[currentChapterIndex + 1];\n      nextLink.href = nextChapter.url;\n      nextLink.target = ''_blank'';\n      nextLink.innerHTML = `\n        <span class=\"chapter-nav-bottom__label\">Next: ${nextChapter.title}</span>\n        <span class=\"chapter-nav-bottom__arrow\">‚Üí</span>\n      `;\n    } else {\n      // No next chapter - show \"go back to book list\"\n      nextLink.href = ''https://arvinjaysoncastro.com/hungry-dev-mind'';\n      nextLink.target = ''_blank'';\n      nextLink.innerHTML = `\n        <span class=\"chapter-nav-bottom__label\">Go back to book list</span>\n        <span class=\"chapter-nav-bottom__arrow\">‚Üí</span>\n      `;\n    }\n  })();\n  </script>\n\n  <!-- OPTIONAL JS -->\n <script>\n(() => {\n  const wrap = document.querySelector(''.book-wrap'');\n  if (!wrap) return;\n\n  const slab1 = wrap.querySelector(''.shadow-slab'');\n  const slab2 = wrap.querySelector(''.shadow-slab-2'');\n  const slab3 = wrap.querySelector(''.shadow-slab-3'');\n  const slab4 = wrap.querySelector(''.shadow-slab-4'');\n  const front = wrap.querySelector(''.front-slab'');\n\n  const clamp = (v, min, max) => Math.max(min, Math.min(max, v));\n\n  let raf = 0;\n  let lx = 0; // light vector x\n  let ly = 0; // light vector y\n\n  function render() {\n    raf = 0;\n\n    // Shadow direction = opposite of light\n    const sx = -lx;\n    const sy = -ly;\n\n    const intensity = Math.abs(lx) + Math.abs(ly);\n\n    /* ---------------------------\n       SLAB 1 ‚Äî KEY CAST SHADOW\n    ---------------------------- */\n    slab1.style.transform =\n      `translate(${(sx * 38).toFixed(2)}px, ${(sy * 38).toFixed(2)}px)`;\n    slab1.style.filter =\n      `blur(${(14 + intensity * 6).toFixed(2)}px)`;\n    slab1.style.opacity =\n      (0.28 + intensity * 0.14).toFixed(2);\n\n    /* ---------------------------\n       SLAB 2 ‚Äî BOUNCE / COLOR BLEED\n    ---------------------------- */\n    slab2.style.transform =\n      `translate(${(sx * 14).toFixed(2)}px, ${(sy * 14).toFixed(2)}px)`;\n    slab2.style.filter =\n      `blur(${(6 + intensity * 4).toFixed(2)}px)`;\n    slab2.style.opacity =\n      (0.16 + intensity * 0.10).toFixed(2);\n\n    /* ---------------------------\n       SLAB 3 ‚Äî CONTACT SHADOW\n    ---------------------------- */\n    slab3.style.transform =\n      `translate(${(sx * 6).toFixed(2)}px, ${(sy * 6).toFixed(2)}px)`;\n    slab3.style.filter = `blur(9px)`;\n    slab3.style.opacity =\n      (0.24 + Math.abs(lx) * 0.06).toFixed(2);\n\n    /* ---------------------------\n       SLAB 4 ‚Äî AMBIENT DEPTH\n    ---------------------------- */\n    slab4.style.transform =\n      `translate(${(sx * 3).toFixed(2)}px, ${(sy * 3).toFixed(2)}px)`;\n    slab4.style.filter = `blur(18px)`;\n    slab4.style.opacity =\n      (0.16 + Math.abs(ly) * 0.04).toFixed(2);\n\n    /* ---------------------------\n       FRONT SLAB ‚Äî SPECULAR RESPONSE\n       (moves TOWARD light)\n    ---------------------------- */\nif (front) {\n  // Very subtle counter-parallax (NOT toward light)\n  front.style.transform =\n    `translate(${(-lx * 1.6).toFixed(2)}px, ${(-ly * 1.6).toFixed(2)}px)`;\n\n  // Opacity increases when light is grazing\n  front.style.opacity =\n    (0.34 + intensity * 0.22).toFixed(2);\n\n  // Highlight shifts OPPOSITE the light direction\n  const gx = 50 - lx * 28;\n  const gy = 50 - ly * 28;\n  front.style.backgroundPosition = `${gx}% ${gy}%`;\n}\n\n  }\n\n  function onMove(e) {\n    const r = wrap.getBoundingClientRect();\n    const cx = r.left + r.width / 2;\n    const cy = r.top + r.height / 2;\n\n    // LIGHT VECTOR (mouse = light source)\n    lx = clamp((e.clientX - cx) / (r.width / 2), -1, 1);\n    ly = clamp((e.clientY - cy) / (r.height / 2), -1, 1);\n\n    if (!raf) raf = requestAnimationFrame(render);\n  }\n\n  window.addEventListener(''mousemove'', onMove, { passive: true });\n})();\n</script>\n</body>\n</html>\n", "css": "body { font-family: system-ui; padding: 20px; }", "js": "console.log(\"Code Runner initialized\");", "imports": {"css": [], "js": []}, "entryPoint": {"type": "htmlDocument", "mountSelector": "#app", "injectMountIfMissing": true}, "settings": {"mode": "play", "viewport": {"type": "responsive", "background": "white"}, "securityPreset": "trusted", "autoRun": true, "runOnLoad": true}, "codePanel": {"isVisible": false, "isEditable": false}}}]}]}',
    NULL,
    1,
    NOW()
);


-- 5. State & Change
-- Slug: working-fundamentals-5-of-13-state-and-change
-- ID: 4ff48c9e-f110-4dc8-a8e2-6dee74ddb14e
-- File: ch_05.html
INSERT INTO App_Pages (
    id, org_id, name, slug, template_code, layout, layout_version, is_active,
    created_by_user_id, created_at, updated_at, visibility, description,
    is_template, template_metadata, kind, parent_id, section_tags, section_purpose,
    section_scope, palette_id, is_default_variation, variation_order, template_purpose,
    is_listed, is_org_landing_page, report, folder, layout_raw, layout_quarantine,
    layout_schema_version, layout_ingested_at
) VALUES (
    '4ff48c9e-f110-4dc8-a8e2-6dee74ddb14e',
    '82c2d096-2638-4837-83c8-e8a933bb17c7',
    'State & Change',
    'working-fundamentals-5-of-13-state-and-change',
    NULL,
    '{"id": "block-root", "style": {}, "type": "container", "children": [{"id": "temp-container", "style": {"width": "100vw", "height": "100vh"}, "type": "container", "children": [{"id": "temp-coderunner", "style": {}, "type": "codeRunner", "data": {"html": "<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n  <meta charset=\"UTF-8\" />\n  <title>Working Fundamentals ‚Äî Arvin Jayson Castro</title>\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n\n  <!-- =====================\n       GLOBAL STYLES\n  ====================== -->\n  <style>\n    :root {\n      --bg: #f7f8f8;\n      --ink: #111111;\n      --muted: #666666;\n      --line: rgba(0,0,0,0.08);\n      --accent: #16a34a;\n      --link: #3b82f6;\n      --max-width: 1200px;\n    }\n\n    * {\n      box-sizing: border-box;\n    }\n\n    body {\n      margin: 0;\n      font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, sans-serif;\n      color: var(--ink);\n      background-color: var(--bg);\n      background-image:\n        radial-gradient(980px 560px at 14% 18%, rgba(16,185,129,0.10) 0%, rgba(16,185,129,0) 60%),\n        radial-gradient(860px 540px at 86% 74%, rgba(245,158,11,0.10) 0%, rgba(245,158,11,0) 62%),\n        repeating-linear-gradient(0deg, rgba(0,0,0,0.043) 0, rgba(0,0,0,0.043) 1px, transparent 1px, transparent 46px),\n        repeating-linear-gradient(90deg, rgba(0,0,0,0.043) 0, rgba(0,0,0,0.043) 1px, transparent 1px, transparent 46px);\n      min-height: 100vh;\n    }\n\n    a {\n      color: inherit;\n      text-decoration: none;\n    }\n\n    img {\n      max-width: 100%;\n      display: block;\n    }\n\n    /* =====================\n       PAGE WRAPPER\n    ====================== */\n    .page {\n      padding: 22px 24px;\n    }\n\n    .container {\n      max-width: var(--max-width);\n      margin: 0 auto;\n    }\n\n    /* =====================\n       SIDEBAR BACKDROP\n    ====================== */\n    .sidebar-backdrop {\n      position: fixed;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n      background: rgba(0, 0, 0, 0.2);\n      backdrop-filter: blur(4px);\n      -webkit-backdrop-filter: blur(4px);\n      opacity: 0;\n      visibility: hidden;\n      transition: opacity 0.3s ease, visibility 0.3s ease;\n      z-index: 999;\n      pointer-events: none;\n    }\n\n    .sidebar-backdrop--visible {\n      opacity: 1;\n      visibility: visible;\n      pointer-events: auto;\n    }\n\n    /* =====================\n       SIDEBAR\n    ====================== */\n    .sidebar {\n      position: fixed;\n      top: 0;\n      right: 0;\n      width: 320px;\n      height: 100vh;\n      background: var(--bg);\n      border-left: 1px solid var(--line);\n      transform: translateX(100%);\n      transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n      z-index: 1000;\n      overflow-y: auto;\n      padding: 24px;\n    }\n\n    .sidebar--open {\n      transform: translateX(0);\n    }\n\n    .sidebar__title {\n      font-size: 16px;\n      font-weight: 600;\n      margin-bottom: 24px;\n      color: var(--ink);\n    }\n\n    /* Prevent body scroll when sidebar is open */\n    body.sidebar-open {\n      overflow: hidden;\n    }\n\n    .sidebar__chapter-list {\n      list-style: none;\n      margin: 0;\n      padding: 0;\n    }\n\n    .sidebar__chapter-item {\n      margin: 0 0 8px 0;\n    }\n\n    .sidebar__chapter-link {\n      display: block;\n      font-size: 14px;\n      color: var(--muted);\n      text-decoration: none;\n      padding: 8px 0;\n      transition: color 0.2s ease;\n      line-height: 1.5;\n    }\n\n    .sidebar__chapter-link:hover {\n      color: var(--ink);\n    }\n\n    .sidebar__chapter-link {\n      color: var(--ink);\n      font-weight: 500;\n    }\n\n    /* =====================\n       HEADER (Top bar with chapter indicator)\n    ====================== */\n    .header {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      padding: 10px 0;\n      border-bottom: 1px solid var(--line);\n      position: relative;\n      transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n    }\n\n    .header--shifted {\n      transform: translateX(-320px);\n    }\n\n    .brand {\n      font-size: 16px;\n      font-weight: 600;\n      cursor: pointer;\n      display: inline-block;\n    }\n\n    .nav {\n      display: flex;\n      gap: 24px;\n      align-items: center;\n      font-size: 14px;\n    }\n\n    .nav a {\n      color: #1f2937;\n    }\n\n    .linkedin {\n      display: flex;\n      flex-direction: column;\n      align-items: flex-start;\n    }\n\n    .linkedin a {\n      color: var(--link);\n    }\n\n    .linkedin span {\n      font-family: Georgia, serif;\n      font-size: 9px;\n      font-style: italic;\n      color: #999;\n    }\n\n    /* =====================\n       MAIN GRID\n    ====================== */\n    .main {\n      padding-top: 48px;\n      padding-bottom: 48px;\n      display: flex;\n      justify-content: center;\n      align-items: start;\n    }\n\n    /* =====================\n       CHAPTER READING AREA (Option 1: Magazine-style)\n    ====================== */\n    .chapter-content {\n      max-width: 768px;\n      width: 100%;\n      margin: 0 auto;\n    }\n\n    .chapter-header {\n      margin-bottom: 56px;\n      padding-bottom: 32px;\n      border-bottom: 2px solid var(--line);\n    }\n\n    .book-title {\n      font-size: 12px;\n      letter-spacing: 0.15em;\n      text-transform: uppercase;\n      color: var(--muted);\n      font-weight: 500;\n      margin-bottom: 8px;\n      opacity: 0.7;\n    }\n\n    .chapter-number {\n      font-size: 13px;\n      letter-spacing: 0.2em;\n      text-transform: uppercase;\n      color: var(--muted);\n      font-weight: 600;\n      margin-bottom: 12px;\n      display: flex;\n      align-items: center;\n      gap: 8px;\n      cursor: pointer;\n      user-select: none;\n      transition: color 0.2s ease;\n    }\n\n    .chapter-number:hover {\n      color: var(--ink);\n    }\n\n    .chapter-number__icon {\n      font-size: 10px;\n      opacity: 0.6;\n      transition: transform 0.3s ease, opacity 0.2s ease;\n    }\n\n    .chapter-number:hover .chapter-number__icon {\n      opacity: 0.8;\n    }\n\n    .chapter-number__icon--open {\n      transform: rotate(180deg);\n    }\n\n    .chapter-title {\n      font-size: 56px;\n      font-weight: 900;\n      line-height: 1.05;\n      margin: 0 0 20px 0;\n      color: var(--ink);\n      letter-spacing: -0.03em;\n    }\n\n    .chapter-subtitle {\n      font-size: 22px;\n      font-weight: 500;\n      color: var(--muted);\n      line-height: 1.4;\n      margin: 0;\n    }\n\n    .chapter-body {\n      font-size: 19px;\n      line-height: 1.8;\n      color: var(--ink);\n      max-width: none;\n      font-weight: 400;\n    }\n\n    .chapter-body p {\n      margin: 0 0 28px 0;\n    }\n\n    .chapter-body p:last-child {\n      margin-bottom: 0;\n    }\n\n    .chapter-body h2 {\n      font-size: 36px;\n      font-weight: 800;\n      line-height: 1.2;\n      margin: 56px 0 24px 0;\n      color: var(--ink);\n      letter-spacing: -0.02em;\n    }\n\n    .chapter-body h3 {\n      font-size: 26px;\n      font-weight: 700;\n      line-height: 1.3;\n      margin: 40px 0 18px 0;\n      color: var(--ink);\n      letter-spacing: -0.01em;\n    }\n\n    .chapter-body strong {\n      font-weight: 600;\n      color: var(--ink);\n    }\n\n    .chapter-body em {\n      font-style: italic;\n    }\n\n    .chapter-body ul,\n    .chapter-body ol {\n      margin: 28px 0;\n      padding-left: 36px;\n    }\n\n    .chapter-body li {\n      margin-bottom: 14px;\n      line-height: 1.75;\n    }\n\n    .chapter-body blockquote {\n      margin: 40px 0;\n      padding-left: 28px;\n      border-left: 4px solid var(--accent);\n      font-style: italic;\n      color: var(--muted);\n      font-size: 18px;\n      line-height: 1.7;\n    }\n\n    .chapter-body code {\n      font-family: ''Monaco'', ''Menlo'', ''Courier New'', monospace;\n      font-size: 0.9em;\n      background: rgba(0,0,0,0.04);\n      padding: 2px 6px;\n      border-radius: 3px;\n    }\n\n    .chapter-body pre {\n      background: rgba(0,0,0,0.04);\n      padding: 20px;\n      border-radius: 8px;\n      overflow-x: auto;\n      margin: 24px 0;\n    }\n\n    .chapter-body pre code {\n      background: none;\n      padding: 0;\n    }\n\n    /* Content shift when sidebar opens */\n    .main {\n      transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n    }\n\n    .main--shifted {\n      transform: translateX(-320px);\n    }\n\n    /* Prevent horizontal scroll */\n    body {\n      overflow-x: hidden;\n    }\n\n    .page {\n      overflow-x: hidden;\n    }\n\n    /* =====================\n       CHAPTER NAVIGATION (BOTTOM)\n    ====================== */\n    .chapter-nav-bottom {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      max-width: 768px;\n      width: 100%;\n      margin: 64px auto 0 auto;\n      padding: 24px 0;\n      border-top: 1px solid var(--line);\n    }\n\n    .chapter-nav-bottom__link {\n      display: flex;\n      align-items: center;\n      gap: 8px;\n      font-size: 14px;\n      color: var(--muted);\n      text-decoration: none;\n      transition: color 0.2s ease;\n      padding: 8px 0;\n    }\n\n    .chapter-nav-bottom__link:hover {\n      color: var(--ink);\n    }\n\n    .chapter-nav-bottom__arrow {\n      font-size: 16px;\n      opacity: 0.7;\n    }\n\n    .chapter-nav-bottom__label {\n      font-weight: 500;\n    }\n\n    .chapter-nav-bottom__link--prev {\n      margin-right: auto;\n    }\n\n    .chapter-nav-bottom__link--next {\n      margin-left: auto;\n    }\n\n    .chapter-nav-bottom__link--disabled {\n      opacity: 0.4;\n      cursor: not-allowed;\n      pointer-events: none;\n    }\n\n    .page-widget__pages {\n      max-height: 0;\n      overflow: hidden;\n      transition: max-height 0.4s cubic-bezier(0.4, 0, 0.2, 1),\n                  opacity 0.3s ease,\n                  margin-top 0.3s ease;\n      opacity: 0;\n      margin-top: 0;\n      background: rgba(255, 255, 255, 0.98);\n      backdrop-filter: blur(12px);\n      -webkit-backdrop-filter: blur(12px);\n      border: 1px solid rgba(0, 0, 0, 0.06);\n      border-radius: 12px;\n      box-shadow: 0 2px 12px rgba(0, 0, 0, 0.06);\n    }\n\n    .page-widget__pages--expanded {\n      max-height: 500px;\n      opacity: 1;\n      margin-top: 12px;\n      padding: 8px;\n    }\n\n    .page-widget__pages-list {\n      list-style: none;\n      margin: 0;\n      padding: 0;\n      display: flex;\n      flex-direction: column;\n      gap: 8px;\n      max-height: 400px;\n      overflow-y: auto;\n      padding-right: 4px;\n    }\n\n    .page-widget__pages-list::-webkit-scrollbar {\n      width: 6px;\n    }\n\n    .page-widget__pages-list::-webkit-scrollbar-track {\n      background: rgba(0, 0, 0, 0.02);\n      border-radius: 3px;\n    }\n\n    .page-widget__pages-list::-webkit-scrollbar-thumb {\n      background: rgba(0, 0, 0, 0.12);\n      border-radius: 3px;\n    }\n\n    .page-widget__pages-list::-webkit-scrollbar-thumb:hover {\n      background: rgba(0, 0, 0, 0.2);\n    }\n\n    .page-widget__page-item {\n      display: flex;\n      align-items: center;\n      gap: 10px;\n      padding: 8px 10px;\n      border-radius: 8px;\n      cursor: pointer;\n      transition: all 0.2s ease;\n      text-decoration: none;\n      color: var(--ink);\n    }\n\n    .page-widget__page-item:hover {\n      background: rgba(0, 0, 0, 0.03);\n      transform: translateX(2px);\n    }\n\n    .page-widget__page-item--current {\n      background: rgba(22, 163, 74, 0.08);\n      color: var(--accent);\n      font-weight: 500;\n    }\n\n    .page-widget__page-item--current:hover {\n      background: rgba(22, 163, 74, 0.12);\n    }\n\n    .page-widget__page-number {\n      display: inline-flex;\n      align-items: center;\n      justify-content: center;\n      width: 24px;\n      height: 24px;\n      background: rgba(0, 0, 0, 0.04);\n      border-radius: 5px;\n      font-size: 11px;\n      font-weight: 500;\n      flex-shrink: 0;\n      color: var(--muted);\n    }\n\n    .page-widget__page-item--current .page-widget__page-number {\n      background: rgba(22, 163, 74, 0.15);\n      color: var(--accent);\n    }\n\n    .page-widget__page-info {\n      flex: 1;\n      min-width: 0;\n    }\n\n    .page-widget__page-name {\n      font-size: 13px;\n      font-weight: 500;\n      line-height: 1.3;\n      margin: 0 0 2px 0;\n    }\n\n    .page-widget__page-note {\n      font-size: 11px;\n      color: var(--muted);\n      line-height: 1.3;\n      margin: 0;\n      white-space: nowrap;\n      overflow: hidden;\n      text-overflow: ellipsis;\n    }\n\n    @media (max-width: 768px) {\n      .page-widget__pages-list {\n        max-height: 300px;\n      }\n    }\n\n\n/* ===============================\n   WRAPPER\n================================ */\n.book-wrap {\n  width: 320px;\n  aspect-ratio: 2 / 3;\n  position: relative;\n}\n\n/* ===============================\n   CAST SHADOW SLAB (REAL SHADOW)\n================================ */\n.shadow-slab {\n    position: absolute;\n    position: absolute;\n    inset: 0;\n    border-radius: 22px;\n    /* background: #2a2a2a; */\n    transform: translate(-30px, 30px);\n    filter: blur(13px);\n    opacity: 0.35;\n    z-index: 0;\n    background: radial-gradient(ellipse at 15% 85%, rgba(0, 0, 0, 0.35), rgba(0, 0, 0, 0.18) 35%, transparent 65%), linear-gradient(to right, #1f1f1f 0%, #2a2a2a 45%, #3a3a3a 100%);\n}\n\n.shadow-slab-2 {\n    position: absolute;\n    inset: 0;\n    border-radius: 22px;\n    background: radial-gradient(circle at top right, #f6e6a8 0%, #e2c36b 35%, #b58a3c 70%, #7a5524 100%);\n    transform: translate(-10px, 10px);\n    filter: blur(5px);\n    opacity: 0.35;\n    z-index: 0;\n}\n\n.shadow-slab-3 {\n    position: absolute;\n    inset: 0;\n    border-radius: 22px;\n    background: #333;\n    transform: translate(0px, 0px);\n    filter: blur(11px);\n    opacity: 0.35;\n    z-index: 0;\n}\n\n.shadow-slab-4 {\n    position: absolute;\n    inset: 0;\n    border-radius: 22px;\n    background: #333;\n    transform: translate(0px, 0px);\n    filter: blur(11px);\n    opacity: 0.35;\n    z-index: 0;\n}\n\n/* ===============================\n   FRONT SLAB & SPIN HANDLE\n================================ */\n\n.front-slab {\n    position: absolute;\n    inset: 0;\n    border-radius: 22px;\n    background: linear-gradient(to right, rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.1) 3%, transparent 1%);\n    /* background: green; */\n    z-index: 3;\n    opacity: .5;\n    transform: translateZ(6px);\n    pointer-events: none;\n}\n\n.spin-handle {\n  display: none;\n  position: absolute;\n  top: 50%;\n  right: -22px;\n  width: 14px;\n  height: 48px;\n  border-radius: 999px;\n  background: rgba(0,0,0,0.25);\n  backdrop-filter: blur(4px);\n  cursor: grab;\n  z-index: 10;\n}\n\n/* ===============================\n   BOOK OBJECT (NO SHADOW)\n================================ */\n.book {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  border-radius: 22px;\n  overflow: hidden;\n  z-index: 2;\n\n  /* IMPORTANT: no box-shadow */\n  box-shadow: none;\n\n  /* transform: perspective(1200px) rotateX(0.6deg); */\n}\n\n/* ===============================\n   PAPER SURFACE (LIGHT FIELD)\n================================ */\n.book .surface {\n  position: absolute;\n  inset: 0;\n  border-radius: inherit;\n  pointer-events: none;\n  z-index: 1;\n\n  background:\n    linear-gradient(\n      to bottom left,\n      rgba(255,255,255,1) 0%,\n      rgba(250,250,250,1) 42%,\n      rgba(240,240,240,1) 100%\n    ),\n    repeating-linear-gradient(\n      0deg,\n      rgba(0,0,0,0.01),\n      rgba(0,0,0,0.01) 1px,\n      transparent 1px,\n      transparent 3px\n    );\n}\n\n/* ===============================\n   LEFT OCCLUSION (CURTAIN)\n================================ */\n.book .curtain {\n  position: absolute;\n  inset: 0;\n  border-radius: inherit;\n  pointer-events: none;\n  z-index: 2;\n\n  background:\n    linear-gradient(\n      to right,\n      rgba(0,0,0,0.20) 0%,\n      rgba(0,0,0,0.12) 8%,\n      rgba(0,0,0,0.05) 16%,\n      rgba(0,0,0,0.02) 22%,\n      rgba(0,0,0,0.00) 30%\n    );\n}\n\n/* ===============================\n   RIGHT HIGHLIGHT\n================================ */\n.book .highlight {\n  position: absolute;\n  inset: 0;\n  border-radius: inherit;\n  pointer-events: none;\n  z-index: 3;\n\n  background:\n    linear-gradient(\n      to left,\n      rgba(255,255,255,0.35) 0%,\n      rgba(255,255,255,0.18) 6%,\n      rgba(255,255,255,0.06) 14%,\n      rgba(255,255,255,0.00) 24%\n    );\n}\n\n/* ===============================\n   PAGE EDGE (THICKNESS)\n================================ */\n.book .edge {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 120px;\n  height: 100%;\n  border-radius: 22px 0 0 22px;\n  pointer-events: none;\n  z-index: 4;\n\n  background:\n    linear-gradient(\n      to right,\n      rgba(215,215,215,0.95) 0%,\n      rgba(245,245,245,0.95) 40%,\n      rgba(255,255,255,0.95) 75%\n    );\n\n  box-shadow:\n    inset -1px 0 0 rgba(0,0,0,0.05);\n}\n\n/* ===============================\n   SVG (PURE WHITE)\n================================ */\n.book svg {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  display: block;\n  z-index: 5;\n}\n\n    /* =====================\n       LEFT: BOOK COVER\n    ====================== */\n    .book-cover {\n      display: flex;\n      flex-direction: column;\n      gap: 12px;\n    }\n\n\n    /* ===============================\n       BOOK + SHADOW SYSTEM\n    =============================== */\n    .book-wrap {\n      width: 320px;\n      aspect-ratio: 2 / 3;\n      position: relative;\n    }\n\n    .shadow-slab,\n    .shadow-slab-2,\n    .shadow-slab-3,\n    .shadow-slab-4 {\n      position: absolute;\n      inset: 0;\n      border-radius: 22px;\n      z-index: 0;\n      will-change: transform, filter, opacity;\n    }\n\n    .shadow-slab {\n      background:\n        radial-gradient(ellipse at 15% 85%, rgba(0,0,0,0.35), rgba(0,0,0,0.18) 35%, transparent 65%),\n        linear-gradient(to right, #1f1f1f 0%, #2a2a2a 45%, #3a3a3a 100%);\n      filter: blur(13px);\n      opacity: 0.35;\n    }\n\n    .shadow-slab-2 {\n      background: radial-gradient(circle at top right, #f6e6a8 0%, #e2c36b 35%, #b58a3c 70%, #7a5524 100%);\n      filter: blur(6px);\n      opacity: 0.30;\n    }\n\n    .shadow-slab-3,\n    .shadow-slab-4 {\n      background: #333;\n      filter: blur(11px);\n      opacity: 0.30;\n    }\n\n    .book {\n      position: relative;\n      width: 100%;\n      height: 100%;\n      border-radius: 22px;\n      overflow: hidden;\n      z-index: 2;\n      background: #f7f4ee;\n    }\n\n    .front-slab {\n      position: absolute;\n      inset: 0;\n      border-radius: 22px;\n      background: linear-gradient(to right, rgba(0,0,0,0.4), rgba(0,0,0,0.1) 3%, transparent 10%);\n      z-index: 3;\n      pointer-events: none;\n      opacity: 0.5;\n    }\n\n\n    @media (prefers-reduced-motion: reduce) {\n      .cover-frame {\n        transition: none;\n        transform: none;\n      }\n      .cover-frame:hover {\n        --lift: 0;\n      }\n    }\n\n    .start-reading {\n      display: inline-flex;\n      align-items: center;\n      justify-content: center;\n      width: 100%;\n      padding: 12px 14px;\n      border-radius: 999px;\n\n      font-size: 11px;\n      letter-spacing: 0.16em;\n      text-transform: uppercase;\n      font-weight: 650;\n      color: rgba(34,197,94,0.92);\n      text-shadow:\n        0 0 10px rgba(34,197,94,0.22),\n        0 0 22px rgba(34,197,94,0.14);\n\n      /* graphite: dark + slightly mineral */\n      background:\n        radial-gradient(120% 140% at 20% 10%, rgba(255,255,255,0.10) 0%, rgba(255,255,255,0.00) 55%),\n        radial-gradient(140% 140% at 80% 90%, rgba(255,255,255,0.06) 0%, rgba(255,255,255,0.00) 60%),\n        linear-gradient(180deg, #141414 0%, #0a0a0a 100%);\n      border: 1px solid rgba(255,255,255,0.10);\n      box-shadow:\n        0 14px 34px rgba(0,0,0,0.22),\n        0 8px 16px rgba(0,0,0,0.18),\n        inset 0 1px 0 rgba(255,255,255,0.10),\n        inset 0 -1px 0 rgba(0,0,0,0.55);\n\n      position: relative;\n      overflow: hidden;\n      cursor: pointer;\n      user-select: none;\n      -webkit-tap-highlight-color: transparent;\n\n      transition:\n        transform 160ms cubic-bezier(0.2, 0.8, 0.2, 1),\n        box-shadow 160ms cubic-bezier(0.2, 0.8, 0.2, 1),\n        border-color 160ms cubic-bezier(0.2, 0.8, 0.2, 1);\n    }\n\n    .start-reading::before {\n      content: \"\";\n      position: absolute;\n      inset: 0;\n      pointer-events: none;\n      /* texture + sheen (very subtle) */\n      background:\n        linear-gradient(120deg, rgba(255,255,255,0.12) 0%, rgba(255,255,255,0.00) 46%),\n        repeating-linear-gradient(0deg,\n          rgba(255,255,255,0.028) 0px,\n          rgba(255,255,255,0.028) 1px,\n          rgba(0,0,0,0.00) 3px,\n          rgba(0,0,0,0.00) 6px),\n        radial-gradient(120% 90% at 50% 0%, rgba(34,197,94,0.14) 0%, rgba(34,197,94,0.00) 62%);\n      opacity: 0.75;\n    }\n\n    .start-reading:hover {\n      transform: translateY(-1px);\n      border-color: rgba(34,197,94,0.30);\n      box-shadow:\n        0 18px 42px rgba(0,0,0,0.24),\n        0 10px 18px rgba(0,0,0,0.18),\n        inset 0 1px 0 rgba(255,255,255,0.12),\n        inset 0 -1px 0 rgba(0,0,0,0.55);\n      text-shadow:\n        0 0 12px rgba(34,197,94,0.28),\n        0 0 26px rgba(34,197,94,0.18);\n    }\n\n    .start-reading:active {\n      transform: translateY(0px);\n      box-shadow:\n        0 14px 34px rgba(0,0,0,0.22),\n        0 8px 16px rgba(0,0,0,0.18),\n        inset 0 1px 0 rgba(255,255,255,0.10),\n        inset 0 -1px 0 rgba(0,0,0,0.55);\n    }\n\n    .start-reading:focus-visible {\n      outline: none;\n      box-shadow:\n        0 18px 42px rgba(0,0,0,0.24),\n        0 0 0 4px rgba(34,197,94,0.22),\n        0 0 0 1px rgba(34,197,94,0.26),\n        inset 0 1px 0 rgba(255,255,255,0.12),\n        inset 0 -1px 0 rgba(0,0,0,0.55);\n      border-color: rgba(34,197,94,0.34);\n    }\n\n    @media (prefers-reduced-motion: reduce) {\n      .start-reading {\n        transition: none;\n      }\n      .start-reading:hover {\n        transform: none;\n      }\n    }\n\n    /* =====================\n       CENTER: CONTENT\n    ====================== */\n    .content h1 {\n      font-size: 40px;\n      font-weight: 800;\n      line-height: 1.15;\n      margin: 0;\n    }\n\n    .byline {\n      font-size: 13px;\n      letter-spacing: 0.12em;\n      color: #666;\n      font-weight: 600;\n    }\n\n    .tagline {\n      font-size: 18px;\n      font-weight: 500;\n      color: #333;\n    }\n\n    .paragraph {\n      font-size: 15px;\n      color: #222;\n    }\n\n    .meta {\n      margin-top: 20px;\n      padding-top: 20px;\n      border-top: 1px solid var(--line);\n      display: grid;\n      grid-template-columns: repeat(2, 1fr);\n      gap: 12px 24px;\n      font-size: 13px;\n    }\n\n    .author {\n      margin-top: 20px;\n      padding-top: 20px;\n      border-top: 1px solid var(--line);\n      display: flex;\n      gap: 16px;\n      align-items: flex-start;\n    }\n\n    .author img {\n      width: 44px;\n      height: 44px;\n      border-radius: 50%;\n    }\n\n    /* =====================\n       RIGHT: RELATED\n    ====================== */\n    .related {\n      display: flex;\n      flex-direction: column;\n      gap: 20px;\n    }\n\n    .related-title {\n      font-size: 11px;\n      letter-spacing: 0.14em;\n      color: #666;\n      text-transform: uppercase;\n      font-weight: 600;\n    }\n\n    .related-item {\n      display: flex;\n      flex-direction: column;\n      gap: 6px;\n      cursor: pointer;\n      transition: transform 0.12s ease, box-shadow 0.12s ease;\n    }\n\n    .related-item:hover {\n      transform: translateY(-2px);\n    }\n\n    .related-thumb {\n      border-radius: 6px;\n      overflow: hidden;\n      aspect-ratio: 3 / 4;\n      box-shadow: 0 8px 24px rgba(0,0,0,0.1);\n\n      /* Gray placeholder shape */\n      background: linear-gradient(135deg, #e5e7eb 0%, #d1d5db 45%, #cbd5e1 100%);\n      border: 1px solid rgba(0,0,0,0.06);\n    }\n\n    .related-thumb img {\n      width: 100%;\n      height: 100%;\n      object-fit: cover;\n      filter: grayscale(1);\n      opacity: 0.85;\n      transition: filter 160ms ease, opacity 160ms ease;\n    }\n\n    .related-thumb .thumb-placeholder {\n      width: 100%;\n      height: 100%;\n      display: block;\n    }\n\n    .related-item a {\n      font-size: 12px;\n      font-weight: 600;\n      color: #111;\n    }\n\n    /* =====================\n       RIGHT: 13 CHAPTERS\n    ====================== */\n    .chapters {\n      display: flex;\n      flex-direction: column;\n      gap: 10px;\n    }\n\n    .chapters-title {\n      font-size: 11px;\n      letter-spacing: 0.12em;\n      color: rgba(17,17,17,0.52);\n      text-transform: uppercase;\n      font-weight: 600;\n    }\n\n    .chapters-help {\n      margin-top: -4px;\n      font-size: 11px;\n      line-height: 1.35;\n      color: rgba(17,17,17,0.42);\n    }\n\n    .chapter-list {\n      list-style: none;\n      padding: 0;\n      margin: 0;\n      display: flex;\n      flex-direction: column;\n      gap: 0;\n      border-top: 1px solid rgba(0,0,0,0.06);\n    }\n\n    .chapter-item {\n      display: grid;\n      grid-template-columns: 3ch 1fr;\n      gap: 12px;\n      align-items: start;\n      padding: 10px 0;\n      border-bottom: 1px solid rgba(0,0,0,0.06);\n    }\n\n    .chapter-item--preface .chapter-name {\n      font-weight: 760;\n      letter-spacing: -0.01em;\n      color: rgba(17,17,17,0.90);\n    }\n\n    .chapter-item--current .chapter-name {\n      color: rgba(17,17,17,0.92);\n      text-decoration: underline;\n      text-decoration-thickness: 1px;\n      text-underline-offset: 3px;\n      text-decoration-color: rgba(17,17,17,0.22);\n    }\n\n    .chapter-num {\n      width: auto;\n      height: auto;\n      border-radius: 0;\n      display: block;\n      text-align: right;\n      font-size: 11px;\n      font-weight: 650;\n      color: rgba(17,17,17,0.46);\n      font-variant-numeric: tabular-nums;\n    }\n\n    .chapter-name {\n      font-size: 12px;\n      font-weight: 600;\n      color: rgba(17,17,17,0.80);\n      line-height: 1.3;\n    }\n\n    .chapter-note {\n      margin-top: 2px;\n      font-size: 11px;\n      color: rgba(17,17,17,0.46);\n      line-height: 1.4;\n    }\n\n    /* =====================\n       RESPONSIVE\n    ====================== */\n    @media (max-width: 900px) {\n      .chapter-content {\n        max-width: 100%;\n        padding: 0 24px;\n      }\n\n      .page-widget {\n        max-width: 100%;\n        margin-left: 24px;\n        margin-right: 24px;\n      }\n\n      .chapter-title {\n        font-size: 42px;\n      }\n\n      .chapter-body {\n        font-size: 18px;\n      }\n\n      .chapter-body h2 {\n        font-size: 32px;\n      }\n\n      .chapter-body h3 {\n        font-size: 24px;\n      }\n    }\n\n    @media (max-width: 768px) {\n      .header {\n        flex-direction: column;\n        gap: 12px;\n      }\n\n      .chapter-content {\n        padding: 0 16px;\n      }\n\n      .page-widget {\n        margin-left: 16px;\n        margin-right: 16px;\n      }\n\n      .chapter-title {\n        font-size: 38px;\n      }\n\n      .chapter-body {\n        font-size: 17px;\n      }\n\n      .chapter-body h2 {\n        font-size: 30px;\n      }\n\n      .chapter-body h3 {\n        font-size: 22px;\n      }\n    }\n  </style>\n</head>\n\n<body>\n  <div class=\"page\">\n    <div class=\"container\">\n\n      <!-- SIDEBAR BACKDROP -->\n      <div class=\"sidebar-backdrop\" id=\"sidebarBackdrop\"></div>\n\n      <!-- SIDEBAR -->\n      <aside class=\"sidebar\" id=\"sidebar\">\n        <div class=\"sidebar__title\">Working Fundamentals</div>\n        <ul class=\"sidebar__chapter-list\">\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-introduction\" class=\"sidebar__chapter-link\" target=\"_blank\">Introduction</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-1-of-13-programming-fundamentals\" class=\"sidebar__chapter-link sidebar__chapter-link\" target=\"_blank\">Chapter 1 ¬∑ Programming Fundamentals</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-2-of-13-data-structures\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 2 ¬∑ Data Structures</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-3-of-13-algorithms-and-complexity\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 3 ¬∑ Algorithms & Complexity</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-4-of-13-control-and-flow\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 4 ¬∑ Control & Flow</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"#\" class=\"sidebar__chapter-link\"> class=\"sidebar__chapter-link sidebar__chapter-link--current\">Chapter 5 ¬∑ State\\ \\&\\ Change</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-6-of-13-design-principles\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 6 ¬∑ Design Principles</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-7-of-13-architecture\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 7 ¬∑ Architecture</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-8-of-13-persistence-and-data-modeling\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 8 ¬∑ Persistence & Data Modeling</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-9-of-13-interfaces-and-apis\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 9 ¬∑ Interfaces & APIs</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-10-of-13-errors-and-failure\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 10 ¬∑ Errors & Failure</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-11-of-13-testing\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 11 ¬∑ Testing</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-12-of-13-performance-and-scale\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 12 ¬∑ Performance & Scale</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-13-of-13-the-developers-role\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 13 ¬∑ The Developer''s Role</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-outroduction\" class=\"sidebar__chapter-link\" target=\"_blank\">Outroduction</a>\n          </li>\n        </ul>\n      </aside>\n\n      <!-- HEADER -->\n      <header class=\"header\" id=\"header\">\n        <a href=\"https://arvinjaysoncastro.com/\" class=\"brand\" target=\"_blank\">Arvin Jayson Castro</a>\n        <nav class=\"nav\">\n          <a href=\"https://arvinjaysoncastro.com/hungry-dev-mind\" target=\"_blank\">Books</a>\n          <a href=\"https://arvinjaysoncastro.com/working-systems\" target=\"_blank\">Working Systems</a>\n          <a href=\"https://arvinjaysoncastro.com/about\" target=\"_blank\">16 Years</a>\n          <div class=\"linkedin\">\n            <a href=\"https://www.linkedin.com/in/arvin-jayson-castro-7458199a/\" target=\"_blank\">linkedIn</a>\n            <span>let''s connect</span>\n          </div>\n        </nav>\n      </header>\n\n      <!-- PAGE WIDGET (TOP) - REMOVED -->\n      <div style=\"display: none;\">\n          <ol class=\"page-widget__pages-list\">\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">P</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Preface</div>\n                  <div class=\"page-widget__page-note\">Why fundamentals still decide outcomes.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item page-widget__page-item--current\">\n                <span class=\"page-widget__page-number\">1</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 1</div>\n                  <div class=\"page-widget__page-note\">Core principles and constraints.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">2</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 2</div>\n                  <div class=\"page-widget__page-note\">Boundaries, ownership, and interfaces.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">3</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 3</div>\n                  <div class=\"page-widget__page-note\">State, consistency, and failure modes.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">4</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 4</div>\n                  <div class=\"page-widget__page-note\">Abstractions that survive change.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">5</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 5</div>\n                  <div class=\"page-widget__page-note\">Simplicity as an engineering practice.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">6</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 6</div>\n                  <div class=\"page-widget__page-note\">Reliability, observability, and feedback.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">7</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 7</div>\n                  <div class=\"page-widget__page-note\">Delivery systems and decision hygiene.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">8</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 8</div>\n                  <div class=\"page-widget__page-note\">Documentation that stays useful.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">9</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 9</div>\n                  <div class=\"page-widget__page-note\">Testing strategy for predictable change.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">10</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 10</div>\n                  <div class=\"page-widget__page-note\">Pragmatic architecture for teams.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">11</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 11</div>\n                  <div class=\"page-widget__page-note\">Operational excellence without ceremony.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">12</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 12</div>\n                  <div class=\"page-widget__page-note\">Leadership, standards, and leverage.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">13</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 13</div>\n                  <div class=\"page-widget__page-note\">Making fundamentals non-negotiable.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">PS</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Postscript</div>\n                  <div class=\"page-widget__page-note\">A short operating model to carry forward.</div>\n                </div>\n              </a>\n            </li>\n          </ol>\n        </div>\n      </div>\n\n      <!-- MAIN -->\n      <main class=\"main\" id=\"main\">\n\n        <!-- CHAPTER CONTENT (Option 1: Magazine-style) -->\n        <article class=\"chapter-content\">\n          <header class=\"chapter-header\">\n            <div class=\"book-title\">Working Fundamentals</div>\n            <div class=\"chapter-number\" id=\"chapterIndicator\">\n              <span>chapter 5 of 13</span>\n              <span class=\"chapter-number__icon\" id=\"chapterIndicatorIcon\">‚ñæ</span>\n            </div>\n            <h1 class=\"chapter-title\">State & Change</h1>\n            <p class=\"chapter-subtitle\">Why history complicates everything</p>\n          </header>\n\n          <div class=\"chapter-body\">\n            <h3>What this chapter is</h3>\n\n            <p>This chapter is not about variables.It is not about mutability keywords.It is not about functional versus object-oriented debates.</p>\n\n            <p>This chapter is about <strong>memory</strong>.</p>\n\n            <p>State is memory inside a system.And memory always changes how reasoning works.</p>\n\n            <h2>The core truth</h2>\n\n            <p>State means <strong>the past is still present</strong>.</p>\n\n            <p>When state exists:</p>\n\n            <ul>\n\n            <li>behavior depends on history</li>\n\n            </ul>\n\n            <ul>\n\n            <li>order matters</li>\n\n            </ul>\n\n            <ul>\n\n            <li>repetition is no longer safe</li>\n\n            </ul>\n\n            <p>Two identical inputs can produce different outputsbecause something happened before.</p>\n\n            <p>üß† <strong>Mental Model</strong>State introduces time into logic.</p>\n\n            <h2>Why state is unavoidable</h2>\n\n            <p>Every real system has state.</p>\n\n            <ul>\n\n            <li>user sessions</li>\n\n            </ul>\n\n            <ul>\n\n            <li>stored data</li>\n\n            </ul>\n\n            <ul>\n\n            <li>configuration</li>\n\n            </ul>\n\n            <ul>\n\n            <li>caches</li>\n\n            </ul>\n\n            <ul>\n\n            <li>counters</li>\n\n            </ul>\n\n            <ul>\n\n            <li>flags</li>\n\n            </ul>\n\n            <p>Trying to eliminate state entirely is fantasy.</p>\n\n            <p>The goal is not to remove state.The goal is to <strong>contain it</strong>.</p>\n\n            <h2>The real danger is not mutability</h2>\n\n            <p>Most discussions focus on:</p>\n\n            <blockquote>‚ÄúIs this mutable or immutable?‚Äù</blockquote>\n\n            <p>That question is secondary.</p>\n\n            <p>The primary question is:</p>\n\n            <blockquote><strong>Who owns this state?</strong></blockquote>\n\n            <p>Unowned state is dangerous state.</p>\n\n            <h2>Ownership defines safety</h2>\n\n            <p>When state has clear ownership:</p>\n\n            <ul>\n\n            <li>changes are intentional</li>\n\n            </ul>\n\n            <ul>\n\n            <li>responsibilities are visible</li>\n\n            </ul>\n\n            <ul>\n\n            <li>bugs localize</li>\n\n            </ul>\n\n            <p>When state has unclear ownership:</p>\n\n            <ul>\n\n            <li>multiple actors modify it</li>\n\n            </ul>\n\n            <ul>\n\n            <li>invariants erode</li>\n\n            </ul>\n\n            <ul>\n\n            <li>fixes collide</li>\n\n            </ul>\n\n            <p>üß† <strong>Architect‚Äôs Note</strong>State should have one owner, even if many can read it.</p>\n\n            <h2>Hidden state is the worst kind</h2>\n\n            <p>Hidden state includes:</p>\n\n            <ul>\n\n            <li>global variables</li>\n\n            </ul>\n\n            <ul>\n\n            <li>shared singletons</li>\n\n            </ul>\n\n            <ul>\n\n            <li>implicit environment dependencies</li>\n\n            </ul>\n\n            <ul>\n\n            <li>static caches</li>\n\n            </ul>\n\n            <ul>\n\n            <li>values modified outside visible flow</li>\n\n            </ul>\n\n            <p>Hidden state creates <strong>action at a distance</strong>.</p>\n\n            <p>You change something here.Something breaks there.</p>\n\n            <p>‚ö†Ô∏è <strong>Common Drift</strong>When bugs feel ‚Äúimpossible,‚Äù hidden state is usually involved.</p>\n\n            <h2>Temporal coupling</h2>\n\n            <p>State creates <strong>temporal coupling</strong>:</p>\n\n            <ul>\n\n            <li>this must happen before that</li>\n\n            </ul>\n\n            <ul>\n\n            <li>this must not happen twice</li>\n\n            </ul>\n\n            <ul>\n\n            <li>this must happen only once</li>\n\n            </ul>\n\n            <p>Temporal coupling is fragile because:</p>\n\n            <ul>\n\n            <li>time is hard to see</li>\n\n            </ul>\n\n            <ul>\n\n            <li>time is hard to test</li>\n\n            </ul>\n\n            <ul>\n\n            <li>time is hard to control</li>\n\n            </ul>\n\n            <p>üß† <strong>Mental Model</strong>If order matters, order must be enforced ‚Äî not assumed.</p>\n\n            <h2>Reentrancy reveals state problems</h2>\n\n            <p>A powerful test of state clarity is this question:</p>\n\n            <blockquote>‚ÄúWhat happens if this runs twice?‚Äù</blockquote>\n\n            <p>Or:</p>\n\n            <blockquote>‚ÄúWhat happens if this runs again before it finishes?‚Äù</blockquote>\n\n            <p>If the answer is unclear, state is leaking.</p>\n\n            <h2>State vs data</h2>\n\n            <p>Not all data is state.</p>\n\n            <ul>\n\n            <li>Data describes reality.</li>\n\n            </ul>\n\n            <ul>\n\n            <li>State describes <strong>change over time</strong>.</li>\n\n            </ul>\n\n            <p>Confusing the two causes:</p>\n\n            <ul>\n\n            <li>over-mutability</li>\n\n            </ul>\n\n            <ul>\n\n            <li>defensive copying</li>\n\n            </ul>\n\n            <ul>\n\n            <li>unnecessary resets</li>\n\n            </ul>\n\n            <p>üß† <strong>Perspective</strong>Stable data should stay stable.Only true state should change.</p>\n\n            <h2>Local state vs shared state</h2>\n\n            <p>Local state:</p>\n\n            <ul>\n\n            <li>easier to reason about</li>\n\n            </ul>\n\n            <ul>\n\n            <li>easier to reset</li>\n\n            </ul>\n\n            <ul>\n\n            <li>easier to test</li>\n\n            </ul>\n\n            <p>Shared state:</p>\n\n            <ul>\n\n            <li>harder to reason about</li>\n\n            </ul>\n\n            <ul>\n\n            <li>harder to control</li>\n\n            </ul>\n\n            <ul>\n\n            <li>harder to debug</li>\n\n            </ul>\n\n            <p>Shared state is sometimes necessary.It should always be <strong>explicit</strong>.</p>\n\n            <h2>State and failure</h2>\n\n            <p>Failures interacting with state are dangerous.</p>\n\n            <p>Questions every stateful operation must answer:</p>\n\n            <ul>\n\n            <li>what happens if this fails halfway?</li>\n\n            </ul>\n\n            <ul>\n\n            <li>what is left changed?</li>\n\n            </ul>\n\n            <ul>\n\n            <li>can it be retried safely?</li>\n\n            </ul>\n\n            <p>Ignoring these questions creates:</p>\n\n            <ul>\n\n            <li>partial updates</li>\n\n            </ul>\n\n            <ul>\n\n            <li>corruption</li>\n\n            </ul>\n\n            <ul>\n\n            <li>irreversible damage</li>\n\n            </ul>\n\n            <p>üß† <strong>Architect‚Äôs Note</strong>State changes must be atomic or recoverable.</p>\n\n            <h2>State accumulation and drift</h2>\n\n            <p>Over time, systems accumulate state:</p>\n\n            <ul>\n\n            <li>flags added ‚Äútemporarily‚Äù</li>\n\n            </ul>\n\n            <ul>\n\n            <li>caches layered on caches</li>\n\n            </ul>\n\n            <ul>\n\n            <li>compatibility hacks preserved forever</li>\n\n            </ul>\n\n            <p>Each addition feels small.Together, they create inertia.</p>\n\n            <p>‚ö†Ô∏è <strong>Common Drift</strong>Most legacy systems are not complex ‚Äî they are over-remembering.</p>\n\n            <h2>Minimal practice (still no code)</h2>\n\n            <p><strong>Problem:</strong>‚ÄúA function updates a counter, saves a record, and sends a notification.‚Äù</p>\n\n            <p>Ask:</p>\n\n            <ul>\n\n            <li>What state changes?</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Who owns each change?</li>\n\n            </ul>\n\n            <ul>\n\n            <li>What happens if notification fails?</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Can this be retried safely?</li>\n\n            </ul>\n\n            <p>If these answers are vague, the design is incomplete.</p>\n\n            <h2>What beginners gain here</h2>\n\n            <ul>\n\n            <li>Understanding why bugs appear ‚Äúrandom‚Äù</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Awareness of hidden dependencies</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Respect for order and ownership</li>\n\n            </ul>\n\n            <h2>What experienced developers recognize</h2>\n\n            <ul>\n\n            <li>Why some systems resist refactoring</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Why concurrency introduces chaos</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Why fixes create new problems</li>\n\n            </ul>\n\n            <p>State was unmanaged.</p>\n\n            <h2>What this chapter deliberately avoids</h2>\n\n            <ul>\n\n            <li>Language-level mutability debates</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Framework state management patterns</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Reactive buzzwords</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Implementation details</li>\n\n            </ul>\n\n            <p>Those come after clarity.</p>\n\n            <h2>Closing</h2>\n\n            <p>State is not evil.But it is <strong>expensive</strong>.</p>\n\n            <p>It costs:</p>\n\n            <ul>\n\n            <li>reasoning</li>\n\n            </ul>\n\n            <ul>\n\n            <li>predictability</li>\n\n            </ul>\n\n            <ul>\n\n            <li>safety</li>\n\n            </ul>\n\n            <p>Well-contained state makes systems reliable.Leaking state makes systems hostile.</p>\n\n            <p>Design state as if time were your enemy ‚Äîbecause eventually, it is.</p>\n          </div>\n        </article>\n\n        <!-- RIGHT -->\n\n      </main>\n\n      <!-- CHAPTER NAVIGATION (BOTTOM) -->\n      <nav class=\"chapter-nav-bottom\" id=\"chapterNavBottom\">\n        <a href=\"#\" class=\"chapter-nav-bottom__link chapter-nav-bottom__link--prev\" id=\"prevChapter\">\n          <span class=\"chapter-nav-bottom__arrow\">‚Üê</span>\n          <span class=\"chapter-nav-bottom__label\">Previous</span>\n        </a>\n        <a href=\"#\" class=\"chapter-nav-bottom__link chapter-nav-bottom__link--next\" id=\"nextChapter\">\n          <span class=\"chapter-nav-bottom__label\">Next</span>\n          <span class=\"chapter-nav-bottom__arrow\">‚Üí</span>\n        </a>\n      </nav>\n\n      <!-- PAGE WIDGET (BOTTOM) - REMOVED -->\n      <div style=\"display: none;\">\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">P</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Preface</div>\n                  <div class=\"page-widget__page-note\">Why fundamentals still decide outcomes.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item page-widget__page-item--current\">\n                <span class=\"page-widget__page-number\">1</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 1</div>\n                  <div class=\"page-widget__page-note\">Core principles and constraints.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">2</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 2</div>\n                  <div class=\"page-widget__page-note\">Boundaries, ownership, and interfaces.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">3</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 3</div>\n                  <div class=\"page-widget__page-note\">State, consistency, and failure modes.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">4</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 4</div>\n                  <div class=\"page-widget__page-note\">Abstractions that survive change.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">5</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 5</div>\n                  <div class=\"page-widget__page-note\">Simplicity as an engineering practice.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">6</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 6</div>\n                  <div class=\"page-widget__page-note\">Reliability, observability, and feedback.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">7</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 7</div>\n                  <div class=\"page-widget__page-note\">Delivery systems and decision hygiene.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">8</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 8</div>\n                  <div class=\"page-widget__page-note\">Documentation that stays useful.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">9</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 9</div>\n                  <div class=\"page-widget__page-note\">Testing strategy for predictable change.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">10</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 10</div>\n                  <div class=\"page-widget__page-note\">Pragmatic architecture for teams.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">11</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 11</div>\n                  <div class=\"page-widget__page-note\">Operational excellence without ceremony.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">12</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 12</div>\n                  <div class=\"page-widget__page-note\">Leadership, standards, and leverage.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">13</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 13</div>\n                  <div class=\"page-widget__page-note\">Making fundamentals non-negotiable.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">PS</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Postscript</div>\n                  <div class=\"page-widget__page-note\">A short operating model to carry forward.</div>\n                </div>\n              </a>\n            </li>\n          </ol>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <!-- PAGE WIDGET JS -->\n  <!-- SIDEBAR TOGGLE JS -->\n  <script>\n  (() => {\n    const sidebar = document.getElementById(''sidebar'');\n    const backdrop = document.getElementById(''sidebarBackdrop'');\n    const indicator = document.getElementById(''chapterIndicator'');\n    const icon = document.getElementById(''chapterIndicatorIcon'');\n    const header = document.getElementById(''header'');\n    const main = document.getElementById(''main'');\n    const body = document.body;\n\n    if (!sidebar || !backdrop || !indicator || !icon || !header || !main) return;\n\n    let isOpen = false;\n    let scrollTimeout = null;\n\n    const openSidebar = () => {\n      isOpen = true;\n      sidebar.classList.add(''sidebar--open'');\n      backdrop.classList.add(''sidebar-backdrop--visible'');\n      header.classList.add(''header--shifted'');\n      main.classList.add(''main--shifted'');\n      icon.classList.add(''chapter-number__icon--open'');\n      body.classList.add(''sidebar-open'');\n    };\n\n    const closeSidebar = () => {\n      isOpen = false;\n      sidebar.classList.remove(''sidebar--open'');\n      backdrop.classList.remove(''sidebar-backdrop--visible'');\n      header.classList.remove(''header--shifted'');\n      main.classList.remove(''main--shifted'');\n      icon.classList.remove(''chapter-number__icon--open'');\n      body.classList.remove(''sidebar-open'');\n    };\n\n    // Toggle sidebar\n    indicator.addEventListener(''click'', (e) => {\n      e.stopPropagation();\n      if (isOpen) {\n        closeSidebar();\n      } else {\n        openSidebar();\n      }\n    });\n\n    // Close sidebar when clicking backdrop\n    backdrop.addEventListener(''click'', () => {\n      closeSidebar();\n    });\n\n    // Close sidebar when clicking outside\n    document.addEventListener(''click'', (e) => {\n      // Don''t close sidebar if clicking on brand link or nav links\n      const brandLink = header.querySelector(''.brand'');\n      const isClickOnLink = brandLink && brandLink.contains(e.target);\n      const isClickOnNav = header.querySelector(''.nav'') && header.querySelector(''.nav'').contains(e.target);\n      \n      if (isOpen && !sidebar.contains(e.target) && !indicator.contains(e.target) && !isClickOnLink && !isClickOnNav) {\n        closeSidebar();\n      }\n    });\n\n    // Close sidebar on scroll (debounced)\n    const handleScroll = () => {\n      if (isOpen) {\n        clearTimeout(scrollTimeout);\n        scrollTimeout = setTimeout(() => {\n          closeSidebar();\n        }, 100);\n      }\n    };\n\n    // Listen for scroll on main content\n    window.addEventListener(''scroll'', handleScroll, { passive: true });\n    \n    // Also listen for scroll attempts on body (when scroll is disabled)\n    let lastScrollTop = window.pageYOffset;\n    const handleScrollAttempt = () => {\n      if (isOpen) {\n        const currentScrollTop = window.pageYOffset;\n        if (currentScrollTop !== lastScrollTop) {\n          closeSidebar();\n        }\n        lastScrollTop = currentScrollTop;\n      }\n    };\n\n    // Prevent scroll on body when sidebar is open\n    document.addEventListener(''wheel'', (e) => {\n      if (isOpen && !sidebar.contains(e.target)) {\n        e.preventDefault();\n        closeSidebar();\n      }\n    }, { passive: false });\n\n    // Prevent touch scroll on body when sidebar is open\n    document.addEventListener(''touchmove'', (e) => {\n      if (isOpen && !sidebar.contains(e.target)) {\n        e.preventDefault();\n        closeSidebar();\n      }\n    }, { passive: false });\n  })();\n  </script>\n\n  <!-- CHAPTER NAVIGATION (BOTTOM) JS -->\n  <script>\n  (() => {\n    // Chapter list: Preface = 0, Chapter 1-13 = 1-13, Postscript = 14\n    const chapters = [\n      { id: ''preface'', title: ''Preface'', url: ''https://arvinjaysoncastro.com/working-fundamentals-introduction'' },\n      { id: ''ch1'', title: ''Chapter 1'', url: ''https://arvinjaysoncastro.com/working-fundamentals-1-of-13-programming-fundamentals'' },\n      { id: ''ch2'', title: ''Chapter 2'', url: ''https://arvinjaysoncastro.com/working-fundamentals-2-of-13-data-structures'' },\n      { id: ''ch3'', title: ''Chapter 3'', url: ''https://arvinjaysoncastro.com/working-fundamentals-3-of-13-algorithms-and-complexity'' },\n      { id: ''ch4'', title: ''Chapter 4'', url: ''https://arvinjaysoncastro.com/working-fundamentals-4-of-13-control-and-flow'' },\n      { id: ''ch5'', title: ''Chapter 5'', url: ''https://arvinjaysoncastro.com/working-fundamentals-5-of-13-state-and-change'' },\n      { id: ''ch6'', title: ''Chapter 6'', url: ''https://arvinjaysoncastro.com/working-fundamentals-6-of-13-design-principles'' },\n      { id: ''ch7'', title: ''Chapter 7'', url: ''https://arvinjaysoncastro.com/working-fundamentals-7-of-13-architecture'' },\n      { id: ''ch8'', title: ''Chapter 8'', url: ''https://arvinjaysoncastro.com/working-fundamentals-8-of-13-persistence-and-data-modeling'' },\n      { id: ''ch9'', title: ''Chapter 9'', url: ''https://arvinjaysoncastro.com/working-fundamentals-9-of-13-interfaces-and-apis'' },\n      { id: ''ch10'', title: ''Chapter 10'', url: ''https://arvinjaysoncastro.com/working-fundamentals-10-of-13-errors-and-failure'' },\n      { id: ''ch11'', title: ''Chapter 11'', url: ''https://arvinjaysoncastro.com/working-fundamentals-11-of-13-testing'' },\n      { id: ''ch12'', title: ''Chapter 12'', url: ''https://arvinjaysoncastro.com/working-fundamentals-12-of-13-performance-and-scale'' },\n      { id: ''ch13'', title: ''Chapter 13'', url: ''https://arvinjaysoncastro.com/working-fundamentals-13-of-13-the-developers-role'' },\n      { id: ''postscript'', title: ''Postscript'', url: ''https://arvinjaysoncastro.com/working-fundamentals-outroduction'' }\n    ];\n\n    const currentChapterIndex = 5; // Chapter 1 is index 1 (Preface is 0)\n    const prevLink = document.getElementById(''prevChapter'');\n    const nextLink = document.getElementById(''nextChapter'');\n\n    if (!prevLink || !nextLink) return;\n\n    // Previous chapter\n    if (currentChapterIndex > 0) {\n      const prevChapter = chapters[currentChapterIndex - 1];\n      prevLink.href = prevChapter.url;\n      prevLink.target = ''_blank'';\n      prevLink.innerHTML = `\n        <span class=\"chapter-nav-bottom__arrow\">‚Üê</span>\n        <span class=\"chapter-nav-bottom__label\">Previous: ${prevChapter.title}</span>\n      `;\n    } else {\n      // No previous chapter - show \"go back to book list\"\n      prevLink.href = ''https://arvinjaysoncastro.com/hungry-dev-mind'';\n      prevLink.target = ''_blank'';\n      prevLink.innerHTML = `\n        <span class=\"chapter-nav-bottom__arrow\">‚Üê</span>\n        <span class=\"chapter-nav-bottom__label\">Go back to book list</span>\n      `;\n    }\n\n    // Next chapter\n    if (currentChapterIndex < chapters.length - 1) {\n      const nextChapter = chapters[currentChapterIndex + 1];\n      nextLink.href = nextChapter.url;\n      nextLink.target = ''_blank'';\n      nextLink.innerHTML = `\n        <span class=\"chapter-nav-bottom__label\">Next: ${nextChapter.title}</span>\n        <span class=\"chapter-nav-bottom__arrow\">‚Üí</span>\n      `;\n    } else {\n      // No next chapter - show \"go back to book list\"\n      nextLink.href = ''https://arvinjaysoncastro.com/hungry-dev-mind'';\n      nextLink.target = ''_blank'';\n      nextLink.innerHTML = `\n        <span class=\"chapter-nav-bottom__label\">Go back to book list</span>\n        <span class=\"chapter-nav-bottom__arrow\">‚Üí</span>\n      `;\n    }\n  })();\n  </script>\n\n  <!-- OPTIONAL JS -->\n <script>\n(() => {\n  const wrap = document.querySelector(''.book-wrap'');\n  if (!wrap) return;\n\n  const slab1 = wrap.querySelector(''.shadow-slab'');\n  const slab2 = wrap.querySelector(''.shadow-slab-2'');\n  const slab3 = wrap.querySelector(''.shadow-slab-3'');\n  const slab4 = wrap.querySelector(''.shadow-slab-4'');\n  const front = wrap.querySelector(''.front-slab'');\n\n  const clamp = (v, min, max) => Math.max(min, Math.min(max, v));\n\n  let raf = 0;\n  let lx = 0; // light vector x\n  let ly = 0; // light vector y\n\n  function render() {\n    raf = 0;\n\n    // Shadow direction = opposite of light\n    const sx = -lx;\n    const sy = -ly;\n\n    const intensity = Math.abs(lx) + Math.abs(ly);\n\n    /* ---------------------------\n       SLAB 1 ‚Äî KEY CAST SHADOW\n    ---------------------------- */\n    slab1.style.transform =\n      `translate(${(sx * 38).toFixed(2)}px, ${(sy * 38).toFixed(2)}px)`;\n    slab1.style.filter =\n      `blur(${(14 + intensity * 6).toFixed(2)}px)`;\n    slab1.style.opacity =\n      (0.28 + intensity * 0.14).toFixed(2);\n\n    /* ---------------------------\n       SLAB 2 ‚Äî BOUNCE / COLOR BLEED\n    ---------------------------- */\n    slab2.style.transform =\n      `translate(${(sx * 14).toFixed(2)}px, ${(sy * 14).toFixed(2)}px)`;\n    slab2.style.filter =\n      `blur(${(6 + intensity * 4).toFixed(2)}px)`;\n    slab2.style.opacity =\n      (0.16 + intensity * 0.10).toFixed(2);\n\n    /* ---------------------------\n       SLAB 3 ‚Äî CONTACT SHADOW\n    ---------------------------- */\n    slab3.style.transform =\n      `translate(${(sx * 6).toFixed(2)}px, ${(sy * 6).toFixed(2)}px)`;\n    slab3.style.filter = `blur(9px)`;\n    slab3.style.opacity =\n      (0.24 + Math.abs(lx) * 0.06).toFixed(2);\n\n    /* ---------------------------\n       SLAB 4 ‚Äî AMBIENT DEPTH\n    ---------------------------- */\n    slab4.style.transform =\n      `translate(${(sx * 3).toFixed(2)}px, ${(sy * 3).toFixed(2)}px)`;\n    slab4.style.filter = `blur(18px)`;\n    slab4.style.opacity =\n      (0.16 + Math.abs(ly) * 0.04).toFixed(2);\n\n    /* ---------------------------\n       FRONT SLAB ‚Äî SPECULAR RESPONSE\n       (moves TOWARD light)\n    ---------------------------- */\nif (front) {\n  // Very subtle counter-parallax (NOT toward light)\n  front.style.transform =\n    `translate(${(-lx * 1.6).toFixed(2)}px, ${(-ly * 1.6).toFixed(2)}px)`;\n\n  // Opacity increases when light is grazing\n  front.style.opacity =\n    (0.34 + intensity * 0.22).toFixed(2);\n\n  // Highlight shifts OPPOSITE the light direction\n  const gx = 50 - lx * 28;\n  const gy = 50 - ly * 28;\n  front.style.backgroundPosition = `${gx}% ${gy}%`;\n}\n\n  }\n\n  function onMove(e) {\n    const r = wrap.getBoundingClientRect();\n    const cx = r.left + r.width / 2;\n    const cy = r.top + r.height / 2;\n\n    // LIGHT VECTOR (mouse = light source)\n    lx = clamp((e.clientX - cx) / (r.width / 2), -1, 1);\n    ly = clamp((e.clientY - cy) / (r.height / 2), -1, 1);\n\n    if (!raf) raf = requestAnimationFrame(render);\n  }\n\n  window.addEventListener(''mousemove'', onMove, { passive: true });\n})();\n</script>\n</body>\n</html>\n", "css": "body { font-family: system-ui; padding: 20px; }", "js": "console.log(\"Code Runner initialized\");", "imports": {"css": [], "js": []}, "entryPoint": {"type": "htmlDocument", "mountSelector": "#app", "injectMountIfMissing": true}, "settings": {"mode": "play", "viewport": {"type": "responsive", "background": "white"}, "securityPreset": "trusted", "autoRun": true, "runOnLoad": true}, "codePanel": {"isVisible": false, "isEditable": false}}}]}]}',
    '1.0.0',
    true,
    '88b62d69-6012-47ae-b45b-9ccc5f1dc87c',
    NOW(),
    NOW(),
    'public',
    NULL,
    false,
    NULL,
    'page',
    NULL,
    NULL,
    NULL,
    NULL,
    NULL,
    false,
    0,
    NULL,
    true,
    false,
    NULL,
    NULL,
    '{"id": "block-root", "style": {}, "type": "container", "children": [{"id": "temp-container", "style": {"width": "100vw", "height": "100vh"}, "type": "container", "children": [{"id": "temp-coderunner", "style": {}, "type": "codeRunner", "data": {"html": "<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n  <meta charset=\"UTF-8\" />\n  <title>Working Fundamentals ‚Äî Arvin Jayson Castro</title>\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n\n  <!-- =====================\n       GLOBAL STYLES\n  ====================== -->\n  <style>\n    :root {\n      --bg: #f7f8f8;\n      --ink: #111111;\n      --muted: #666666;\n      --line: rgba(0,0,0,0.08);\n      --accent: #16a34a;\n      --link: #3b82f6;\n      --max-width: 1200px;\n    }\n\n    * {\n      box-sizing: border-box;\n    }\n\n    body {\n      margin: 0;\n      font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, sans-serif;\n      color: var(--ink);\n      background-color: var(--bg);\n      background-image:\n        radial-gradient(980px 560px at 14% 18%, rgba(16,185,129,0.10) 0%, rgba(16,185,129,0) 60%),\n        radial-gradient(860px 540px at 86% 74%, rgba(245,158,11,0.10) 0%, rgba(245,158,11,0) 62%),\n        repeating-linear-gradient(0deg, rgba(0,0,0,0.043) 0, rgba(0,0,0,0.043) 1px, transparent 1px, transparent 46px),\n        repeating-linear-gradient(90deg, rgba(0,0,0,0.043) 0, rgba(0,0,0,0.043) 1px, transparent 1px, transparent 46px);\n      min-height: 100vh;\n    }\n\n    a {\n      color: inherit;\n      text-decoration: none;\n    }\n\n    img {\n      max-width: 100%;\n      display: block;\n    }\n\n    /* =====================\n       PAGE WRAPPER\n    ====================== */\n    .page {\n      padding: 22px 24px;\n    }\n\n    .container {\n      max-width: var(--max-width);\n      margin: 0 auto;\n    }\n\n    /* =====================\n       SIDEBAR BACKDROP\n    ====================== */\n    .sidebar-backdrop {\n      position: fixed;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n      background: rgba(0, 0, 0, 0.2);\n      backdrop-filter: blur(4px);\n      -webkit-backdrop-filter: blur(4px);\n      opacity: 0;\n      visibility: hidden;\n      transition: opacity 0.3s ease, visibility 0.3s ease;\n      z-index: 999;\n      pointer-events: none;\n    }\n\n    .sidebar-backdrop--visible {\n      opacity: 1;\n      visibility: visible;\n      pointer-events: auto;\n    }\n\n    /* =====================\n       SIDEBAR\n    ====================== */\n    .sidebar {\n      position: fixed;\n      top: 0;\n      right: 0;\n      width: 320px;\n      height: 100vh;\n      background: var(--bg);\n      border-left: 1px solid var(--line);\n      transform: translateX(100%);\n      transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n      z-index: 1000;\n      overflow-y: auto;\n      padding: 24px;\n    }\n\n    .sidebar--open {\n      transform: translateX(0);\n    }\n\n    .sidebar__title {\n      font-size: 16px;\n      font-weight: 600;\n      margin-bottom: 24px;\n      color: var(--ink);\n    }\n\n    /* Prevent body scroll when sidebar is open */\n    body.sidebar-open {\n      overflow: hidden;\n    }\n\n    .sidebar__chapter-list {\n      list-style: none;\n      margin: 0;\n      padding: 0;\n    }\n\n    .sidebar__chapter-item {\n      margin: 0 0 8px 0;\n    }\n\n    .sidebar__chapter-link {\n      display: block;\n      font-size: 14px;\n      color: var(--muted);\n      text-decoration: none;\n      padding: 8px 0;\n      transition: color 0.2s ease;\n      line-height: 1.5;\n    }\n\n    .sidebar__chapter-link:hover {\n      color: var(--ink);\n    }\n\n    .sidebar__chapter-link {\n      color: var(--ink);\n      font-weight: 500;\n    }\n\n    /* =====================\n       HEADER (Top bar with chapter indicator)\n    ====================== */\n    .header {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      padding: 10px 0;\n      border-bottom: 1px solid var(--line);\n      position: relative;\n      transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n    }\n\n    .header--shifted {\n      transform: translateX(-320px);\n    }\n\n    .brand {\n      font-size: 16px;\n      font-weight: 600;\n      cursor: pointer;\n      display: inline-block;\n    }\n\n    .nav {\n      display: flex;\n      gap: 24px;\n      align-items: center;\n      font-size: 14px;\n    }\n\n    .nav a {\n      color: #1f2937;\n    }\n\n    .linkedin {\n      display: flex;\n      flex-direction: column;\n      align-items: flex-start;\n    }\n\n    .linkedin a {\n      color: var(--link);\n    }\n\n    .linkedin span {\n      font-family: Georgia, serif;\n      font-size: 9px;\n      font-style: italic;\n      color: #999;\n    }\n\n    /* =====================\n       MAIN GRID\n    ====================== */\n    .main {\n      padding-top: 48px;\n      padding-bottom: 48px;\n      display: flex;\n      justify-content: center;\n      align-items: start;\n    }\n\n    /* =====================\n       CHAPTER READING AREA (Option 1: Magazine-style)\n    ====================== */\n    .chapter-content {\n      max-width: 768px;\n      width: 100%;\n      margin: 0 auto;\n    }\n\n    .chapter-header {\n      margin-bottom: 56px;\n      padding-bottom: 32px;\n      border-bottom: 2px solid var(--line);\n    }\n\n    .book-title {\n      font-size: 12px;\n      letter-spacing: 0.15em;\n      text-transform: uppercase;\n      color: var(--muted);\n      font-weight: 500;\n      margin-bottom: 8px;\n      opacity: 0.7;\n    }\n\n    .chapter-number {\n      font-size: 13px;\n      letter-spacing: 0.2em;\n      text-transform: uppercase;\n      color: var(--muted);\n      font-weight: 600;\n      margin-bottom: 12px;\n      display: flex;\n      align-items: center;\n      gap: 8px;\n      cursor: pointer;\n      user-select: none;\n      transition: color 0.2s ease;\n    }\n\n    .chapter-number:hover {\n      color: var(--ink);\n    }\n\n    .chapter-number__icon {\n      font-size: 10px;\n      opacity: 0.6;\n      transition: transform 0.3s ease, opacity 0.2s ease;\n    }\n\n    .chapter-number:hover .chapter-number__icon {\n      opacity: 0.8;\n    }\n\n    .chapter-number__icon--open {\n      transform: rotate(180deg);\n    }\n\n    .chapter-title {\n      font-size: 56px;\n      font-weight: 900;\n      line-height: 1.05;\n      margin: 0 0 20px 0;\n      color: var(--ink);\n      letter-spacing: -0.03em;\n    }\n\n    .chapter-subtitle {\n      font-size: 22px;\n      font-weight: 500;\n      color: var(--muted);\n      line-height: 1.4;\n      margin: 0;\n    }\n\n    .chapter-body {\n      font-size: 19px;\n      line-height: 1.8;\n      color: var(--ink);\n      max-width: none;\n      font-weight: 400;\n    }\n\n    .chapter-body p {\n      margin: 0 0 28px 0;\n    }\n\n    .chapter-body p:last-child {\n      margin-bottom: 0;\n    }\n\n    .chapter-body h2 {\n      font-size: 36px;\n      font-weight: 800;\n      line-height: 1.2;\n      margin: 56px 0 24px 0;\n      color: var(--ink);\n      letter-spacing: -0.02em;\n    }\n\n    .chapter-body h3 {\n      font-size: 26px;\n      font-weight: 700;\n      line-height: 1.3;\n      margin: 40px 0 18px 0;\n      color: var(--ink);\n      letter-spacing: -0.01em;\n    }\n\n    .chapter-body strong {\n      font-weight: 600;\n      color: var(--ink);\n    }\n\n    .chapter-body em {\n      font-style: italic;\n    }\n\n    .chapter-body ul,\n    .chapter-body ol {\n      margin: 28px 0;\n      padding-left: 36px;\n    }\n\n    .chapter-body li {\n      margin-bottom: 14px;\n      line-height: 1.75;\n    }\n\n    .chapter-body blockquote {\n      margin: 40px 0;\n      padding-left: 28px;\n      border-left: 4px solid var(--accent);\n      font-style: italic;\n      color: var(--muted);\n      font-size: 18px;\n      line-height: 1.7;\n    }\n\n    .chapter-body code {\n      font-family: ''Monaco'', ''Menlo'', ''Courier New'', monospace;\n      font-size: 0.9em;\n      background: rgba(0,0,0,0.04);\n      padding: 2px 6px;\n      border-radius: 3px;\n    }\n\n    .chapter-body pre {\n      background: rgba(0,0,0,0.04);\n      padding: 20px;\n      border-radius: 8px;\n      overflow-x: auto;\n      margin: 24px 0;\n    }\n\n    .chapter-body pre code {\n      background: none;\n      padding: 0;\n    }\n\n    /* Content shift when sidebar opens */\n    .main {\n      transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n    }\n\n    .main--shifted {\n      transform: translateX(-320px);\n    }\n\n    /* Prevent horizontal scroll */\n    body {\n      overflow-x: hidden;\n    }\n\n    .page {\n      overflow-x: hidden;\n    }\n\n    /* =====================\n       CHAPTER NAVIGATION (BOTTOM)\n    ====================== */\n    .chapter-nav-bottom {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      max-width: 768px;\n      width: 100%;\n      margin: 64px auto 0 auto;\n      padding: 24px 0;\n      border-top: 1px solid var(--line);\n    }\n\n    .chapter-nav-bottom__link {\n      display: flex;\n      align-items: center;\n      gap: 8px;\n      font-size: 14px;\n      color: var(--muted);\n      text-decoration: none;\n      transition: color 0.2s ease;\n      padding: 8px 0;\n    }\n\n    .chapter-nav-bottom__link:hover {\n      color: var(--ink);\n    }\n\n    .chapter-nav-bottom__arrow {\n      font-size: 16px;\n      opacity: 0.7;\n    }\n\n    .chapter-nav-bottom__label {\n      font-weight: 500;\n    }\n\n    .chapter-nav-bottom__link--prev {\n      margin-right: auto;\n    }\n\n    .chapter-nav-bottom__link--next {\n      margin-left: auto;\n    }\n\n    .chapter-nav-bottom__link--disabled {\n      opacity: 0.4;\n      cursor: not-allowed;\n      pointer-events: none;\n    }\n\n    .page-widget__pages {\n      max-height: 0;\n      overflow: hidden;\n      transition: max-height 0.4s cubic-bezier(0.4, 0, 0.2, 1),\n                  opacity 0.3s ease,\n                  margin-top 0.3s ease;\n      opacity: 0;\n      margin-top: 0;\n      background: rgba(255, 255, 255, 0.98);\n      backdrop-filter: blur(12px);\n      -webkit-backdrop-filter: blur(12px);\n      border: 1px solid rgba(0, 0, 0, 0.06);\n      border-radius: 12px;\n      box-shadow: 0 2px 12px rgba(0, 0, 0, 0.06);\n    }\n\n    .page-widget__pages--expanded {\n      max-height: 500px;\n      opacity: 1;\n      margin-top: 12px;\n      padding: 8px;\n    }\n\n    .page-widget__pages-list {\n      list-style: none;\n      margin: 0;\n      padding: 0;\n      display: flex;\n      flex-direction: column;\n      gap: 8px;\n      max-height: 400px;\n      overflow-y: auto;\n      padding-right: 4px;\n    }\n\n    .page-widget__pages-list::-webkit-scrollbar {\n      width: 6px;\n    }\n\n    .page-widget__pages-list::-webkit-scrollbar-track {\n      background: rgba(0, 0, 0, 0.02);\n      border-radius: 3px;\n    }\n\n    .page-widget__pages-list::-webkit-scrollbar-thumb {\n      background: rgba(0, 0, 0, 0.12);\n      border-radius: 3px;\n    }\n\n    .page-widget__pages-list::-webkit-scrollbar-thumb:hover {\n      background: rgba(0, 0, 0, 0.2);\n    }\n\n    .page-widget__page-item {\n      display: flex;\n      align-items: center;\n      gap: 10px;\n      padding: 8px 10px;\n      border-radius: 8px;\n      cursor: pointer;\n      transition: all 0.2s ease;\n      text-decoration: none;\n      color: var(--ink);\n    }\n\n    .page-widget__page-item:hover {\n      background: rgba(0, 0, 0, 0.03);\n      transform: translateX(2px);\n    }\n\n    .page-widget__page-item--current {\n      background: rgba(22, 163, 74, 0.08);\n      color: var(--accent);\n      font-weight: 500;\n    }\n\n    .page-widget__page-item--current:hover {\n      background: rgba(22, 163, 74, 0.12);\n    }\n\n    .page-widget__page-number {\n      display: inline-flex;\n      align-items: center;\n      justify-content: center;\n      width: 24px;\n      height: 24px;\n      background: rgba(0, 0, 0, 0.04);\n      border-radius: 5px;\n      font-size: 11px;\n      font-weight: 500;\n      flex-shrink: 0;\n      color: var(--muted);\n    }\n\n    .page-widget__page-item--current .page-widget__page-number {\n      background: rgba(22, 163, 74, 0.15);\n      color: var(--accent);\n    }\n\n    .page-widget__page-info {\n      flex: 1;\n      min-width: 0;\n    }\n\n    .page-widget__page-name {\n      font-size: 13px;\n      font-weight: 500;\n      line-height: 1.3;\n      margin: 0 0 2px 0;\n    }\n\n    .page-widget__page-note {\n      font-size: 11px;\n      color: var(--muted);\n      line-height: 1.3;\n      margin: 0;\n      white-space: nowrap;\n      overflow: hidden;\n      text-overflow: ellipsis;\n    }\n\n    @media (max-width: 768px) {\n      .page-widget__pages-list {\n        max-height: 300px;\n      }\n    }\n\n\n/* ===============================\n   WRAPPER\n================================ */\n.book-wrap {\n  width: 320px;\n  aspect-ratio: 2 / 3;\n  position: relative;\n}\n\n/* ===============================\n   CAST SHADOW SLAB (REAL SHADOW)\n================================ */\n.shadow-slab {\n    position: absolute;\n    position: absolute;\n    inset: 0;\n    border-radius: 22px;\n    /* background: #2a2a2a; */\n    transform: translate(-30px, 30px);\n    filter: blur(13px);\n    opacity: 0.35;\n    z-index: 0;\n    background: radial-gradient(ellipse at 15% 85%, rgba(0, 0, 0, 0.35), rgba(0, 0, 0, 0.18) 35%, transparent 65%), linear-gradient(to right, #1f1f1f 0%, #2a2a2a 45%, #3a3a3a 100%);\n}\n\n.shadow-slab-2 {\n    position: absolute;\n    inset: 0;\n    border-radius: 22px;\n    background: radial-gradient(circle at top right, #f6e6a8 0%, #e2c36b 35%, #b58a3c 70%, #7a5524 100%);\n    transform: translate(-10px, 10px);\n    filter: blur(5px);\n    opacity: 0.35;\n    z-index: 0;\n}\n\n.shadow-slab-3 {\n    position: absolute;\n    inset: 0;\n    border-radius: 22px;\n    background: #333;\n    transform: translate(0px, 0px);\n    filter: blur(11px);\n    opacity: 0.35;\n    z-index: 0;\n}\n\n.shadow-slab-4 {\n    position: absolute;\n    inset: 0;\n    border-radius: 22px;\n    background: #333;\n    transform: translate(0px, 0px);\n    filter: blur(11px);\n    opacity: 0.35;\n    z-index: 0;\n}\n\n/* ===============================\n   FRONT SLAB & SPIN HANDLE\n================================ */\n\n.front-slab {\n    position: absolute;\n    inset: 0;\n    border-radius: 22px;\n    background: linear-gradient(to right, rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.1) 3%, transparent 1%);\n    /* background: green; */\n    z-index: 3;\n    opacity: .5;\n    transform: translateZ(6px);\n    pointer-events: none;\n}\n\n.spin-handle {\n  display: none;\n  position: absolute;\n  top: 50%;\n  right: -22px;\n  width: 14px;\n  height: 48px;\n  border-radius: 999px;\n  background: rgba(0,0,0,0.25);\n  backdrop-filter: blur(4px);\n  cursor: grab;\n  z-index: 10;\n}\n\n/* ===============================\n   BOOK OBJECT (NO SHADOW)\n================================ */\n.book {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  border-radius: 22px;\n  overflow: hidden;\n  z-index: 2;\n\n  /* IMPORTANT: no box-shadow */\n  box-shadow: none;\n\n  /* transform: perspective(1200px) rotateX(0.6deg); */\n}\n\n/* ===============================\n   PAPER SURFACE (LIGHT FIELD)\n================================ */\n.book .surface {\n  position: absolute;\n  inset: 0;\n  border-radius: inherit;\n  pointer-events: none;\n  z-index: 1;\n\n  background:\n    linear-gradient(\n      to bottom left,\n      rgba(255,255,255,1) 0%,\n      rgba(250,250,250,1) 42%,\n      rgba(240,240,240,1) 100%\n    ),\n    repeating-linear-gradient(\n      0deg,\n      rgba(0,0,0,0.01),\n      rgba(0,0,0,0.01) 1px,\n      transparent 1px,\n      transparent 3px\n    );\n}\n\n/* ===============================\n   LEFT OCCLUSION (CURTAIN)\n================================ */\n.book .curtain {\n  position: absolute;\n  inset: 0;\n  border-radius: inherit;\n  pointer-events: none;\n  z-index: 2;\n\n  background:\n    linear-gradient(\n      to right,\n      rgba(0,0,0,0.20) 0%,\n      rgba(0,0,0,0.12) 8%,\n      rgba(0,0,0,0.05) 16%,\n      rgba(0,0,0,0.02) 22%,\n      rgba(0,0,0,0.00) 30%\n    );\n}\n\n/* ===============================\n   RIGHT HIGHLIGHT\n================================ */\n.book .highlight {\n  position: absolute;\n  inset: 0;\n  border-radius: inherit;\n  pointer-events: none;\n  z-index: 3;\n\n  background:\n    linear-gradient(\n      to left,\n      rgba(255,255,255,0.35) 0%,\n      rgba(255,255,255,0.18) 6%,\n      rgba(255,255,255,0.06) 14%,\n      rgba(255,255,255,0.00) 24%\n    );\n}\n\n/* ===============================\n   PAGE EDGE (THICKNESS)\n================================ */\n.book .edge {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 120px;\n  height: 100%;\n  border-radius: 22px 0 0 22px;\n  pointer-events: none;\n  z-index: 4;\n\n  background:\n    linear-gradient(\n      to right,\n      rgba(215,215,215,0.95) 0%,\n      rgba(245,245,245,0.95) 40%,\n      rgba(255,255,255,0.95) 75%\n    );\n\n  box-shadow:\n    inset -1px 0 0 rgba(0,0,0,0.05);\n}\n\n/* ===============================\n   SVG (PURE WHITE)\n================================ */\n.book svg {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  display: block;\n  z-index: 5;\n}\n\n    /* =====================\n       LEFT: BOOK COVER\n    ====================== */\n    .book-cover {\n      display: flex;\n      flex-direction: column;\n      gap: 12px;\n    }\n\n\n    /* ===============================\n       BOOK + SHADOW SYSTEM\n    =============================== */\n    .book-wrap {\n      width: 320px;\n      aspect-ratio: 2 / 3;\n      position: relative;\n    }\n\n    .shadow-slab,\n    .shadow-slab-2,\n    .shadow-slab-3,\n    .shadow-slab-4 {\n      position: absolute;\n      inset: 0;\n      border-radius: 22px;\n      z-index: 0;\n      will-change: transform, filter, opacity;\n    }\n\n    .shadow-slab {\n      background:\n        radial-gradient(ellipse at 15% 85%, rgba(0,0,0,0.35), rgba(0,0,0,0.18) 35%, transparent 65%),\n        linear-gradient(to right, #1f1f1f 0%, #2a2a2a 45%, #3a3a3a 100%);\n      filter: blur(13px);\n      opacity: 0.35;\n    }\n\n    .shadow-slab-2 {\n      background: radial-gradient(circle at top right, #f6e6a8 0%, #e2c36b 35%, #b58a3c 70%, #7a5524 100%);\n      filter: blur(6px);\n      opacity: 0.30;\n    }\n\n    .shadow-slab-3,\n    .shadow-slab-4 {\n      background: #333;\n      filter: blur(11px);\n      opacity: 0.30;\n    }\n\n    .book {\n      position: relative;\n      width: 100%;\n      height: 100%;\n      border-radius: 22px;\n      overflow: hidden;\n      z-index: 2;\n      background: #f7f4ee;\n    }\n\n    .front-slab {\n      position: absolute;\n      inset: 0;\n      border-radius: 22px;\n      background: linear-gradient(to right, rgba(0,0,0,0.4), rgba(0,0,0,0.1) 3%, transparent 10%);\n      z-index: 3;\n      pointer-events: none;\n      opacity: 0.5;\n    }\n\n\n    @media (prefers-reduced-motion: reduce) {\n      .cover-frame {\n        transition: none;\n        transform: none;\n      }\n      .cover-frame:hover {\n        --lift: 0;\n      }\n    }\n\n    .start-reading {\n      display: inline-flex;\n      align-items: center;\n      justify-content: center;\n      width: 100%;\n      padding: 12px 14px;\n      border-radius: 999px;\n\n      font-size: 11px;\n      letter-spacing: 0.16em;\n      text-transform: uppercase;\n      font-weight: 650;\n      color: rgba(34,197,94,0.92);\n      text-shadow:\n        0 0 10px rgba(34,197,94,0.22),\n        0 0 22px rgba(34,197,94,0.14);\n\n      /* graphite: dark + slightly mineral */\n      background:\n        radial-gradient(120% 140% at 20% 10%, rgba(255,255,255,0.10) 0%, rgba(255,255,255,0.00) 55%),\n        radial-gradient(140% 140% at 80% 90%, rgba(255,255,255,0.06) 0%, rgba(255,255,255,0.00) 60%),\n        linear-gradient(180deg, #141414 0%, #0a0a0a 100%);\n      border: 1px solid rgba(255,255,255,0.10);\n      box-shadow:\n        0 14px 34px rgba(0,0,0,0.22),\n        0 8px 16px rgba(0,0,0,0.18),\n        inset 0 1px 0 rgba(255,255,255,0.10),\n        inset 0 -1px 0 rgba(0,0,0,0.55);\n\n      position: relative;\n      overflow: hidden;\n      cursor: pointer;\n      user-select: none;\n      -webkit-tap-highlight-color: transparent;\n\n      transition:\n        transform 160ms cubic-bezier(0.2, 0.8, 0.2, 1),\n        box-shadow 160ms cubic-bezier(0.2, 0.8, 0.2, 1),\n        border-color 160ms cubic-bezier(0.2, 0.8, 0.2, 1);\n    }\n\n    .start-reading::before {\n      content: \"\";\n      position: absolute;\n      inset: 0;\n      pointer-events: none;\n      /* texture + sheen (very subtle) */\n      background:\n        linear-gradient(120deg, rgba(255,255,255,0.12) 0%, rgba(255,255,255,0.00) 46%),\n        repeating-linear-gradient(0deg,\n          rgba(255,255,255,0.028) 0px,\n          rgba(255,255,255,0.028) 1px,\n          rgba(0,0,0,0.00) 3px,\n          rgba(0,0,0,0.00) 6px),\n        radial-gradient(120% 90% at 50% 0%, rgba(34,197,94,0.14) 0%, rgba(34,197,94,0.00) 62%);\n      opacity: 0.75;\n    }\n\n    .start-reading:hover {\n      transform: translateY(-1px);\n      border-color: rgba(34,197,94,0.30);\n      box-shadow:\n        0 18px 42px rgba(0,0,0,0.24),\n        0 10px 18px rgba(0,0,0,0.18),\n        inset 0 1px 0 rgba(255,255,255,0.12),\n        inset 0 -1px 0 rgba(0,0,0,0.55);\n      text-shadow:\n        0 0 12px rgba(34,197,94,0.28),\n        0 0 26px rgba(34,197,94,0.18);\n    }\n\n    .start-reading:active {\n      transform: translateY(0px);\n      box-shadow:\n        0 14px 34px rgba(0,0,0,0.22),\n        0 8px 16px rgba(0,0,0,0.18),\n        inset 0 1px 0 rgba(255,255,255,0.10),\n        inset 0 -1px 0 rgba(0,0,0,0.55);\n    }\n\n    .start-reading:focus-visible {\n      outline: none;\n      box-shadow:\n        0 18px 42px rgba(0,0,0,0.24),\n        0 0 0 4px rgba(34,197,94,0.22),\n        0 0 0 1px rgba(34,197,94,0.26),\n        inset 0 1px 0 rgba(255,255,255,0.12),\n        inset 0 -1px 0 rgba(0,0,0,0.55);\n      border-color: rgba(34,197,94,0.34);\n    }\n\n    @media (prefers-reduced-motion: reduce) {\n      .start-reading {\n        transition: none;\n      }\n      .start-reading:hover {\n        transform: none;\n      }\n    }\n\n    /* =====================\n       CENTER: CONTENT\n    ====================== */\n    .content h1 {\n      font-size: 40px;\n      font-weight: 800;\n      line-height: 1.15;\n      margin: 0;\n    }\n\n    .byline {\n      font-size: 13px;\n      letter-spacing: 0.12em;\n      color: #666;\n      font-weight: 600;\n    }\n\n    .tagline {\n      font-size: 18px;\n      font-weight: 500;\n      color: #333;\n    }\n\n    .paragraph {\n      font-size: 15px;\n      color: #222;\n    }\n\n    .meta {\n      margin-top: 20px;\n      padding-top: 20px;\n      border-top: 1px solid var(--line);\n      display: grid;\n      grid-template-columns: repeat(2, 1fr);\n      gap: 12px 24px;\n      font-size: 13px;\n    }\n\n    .author {\n      margin-top: 20px;\n      padding-top: 20px;\n      border-top: 1px solid var(--line);\n      display: flex;\n      gap: 16px;\n      align-items: flex-start;\n    }\n\n    .author img {\n      width: 44px;\n      height: 44px;\n      border-radius: 50%;\n    }\n\n    /* =====================\n       RIGHT: RELATED\n    ====================== */\n    .related {\n      display: flex;\n      flex-direction: column;\n      gap: 20px;\n    }\n\n    .related-title {\n      font-size: 11px;\n      letter-spacing: 0.14em;\n      color: #666;\n      text-transform: uppercase;\n      font-weight: 600;\n    }\n\n    .related-item {\n      display: flex;\n      flex-direction: column;\n      gap: 6px;\n      cursor: pointer;\n      transition: transform 0.12s ease, box-shadow 0.12s ease;\n    }\n\n    .related-item:hover {\n      transform: translateY(-2px);\n    }\n\n    .related-thumb {\n      border-radius: 6px;\n      overflow: hidden;\n      aspect-ratio: 3 / 4;\n      box-shadow: 0 8px 24px rgba(0,0,0,0.1);\n\n      /* Gray placeholder shape */\n      background: linear-gradient(135deg, #e5e7eb 0%, #d1d5db 45%, #cbd5e1 100%);\n      border: 1px solid rgba(0,0,0,0.06);\n    }\n\n    .related-thumb img {\n      width: 100%;\n      height: 100%;\n      object-fit: cover;\n      filter: grayscale(1);\n      opacity: 0.85;\n      transition: filter 160ms ease, opacity 160ms ease;\n    }\n\n    .related-thumb .thumb-placeholder {\n      width: 100%;\n      height: 100%;\n      display: block;\n    }\n\n    .related-item a {\n      font-size: 12px;\n      font-weight: 600;\n      color: #111;\n    }\n\n    /* =====================\n       RIGHT: 13 CHAPTERS\n    ====================== */\n    .chapters {\n      display: flex;\n      flex-direction: column;\n      gap: 10px;\n    }\n\n    .chapters-title {\n      font-size: 11px;\n      letter-spacing: 0.12em;\n      color: rgba(17,17,17,0.52);\n      text-transform: uppercase;\n      font-weight: 600;\n    }\n\n    .chapters-help {\n      margin-top: -4px;\n      font-size: 11px;\n      line-height: 1.35;\n      color: rgba(17,17,17,0.42);\n    }\n\n    .chapter-list {\n      list-style: none;\n      padding: 0;\n      margin: 0;\n      display: flex;\n      flex-direction: column;\n      gap: 0;\n      border-top: 1px solid rgba(0,0,0,0.06);\n    }\n\n    .chapter-item {\n      display: grid;\n      grid-template-columns: 3ch 1fr;\n      gap: 12px;\n      align-items: start;\n      padding: 10px 0;\n      border-bottom: 1px solid rgba(0,0,0,0.06);\n    }\n\n    .chapter-item--preface .chapter-name {\n      font-weight: 760;\n      letter-spacing: -0.01em;\n      color: rgba(17,17,17,0.90);\n    }\n\n    .chapter-item--current .chapter-name {\n      color: rgba(17,17,17,0.92);\n      text-decoration: underline;\n      text-decoration-thickness: 1px;\n      text-underline-offset: 3px;\n      text-decoration-color: rgba(17,17,17,0.22);\n    }\n\n    .chapter-num {\n      width: auto;\n      height: auto;\n      border-radius: 0;\n      display: block;\n      text-align: right;\n      font-size: 11px;\n      font-weight: 650;\n      color: rgba(17,17,17,0.46);\n      font-variant-numeric: tabular-nums;\n    }\n\n    .chapter-name {\n      font-size: 12px;\n      font-weight: 600;\n      color: rgba(17,17,17,0.80);\n      line-height: 1.3;\n    }\n\n    .chapter-note {\n      margin-top: 2px;\n      font-size: 11px;\n      color: rgba(17,17,17,0.46);\n      line-height: 1.4;\n    }\n\n    /* =====================\n       RESPONSIVE\n    ====================== */\n    @media (max-width: 900px) {\n      .chapter-content {\n        max-width: 100%;\n        padding: 0 24px;\n      }\n\n      .page-widget {\n        max-width: 100%;\n        margin-left: 24px;\n        margin-right: 24px;\n      }\n\n      .chapter-title {\n        font-size: 42px;\n      }\n\n      .chapter-body {\n        font-size: 18px;\n      }\n\n      .chapter-body h2 {\n        font-size: 32px;\n      }\n\n      .chapter-body h3 {\n        font-size: 24px;\n      }\n    }\n\n    @media (max-width: 768px) {\n      .header {\n        flex-direction: column;\n        gap: 12px;\n      }\n\n      .chapter-content {\n        padding: 0 16px;\n      }\n\n      .page-widget {\n        margin-left: 16px;\n        margin-right: 16px;\n      }\n\n      .chapter-title {\n        font-size: 38px;\n      }\n\n      .chapter-body {\n        font-size: 17px;\n      }\n\n      .chapter-body h2 {\n        font-size: 30px;\n      }\n\n      .chapter-body h3 {\n        font-size: 22px;\n      }\n    }\n  </style>\n</head>\n\n<body>\n  <div class=\"page\">\n    <div class=\"container\">\n\n      <!-- SIDEBAR BACKDROP -->\n      <div class=\"sidebar-backdrop\" id=\"sidebarBackdrop\"></div>\n\n      <!-- SIDEBAR -->\n      <aside class=\"sidebar\" id=\"sidebar\">\n        <div class=\"sidebar__title\">Working Fundamentals</div>\n        <ul class=\"sidebar__chapter-list\">\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-introduction\" class=\"sidebar__chapter-link\" target=\"_blank\">Introduction</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-1-of-13-programming-fundamentals\" class=\"sidebar__chapter-link sidebar__chapter-link\" target=\"_blank\">Chapter 1 ¬∑ Programming Fundamentals</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-2-of-13-data-structures\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 2 ¬∑ Data Structures</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-3-of-13-algorithms-and-complexity\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 3 ¬∑ Algorithms & Complexity</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-4-of-13-control-and-flow\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 4 ¬∑ Control & Flow</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"#\" class=\"sidebar__chapter-link\"> class=\"sidebar__chapter-link sidebar__chapter-link--current\">Chapter 5 ¬∑ State\\ \\&\\ Change</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-6-of-13-design-principles\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 6 ¬∑ Design Principles</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-7-of-13-architecture\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 7 ¬∑ Architecture</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-8-of-13-persistence-and-data-modeling\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 8 ¬∑ Persistence & Data Modeling</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-9-of-13-interfaces-and-apis\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 9 ¬∑ Interfaces & APIs</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-10-of-13-errors-and-failure\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 10 ¬∑ Errors & Failure</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-11-of-13-testing\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 11 ¬∑ Testing</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-12-of-13-performance-and-scale\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 12 ¬∑ Performance & Scale</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-13-of-13-the-developers-role\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 13 ¬∑ The Developer''s Role</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-outroduction\" class=\"sidebar__chapter-link\" target=\"_blank\">Outroduction</a>\n          </li>\n        </ul>\n      </aside>\n\n      <!-- HEADER -->\n      <header class=\"header\" id=\"header\">\n        <a href=\"https://arvinjaysoncastro.com/\" class=\"brand\" target=\"_blank\">Arvin Jayson Castro</a>\n        <nav class=\"nav\">\n          <a href=\"https://arvinjaysoncastro.com/hungry-dev-mind\" target=\"_blank\">Books</a>\n          <a href=\"https://arvinjaysoncastro.com/working-systems\" target=\"_blank\">Working Systems</a>\n          <a href=\"https://arvinjaysoncastro.com/about\" target=\"_blank\">16 Years</a>\n          <div class=\"linkedin\">\n            <a href=\"https://www.linkedin.com/in/arvin-jayson-castro-7458199a/\" target=\"_blank\">linkedIn</a>\n            <span>let''s connect</span>\n          </div>\n        </nav>\n      </header>\n\n      <!-- PAGE WIDGET (TOP) - REMOVED -->\n      <div style=\"display: none;\">\n          <ol class=\"page-widget__pages-list\">\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">P</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Preface</div>\n                  <div class=\"page-widget__page-note\">Why fundamentals still decide outcomes.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item page-widget__page-item--current\">\n                <span class=\"page-widget__page-number\">1</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 1</div>\n                  <div class=\"page-widget__page-note\">Core principles and constraints.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">2</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 2</div>\n                  <div class=\"page-widget__page-note\">Boundaries, ownership, and interfaces.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">3</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 3</div>\n                  <div class=\"page-widget__page-note\">State, consistency, and failure modes.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">4</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 4</div>\n                  <div class=\"page-widget__page-note\">Abstractions that survive change.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">5</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 5</div>\n                  <div class=\"page-widget__page-note\">Simplicity as an engineering practice.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">6</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 6</div>\n                  <div class=\"page-widget__page-note\">Reliability, observability, and feedback.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">7</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 7</div>\n                  <div class=\"page-widget__page-note\">Delivery systems and decision hygiene.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">8</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 8</div>\n                  <div class=\"page-widget__page-note\">Documentation that stays useful.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">9</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 9</div>\n                  <div class=\"page-widget__page-note\">Testing strategy for predictable change.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">10</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 10</div>\n                  <div class=\"page-widget__page-note\">Pragmatic architecture for teams.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">11</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 11</div>\n                  <div class=\"page-widget__page-note\">Operational excellence without ceremony.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">12</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 12</div>\n                  <div class=\"page-widget__page-note\">Leadership, standards, and leverage.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">13</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 13</div>\n                  <div class=\"page-widget__page-note\">Making fundamentals non-negotiable.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">PS</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Postscript</div>\n                  <div class=\"page-widget__page-note\">A short operating model to carry forward.</div>\n                </div>\n              </a>\n            </li>\n          </ol>\n        </div>\n      </div>\n\n      <!-- MAIN -->\n      <main class=\"main\" id=\"main\">\n\n        <!-- CHAPTER CONTENT (Option 1: Magazine-style) -->\n        <article class=\"chapter-content\">\n          <header class=\"chapter-header\">\n            <div class=\"book-title\">Working Fundamentals</div>\n            <div class=\"chapter-number\" id=\"chapterIndicator\">\n              <span>chapter 5 of 13</span>\n              <span class=\"chapter-number__icon\" id=\"chapterIndicatorIcon\">‚ñæ</span>\n            </div>\n            <h1 class=\"chapter-title\">State & Change</h1>\n            <p class=\"chapter-subtitle\">Why history complicates everything</p>\n          </header>\n\n          <div class=\"chapter-body\">\n            <h3>What this chapter is</h3>\n\n            <p>This chapter is not about variables.It is not about mutability keywords.It is not about functional versus object-oriented debates.</p>\n\n            <p>This chapter is about <strong>memory</strong>.</p>\n\n            <p>State is memory inside a system.And memory always changes how reasoning works.</p>\n\n            <h2>The core truth</h2>\n\n            <p>State means <strong>the past is still present</strong>.</p>\n\n            <p>When state exists:</p>\n\n            <ul>\n\n            <li>behavior depends on history</li>\n\n            </ul>\n\n            <ul>\n\n            <li>order matters</li>\n\n            </ul>\n\n            <ul>\n\n            <li>repetition is no longer safe</li>\n\n            </ul>\n\n            <p>Two identical inputs can produce different outputsbecause something happened before.</p>\n\n            <p>üß† <strong>Mental Model</strong>State introduces time into logic.</p>\n\n            <h2>Why state is unavoidable</h2>\n\n            <p>Every real system has state.</p>\n\n            <ul>\n\n            <li>user sessions</li>\n\n            </ul>\n\n            <ul>\n\n            <li>stored data</li>\n\n            </ul>\n\n            <ul>\n\n            <li>configuration</li>\n\n            </ul>\n\n            <ul>\n\n            <li>caches</li>\n\n            </ul>\n\n            <ul>\n\n            <li>counters</li>\n\n            </ul>\n\n            <ul>\n\n            <li>flags</li>\n\n            </ul>\n\n            <p>Trying to eliminate state entirely is fantasy.</p>\n\n            <p>The goal is not to remove state.The goal is to <strong>contain it</strong>.</p>\n\n            <h2>The real danger is not mutability</h2>\n\n            <p>Most discussions focus on:</p>\n\n            <blockquote>‚ÄúIs this mutable or immutable?‚Äù</blockquote>\n\n            <p>That question is secondary.</p>\n\n            <p>The primary question is:</p>\n\n            <blockquote><strong>Who owns this state?</strong></blockquote>\n\n            <p>Unowned state is dangerous state.</p>\n\n            <h2>Ownership defines safety</h2>\n\n            <p>When state has clear ownership:</p>\n\n            <ul>\n\n            <li>changes are intentional</li>\n\n            </ul>\n\n            <ul>\n\n            <li>responsibilities are visible</li>\n\n            </ul>\n\n            <ul>\n\n            <li>bugs localize</li>\n\n            </ul>\n\n            <p>When state has unclear ownership:</p>\n\n            <ul>\n\n            <li>multiple actors modify it</li>\n\n            </ul>\n\n            <ul>\n\n            <li>invariants erode</li>\n\n            </ul>\n\n            <ul>\n\n            <li>fixes collide</li>\n\n            </ul>\n\n            <p>üß† <strong>Architect‚Äôs Note</strong>State should have one owner, even if many can read it.</p>\n\n            <h2>Hidden state is the worst kind</h2>\n\n            <p>Hidden state includes:</p>\n\n            <ul>\n\n            <li>global variables</li>\n\n            </ul>\n\n            <ul>\n\n            <li>shared singletons</li>\n\n            </ul>\n\n            <ul>\n\n            <li>implicit environment dependencies</li>\n\n            </ul>\n\n            <ul>\n\n            <li>static caches</li>\n\n            </ul>\n\n            <ul>\n\n            <li>values modified outside visible flow</li>\n\n            </ul>\n\n            <p>Hidden state creates <strong>action at a distance</strong>.</p>\n\n            <p>You change something here.Something breaks there.</p>\n\n            <p>‚ö†Ô∏è <strong>Common Drift</strong>When bugs feel ‚Äúimpossible,‚Äù hidden state is usually involved.</p>\n\n            <h2>Temporal coupling</h2>\n\n            <p>State creates <strong>temporal coupling</strong>:</p>\n\n            <ul>\n\n            <li>this must happen before that</li>\n\n            </ul>\n\n            <ul>\n\n            <li>this must not happen twice</li>\n\n            </ul>\n\n            <ul>\n\n            <li>this must happen only once</li>\n\n            </ul>\n\n            <p>Temporal coupling is fragile because:</p>\n\n            <ul>\n\n            <li>time is hard to see</li>\n\n            </ul>\n\n            <ul>\n\n            <li>time is hard to test</li>\n\n            </ul>\n\n            <ul>\n\n            <li>time is hard to control</li>\n\n            </ul>\n\n            <p>üß† <strong>Mental Model</strong>If order matters, order must be enforced ‚Äî not assumed.</p>\n\n            <h2>Reentrancy reveals state problems</h2>\n\n            <p>A powerful test of state clarity is this question:</p>\n\n            <blockquote>‚ÄúWhat happens if this runs twice?‚Äù</blockquote>\n\n            <p>Or:</p>\n\n            <blockquote>‚ÄúWhat happens if this runs again before it finishes?‚Äù</blockquote>\n\n            <p>If the answer is unclear, state is leaking.</p>\n\n            <h2>State vs data</h2>\n\n            <p>Not all data is state.</p>\n\n            <ul>\n\n            <li>Data describes reality.</li>\n\n            </ul>\n\n            <ul>\n\n            <li>State describes <strong>change over time</strong>.</li>\n\n            </ul>\n\n            <p>Confusing the two causes:</p>\n\n            <ul>\n\n            <li>over-mutability</li>\n\n            </ul>\n\n            <ul>\n\n            <li>defensive copying</li>\n\n            </ul>\n\n            <ul>\n\n            <li>unnecessary resets</li>\n\n            </ul>\n\n            <p>üß† <strong>Perspective</strong>Stable data should stay stable.Only true state should change.</p>\n\n            <h2>Local state vs shared state</h2>\n\n            <p>Local state:</p>\n\n            <ul>\n\n            <li>easier to reason about</li>\n\n            </ul>\n\n            <ul>\n\n            <li>easier to reset</li>\n\n            </ul>\n\n            <ul>\n\n            <li>easier to test</li>\n\n            </ul>\n\n            <p>Shared state:</p>\n\n            <ul>\n\n            <li>harder to reason about</li>\n\n            </ul>\n\n            <ul>\n\n            <li>harder to control</li>\n\n            </ul>\n\n            <ul>\n\n            <li>harder to debug</li>\n\n            </ul>\n\n            <p>Shared state is sometimes necessary.It should always be <strong>explicit</strong>.</p>\n\n            <h2>State and failure</h2>\n\n            <p>Failures interacting with state are dangerous.</p>\n\n            <p>Questions every stateful operation must answer:</p>\n\n            <ul>\n\n            <li>what happens if this fails halfway?</li>\n\n            </ul>\n\n            <ul>\n\n            <li>what is left changed?</li>\n\n            </ul>\n\n            <ul>\n\n            <li>can it be retried safely?</li>\n\n            </ul>\n\n            <p>Ignoring these questions creates:</p>\n\n            <ul>\n\n            <li>partial updates</li>\n\n            </ul>\n\n            <ul>\n\n            <li>corruption</li>\n\n            </ul>\n\n            <ul>\n\n            <li>irreversible damage</li>\n\n            </ul>\n\n            <p>üß† <strong>Architect‚Äôs Note</strong>State changes must be atomic or recoverable.</p>\n\n            <h2>State accumulation and drift</h2>\n\n            <p>Over time, systems accumulate state:</p>\n\n            <ul>\n\n            <li>flags added ‚Äútemporarily‚Äù</li>\n\n            </ul>\n\n            <ul>\n\n            <li>caches layered on caches</li>\n\n            </ul>\n\n            <ul>\n\n            <li>compatibility hacks preserved forever</li>\n\n            </ul>\n\n            <p>Each addition feels small.Together, they create inertia.</p>\n\n            <p>‚ö†Ô∏è <strong>Common Drift</strong>Most legacy systems are not complex ‚Äî they are over-remembering.</p>\n\n            <h2>Minimal practice (still no code)</h2>\n\n            <p><strong>Problem:</strong>‚ÄúA function updates a counter, saves a record, and sends a notification.‚Äù</p>\n\n            <p>Ask:</p>\n\n            <ul>\n\n            <li>What state changes?</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Who owns each change?</li>\n\n            </ul>\n\n            <ul>\n\n            <li>What happens if notification fails?</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Can this be retried safely?</li>\n\n            </ul>\n\n            <p>If these answers are vague, the design is incomplete.</p>\n\n            <h2>What beginners gain here</h2>\n\n            <ul>\n\n            <li>Understanding why bugs appear ‚Äúrandom‚Äù</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Awareness of hidden dependencies</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Respect for order and ownership</li>\n\n            </ul>\n\n            <h2>What experienced developers recognize</h2>\n\n            <ul>\n\n            <li>Why some systems resist refactoring</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Why concurrency introduces chaos</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Why fixes create new problems</li>\n\n            </ul>\n\n            <p>State was unmanaged.</p>\n\n            <h2>What this chapter deliberately avoids</h2>\n\n            <ul>\n\n            <li>Language-level mutability debates</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Framework state management patterns</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Reactive buzzwords</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Implementation details</li>\n\n            </ul>\n\n            <p>Those come after clarity.</p>\n\n            <h2>Closing</h2>\n\n            <p>State is not evil.But it is <strong>expensive</strong>.</p>\n\n            <p>It costs:</p>\n\n            <ul>\n\n            <li>reasoning</li>\n\n            </ul>\n\n            <ul>\n\n            <li>predictability</li>\n\n            </ul>\n\n            <ul>\n\n            <li>safety</li>\n\n            </ul>\n\n            <p>Well-contained state makes systems reliable.Leaking state makes systems hostile.</p>\n\n            <p>Design state as if time were your enemy ‚Äîbecause eventually, it is.</p>\n          </div>\n        </article>\n\n        <!-- RIGHT -->\n\n      </main>\n\n      <!-- CHAPTER NAVIGATION (BOTTOM) -->\n      <nav class=\"chapter-nav-bottom\" id=\"chapterNavBottom\">\n        <a href=\"#\" class=\"chapter-nav-bottom__link chapter-nav-bottom__link--prev\" id=\"prevChapter\">\n          <span class=\"chapter-nav-bottom__arrow\">‚Üê</span>\n          <span class=\"chapter-nav-bottom__label\">Previous</span>\n        </a>\n        <a href=\"#\" class=\"chapter-nav-bottom__link chapter-nav-bottom__link--next\" id=\"nextChapter\">\n          <span class=\"chapter-nav-bottom__label\">Next</span>\n          <span class=\"chapter-nav-bottom__arrow\">‚Üí</span>\n        </a>\n      </nav>\n\n      <!-- PAGE WIDGET (BOTTOM) - REMOVED -->\n      <div style=\"display: none;\">\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">P</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Preface</div>\n                  <div class=\"page-widget__page-note\">Why fundamentals still decide outcomes.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item page-widget__page-item--current\">\n                <span class=\"page-widget__page-number\">1</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 1</div>\n                  <div class=\"page-widget__page-note\">Core principles and constraints.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">2</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 2</div>\n                  <div class=\"page-widget__page-note\">Boundaries, ownership, and interfaces.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">3</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 3</div>\n                  <div class=\"page-widget__page-note\">State, consistency, and failure modes.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">4</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 4</div>\n                  <div class=\"page-widget__page-note\">Abstractions that survive change.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">5</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 5</div>\n                  <div class=\"page-widget__page-note\">Simplicity as an engineering practice.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">6</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 6</div>\n                  <div class=\"page-widget__page-note\">Reliability, observability, and feedback.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">7</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 7</div>\n                  <div class=\"page-widget__page-note\">Delivery systems and decision hygiene.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">8</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 8</div>\n                  <div class=\"page-widget__page-note\">Documentation that stays useful.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">9</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 9</div>\n                  <div class=\"page-widget__page-note\">Testing strategy for predictable change.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">10</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 10</div>\n                  <div class=\"page-widget__page-note\">Pragmatic architecture for teams.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">11</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 11</div>\n                  <div class=\"page-widget__page-note\">Operational excellence without ceremony.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">12</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 12</div>\n                  <div class=\"page-widget__page-note\">Leadership, standards, and leverage.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">13</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 13</div>\n                  <div class=\"page-widget__page-note\">Making fundamentals non-negotiable.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">PS</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Postscript</div>\n                  <div class=\"page-widget__page-note\">A short operating model to carry forward.</div>\n                </div>\n              </a>\n            </li>\n          </ol>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <!-- PAGE WIDGET JS -->\n  <!-- SIDEBAR TOGGLE JS -->\n  <script>\n  (() => {\n    const sidebar = document.getElementById(''sidebar'');\n    const backdrop = document.getElementById(''sidebarBackdrop'');\n    const indicator = document.getElementById(''chapterIndicator'');\n    const icon = document.getElementById(''chapterIndicatorIcon'');\n    const header = document.getElementById(''header'');\n    const main = document.getElementById(''main'');\n    const body = document.body;\n\n    if (!sidebar || !backdrop || !indicator || !icon || !header || !main) return;\n\n    let isOpen = false;\n    let scrollTimeout = null;\n\n    const openSidebar = () => {\n      isOpen = true;\n      sidebar.classList.add(''sidebar--open'');\n      backdrop.classList.add(''sidebar-backdrop--visible'');\n      header.classList.add(''header--shifted'');\n      main.classList.add(''main--shifted'');\n      icon.classList.add(''chapter-number__icon--open'');\n      body.classList.add(''sidebar-open'');\n    };\n\n    const closeSidebar = () => {\n      isOpen = false;\n      sidebar.classList.remove(''sidebar--open'');\n      backdrop.classList.remove(''sidebar-backdrop--visible'');\n      header.classList.remove(''header--shifted'');\n      main.classList.remove(''main--shifted'');\n      icon.classList.remove(''chapter-number__icon--open'');\n      body.classList.remove(''sidebar-open'');\n    };\n\n    // Toggle sidebar\n    indicator.addEventListener(''click'', (e) => {\n      e.stopPropagation();\n      if (isOpen) {\n        closeSidebar();\n      } else {\n        openSidebar();\n      }\n    });\n\n    // Close sidebar when clicking backdrop\n    backdrop.addEventListener(''click'', () => {\n      closeSidebar();\n    });\n\n    // Close sidebar when clicking outside\n    document.addEventListener(''click'', (e) => {\n      // Don''t close sidebar if clicking on brand link or nav links\n      const brandLink = header.querySelector(''.brand'');\n      const isClickOnLink = brandLink && brandLink.contains(e.target);\n      const isClickOnNav = header.querySelector(''.nav'') && header.querySelector(''.nav'').contains(e.target);\n      \n      if (isOpen && !sidebar.contains(e.target) && !indicator.contains(e.target) && !isClickOnLink && !isClickOnNav) {\n        closeSidebar();\n      }\n    });\n\n    // Close sidebar on scroll (debounced)\n    const handleScroll = () => {\n      if (isOpen) {\n        clearTimeout(scrollTimeout);\n        scrollTimeout = setTimeout(() => {\n          closeSidebar();\n        }, 100);\n      }\n    };\n\n    // Listen for scroll on main content\n    window.addEventListener(''scroll'', handleScroll, { passive: true });\n    \n    // Also listen for scroll attempts on body (when scroll is disabled)\n    let lastScrollTop = window.pageYOffset;\n    const handleScrollAttempt = () => {\n      if (isOpen) {\n        const currentScrollTop = window.pageYOffset;\n        if (currentScrollTop !== lastScrollTop) {\n          closeSidebar();\n        }\n        lastScrollTop = currentScrollTop;\n      }\n    };\n\n    // Prevent scroll on body when sidebar is open\n    document.addEventListener(''wheel'', (e) => {\n      if (isOpen && !sidebar.contains(e.target)) {\n        e.preventDefault();\n        closeSidebar();\n      }\n    }, { passive: false });\n\n    // Prevent touch scroll on body when sidebar is open\n    document.addEventListener(''touchmove'', (e) => {\n      if (isOpen && !sidebar.contains(e.target)) {\n        e.preventDefault();\n        closeSidebar();\n      }\n    }, { passive: false });\n  })();\n  </script>\n\n  <!-- CHAPTER NAVIGATION (BOTTOM) JS -->\n  <script>\n  (() => {\n    // Chapter list: Preface = 0, Chapter 1-13 = 1-13, Postscript = 14\n    const chapters = [\n      { id: ''preface'', title: ''Preface'', url: ''https://arvinjaysoncastro.com/working-fundamentals-introduction'' },\n      { id: ''ch1'', title: ''Chapter 1'', url: ''https://arvinjaysoncastro.com/working-fundamentals-1-of-13-programming-fundamentals'' },\n      { id: ''ch2'', title: ''Chapter 2'', url: ''https://arvinjaysoncastro.com/working-fundamentals-2-of-13-data-structures'' },\n      { id: ''ch3'', title: ''Chapter 3'', url: ''https://arvinjaysoncastro.com/working-fundamentals-3-of-13-algorithms-and-complexity'' },\n      { id: ''ch4'', title: ''Chapter 4'', url: ''https://arvinjaysoncastro.com/working-fundamentals-4-of-13-control-and-flow'' },\n      { id: ''ch5'', title: ''Chapter 5'', url: ''https://arvinjaysoncastro.com/working-fundamentals-5-of-13-state-and-change'' },\n      { id: ''ch6'', title: ''Chapter 6'', url: ''https://arvinjaysoncastro.com/working-fundamentals-6-of-13-design-principles'' },\n      { id: ''ch7'', title: ''Chapter 7'', url: ''https://arvinjaysoncastro.com/working-fundamentals-7-of-13-architecture'' },\n      { id: ''ch8'', title: ''Chapter 8'', url: ''https://arvinjaysoncastro.com/working-fundamentals-8-of-13-persistence-and-data-modeling'' },\n      { id: ''ch9'', title: ''Chapter 9'', url: ''https://arvinjaysoncastro.com/working-fundamentals-9-of-13-interfaces-and-apis'' },\n      { id: ''ch10'', title: ''Chapter 10'', url: ''https://arvinjaysoncastro.com/working-fundamentals-10-of-13-errors-and-failure'' },\n      { id: ''ch11'', title: ''Chapter 11'', url: ''https://arvinjaysoncastro.com/working-fundamentals-11-of-13-testing'' },\n      { id: ''ch12'', title: ''Chapter 12'', url: ''https://arvinjaysoncastro.com/working-fundamentals-12-of-13-performance-and-scale'' },\n      { id: ''ch13'', title: ''Chapter 13'', url: ''https://arvinjaysoncastro.com/working-fundamentals-13-of-13-the-developers-role'' },\n      { id: ''postscript'', title: ''Postscript'', url: ''https://arvinjaysoncastro.com/working-fundamentals-outroduction'' }\n    ];\n\n    const currentChapterIndex = 5; // Chapter 1 is index 1 (Preface is 0)\n    const prevLink = document.getElementById(''prevChapter'');\n    const nextLink = document.getElementById(''nextChapter'');\n\n    if (!prevLink || !nextLink) return;\n\n    // Previous chapter\n    if (currentChapterIndex > 0) {\n      const prevChapter = chapters[currentChapterIndex - 1];\n      prevLink.href = prevChapter.url;\n      prevLink.target = ''_blank'';\n      prevLink.innerHTML = `\n        <span class=\"chapter-nav-bottom__arrow\">‚Üê</span>\n        <span class=\"chapter-nav-bottom__label\">Previous: ${prevChapter.title}</span>\n      `;\n    } else {\n      // No previous chapter - show \"go back to book list\"\n      prevLink.href = ''https://arvinjaysoncastro.com/hungry-dev-mind'';\n      prevLink.target = ''_blank'';\n      prevLink.innerHTML = `\n        <span class=\"chapter-nav-bottom__arrow\">‚Üê</span>\n        <span class=\"chapter-nav-bottom__label\">Go back to book list</span>\n      `;\n    }\n\n    // Next chapter\n    if (currentChapterIndex < chapters.length - 1) {\n      const nextChapter = chapters[currentChapterIndex + 1];\n      nextLink.href = nextChapter.url;\n      nextLink.target = ''_blank'';\n      nextLink.innerHTML = `\n        <span class=\"chapter-nav-bottom__label\">Next: ${nextChapter.title}</span>\n        <span class=\"chapter-nav-bottom__arrow\">‚Üí</span>\n      `;\n    } else {\n      // No next chapter - show \"go back to book list\"\n      nextLink.href = ''https://arvinjaysoncastro.com/hungry-dev-mind'';\n      nextLink.target = ''_blank'';\n      nextLink.innerHTML = `\n        <span class=\"chapter-nav-bottom__label\">Go back to book list</span>\n        <span class=\"chapter-nav-bottom__arrow\">‚Üí</span>\n      `;\n    }\n  })();\n  </script>\n\n  <!-- OPTIONAL JS -->\n <script>\n(() => {\n  const wrap = document.querySelector(''.book-wrap'');\n  if (!wrap) return;\n\n  const slab1 = wrap.querySelector(''.shadow-slab'');\n  const slab2 = wrap.querySelector(''.shadow-slab-2'');\n  const slab3 = wrap.querySelector(''.shadow-slab-3'');\n  const slab4 = wrap.querySelector(''.shadow-slab-4'');\n  const front = wrap.querySelector(''.front-slab'');\n\n  const clamp = (v, min, max) => Math.max(min, Math.min(max, v));\n\n  let raf = 0;\n  let lx = 0; // light vector x\n  let ly = 0; // light vector y\n\n  function render() {\n    raf = 0;\n\n    // Shadow direction = opposite of light\n    const sx = -lx;\n    const sy = -ly;\n\n    const intensity = Math.abs(lx) + Math.abs(ly);\n\n    /* ---------------------------\n       SLAB 1 ‚Äî KEY CAST SHADOW\n    ---------------------------- */\n    slab1.style.transform =\n      `translate(${(sx * 38).toFixed(2)}px, ${(sy * 38).toFixed(2)}px)`;\n    slab1.style.filter =\n      `blur(${(14 + intensity * 6).toFixed(2)}px)`;\n    slab1.style.opacity =\n      (0.28 + intensity * 0.14).toFixed(2);\n\n    /* ---------------------------\n       SLAB 2 ‚Äî BOUNCE / COLOR BLEED\n    ---------------------------- */\n    slab2.style.transform =\n      `translate(${(sx * 14).toFixed(2)}px, ${(sy * 14).toFixed(2)}px)`;\n    slab2.style.filter =\n      `blur(${(6 + intensity * 4).toFixed(2)}px)`;\n    slab2.style.opacity =\n      (0.16 + intensity * 0.10).toFixed(2);\n\n    /* ---------------------------\n       SLAB 3 ‚Äî CONTACT SHADOW\n    ---------------------------- */\n    slab3.style.transform =\n      `translate(${(sx * 6).toFixed(2)}px, ${(sy * 6).toFixed(2)}px)`;\n    slab3.style.filter = `blur(9px)`;\n    slab3.style.opacity =\n      (0.24 + Math.abs(lx) * 0.06).toFixed(2);\n\n    /* ---------------------------\n       SLAB 4 ‚Äî AMBIENT DEPTH\n    ---------------------------- */\n    slab4.style.transform =\n      `translate(${(sx * 3).toFixed(2)}px, ${(sy * 3).toFixed(2)}px)`;\n    slab4.style.filter = `blur(18px)`;\n    slab4.style.opacity =\n      (0.16 + Math.abs(ly) * 0.04).toFixed(2);\n\n    /* ---------------------------\n       FRONT SLAB ‚Äî SPECULAR RESPONSE\n       (moves TOWARD light)\n    ---------------------------- */\nif (front) {\n  // Very subtle counter-parallax (NOT toward light)\n  front.style.transform =\n    `translate(${(-lx * 1.6).toFixed(2)}px, ${(-ly * 1.6).toFixed(2)}px)`;\n\n  // Opacity increases when light is grazing\n  front.style.opacity =\n    (0.34 + intensity * 0.22).toFixed(2);\n\n  // Highlight shifts OPPOSITE the light direction\n  const gx = 50 - lx * 28;\n  const gy = 50 - ly * 28;\n  front.style.backgroundPosition = `${gx}% ${gy}%`;\n}\n\n  }\n\n  function onMove(e) {\n    const r = wrap.getBoundingClientRect();\n    const cx = r.left + r.width / 2;\n    const cy = r.top + r.height / 2;\n\n    // LIGHT VECTOR (mouse = light source)\n    lx = clamp((e.clientX - cx) / (r.width / 2), -1, 1);\n    ly = clamp((e.clientY - cy) / (r.height / 2), -1, 1);\n\n    if (!raf) raf = requestAnimationFrame(render);\n  }\n\n  window.addEventListener(''mousemove'', onMove, { passive: true });\n})();\n</script>\n</body>\n</html>\n", "css": "body { font-family: system-ui; padding: 20px; }", "js": "console.log(\"Code Runner initialized\");", "imports": {"css": [], "js": []}, "entryPoint": {"type": "htmlDocument", "mountSelector": "#app", "injectMountIfMissing": true}, "settings": {"mode": "play", "viewport": {"type": "responsive", "background": "white"}, "securityPreset": "trusted", "autoRun": true, "runOnLoad": true}, "codePanel": {"isVisible": false, "isEditable": false}}}]}]}',
    NULL,
    1,
    NOW()
);


-- 6. Design Principles
-- Slug: working-fundamentals-6-of-13-design-principles
-- ID: b961ff03-4fbb-4974-8d92-6db2e5f89d69
-- File: ch_06.html
INSERT INTO App_Pages (
    id, org_id, name, slug, template_code, layout, layout_version, is_active,
    created_by_user_id, created_at, updated_at, visibility, description,
    is_template, template_metadata, kind, parent_id, section_tags, section_purpose,
    section_scope, palette_id, is_default_variation, variation_order, template_purpose,
    is_listed, is_org_landing_page, report, folder, layout_raw, layout_quarantine,
    layout_schema_version, layout_ingested_at
) VALUES (
    'b961ff03-4fbb-4974-8d92-6db2e5f89d69',
    '82c2d096-2638-4837-83c8-e8a933bb17c7',
    'Design Principles',
    'working-fundamentals-6-of-13-design-principles',
    NULL,
    '{"id": "block-root", "style": {}, "type": "container", "children": [{"id": "temp-container", "style": {"width": "100vw", "height": "100vh"}, "type": "container", "children": [{"id": "temp-coderunner", "style": {}, "type": "codeRunner", "data": {"html": "<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n  <meta charset=\"UTF-8\" />\n  <title>Working Fundamentals ‚Äî Arvin Jayson Castro</title>\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n\n  <!-- =====================\n       GLOBAL STYLES\n  ====================== -->\n  <style>\n    :root {\n      --bg: #f7f8f8;\n      --ink: #111111;\n      --muted: #666666;\n      --line: rgba(0,0,0,0.08);\n      --accent: #16a34a;\n      --link: #3b82f6;\n      --max-width: 1200px;\n    }\n\n    * {\n      box-sizing: border-box;\n    }\n\n    body {\n      margin: 0;\n      font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, sans-serif;\n      color: var(--ink);\n      background-color: var(--bg);\n      background-image:\n        radial-gradient(980px 560px at 14% 18%, rgba(16,185,129,0.10) 0%, rgba(16,185,129,0) 60%),\n        radial-gradient(860px 540px at 86% 74%, rgba(245,158,11,0.10) 0%, rgba(245,158,11,0) 62%),\n        repeating-linear-gradient(0deg, rgba(0,0,0,0.043) 0, rgba(0,0,0,0.043) 1px, transparent 1px, transparent 46px),\n        repeating-linear-gradient(90deg, rgba(0,0,0,0.043) 0, rgba(0,0,0,0.043) 1px, transparent 1px, transparent 46px);\n      min-height: 100vh;\n    }\n\n    a {\n      color: inherit;\n      text-decoration: none;\n    }\n\n    img {\n      max-width: 100%;\n      display: block;\n    }\n\n    /* =====================\n       PAGE WRAPPER\n    ====================== */\n    .page {\n      padding: 22px 24px;\n    }\n\n    .container {\n      max-width: var(--max-width);\n      margin: 0 auto;\n    }\n\n    /* =====================\n       SIDEBAR BACKDROP\n    ====================== */\n    .sidebar-backdrop {\n      position: fixed;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n      background: rgba(0, 0, 0, 0.2);\n      backdrop-filter: blur(4px);\n      -webkit-backdrop-filter: blur(4px);\n      opacity: 0;\n      visibility: hidden;\n      transition: opacity 0.3s ease, visibility 0.3s ease;\n      z-index: 999;\n      pointer-events: none;\n    }\n\n    .sidebar-backdrop--visible {\n      opacity: 1;\n      visibility: visible;\n      pointer-events: auto;\n    }\n\n    /* =====================\n       SIDEBAR\n    ====================== */\n    .sidebar {\n      position: fixed;\n      top: 0;\n      right: 0;\n      width: 320px;\n      height: 100vh;\n      background: var(--bg);\n      border-left: 1px solid var(--line);\n      transform: translateX(100%);\n      transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n      z-index: 1000;\n      overflow-y: auto;\n      padding: 24px;\n    }\n\n    .sidebar--open {\n      transform: translateX(0);\n    }\n\n    .sidebar__title {\n      font-size: 16px;\n      font-weight: 600;\n      margin-bottom: 24px;\n      color: var(--ink);\n    }\n\n    /* Prevent body scroll when sidebar is open */\n    body.sidebar-open {\n      overflow: hidden;\n    }\n\n    .sidebar__chapter-list {\n      list-style: none;\n      margin: 0;\n      padding: 0;\n    }\n\n    .sidebar__chapter-item {\n      margin: 0 0 8px 0;\n    }\n\n    .sidebar__chapter-link {\n      display: block;\n      font-size: 14px;\n      color: var(--muted);\n      text-decoration: none;\n      padding: 8px 0;\n      transition: color 0.2s ease;\n      line-height: 1.5;\n    }\n\n    .sidebar__chapter-link:hover {\n      color: var(--ink);\n    }\n\n    .sidebar__chapter-link {\n      color: var(--ink);\n      font-weight: 500;\n    }\n\n    /* =====================\n       HEADER (Top bar with chapter indicator)\n    ====================== */\n    .header {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      padding: 10px 0;\n      border-bottom: 1px solid var(--line);\n      position: relative;\n      transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n    }\n\n    .header--shifted {\n      transform: translateX(-320px);\n    }\n\n    .brand {\n      font-size: 16px;\n      font-weight: 600;\n      cursor: pointer;\n      display: inline-block;\n    }\n\n    .nav {\n      display: flex;\n      gap: 24px;\n      align-items: center;\n      font-size: 14px;\n    }\n\n    .nav a {\n      color: #1f2937;\n    }\n\n    .linkedin {\n      display: flex;\n      flex-direction: column;\n      align-items: flex-start;\n    }\n\n    .linkedin a {\n      color: var(--link);\n    }\n\n    .linkedin span {\n      font-family: Georgia, serif;\n      font-size: 9px;\n      font-style: italic;\n      color: #999;\n    }\n\n    /* =====================\n       MAIN GRID\n    ====================== */\n    .main {\n      padding-top: 48px;\n      padding-bottom: 48px;\n      display: flex;\n      justify-content: center;\n      align-items: start;\n    }\n\n    /* =====================\n       CHAPTER READING AREA (Option 1: Magazine-style)\n    ====================== */\n    .chapter-content {\n      max-width: 768px;\n      width: 100%;\n      margin: 0 auto;\n    }\n\n    .chapter-header {\n      margin-bottom: 56px;\n      padding-bottom: 32px;\n      border-bottom: 2px solid var(--line);\n    }\n\n    .book-title {\n      font-size: 12px;\n      letter-spacing: 0.15em;\n      text-transform: uppercase;\n      color: var(--muted);\n      font-weight: 500;\n      margin-bottom: 8px;\n      opacity: 0.7;\n    }\n\n    .chapter-number {\n      font-size: 13px;\n      letter-spacing: 0.2em;\n      text-transform: uppercase;\n      color: var(--muted);\n      font-weight: 600;\n      margin-bottom: 12px;\n      display: flex;\n      align-items: center;\n      gap: 8px;\n      cursor: pointer;\n      user-select: none;\n      transition: color 0.2s ease;\n    }\n\n    .chapter-number:hover {\n      color: var(--ink);\n    }\n\n    .chapter-number__icon {\n      font-size: 10px;\n      opacity: 0.6;\n      transition: transform 0.3s ease, opacity 0.2s ease;\n    }\n\n    .chapter-number:hover .chapter-number__icon {\n      opacity: 0.8;\n    }\n\n    .chapter-number__icon--open {\n      transform: rotate(180deg);\n    }\n\n    .chapter-title {\n      font-size: 56px;\n      font-weight: 900;\n      line-height: 1.05;\n      margin: 0 0 20px 0;\n      color: var(--ink);\n      letter-spacing: -0.03em;\n    }\n\n    .chapter-subtitle {\n      font-size: 22px;\n      font-weight: 500;\n      color: var(--muted);\n      line-height: 1.4;\n      margin: 0;\n    }\n\n    .chapter-body {\n      font-size: 19px;\n      line-height: 1.8;\n      color: var(--ink);\n      max-width: none;\n      font-weight: 400;\n    }\n\n    .chapter-body p {\n      margin: 0 0 28px 0;\n    }\n\n    .chapter-body p:last-child {\n      margin-bottom: 0;\n    }\n\n    .chapter-body h2 {\n      font-size: 36px;\n      font-weight: 800;\n      line-height: 1.2;\n      margin: 56px 0 24px 0;\n      color: var(--ink);\n      letter-spacing: -0.02em;\n    }\n\n    .chapter-body h3 {\n      font-size: 26px;\n      font-weight: 700;\n      line-height: 1.3;\n      margin: 40px 0 18px 0;\n      color: var(--ink);\n      letter-spacing: -0.01em;\n    }\n\n    .chapter-body strong {\n      font-weight: 600;\n      color: var(--ink);\n    }\n\n    .chapter-body em {\n      font-style: italic;\n    }\n\n    .chapter-body ul,\n    .chapter-body ol {\n      margin: 28px 0;\n      padding-left: 36px;\n    }\n\n    .chapter-body li {\n      margin-bottom: 14px;\n      line-height: 1.75;\n    }\n\n    .chapter-body blockquote {\n      margin: 40px 0;\n      padding-left: 28px;\n      border-left: 4px solid var(--accent);\n      font-style: italic;\n      color: var(--muted);\n      font-size: 18px;\n      line-height: 1.7;\n    }\n\n    .chapter-body code {\n      font-family: ''Monaco'', ''Menlo'', ''Courier New'', monospace;\n      font-size: 0.9em;\n      background: rgba(0,0,0,0.04);\n      padding: 2px 6px;\n      border-radius: 3px;\n    }\n\n    .chapter-body pre {\n      background: rgba(0,0,0,0.04);\n      padding: 20px;\n      border-radius: 8px;\n      overflow-x: auto;\n      margin: 24px 0;\n    }\n\n    .chapter-body pre code {\n      background: none;\n      padding: 0;\n    }\n\n    /* Content shift when sidebar opens */\n    .main {\n      transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n    }\n\n    .main--shifted {\n      transform: translateX(-320px);\n    }\n\n    /* Prevent horizontal scroll */\n    body {\n      overflow-x: hidden;\n    }\n\n    .page {\n      overflow-x: hidden;\n    }\n\n    /* =====================\n       CHAPTER NAVIGATION (BOTTOM)\n    ====================== */\n    .chapter-nav-bottom {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      max-width: 768px;\n      width: 100%;\n      margin: 64px auto 0 auto;\n      padding: 24px 0;\n      border-top: 1px solid var(--line);\n    }\n\n    .chapter-nav-bottom__link {\n      display: flex;\n      align-items: center;\n      gap: 8px;\n      font-size: 14px;\n      color: var(--muted);\n      text-decoration: none;\n      transition: color 0.2s ease;\n      padding: 8px 0;\n    }\n\n    .chapter-nav-bottom__link:hover {\n      color: var(--ink);\n    }\n\n    .chapter-nav-bottom__arrow {\n      font-size: 16px;\n      opacity: 0.7;\n    }\n\n    .chapter-nav-bottom__label {\n      font-weight: 500;\n    }\n\n    .chapter-nav-bottom__link--prev {\n      margin-right: auto;\n    }\n\n    .chapter-nav-bottom__link--next {\n      margin-left: auto;\n    }\n\n    .chapter-nav-bottom__link--disabled {\n      opacity: 0.4;\n      cursor: not-allowed;\n      pointer-events: none;\n    }\n\n    .page-widget__pages {\n      max-height: 0;\n      overflow: hidden;\n      transition: max-height 0.4s cubic-bezier(0.4, 0, 0.2, 1),\n                  opacity 0.3s ease,\n                  margin-top 0.3s ease;\n      opacity: 0;\n      margin-top: 0;\n      background: rgba(255, 255, 255, 0.98);\n      backdrop-filter: blur(12px);\n      -webkit-backdrop-filter: blur(12px);\n      border: 1px solid rgba(0, 0, 0, 0.06);\n      border-radius: 12px;\n      box-shadow: 0 2px 12px rgba(0, 0, 0, 0.06);\n    }\n\n    .page-widget__pages--expanded {\n      max-height: 500px;\n      opacity: 1;\n      margin-top: 12px;\n      padding: 8px;\n    }\n\n    .page-widget__pages-list {\n      list-style: none;\n      margin: 0;\n      padding: 0;\n      display: flex;\n      flex-direction: column;\n      gap: 8px;\n      max-height: 400px;\n      overflow-y: auto;\n      padding-right: 4px;\n    }\n\n    .page-widget__pages-list::-webkit-scrollbar {\n      width: 6px;\n    }\n\n    .page-widget__pages-list::-webkit-scrollbar-track {\n      background: rgba(0, 0, 0, 0.02);\n      border-radius: 3px;\n    }\n\n    .page-widget__pages-list::-webkit-scrollbar-thumb {\n      background: rgba(0, 0, 0, 0.12);\n      border-radius: 3px;\n    }\n\n    .page-widget__pages-list::-webkit-scrollbar-thumb:hover {\n      background: rgba(0, 0, 0, 0.2);\n    }\n\n    .page-widget__page-item {\n      display: flex;\n      align-items: center;\n      gap: 10px;\n      padding: 8px 10px;\n      border-radius: 8px;\n      cursor: pointer;\n      transition: all 0.2s ease;\n      text-decoration: none;\n      color: var(--ink);\n    }\n\n    .page-widget__page-item:hover {\n      background: rgba(0, 0, 0, 0.03);\n      transform: translateX(2px);\n    }\n\n    .page-widget__page-item--current {\n      background: rgba(22, 163, 74, 0.08);\n      color: var(--accent);\n      font-weight: 500;\n    }\n\n    .page-widget__page-item--current:hover {\n      background: rgba(22, 163, 74, 0.12);\n    }\n\n    .page-widget__page-number {\n      display: inline-flex;\n      align-items: center;\n      justify-content: center;\n      width: 24px;\n      height: 24px;\n      background: rgba(0, 0, 0, 0.04);\n      border-radius: 5px;\n      font-size: 11px;\n      font-weight: 500;\n      flex-shrink: 0;\n      color: var(--muted);\n    }\n\n    .page-widget__page-item--current .page-widget__page-number {\n      background: rgba(22, 163, 74, 0.15);\n      color: var(--accent);\n    }\n\n    .page-widget__page-info {\n      flex: 1;\n      min-width: 0;\n    }\n\n    .page-widget__page-name {\n      font-size: 13px;\n      font-weight: 500;\n      line-height: 1.3;\n      margin: 0 0 2px 0;\n    }\n\n    .page-widget__page-note {\n      font-size: 11px;\n      color: var(--muted);\n      line-height: 1.3;\n      margin: 0;\n      white-space: nowrap;\n      overflow: hidden;\n      text-overflow: ellipsis;\n    }\n\n    @media (max-width: 768px) {\n      .page-widget__pages-list {\n        max-height: 300px;\n      }\n    }\n\n\n/* ===============================\n   WRAPPER\n================================ */\n.book-wrap {\n  width: 320px;\n  aspect-ratio: 2 / 3;\n  position: relative;\n}\n\n/* ===============================\n   CAST SHADOW SLAB (REAL SHADOW)\n================================ */\n.shadow-slab {\n    position: absolute;\n    position: absolute;\n    inset: 0;\n    border-radius: 22px;\n    /* background: #2a2a2a; */\n    transform: translate(-30px, 30px);\n    filter: blur(13px);\n    opacity: 0.35;\n    z-index: 0;\n    background: radial-gradient(ellipse at 15% 85%, rgba(0, 0, 0, 0.35), rgba(0, 0, 0, 0.18) 35%, transparent 65%), linear-gradient(to right, #1f1f1f 0%, #2a2a2a 45%, #3a3a3a 100%);\n}\n\n.shadow-slab-2 {\n    position: absolute;\n    inset: 0;\n    border-radius: 22px;\n    background: radial-gradient(circle at top right, #f6e6a8 0%, #e2c36b 35%, #b58a3c 70%, #7a5524 100%);\n    transform: translate(-10px, 10px);\n    filter: blur(5px);\n    opacity: 0.35;\n    z-index: 0;\n}\n\n.shadow-slab-3 {\n    position: absolute;\n    inset: 0;\n    border-radius: 22px;\n    background: #333;\n    transform: translate(0px, 0px);\n    filter: blur(11px);\n    opacity: 0.35;\n    z-index: 0;\n}\n\n.shadow-slab-4 {\n    position: absolute;\n    inset: 0;\n    border-radius: 22px;\n    background: #333;\n    transform: translate(0px, 0px);\n    filter: blur(11px);\n    opacity: 0.35;\n    z-index: 0;\n}\n\n/* ===============================\n   FRONT SLAB & SPIN HANDLE\n================================ */\n\n.front-slab {\n    position: absolute;\n    inset: 0;\n    border-radius: 22px;\n    background: linear-gradient(to right, rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.1) 3%, transparent 1%);\n    /* background: green; */\n    z-index: 3;\n    opacity: .5;\n    transform: translateZ(6px);\n    pointer-events: none;\n}\n\n.spin-handle {\n  display: none;\n  position: absolute;\n  top: 50%;\n  right: -22px;\n  width: 14px;\n  height: 48px;\n  border-radius: 999px;\n  background: rgba(0,0,0,0.25);\n  backdrop-filter: blur(4px);\n  cursor: grab;\n  z-index: 10;\n}\n\n/* ===============================\n   BOOK OBJECT (NO SHADOW)\n================================ */\n.book {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  border-radius: 22px;\n  overflow: hidden;\n  z-index: 2;\n\n  /* IMPORTANT: no box-shadow */\n  box-shadow: none;\n\n  /* transform: perspective(1200px) rotateX(0.6deg); */\n}\n\n/* ===============================\n   PAPER SURFACE (LIGHT FIELD)\n================================ */\n.book .surface {\n  position: absolute;\n  inset: 0;\n  border-radius: inherit;\n  pointer-events: none;\n  z-index: 1;\n\n  background:\n    linear-gradient(\n      to bottom left,\n      rgba(255,255,255,1) 0%,\n      rgba(250,250,250,1) 42%,\n      rgba(240,240,240,1) 100%\n    ),\n    repeating-linear-gradient(\n      0deg,\n      rgba(0,0,0,0.01),\n      rgba(0,0,0,0.01) 1px,\n      transparent 1px,\n      transparent 3px\n    );\n}\n\n/* ===============================\n   LEFT OCCLUSION (CURTAIN)\n================================ */\n.book .curtain {\n  position: absolute;\n  inset: 0;\n  border-radius: inherit;\n  pointer-events: none;\n  z-index: 2;\n\n  background:\n    linear-gradient(\n      to right,\n      rgba(0,0,0,0.20) 0%,\n      rgba(0,0,0,0.12) 8%,\n      rgba(0,0,0,0.05) 16%,\n      rgba(0,0,0,0.02) 22%,\n      rgba(0,0,0,0.00) 30%\n    );\n}\n\n/* ===============================\n   RIGHT HIGHLIGHT\n================================ */\n.book .highlight {\n  position: absolute;\n  inset: 0;\n  border-radius: inherit;\n  pointer-events: none;\n  z-index: 3;\n\n  background:\n    linear-gradient(\n      to left,\n      rgba(255,255,255,0.35) 0%,\n      rgba(255,255,255,0.18) 6%,\n      rgba(255,255,255,0.06) 14%,\n      rgba(255,255,255,0.00) 24%\n    );\n}\n\n/* ===============================\n   PAGE EDGE (THICKNESS)\n================================ */\n.book .edge {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 120px;\n  height: 100%;\n  border-radius: 22px 0 0 22px;\n  pointer-events: none;\n  z-index: 4;\n\n  background:\n    linear-gradient(\n      to right,\n      rgba(215,215,215,0.95) 0%,\n      rgba(245,245,245,0.95) 40%,\n      rgba(255,255,255,0.95) 75%\n    );\n\n  box-shadow:\n    inset -1px 0 0 rgba(0,0,0,0.05);\n}\n\n/* ===============================\n   SVG (PURE WHITE)\n================================ */\n.book svg {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  display: block;\n  z-index: 5;\n}\n\n    /* =====================\n       LEFT: BOOK COVER\n    ====================== */\n    .book-cover {\n      display: flex;\n      flex-direction: column;\n      gap: 12px;\n    }\n\n\n    /* ===============================\n       BOOK + SHADOW SYSTEM\n    =============================== */\n    .book-wrap {\n      width: 320px;\n      aspect-ratio: 2 / 3;\n      position: relative;\n    }\n\n    .shadow-slab,\n    .shadow-slab-2,\n    .shadow-slab-3,\n    .shadow-slab-4 {\n      position: absolute;\n      inset: 0;\n      border-radius: 22px;\n      z-index: 0;\n      will-change: transform, filter, opacity;\n    }\n\n    .shadow-slab {\n      background:\n        radial-gradient(ellipse at 15% 85%, rgba(0,0,0,0.35), rgba(0,0,0,0.18) 35%, transparent 65%),\n        linear-gradient(to right, #1f1f1f 0%, #2a2a2a 45%, #3a3a3a 100%);\n      filter: blur(13px);\n      opacity: 0.35;\n    }\n\n    .shadow-slab-2 {\n      background: radial-gradient(circle at top right, #f6e6a8 0%, #e2c36b 35%, #b58a3c 70%, #7a5524 100%);\n      filter: blur(6px);\n      opacity: 0.30;\n    }\n\n    .shadow-slab-3,\n    .shadow-slab-4 {\n      background: #333;\n      filter: blur(11px);\n      opacity: 0.30;\n    }\n\n    .book {\n      position: relative;\n      width: 100%;\n      height: 100%;\n      border-radius: 22px;\n      overflow: hidden;\n      z-index: 2;\n      background: #f7f4ee;\n    }\n\n    .front-slab {\n      position: absolute;\n      inset: 0;\n      border-radius: 22px;\n      background: linear-gradient(to right, rgba(0,0,0,0.4), rgba(0,0,0,0.1) 3%, transparent 10%);\n      z-index: 3;\n      pointer-events: none;\n      opacity: 0.5;\n    }\n\n\n    @media (prefers-reduced-motion: reduce) {\n      .cover-frame {\n        transition: none;\n        transform: none;\n      }\n      .cover-frame:hover {\n        --lift: 0;\n      }\n    }\n\n    .start-reading {\n      display: inline-flex;\n      align-items: center;\n      justify-content: center;\n      width: 100%;\n      padding: 12px 14px;\n      border-radius: 999px;\n\n      font-size: 11px;\n      letter-spacing: 0.16em;\n      text-transform: uppercase;\n      font-weight: 650;\n      color: rgba(34,197,94,0.92);\n      text-shadow:\n        0 0 10px rgba(34,197,94,0.22),\n        0 0 22px rgba(34,197,94,0.14);\n\n      /* graphite: dark + slightly mineral */\n      background:\n        radial-gradient(120% 140% at 20% 10%, rgba(255,255,255,0.10) 0%, rgba(255,255,255,0.00) 55%),\n        radial-gradient(140% 140% at 80% 90%, rgba(255,255,255,0.06) 0%, rgba(255,255,255,0.00) 60%),\n        linear-gradient(180deg, #141414 0%, #0a0a0a 100%);\n      border: 1px solid rgba(255,255,255,0.10);\n      box-shadow:\n        0 14px 34px rgba(0,0,0,0.22),\n        0 8px 16px rgba(0,0,0,0.18),\n        inset 0 1px 0 rgba(255,255,255,0.10),\n        inset 0 -1px 0 rgba(0,0,0,0.55);\n\n      position: relative;\n      overflow: hidden;\n      cursor: pointer;\n      user-select: none;\n      -webkit-tap-highlight-color: transparent;\n\n      transition:\n        transform 160ms cubic-bezier(0.2, 0.8, 0.2, 1),\n        box-shadow 160ms cubic-bezier(0.2, 0.8, 0.2, 1),\n        border-color 160ms cubic-bezier(0.2, 0.8, 0.2, 1);\n    }\n\n    .start-reading::before {\n      content: \"\";\n      position: absolute;\n      inset: 0;\n      pointer-events: none;\n      /* texture + sheen (very subtle) */\n      background:\n        linear-gradient(120deg, rgba(255,255,255,0.12) 0%, rgba(255,255,255,0.00) 46%),\n        repeating-linear-gradient(0deg,\n          rgba(255,255,255,0.028) 0px,\n          rgba(255,255,255,0.028) 1px,\n          rgba(0,0,0,0.00) 3px,\n          rgba(0,0,0,0.00) 6px),\n        radial-gradient(120% 90% at 50% 0%, rgba(34,197,94,0.14) 0%, rgba(34,197,94,0.00) 62%);\n      opacity: 0.75;\n    }\n\n    .start-reading:hover {\n      transform: translateY(-1px);\n      border-color: rgba(34,197,94,0.30);\n      box-shadow:\n        0 18px 42px rgba(0,0,0,0.24),\n        0 10px 18px rgba(0,0,0,0.18),\n        inset 0 1px 0 rgba(255,255,255,0.12),\n        inset 0 -1px 0 rgba(0,0,0,0.55);\n      text-shadow:\n        0 0 12px rgba(34,197,94,0.28),\n        0 0 26px rgba(34,197,94,0.18);\n    }\n\n    .start-reading:active {\n      transform: translateY(0px);\n      box-shadow:\n        0 14px 34px rgba(0,0,0,0.22),\n        0 8px 16px rgba(0,0,0,0.18),\n        inset 0 1px 0 rgba(255,255,255,0.10),\n        inset 0 -1px 0 rgba(0,0,0,0.55);\n    }\n\n    .start-reading:focus-visible {\n      outline: none;\n      box-shadow:\n        0 18px 42px rgba(0,0,0,0.24),\n        0 0 0 4px rgba(34,197,94,0.22),\n        0 0 0 1px rgba(34,197,94,0.26),\n        inset 0 1px 0 rgba(255,255,255,0.12),\n        inset 0 -1px 0 rgba(0,0,0,0.55);\n      border-color: rgba(34,197,94,0.34);\n    }\n\n    @media (prefers-reduced-motion: reduce) {\n      .start-reading {\n        transition: none;\n      }\n      .start-reading:hover {\n        transform: none;\n      }\n    }\n\n    /* =====================\n       CENTER: CONTENT\n    ====================== */\n    .content h1 {\n      font-size: 40px;\n      font-weight: 800;\n      line-height: 1.15;\n      margin: 0;\n    }\n\n    .byline {\n      font-size: 13px;\n      letter-spacing: 0.12em;\n      color: #666;\n      font-weight: 600;\n    }\n\n    .tagline {\n      font-size: 18px;\n      font-weight: 500;\n      color: #333;\n    }\n\n    .paragraph {\n      font-size: 15px;\n      color: #222;\n    }\n\n    .meta {\n      margin-top: 20px;\n      padding-top: 20px;\n      border-top: 1px solid var(--line);\n      display: grid;\n      grid-template-columns: repeat(2, 1fr);\n      gap: 12px 24px;\n      font-size: 13px;\n    }\n\n    .author {\n      margin-top: 20px;\n      padding-top: 20px;\n      border-top: 1px solid var(--line);\n      display: flex;\n      gap: 16px;\n      align-items: flex-start;\n    }\n\n    .author img {\n      width: 44px;\n      height: 44px;\n      border-radius: 50%;\n    }\n\n    /* =====================\n       RIGHT: RELATED\n    ====================== */\n    .related {\n      display: flex;\n      flex-direction: column;\n      gap: 20px;\n    }\n\n    .related-title {\n      font-size: 11px;\n      letter-spacing: 0.14em;\n      color: #666;\n      text-transform: uppercase;\n      font-weight: 600;\n    }\n\n    .related-item {\n      display: flex;\n      flex-direction: column;\n      gap: 6px;\n      cursor: pointer;\n      transition: transform 0.12s ease, box-shadow 0.12s ease;\n    }\n\n    .related-item:hover {\n      transform: translateY(-2px);\n    }\n\n    .related-thumb {\n      border-radius: 6px;\n      overflow: hidden;\n      aspect-ratio: 3 / 4;\n      box-shadow: 0 8px 24px rgba(0,0,0,0.1);\n\n      /* Gray placeholder shape */\n      background: linear-gradient(135deg, #e5e7eb 0%, #d1d5db 45%, #cbd5e1 100%);\n      border: 1px solid rgba(0,0,0,0.06);\n    }\n\n    .related-thumb img {\n      width: 100%;\n      height: 100%;\n      object-fit: cover;\n      filter: grayscale(1);\n      opacity: 0.85;\n      transition: filter 160ms ease, opacity 160ms ease;\n    }\n\n    .related-thumb .thumb-placeholder {\n      width: 100%;\n      height: 100%;\n      display: block;\n    }\n\n    .related-item a {\n      font-size: 12px;\n      font-weight: 600;\n      color: #111;\n    }\n\n    /* =====================\n       RIGHT: 13 CHAPTERS\n    ====================== */\n    .chapters {\n      display: flex;\n      flex-direction: column;\n      gap: 10px;\n    }\n\n    .chapters-title {\n      font-size: 11px;\n      letter-spacing: 0.12em;\n      color: rgba(17,17,17,0.52);\n      text-transform: uppercase;\n      font-weight: 600;\n    }\n\n    .chapters-help {\n      margin-top: -4px;\n      font-size: 11px;\n      line-height: 1.35;\n      color: rgba(17,17,17,0.42);\n    }\n\n    .chapter-list {\n      list-style: none;\n      padding: 0;\n      margin: 0;\n      display: flex;\n      flex-direction: column;\n      gap: 0;\n      border-top: 1px solid rgba(0,0,0,0.06);\n    }\n\n    .chapter-item {\n      display: grid;\n      grid-template-columns: 3ch 1fr;\n      gap: 12px;\n      align-items: start;\n      padding: 10px 0;\n      border-bottom: 1px solid rgba(0,0,0,0.06);\n    }\n\n    .chapter-item--preface .chapter-name {\n      font-weight: 760;\n      letter-spacing: -0.01em;\n      color: rgba(17,17,17,0.90);\n    }\n\n    .chapter-item--current .chapter-name {\n      color: rgba(17,17,17,0.92);\n      text-decoration: underline;\n      text-decoration-thickness: 1px;\n      text-underline-offset: 3px;\n      text-decoration-color: rgba(17,17,17,0.22);\n    }\n\n    .chapter-num {\n      width: auto;\n      height: auto;\n      border-radius: 0;\n      display: block;\n      text-align: right;\n      font-size: 11px;\n      font-weight: 650;\n      color: rgba(17,17,17,0.46);\n      font-variant-numeric: tabular-nums;\n    }\n\n    .chapter-name {\n      font-size: 12px;\n      font-weight: 600;\n      color: rgba(17,17,17,0.80);\n      line-height: 1.3;\n    }\n\n    .chapter-note {\n      margin-top: 2px;\n      font-size: 11px;\n      color: rgba(17,17,17,0.46);\n      line-height: 1.4;\n    }\n\n    /* =====================\n       RESPONSIVE\n    ====================== */\n    @media (max-width: 900px) {\n      .chapter-content {\n        max-width: 100%;\n        padding: 0 24px;\n      }\n\n      .page-widget {\n        max-width: 100%;\n        margin-left: 24px;\n        margin-right: 24px;\n      }\n\n      .chapter-title {\n        font-size: 42px;\n      }\n\n      .chapter-body {\n        font-size: 18px;\n      }\n\n      .chapter-body h2 {\n        font-size: 32px;\n      }\n\n      .chapter-body h3 {\n        font-size: 24px;\n      }\n    }\n\n    @media (max-width: 768px) {\n      .header {\n        flex-direction: column;\n        gap: 12px;\n      }\n\n      .chapter-content {\n        padding: 0 16px;\n      }\n\n      .page-widget {\n        margin-left: 16px;\n        margin-right: 16px;\n      }\n\n      .chapter-title {\n        font-size: 38px;\n      }\n\n      .chapter-body {\n        font-size: 17px;\n      }\n\n      .chapter-body h2 {\n        font-size: 30px;\n      }\n\n      .chapter-body h3 {\n        font-size: 22px;\n      }\n    }\n  </style>\n</head>\n\n<body>\n  <div class=\"page\">\n    <div class=\"container\">\n\n      <!-- SIDEBAR BACKDROP -->\n      <div class=\"sidebar-backdrop\" id=\"sidebarBackdrop\"></div>\n\n      <!-- SIDEBAR -->\n      <aside class=\"sidebar\" id=\"sidebar\">\n        <div class=\"sidebar__title\">Working Fundamentals</div>\n        <ul class=\"sidebar__chapter-list\">\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-introduction\" class=\"sidebar__chapter-link\" target=\"_blank\">Introduction</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-1-of-13-programming-fundamentals\" class=\"sidebar__chapter-link sidebar__chapter-link\" target=\"_blank\">Chapter 1 ¬∑ Programming Fundamentals</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-2-of-13-data-structures\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 2 ¬∑ Data Structures</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-3-of-13-algorithms-and-complexity\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 3 ¬∑ Algorithms & Complexity</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-4-of-13-control-and-flow\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 4 ¬∑ Control & Flow</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-5-of-13-state-and-change\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 5 ¬∑ State & Change</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"#\" class=\"sidebar__chapter-link\"> class=\"sidebar__chapter-link sidebar__chapter-link--current\">Chapter 6 ¬∑ Design\\ Principles</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-7-of-13-architecture\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 7 ¬∑ Architecture</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-8-of-13-persistence-and-data-modeling\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 8 ¬∑ Persistence & Data Modeling</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-9-of-13-interfaces-and-apis\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 9 ¬∑ Interfaces & APIs</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-10-of-13-errors-and-failure\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 10 ¬∑ Errors & Failure</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-11-of-13-testing\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 11 ¬∑ Testing</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-12-of-13-performance-and-scale\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 12 ¬∑ Performance & Scale</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-13-of-13-the-developers-role\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 13 ¬∑ The Developer''s Role</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-outroduction\" class=\"sidebar__chapter-link\" target=\"_blank\">Outroduction</a>\n          </li>\n        </ul>\n      </aside>\n\n      <!-- HEADER -->\n      <header class=\"header\" id=\"header\">\n        <a href=\"https://arvinjaysoncastro.com/\" class=\"brand\" target=\"_blank\">Arvin Jayson Castro</a>\n        <nav class=\"nav\">\n          <a href=\"https://arvinjaysoncastro.com/hungry-dev-mind\" target=\"_blank\">Books</a>\n          <a href=\"https://arvinjaysoncastro.com/working-systems\" target=\"_blank\">Working Systems</a>\n          <a href=\"https://arvinjaysoncastro.com/about\" target=\"_blank\">16 Years</a>\n          <div class=\"linkedin\">\n            <a href=\"https://www.linkedin.com/in/arvin-jayson-castro-7458199a/\" target=\"_blank\">linkedIn</a>\n            <span>let''s connect</span>\n          </div>\n        </nav>\n      </header>\n\n      <!-- PAGE WIDGET (TOP) - REMOVED -->\n      <div style=\"display: none;\">\n          <ol class=\"page-widget__pages-list\">\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">P</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Preface</div>\n                  <div class=\"page-widget__page-note\">Why fundamentals still decide outcomes.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item page-widget__page-item--current\">\n                <span class=\"page-widget__page-number\">1</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 1</div>\n                  <div class=\"page-widget__page-note\">Core principles and constraints.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">2</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 2</div>\n                  <div class=\"page-widget__page-note\">Boundaries, ownership, and interfaces.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">3</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 3</div>\n                  <div class=\"page-widget__page-note\">State, consistency, and failure modes.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">4</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 4</div>\n                  <div class=\"page-widget__page-note\">Abstractions that survive change.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">5</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 5</div>\n                  <div class=\"page-widget__page-note\">Simplicity as an engineering practice.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">6</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 6</div>\n                  <div class=\"page-widget__page-note\">Reliability, observability, and feedback.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">7</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 7</div>\n                  <div class=\"page-widget__page-note\">Delivery systems and decision hygiene.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">8</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 8</div>\n                  <div class=\"page-widget__page-note\">Documentation that stays useful.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">9</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 9</div>\n                  <div class=\"page-widget__page-note\">Testing strategy for predictable change.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">10</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 10</div>\n                  <div class=\"page-widget__page-note\">Pragmatic architecture for teams.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">11</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 11</div>\n                  <div class=\"page-widget__page-note\">Operational excellence without ceremony.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">12</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 12</div>\n                  <div class=\"page-widget__page-note\">Leadership, standards, and leverage.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">13</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 13</div>\n                  <div class=\"page-widget__page-note\">Making fundamentals non-negotiable.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">PS</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Postscript</div>\n                  <div class=\"page-widget__page-note\">A short operating model to carry forward.</div>\n                </div>\n              </a>\n            </li>\n          </ol>\n        </div>\n      </div>\n\n      <!-- MAIN -->\n      <main class=\"main\" id=\"main\">\n\n        <!-- CHAPTER CONTENT (Option 1: Magazine-style) -->\n        <article class=\"chapter-content\">\n          <header class=\"chapter-header\">\n            <div class=\"book-title\">Working Fundamentals</div>\n            <div class=\"chapter-number\" id=\"chapterIndicator\">\n              <span>chapter 6 of 13</span>\n              <span class=\"chapter-number__icon\" id=\"chapterIndicatorIcon\">‚ñæ</span>\n            </div>\n            <h1 class=\"chapter-title\">Design Principles</h1>\n            <p class=\"chapter-subtitle\">Why boundaries matter more than cleverness</p>\n          </header>\n\n          <div class=\"chapter-body\">\n            <h3>What this chapter is</h3>\n\n            <p>This chapter is not a checklist.It is not a style guide.It is not a collection of slogans.</p>\n\n            <p>This chapter explains <strong>why design principles exist at all</strong>.</p>\n\n            <p>They were not invented by committees.They were <strong>discovered through failure</strong>.</p>\n\n            <h2>The core truth</h2>\n\n            <p>Design principles are <strong>damage control mechanisms</strong>.</p>\n\n            <p>They exist because:</p>\n\n            <ul>\n\n            <li>systems grow</li>\n\n            </ul>\n\n            <ul>\n\n            <li>people change</li>\n\n            </ul>\n\n            <ul>\n\n            <li>assumptions break</li>\n\n            </ul>\n\n            <ul>\n\n            <li>time passes</li>\n\n            </ul>\n\n            <p>Good design is not about elegance.It is about <strong>survivability</strong>.</p>\n\n            <h2>Principles are not rules</h2>\n\n            <p>Rules demand obedience.Principles demand judgment.</p>\n\n            <p>A principle does not say:</p>\n\n            <blockquote>‚ÄúAlways do this.‚Äù</blockquote>\n\n            <p>It says:</p>\n\n            <blockquote>‚ÄúIf you ignore this, something predictable will go wrong.‚Äù</blockquote>\n\n            <p>üß† <strong>Mental Model</strong>Principles are warnings written in advance.</p>\n\n            <h2>Separation of concerns: the foundation</h2>\n\n            <p>When responsibilities mix:</p>\n\n            <ul>\n\n            <li>changes collide</li>\n\n            </ul>\n\n            <ul>\n\n            <li>bugs hide</li>\n\n            </ul>\n\n            <ul>\n\n            <li>reasoning slows</li>\n\n            </ul>\n\n            <p>Separation is not about purity.It is about <strong>blast radius</strong>.</p>\n\n            <p>If something breaks, how much breaks with it?</p>\n\n            <p>üß† <strong>Architect‚Äôs Note</strong>A concern separated is a failure contained.</p>\n\n            <h2>Boundaries create safety</h2>\n\n            <p>A boundary is a line you agree not to cross casually.</p>\n\n            <p>Boundaries answer:</p>\n\n            <ul>\n\n            <li>what can change freely</li>\n\n            </ul>\n\n            <ul>\n\n            <li>what must remain stable</li>\n\n            </ul>\n\n            <ul>\n\n            <li>where assumptions stop</li>\n\n            </ul>\n\n            <p>Without boundaries:</p>\n\n            <ul>\n\n            <li>everything depends on everything</li>\n\n            </ul>\n\n            <ul>\n\n            <li>fear replaces confidence</li>\n\n            </ul>\n\n            <ul>\n\n            <li>refactoring becomes dangerous</li>\n\n            </ul>\n\n            <p>üß† <strong>Perspective</strong>Most ‚Äútight coupling‚Äù is actually missing boundaries.</p>\n\n            <h2>Single Responsibility, correctly understood</h2>\n\n            <p>Single Responsibility does not mean:</p>\n\n            <blockquote>‚ÄúOne function does one thing.‚Äù</blockquote>\n\n            <p>It means:</p>\n\n            <blockquote>‚ÄúOne reason to change.‚Äù</blockquote>\n\n            <p>When code changes for multiple reasons:</p>\n\n            <ul>\n\n            <li>fixes interfere</li>\n\n            </ul>\n\n            <ul>\n\n            <li>intent blurs</li>\n\n            </ul>\n\n            <ul>\n\n            <li>history accumulates</li>\n\n            </ul>\n\n            <p>üß† <strong>Mental Model</strong>If a change request feels ambiguous, responsibility is unclear.</p>\n\n            <h2>DRY, without superstition</h2>\n\n            <p>‚ÄúDon‚Äôt Repeat Yourself‚Äù is often misapplied.</p>\n\n            <p>It does <strong>not</strong> mean:</p>\n\n            <ul>\n\n            <li>eliminate all duplication</li>\n\n            </ul>\n\n            <ul>\n\n            <li>reuse aggressively</li>\n\n            </ul>\n\n            <ul>\n\n            <li>abstract early</li>\n\n            </ul>\n\n            <p>It means:</p>\n\n            <blockquote>‚ÄúA rule should have one authoritative definition.‚Äù</blockquote>\n\n            <p>Duplication of <em>knowledge</em> is the enemy.Duplication of <em>code</em> is sometimes the price of clarity.</p>\n\n            <p>‚ö†Ô∏è <strong>Common Drift</strong>Premature abstraction spreads mistakes faster.</p>\n\n            <h2>Coupling vs cohesion</h2>\n\n            <p>Cohesion:</p>\n\n            <ul>\n\n            <li>things that belong together</li>\n\n            </ul>\n\n            <ul>\n\n            <li>shared purpose</li>\n\n            </ul>\n\n            <ul>\n\n            <li>aligned change</li>\n\n            </ul>\n\n            <p>Coupling:</p>\n\n            <ul>\n\n            <li>things that depend on each other</li>\n\n            </ul>\n\n            <ul>\n\n            <li>shared assumptions</li>\n\n            </ul>\n\n            <ul>\n\n            <li>forced coordination</li>\n\n            </ul>\n\n            <p>High cohesion is good.High coupling is dangerous.</p>\n\n            <p>üß† <strong>Architect‚Äôs Note</strong>Aim to increase cohesion before reducing coupling.</p>\n\n            <h2>Cleverness is a liability</h2>\n\n            <p>Clever code:</p>\n\n            <ul>\n\n            <li>impresses briefly</li>\n\n            </ul>\n\n            <ul>\n\n            <li>confuses later</li>\n\n            </ul>\n\n            <ul>\n\n            <li>resists change</li>\n\n            </ul>\n\n            <p>Clarity scales.Cleverness does not.</p>\n\n            <p>üß† <strong>Perspective</strong>If code needs explanation, it is already fragile.</p>\n\n            <h2>Design for change, not prediction</h2>\n\n            <p>You cannot predict:</p>\n\n            <ul>\n\n            <li>future features</li>\n\n            </ul>\n\n            <ul>\n\n            <li>future scale</li>\n\n            </ul>\n\n            <ul>\n\n            <li>future teams</li>\n\n            </ul>\n\n            <p>You <em>can</em> predict:</p>\n\n            <ul>\n\n            <li>change will happen</li>\n\n            </ul>\n\n            <ul>\n\n            <li>assumptions will break</li>\n\n            </ul>\n\n            <ul>\n\n            <li>pressure will arrive</li>\n\n            </ul>\n\n            <p>Good design:</p>\n\n            <ul>\n\n            <li>localizes change</li>\n\n            </ul>\n\n            <ul>\n\n            <li>limits impact</li>\n\n            </ul>\n\n            <ul>\n\n            <li>preserves invariants</li>\n\n            </ul>\n\n            <h2>Abstractions must earn their place</h2>\n\n            <p>An abstraction should:</p>\n\n            <ul>\n\n            <li>remove repetition of reasoning</li>\n\n            </ul>\n\n            <ul>\n\n            <li>hide volatile details</li>\n\n            </ul>\n\n            <ul>\n\n            <li>clarify intent</li>\n\n            </ul>\n\n            <p>If it only:</p>\n\n            <ul>\n\n            <li>saves lines</li>\n\n            </ul>\n\n            <ul>\n\n            <li>feels elegant</li>\n\n            </ul>\n\n            <ul>\n\n            <li>looks reusable</li>\n\n            </ul>\n\n            <p>‚Ä¶it is suspect.</p>\n\n            <p>üß† <strong>Mental Model</strong>Abstractions should make misuse harder, not easier.</p>\n\n            <h2>Design debt vs technical debt</h2>\n\n            <p>Technical debt is often blamed.Design debt is more dangerous.</p>\n\n            <p>Design debt appears when:</p>\n\n            <ul>\n\n            <li>boundaries are skipped</li>\n\n            </ul>\n\n            <ul>\n\n            <li>responsibilities blur</li>\n\n            </ul>\n\n            <ul>\n\n            <li>shortcuts harden into structure</li>\n\n            </ul>\n\n            <p>It compounds silently.</p>\n\n            <p>‚ö†Ô∏è <strong>Common Drift</strong>Most ‚Äúlegacy problems‚Äù began as reasonable shortcuts.</p>\n\n            <h2>Minimal practice (still no code)</h2>\n\n            <p><strong>Problem:</strong>‚ÄúA module handles validation, persistence, logging, and notification.‚Äù</p>\n\n            <p>Ask:</p>\n\n            <ul>\n\n            <li>How many reasons can this change?</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Which changes should be independent?</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Where should boundaries exist?</li>\n\n            </ul>\n\n            <p>If the answers overlap, redesign is needed.</p>\n\n            <h2>What beginners gain here</h2>\n\n            <ul>\n\n            <li>A sense of restraint</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Fewer ‚Äúmagic fixes‚Äù</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Cleaner mental models</li>\n\n            </ul>\n\n            <h2>What experienced developers recognize</h2>\n\n            <ul>\n\n            <li>Why systems rot over time</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Why refactors feel dangerous</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Why clever designs age poorly</li>\n\n            </ul>\n\n            <p>Principles were ignored.</p>\n\n            <h2>What this chapter deliberately avoids</h2>\n\n            <ul>\n\n            <li>Named patterns</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Framework opinions</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Methodology wars</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Dogma</li>\n\n            </ul>\n\n            <p>Those are downstream.</p>\n\n            <h2>Closing</h2>\n\n            <p>Design principles are not about beauty.They are about <strong>longevity</strong>.</p>\n\n            <p>Boundaries protect clarity.Clarity protects systems.Systems that hold protect people.</p>\n\n            <p>Choose boring design.Boring design survives.</p>\n          </div>\n        </article>\n\n        <!-- RIGHT -->\n\n      </main>\n\n      <!-- CHAPTER NAVIGATION (BOTTOM) -->\n      <nav class=\"chapter-nav-bottom\" id=\"chapterNavBottom\">\n        <a href=\"#\" class=\"chapter-nav-bottom__link chapter-nav-bottom__link--prev\" id=\"prevChapter\">\n          <span class=\"chapter-nav-bottom__arrow\">‚Üê</span>\n          <span class=\"chapter-nav-bottom__label\">Previous</span>\n        </a>\n        <a href=\"#\" class=\"chapter-nav-bottom__link chapter-nav-bottom__link--next\" id=\"nextChapter\">\n          <span class=\"chapter-nav-bottom__label\">Next</span>\n          <span class=\"chapter-nav-bottom__arrow\">‚Üí</span>\n        </a>\n      </nav>\n\n      <!-- PAGE WIDGET (BOTTOM) - REMOVED -->\n      <div style=\"display: none;\">\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">P</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Preface</div>\n                  <div class=\"page-widget__page-note\">Why fundamentals still decide outcomes.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item page-widget__page-item--current\">\n                <span class=\"page-widget__page-number\">1</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 1</div>\n                  <div class=\"page-widget__page-note\">Core principles and constraints.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">2</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 2</div>\n                  <div class=\"page-widget__page-note\">Boundaries, ownership, and interfaces.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">3</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 3</div>\n                  <div class=\"page-widget__page-note\">State, consistency, and failure modes.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">4</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 4</div>\n                  <div class=\"page-widget__page-note\">Abstractions that survive change.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">5</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 5</div>\n                  <div class=\"page-widget__page-note\">Simplicity as an engineering practice.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">6</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 6</div>\n                  <div class=\"page-widget__page-note\">Reliability, observability, and feedback.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">7</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 7</div>\n                  <div class=\"page-widget__page-note\">Delivery systems and decision hygiene.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">8</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 8</div>\n                  <div class=\"page-widget__page-note\">Documentation that stays useful.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">9</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 9</div>\n                  <div class=\"page-widget__page-note\">Testing strategy for predictable change.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">10</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 10</div>\n                  <div class=\"page-widget__page-note\">Pragmatic architecture for teams.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">11</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 11</div>\n                  <div class=\"page-widget__page-note\">Operational excellence without ceremony.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">12</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 12</div>\n                  <div class=\"page-widget__page-note\">Leadership, standards, and leverage.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">13</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 13</div>\n                  <div class=\"page-widget__page-note\">Making fundamentals non-negotiable.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">PS</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Postscript</div>\n                  <div class=\"page-widget__page-note\">A short operating model to carry forward.</div>\n                </div>\n              </a>\n            </li>\n          </ol>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <!-- PAGE WIDGET JS -->\n  <!-- SIDEBAR TOGGLE JS -->\n  <script>\n  (() => {\n    const sidebar = document.getElementById(''sidebar'');\n    const backdrop = document.getElementById(''sidebarBackdrop'');\n    const indicator = document.getElementById(''chapterIndicator'');\n    const icon = document.getElementById(''chapterIndicatorIcon'');\n    const header = document.getElementById(''header'');\n    const main = document.getElementById(''main'');\n    const body = document.body;\n\n    if (!sidebar || !backdrop || !indicator || !icon || !header || !main) return;\n\n    let isOpen = false;\n    let scrollTimeout = null;\n\n    const openSidebar = () => {\n      isOpen = true;\n      sidebar.classList.add(''sidebar--open'');\n      backdrop.classList.add(''sidebar-backdrop--visible'');\n      header.classList.add(''header--shifted'');\n      main.classList.add(''main--shifted'');\n      icon.classList.add(''chapter-number__icon--open'');\n      body.classList.add(''sidebar-open'');\n    };\n\n    const closeSidebar = () => {\n      isOpen = false;\n      sidebar.classList.remove(''sidebar--open'');\n      backdrop.classList.remove(''sidebar-backdrop--visible'');\n      header.classList.remove(''header--shifted'');\n      main.classList.remove(''main--shifted'');\n      icon.classList.remove(''chapter-number__icon--open'');\n      body.classList.remove(''sidebar-open'');\n    };\n\n    // Toggle sidebar\n    indicator.addEventListener(''click'', (e) => {\n      e.stopPropagation();\n      if (isOpen) {\n        closeSidebar();\n      } else {\n        openSidebar();\n      }\n    });\n\n    // Close sidebar when clicking backdrop\n    backdrop.addEventListener(''click'', () => {\n      closeSidebar();\n    });\n\n    // Close sidebar when clicking outside\n    document.addEventListener(''click'', (e) => {\n      // Don''t close sidebar if clicking on brand link or nav links\n      const brandLink = header.querySelector(''.brand'');\n      const isClickOnLink = brandLink && brandLink.contains(e.target);\n      const isClickOnNav = header.querySelector(''.nav'') && header.querySelector(''.nav'').contains(e.target);\n      \n      if (isOpen && !sidebar.contains(e.target) && !indicator.contains(e.target) && !isClickOnLink && !isClickOnNav) {\n        closeSidebar();\n      }\n    });\n\n    // Close sidebar on scroll (debounced)\n    const handleScroll = () => {\n      if (isOpen) {\n        clearTimeout(scrollTimeout);\n        scrollTimeout = setTimeout(() => {\n          closeSidebar();\n        }, 100);\n      }\n    };\n\n    // Listen for scroll on main content\n    window.addEventListener(''scroll'', handleScroll, { passive: true });\n    \n    // Also listen for scroll attempts on body (when scroll is disabled)\n    let lastScrollTop = window.pageYOffset;\n    const handleScrollAttempt = () => {\n      if (isOpen) {\n        const currentScrollTop = window.pageYOffset;\n        if (currentScrollTop !== lastScrollTop) {\n          closeSidebar();\n        }\n        lastScrollTop = currentScrollTop;\n      }\n    };\n\n    // Prevent scroll on body when sidebar is open\n    document.addEventListener(''wheel'', (e) => {\n      if (isOpen && !sidebar.contains(e.target)) {\n        e.preventDefault();\n        closeSidebar();\n      }\n    }, { passive: false });\n\n    // Prevent touch scroll on body when sidebar is open\n    document.addEventListener(''touchmove'', (e) => {\n      if (isOpen && !sidebar.contains(e.target)) {\n        e.preventDefault();\n        closeSidebar();\n      }\n    }, { passive: false });\n  })();\n  </script>\n\n  <!-- CHAPTER NAVIGATION (BOTTOM) JS -->\n  <script>\n  (() => {\n    // Chapter list: Preface = 0, Chapter 1-13 = 1-13, Postscript = 14\n    const chapters = [\n      { id: ''preface'', title: ''Preface'', url: ''https://arvinjaysoncastro.com/working-fundamentals-introduction'' },\n      { id: ''ch1'', title: ''Chapter 1'', url: ''https://arvinjaysoncastro.com/working-fundamentals-1-of-13-programming-fundamentals'' },\n      { id: ''ch2'', title: ''Chapter 2'', url: ''https://arvinjaysoncastro.com/working-fundamentals-2-of-13-data-structures'' },\n      { id: ''ch3'', title: ''Chapter 3'', url: ''https://arvinjaysoncastro.com/working-fundamentals-3-of-13-algorithms-and-complexity'' },\n      { id: ''ch4'', title: ''Chapter 4'', url: ''https://arvinjaysoncastro.com/working-fundamentals-4-of-13-control-and-flow'' },\n      { id: ''ch5'', title: ''Chapter 5'', url: ''https://arvinjaysoncastro.com/working-fundamentals-5-of-13-state-and-change'' },\n      { id: ''ch6'', title: ''Chapter 6'', url: ''https://arvinjaysoncastro.com/working-fundamentals-6-of-13-design-principles'' },\n      { id: ''ch7'', title: ''Chapter 7'', url: ''https://arvinjaysoncastro.com/working-fundamentals-7-of-13-architecture'' },\n      { id: ''ch8'', title: ''Chapter 8'', url: ''https://arvinjaysoncastro.com/working-fundamentals-8-of-13-persistence-and-data-modeling'' },\n      { id: ''ch9'', title: ''Chapter 9'', url: ''https://arvinjaysoncastro.com/working-fundamentals-9-of-13-interfaces-and-apis'' },\n      { id: ''ch10'', title: ''Chapter 10'', url: ''https://arvinjaysoncastro.com/working-fundamentals-10-of-13-errors-and-failure'' },\n      { id: ''ch11'', title: ''Chapter 11'', url: ''https://arvinjaysoncastro.com/working-fundamentals-11-of-13-testing'' },\n      { id: ''ch12'', title: ''Chapter 12'', url: ''https://arvinjaysoncastro.com/working-fundamentals-12-of-13-performance-and-scale'' },\n      { id: ''ch13'', title: ''Chapter 13'', url: ''https://arvinjaysoncastro.com/working-fundamentals-13-of-13-the-developers-role'' },\n      { id: ''postscript'', title: ''Postscript'', url: ''https://arvinjaysoncastro.com/working-fundamentals-outroduction'' }\n    ];\n\n    const currentChapterIndex = 6; // Chapter 1 is index 1 (Preface is 0)\n    const prevLink = document.getElementById(''prevChapter'');\n    const nextLink = document.getElementById(''nextChapter'');\n\n    if (!prevLink || !nextLink) return;\n\n    // Previous chapter\n    if (currentChapterIndex > 0) {\n      const prevChapter = chapters[currentChapterIndex - 1];\n      prevLink.href = prevChapter.url;\n      prevLink.target = ''_blank'';\n      prevLink.innerHTML = `\n        <span class=\"chapter-nav-bottom__arrow\">‚Üê</span>\n        <span class=\"chapter-nav-bottom__label\">Previous: ${prevChapter.title}</span>\n      `;\n    } else {\n      // No previous chapter - show \"go back to book list\"\n      prevLink.href = ''https://arvinjaysoncastro.com/hungry-dev-mind'';\n      prevLink.target = ''_blank'';\n      prevLink.innerHTML = `\n        <span class=\"chapter-nav-bottom__arrow\">‚Üê</span>\n        <span class=\"chapter-nav-bottom__label\">Go back to book list</span>\n      `;\n    }\n\n    // Next chapter\n    if (currentChapterIndex < chapters.length - 1) {\n      const nextChapter = chapters[currentChapterIndex + 1];\n      nextLink.href = nextChapter.url;\n      nextLink.target = ''_blank'';\n      nextLink.innerHTML = `\n        <span class=\"chapter-nav-bottom__label\">Next: ${nextChapter.title}</span>\n        <span class=\"chapter-nav-bottom__arrow\">‚Üí</span>\n      `;\n    } else {\n      // No next chapter - show \"go back to book list\"\n      nextLink.href = ''https://arvinjaysoncastro.com/hungry-dev-mind'';\n      nextLink.target = ''_blank'';\n      nextLink.innerHTML = `\n        <span class=\"chapter-nav-bottom__label\">Go back to book list</span>\n        <span class=\"chapter-nav-bottom__arrow\">‚Üí</span>\n      `;\n    }\n  })();\n  </script>\n\n  <!-- OPTIONAL JS -->\n <script>\n(() => {\n  const wrap = document.querySelector(''.book-wrap'');\n  if (!wrap) return;\n\n  const slab1 = wrap.querySelector(''.shadow-slab'');\n  const slab2 = wrap.querySelector(''.shadow-slab-2'');\n  const slab3 = wrap.querySelector(''.shadow-slab-3'');\n  const slab4 = wrap.querySelector(''.shadow-slab-4'');\n  const front = wrap.querySelector(''.front-slab'');\n\n  const clamp = (v, min, max) => Math.max(min, Math.min(max, v));\n\n  let raf = 0;\n  let lx = 0; // light vector x\n  let ly = 0; // light vector y\n\n  function render() {\n    raf = 0;\n\n    // Shadow direction = opposite of light\n    const sx = -lx;\n    const sy = -ly;\n\n    const intensity = Math.abs(lx) + Math.abs(ly);\n\n    /* ---------------------------\n       SLAB 1 ‚Äî KEY CAST SHADOW\n    ---------------------------- */\n    slab1.style.transform =\n      `translate(${(sx * 38).toFixed(2)}px, ${(sy * 38).toFixed(2)}px)`;\n    slab1.style.filter =\n      `blur(${(14 + intensity * 6).toFixed(2)}px)`;\n    slab1.style.opacity =\n      (0.28 + intensity * 0.14).toFixed(2);\n\n    /* ---------------------------\n       SLAB 2 ‚Äî BOUNCE / COLOR BLEED\n    ---------------------------- */\n    slab2.style.transform =\n      `translate(${(sx * 14).toFixed(2)}px, ${(sy * 14).toFixed(2)}px)`;\n    slab2.style.filter =\n      `blur(${(6 + intensity * 4).toFixed(2)}px)`;\n    slab2.style.opacity =\n      (0.16 + intensity * 0.10).toFixed(2);\n\n    /* ---------------------------\n       SLAB 3 ‚Äî CONTACT SHADOW\n    ---------------------------- */\n    slab3.style.transform =\n      `translate(${(sx * 6).toFixed(2)}px, ${(sy * 6).toFixed(2)}px)`;\n    slab3.style.filter = `blur(9px)`;\n    slab3.style.opacity =\n      (0.24 + Math.abs(lx) * 0.06).toFixed(2);\n\n    /* ---------------------------\n       SLAB 4 ‚Äî AMBIENT DEPTH\n    ---------------------------- */\n    slab4.style.transform =\n      `translate(${(sx * 3).toFixed(2)}px, ${(sy * 3).toFixed(2)}px)`;\n    slab4.style.filter = `blur(18px)`;\n    slab4.style.opacity =\n      (0.16 + Math.abs(ly) * 0.04).toFixed(2);\n\n    /* ---------------------------\n       FRONT SLAB ‚Äî SPECULAR RESPONSE\n       (moves TOWARD light)\n    ---------------------------- */\nif (front) {\n  // Very subtle counter-parallax (NOT toward light)\n  front.style.transform =\n    `translate(${(-lx * 1.6).toFixed(2)}px, ${(-ly * 1.6).toFixed(2)}px)`;\n\n  // Opacity increases when light is grazing\n  front.style.opacity =\n    (0.34 + intensity * 0.22).toFixed(2);\n\n  // Highlight shifts OPPOSITE the light direction\n  const gx = 50 - lx * 28;\n  const gy = 50 - ly * 28;\n  front.style.backgroundPosition = `${gx}% ${gy}%`;\n}\n\n  }\n\n  function onMove(e) {\n    const r = wrap.getBoundingClientRect();\n    const cx = r.left + r.width / 2;\n    const cy = r.top + r.height / 2;\n\n    // LIGHT VECTOR (mouse = light source)\n    lx = clamp((e.clientX - cx) / (r.width / 2), -1, 1);\n    ly = clamp((e.clientY - cy) / (r.height / 2), -1, 1);\n\n    if (!raf) raf = requestAnimationFrame(render);\n  }\n\n  window.addEventListener(''mousemove'', onMove, { passive: true });\n})();\n</script>\n</body>\n</html>\n", "css": "body { font-family: system-ui; padding: 20px; }", "js": "console.log(\"Code Runner initialized\");", "imports": {"css": [], "js": []}, "entryPoint": {"type": "htmlDocument", "mountSelector": "#app", "injectMountIfMissing": true}, "settings": {"mode": "play", "viewport": {"type": "responsive", "background": "white"}, "securityPreset": "trusted", "autoRun": true, "runOnLoad": true}, "codePanel": {"isVisible": false, "isEditable": false}}}]}]}',
    '1.0.0',
    true,
    '88b62d69-6012-47ae-b45b-9ccc5f1dc87c',
    NOW(),
    NOW(),
    'public',
    NULL,
    false,
    NULL,
    'page',
    NULL,
    NULL,
    NULL,
    NULL,
    NULL,
    false,
    0,
    NULL,
    true,
    false,
    NULL,
    NULL,
    '{"id": "block-root", "style": {}, "type": "container", "children": [{"id": "temp-container", "style": {"width": "100vw", "height": "100vh"}, "type": "container", "children": [{"id": "temp-coderunner", "style": {}, "type": "codeRunner", "data": {"html": "<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n  <meta charset=\"UTF-8\" />\n  <title>Working Fundamentals ‚Äî Arvin Jayson Castro</title>\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n\n  <!-- =====================\n       GLOBAL STYLES\n  ====================== -->\n  <style>\n    :root {\n      --bg: #f7f8f8;\n      --ink: #111111;\n      --muted: #666666;\n      --line: rgba(0,0,0,0.08);\n      --accent: #16a34a;\n      --link: #3b82f6;\n      --max-width: 1200px;\n    }\n\n    * {\n      box-sizing: border-box;\n    }\n\n    body {\n      margin: 0;\n      font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, sans-serif;\n      color: var(--ink);\n      background-color: var(--bg);\n      background-image:\n        radial-gradient(980px 560px at 14% 18%, rgba(16,185,129,0.10) 0%, rgba(16,185,129,0) 60%),\n        radial-gradient(860px 540px at 86% 74%, rgba(245,158,11,0.10) 0%, rgba(245,158,11,0) 62%),\n        repeating-linear-gradient(0deg, rgba(0,0,0,0.043) 0, rgba(0,0,0,0.043) 1px, transparent 1px, transparent 46px),\n        repeating-linear-gradient(90deg, rgba(0,0,0,0.043) 0, rgba(0,0,0,0.043) 1px, transparent 1px, transparent 46px);\n      min-height: 100vh;\n    }\n\n    a {\n      color: inherit;\n      text-decoration: none;\n    }\n\n    img {\n      max-width: 100%;\n      display: block;\n    }\n\n    /* =====================\n       PAGE WRAPPER\n    ====================== */\n    .page {\n      padding: 22px 24px;\n    }\n\n    .container {\n      max-width: var(--max-width);\n      margin: 0 auto;\n    }\n\n    /* =====================\n       SIDEBAR BACKDROP\n    ====================== */\n    .sidebar-backdrop {\n      position: fixed;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n      background: rgba(0, 0, 0, 0.2);\n      backdrop-filter: blur(4px);\n      -webkit-backdrop-filter: blur(4px);\n      opacity: 0;\n      visibility: hidden;\n      transition: opacity 0.3s ease, visibility 0.3s ease;\n      z-index: 999;\n      pointer-events: none;\n    }\n\n    .sidebar-backdrop--visible {\n      opacity: 1;\n      visibility: visible;\n      pointer-events: auto;\n    }\n\n    /* =====================\n       SIDEBAR\n    ====================== */\n    .sidebar {\n      position: fixed;\n      top: 0;\n      right: 0;\n      width: 320px;\n      height: 100vh;\n      background: var(--bg);\n      border-left: 1px solid var(--line);\n      transform: translateX(100%);\n      transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n      z-index: 1000;\n      overflow-y: auto;\n      padding: 24px;\n    }\n\n    .sidebar--open {\n      transform: translateX(0);\n    }\n\n    .sidebar__title {\n      font-size: 16px;\n      font-weight: 600;\n      margin-bottom: 24px;\n      color: var(--ink);\n    }\n\n    /* Prevent body scroll when sidebar is open */\n    body.sidebar-open {\n      overflow: hidden;\n    }\n\n    .sidebar__chapter-list {\n      list-style: none;\n      margin: 0;\n      padding: 0;\n    }\n\n    .sidebar__chapter-item {\n      margin: 0 0 8px 0;\n    }\n\n    .sidebar__chapter-link {\n      display: block;\n      font-size: 14px;\n      color: var(--muted);\n      text-decoration: none;\n      padding: 8px 0;\n      transition: color 0.2s ease;\n      line-height: 1.5;\n    }\n\n    .sidebar__chapter-link:hover {\n      color: var(--ink);\n    }\n\n    .sidebar__chapter-link {\n      color: var(--ink);\n      font-weight: 500;\n    }\n\n    /* =====================\n       HEADER (Top bar with chapter indicator)\n    ====================== */\n    .header {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      padding: 10px 0;\n      border-bottom: 1px solid var(--line);\n      position: relative;\n      transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n    }\n\n    .header--shifted {\n      transform: translateX(-320px);\n    }\n\n    .brand {\n      font-size: 16px;\n      font-weight: 600;\n      cursor: pointer;\n      display: inline-block;\n    }\n\n    .nav {\n      display: flex;\n      gap: 24px;\n      align-items: center;\n      font-size: 14px;\n    }\n\n    .nav a {\n      color: #1f2937;\n    }\n\n    .linkedin {\n      display: flex;\n      flex-direction: column;\n      align-items: flex-start;\n    }\n\n    .linkedin a {\n      color: var(--link);\n    }\n\n    .linkedin span {\n      font-family: Georgia, serif;\n      font-size: 9px;\n      font-style: italic;\n      color: #999;\n    }\n\n    /* =====================\n       MAIN GRID\n    ====================== */\n    .main {\n      padding-top: 48px;\n      padding-bottom: 48px;\n      display: flex;\n      justify-content: center;\n      align-items: start;\n    }\n\n    /* =====================\n       CHAPTER READING AREA (Option 1: Magazine-style)\n    ====================== */\n    .chapter-content {\n      max-width: 768px;\n      width: 100%;\n      margin: 0 auto;\n    }\n\n    .chapter-header {\n      margin-bottom: 56px;\n      padding-bottom: 32px;\n      border-bottom: 2px solid var(--line);\n    }\n\n    .book-title {\n      font-size: 12px;\n      letter-spacing: 0.15em;\n      text-transform: uppercase;\n      color: var(--muted);\n      font-weight: 500;\n      margin-bottom: 8px;\n      opacity: 0.7;\n    }\n\n    .chapter-number {\n      font-size: 13px;\n      letter-spacing: 0.2em;\n      text-transform: uppercase;\n      color: var(--muted);\n      font-weight: 600;\n      margin-bottom: 12px;\n      display: flex;\n      align-items: center;\n      gap: 8px;\n      cursor: pointer;\n      user-select: none;\n      transition: color 0.2s ease;\n    }\n\n    .chapter-number:hover {\n      color: var(--ink);\n    }\n\n    .chapter-number__icon {\n      font-size: 10px;\n      opacity: 0.6;\n      transition: transform 0.3s ease, opacity 0.2s ease;\n    }\n\n    .chapter-number:hover .chapter-number__icon {\n      opacity: 0.8;\n    }\n\n    .chapter-number__icon--open {\n      transform: rotate(180deg);\n    }\n\n    .chapter-title {\n      font-size: 56px;\n      font-weight: 900;\n      line-height: 1.05;\n      margin: 0 0 20px 0;\n      color: var(--ink);\n      letter-spacing: -0.03em;\n    }\n\n    .chapter-subtitle {\n      font-size: 22px;\n      font-weight: 500;\n      color: var(--muted);\n      line-height: 1.4;\n      margin: 0;\n    }\n\n    .chapter-body {\n      font-size: 19px;\n      line-height: 1.8;\n      color: var(--ink);\n      max-width: none;\n      font-weight: 400;\n    }\n\n    .chapter-body p {\n      margin: 0 0 28px 0;\n    }\n\n    .chapter-body p:last-child {\n      margin-bottom: 0;\n    }\n\n    .chapter-body h2 {\n      font-size: 36px;\n      font-weight: 800;\n      line-height: 1.2;\n      margin: 56px 0 24px 0;\n      color: var(--ink);\n      letter-spacing: -0.02em;\n    }\n\n    .chapter-body h3 {\n      font-size: 26px;\n      font-weight: 700;\n      line-height: 1.3;\n      margin: 40px 0 18px 0;\n      color: var(--ink);\n      letter-spacing: -0.01em;\n    }\n\n    .chapter-body strong {\n      font-weight: 600;\n      color: var(--ink);\n    }\n\n    .chapter-body em {\n      font-style: italic;\n    }\n\n    .chapter-body ul,\n    .chapter-body ol {\n      margin: 28px 0;\n      padding-left: 36px;\n    }\n\n    .chapter-body li {\n      margin-bottom: 14px;\n      line-height: 1.75;\n    }\n\n    .chapter-body blockquote {\n      margin: 40px 0;\n      padding-left: 28px;\n      border-left: 4px solid var(--accent);\n      font-style: italic;\n      color: var(--muted);\n      font-size: 18px;\n      line-height: 1.7;\n    }\n\n    .chapter-body code {\n      font-family: ''Monaco'', ''Menlo'', ''Courier New'', monospace;\n      font-size: 0.9em;\n      background: rgba(0,0,0,0.04);\n      padding: 2px 6px;\n      border-radius: 3px;\n    }\n\n    .chapter-body pre {\n      background: rgba(0,0,0,0.04);\n      padding: 20px;\n      border-radius: 8px;\n      overflow-x: auto;\n      margin: 24px 0;\n    }\n\n    .chapter-body pre code {\n      background: none;\n      padding: 0;\n    }\n\n    /* Content shift when sidebar opens */\n    .main {\n      transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n    }\n\n    .main--shifted {\n      transform: translateX(-320px);\n    }\n\n    /* Prevent horizontal scroll */\n    body {\n      overflow-x: hidden;\n    }\n\n    .page {\n      overflow-x: hidden;\n    }\n\n    /* =====================\n       CHAPTER NAVIGATION (BOTTOM)\n    ====================== */\n    .chapter-nav-bottom {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      max-width: 768px;\n      width: 100%;\n      margin: 64px auto 0 auto;\n      padding: 24px 0;\n      border-top: 1px solid var(--line);\n    }\n\n    .chapter-nav-bottom__link {\n      display: flex;\n      align-items: center;\n      gap: 8px;\n      font-size: 14px;\n      color: var(--muted);\n      text-decoration: none;\n      transition: color 0.2s ease;\n      padding: 8px 0;\n    }\n\n    .chapter-nav-bottom__link:hover {\n      color: var(--ink);\n    }\n\n    .chapter-nav-bottom__arrow {\n      font-size: 16px;\n      opacity: 0.7;\n    }\n\n    .chapter-nav-bottom__label {\n      font-weight: 500;\n    }\n\n    .chapter-nav-bottom__link--prev {\n      margin-right: auto;\n    }\n\n    .chapter-nav-bottom__link--next {\n      margin-left: auto;\n    }\n\n    .chapter-nav-bottom__link--disabled {\n      opacity: 0.4;\n      cursor: not-allowed;\n      pointer-events: none;\n    }\n\n    .page-widget__pages {\n      max-height: 0;\n      overflow: hidden;\n      transition: max-height 0.4s cubic-bezier(0.4, 0, 0.2, 1),\n                  opacity 0.3s ease,\n                  margin-top 0.3s ease;\n      opacity: 0;\n      margin-top: 0;\n      background: rgba(255, 255, 255, 0.98);\n      backdrop-filter: blur(12px);\n      -webkit-backdrop-filter: blur(12px);\n      border: 1px solid rgba(0, 0, 0, 0.06);\n      border-radius: 12px;\n      box-shadow: 0 2px 12px rgba(0, 0, 0, 0.06);\n    }\n\n    .page-widget__pages--expanded {\n      max-height: 500px;\n      opacity: 1;\n      margin-top: 12px;\n      padding: 8px;\n    }\n\n    .page-widget__pages-list {\n      list-style: none;\n      margin: 0;\n      padding: 0;\n      display: flex;\n      flex-direction: column;\n      gap: 8px;\n      max-height: 400px;\n      overflow-y: auto;\n      padding-right: 4px;\n    }\n\n    .page-widget__pages-list::-webkit-scrollbar {\n      width: 6px;\n    }\n\n    .page-widget__pages-list::-webkit-scrollbar-track {\n      background: rgba(0, 0, 0, 0.02);\n      border-radius: 3px;\n    }\n\n    .page-widget__pages-list::-webkit-scrollbar-thumb {\n      background: rgba(0, 0, 0, 0.12);\n      border-radius: 3px;\n    }\n\n    .page-widget__pages-list::-webkit-scrollbar-thumb:hover {\n      background: rgba(0, 0, 0, 0.2);\n    }\n\n    .page-widget__page-item {\n      display: flex;\n      align-items: center;\n      gap: 10px;\n      padding: 8px 10px;\n      border-radius: 8px;\n      cursor: pointer;\n      transition: all 0.2s ease;\n      text-decoration: none;\n      color: var(--ink);\n    }\n\n    .page-widget__page-item:hover {\n      background: rgba(0, 0, 0, 0.03);\n      transform: translateX(2px);\n    }\n\n    .page-widget__page-item--current {\n      background: rgba(22, 163, 74, 0.08);\n      color: var(--accent);\n      font-weight: 500;\n    }\n\n    .page-widget__page-item--current:hover {\n      background: rgba(22, 163, 74, 0.12);\n    }\n\n    .page-widget__page-number {\n      display: inline-flex;\n      align-items: center;\n      justify-content: center;\n      width: 24px;\n      height: 24px;\n      background: rgba(0, 0, 0, 0.04);\n      border-radius: 5px;\n      font-size: 11px;\n      font-weight: 500;\n      flex-shrink: 0;\n      color: var(--muted);\n    }\n\n    .page-widget__page-item--current .page-widget__page-number {\n      background: rgba(22, 163, 74, 0.15);\n      color: var(--accent);\n    }\n\n    .page-widget__page-info {\n      flex: 1;\n      min-width: 0;\n    }\n\n    .page-widget__page-name {\n      font-size: 13px;\n      font-weight: 500;\n      line-height: 1.3;\n      margin: 0 0 2px 0;\n    }\n\n    .page-widget__page-note {\n      font-size: 11px;\n      color: var(--muted);\n      line-height: 1.3;\n      margin: 0;\n      white-space: nowrap;\n      overflow: hidden;\n      text-overflow: ellipsis;\n    }\n\n    @media (max-width: 768px) {\n      .page-widget__pages-list {\n        max-height: 300px;\n      }\n    }\n\n\n/* ===============================\n   WRAPPER\n================================ */\n.book-wrap {\n  width: 320px;\n  aspect-ratio: 2 / 3;\n  position: relative;\n}\n\n/* ===============================\n   CAST SHADOW SLAB (REAL SHADOW)\n================================ */\n.shadow-slab {\n    position: absolute;\n    position: absolute;\n    inset: 0;\n    border-radius: 22px;\n    /* background: #2a2a2a; */\n    transform: translate(-30px, 30px);\n    filter: blur(13px);\n    opacity: 0.35;\n    z-index: 0;\n    background: radial-gradient(ellipse at 15% 85%, rgba(0, 0, 0, 0.35), rgba(0, 0, 0, 0.18) 35%, transparent 65%), linear-gradient(to right, #1f1f1f 0%, #2a2a2a 45%, #3a3a3a 100%);\n}\n\n.shadow-slab-2 {\n    position: absolute;\n    inset: 0;\n    border-radius: 22px;\n    background: radial-gradient(circle at top right, #f6e6a8 0%, #e2c36b 35%, #b58a3c 70%, #7a5524 100%);\n    transform: translate(-10px, 10px);\n    filter: blur(5px);\n    opacity: 0.35;\n    z-index: 0;\n}\n\n.shadow-slab-3 {\n    position: absolute;\n    inset: 0;\n    border-radius: 22px;\n    background: #333;\n    transform: translate(0px, 0px);\n    filter: blur(11px);\n    opacity: 0.35;\n    z-index: 0;\n}\n\n.shadow-slab-4 {\n    position: absolute;\n    inset: 0;\n    border-radius: 22px;\n    background: #333;\n    transform: translate(0px, 0px);\n    filter: blur(11px);\n    opacity: 0.35;\n    z-index: 0;\n}\n\n/* ===============================\n   FRONT SLAB & SPIN HANDLE\n================================ */\n\n.front-slab {\n    position: absolute;\n    inset: 0;\n    border-radius: 22px;\n    background: linear-gradient(to right, rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.1) 3%, transparent 1%);\n    /* background: green; */\n    z-index: 3;\n    opacity: .5;\n    transform: translateZ(6px);\n    pointer-events: none;\n}\n\n.spin-handle {\n  display: none;\n  position: absolute;\n  top: 50%;\n  right: -22px;\n  width: 14px;\n  height: 48px;\n  border-radius: 999px;\n  background: rgba(0,0,0,0.25);\n  backdrop-filter: blur(4px);\n  cursor: grab;\n  z-index: 10;\n}\n\n/* ===============================\n   BOOK OBJECT (NO SHADOW)\n================================ */\n.book {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  border-radius: 22px;\n  overflow: hidden;\n  z-index: 2;\n\n  /* IMPORTANT: no box-shadow */\n  box-shadow: none;\n\n  /* transform: perspective(1200px) rotateX(0.6deg); */\n}\n\n/* ===============================\n   PAPER SURFACE (LIGHT FIELD)\n================================ */\n.book .surface {\n  position: absolute;\n  inset: 0;\n  border-radius: inherit;\n  pointer-events: none;\n  z-index: 1;\n\n  background:\n    linear-gradient(\n      to bottom left,\n      rgba(255,255,255,1) 0%,\n      rgba(250,250,250,1) 42%,\n      rgba(240,240,240,1) 100%\n    ),\n    repeating-linear-gradient(\n      0deg,\n      rgba(0,0,0,0.01),\n      rgba(0,0,0,0.01) 1px,\n      transparent 1px,\n      transparent 3px\n    );\n}\n\n/* ===============================\n   LEFT OCCLUSION (CURTAIN)\n================================ */\n.book .curtain {\n  position: absolute;\n  inset: 0;\n  border-radius: inherit;\n  pointer-events: none;\n  z-index: 2;\n\n  background:\n    linear-gradient(\n      to right,\n      rgba(0,0,0,0.20) 0%,\n      rgba(0,0,0,0.12) 8%,\n      rgba(0,0,0,0.05) 16%,\n      rgba(0,0,0,0.02) 22%,\n      rgba(0,0,0,0.00) 30%\n    );\n}\n\n/* ===============================\n   RIGHT HIGHLIGHT\n================================ */\n.book .highlight {\n  position: absolute;\n  inset: 0;\n  border-radius: inherit;\n  pointer-events: none;\n  z-index: 3;\n\n  background:\n    linear-gradient(\n      to left,\n      rgba(255,255,255,0.35) 0%,\n      rgba(255,255,255,0.18) 6%,\n      rgba(255,255,255,0.06) 14%,\n      rgba(255,255,255,0.00) 24%\n    );\n}\n\n/* ===============================\n   PAGE EDGE (THICKNESS)\n================================ */\n.book .edge {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 120px;\n  height: 100%;\n  border-radius: 22px 0 0 22px;\n  pointer-events: none;\n  z-index: 4;\n\n  background:\n    linear-gradient(\n      to right,\n      rgba(215,215,215,0.95) 0%,\n      rgba(245,245,245,0.95) 40%,\n      rgba(255,255,255,0.95) 75%\n    );\n\n  box-shadow:\n    inset -1px 0 0 rgba(0,0,0,0.05);\n}\n\n/* ===============================\n   SVG (PURE WHITE)\n================================ */\n.book svg {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  display: block;\n  z-index: 5;\n}\n\n    /* =====================\n       LEFT: BOOK COVER\n    ====================== */\n    .book-cover {\n      display: flex;\n      flex-direction: column;\n      gap: 12px;\n    }\n\n\n    /* ===============================\n       BOOK + SHADOW SYSTEM\n    =============================== */\n    .book-wrap {\n      width: 320px;\n      aspect-ratio: 2 / 3;\n      position: relative;\n    }\n\n    .shadow-slab,\n    .shadow-slab-2,\n    .shadow-slab-3,\n    .shadow-slab-4 {\n      position: absolute;\n      inset: 0;\n      border-radius: 22px;\n      z-index: 0;\n      will-change: transform, filter, opacity;\n    }\n\n    .shadow-slab {\n      background:\n        radial-gradient(ellipse at 15% 85%, rgba(0,0,0,0.35), rgba(0,0,0,0.18) 35%, transparent 65%),\n        linear-gradient(to right, #1f1f1f 0%, #2a2a2a 45%, #3a3a3a 100%);\n      filter: blur(13px);\n      opacity: 0.35;\n    }\n\n    .shadow-slab-2 {\n      background: radial-gradient(circle at top right, #f6e6a8 0%, #e2c36b 35%, #b58a3c 70%, #7a5524 100%);\n      filter: blur(6px);\n      opacity: 0.30;\n    }\n\n    .shadow-slab-3,\n    .shadow-slab-4 {\n      background: #333;\n      filter: blur(11px);\n      opacity: 0.30;\n    }\n\n    .book {\n      position: relative;\n      width: 100%;\n      height: 100%;\n      border-radius: 22px;\n      overflow: hidden;\n      z-index: 2;\n      background: #f7f4ee;\n    }\n\n    .front-slab {\n      position: absolute;\n      inset: 0;\n      border-radius: 22px;\n      background: linear-gradient(to right, rgba(0,0,0,0.4), rgba(0,0,0,0.1) 3%, transparent 10%);\n      z-index: 3;\n      pointer-events: none;\n      opacity: 0.5;\n    }\n\n\n    @media (prefers-reduced-motion: reduce) {\n      .cover-frame {\n        transition: none;\n        transform: none;\n      }\n      .cover-frame:hover {\n        --lift: 0;\n      }\n    }\n\n    .start-reading {\n      display: inline-flex;\n      align-items: center;\n      justify-content: center;\n      width: 100%;\n      padding: 12px 14px;\n      border-radius: 999px;\n\n      font-size: 11px;\n      letter-spacing: 0.16em;\n      text-transform: uppercase;\n      font-weight: 650;\n      color: rgba(34,197,94,0.92);\n      text-shadow:\n        0 0 10px rgba(34,197,94,0.22),\n        0 0 22px rgba(34,197,94,0.14);\n\n      /* graphite: dark + slightly mineral */\n      background:\n        radial-gradient(120% 140% at 20% 10%, rgba(255,255,255,0.10) 0%, rgba(255,255,255,0.00) 55%),\n        radial-gradient(140% 140% at 80% 90%, rgba(255,255,255,0.06) 0%, rgba(255,255,255,0.00) 60%),\n        linear-gradient(180deg, #141414 0%, #0a0a0a 100%);\n      border: 1px solid rgba(255,255,255,0.10);\n      box-shadow:\n        0 14px 34px rgba(0,0,0,0.22),\n        0 8px 16px rgba(0,0,0,0.18),\n        inset 0 1px 0 rgba(255,255,255,0.10),\n        inset 0 -1px 0 rgba(0,0,0,0.55);\n\n      position: relative;\n      overflow: hidden;\n      cursor: pointer;\n      user-select: none;\n      -webkit-tap-highlight-color: transparent;\n\n      transition:\n        transform 160ms cubic-bezier(0.2, 0.8, 0.2, 1),\n        box-shadow 160ms cubic-bezier(0.2, 0.8, 0.2, 1),\n        border-color 160ms cubic-bezier(0.2, 0.8, 0.2, 1);\n    }\n\n    .start-reading::before {\n      content: \"\";\n      position: absolute;\n      inset: 0;\n      pointer-events: none;\n      /* texture + sheen (very subtle) */\n      background:\n        linear-gradient(120deg, rgba(255,255,255,0.12) 0%, rgba(255,255,255,0.00) 46%),\n        repeating-linear-gradient(0deg,\n          rgba(255,255,255,0.028) 0px,\n          rgba(255,255,255,0.028) 1px,\n          rgba(0,0,0,0.00) 3px,\n          rgba(0,0,0,0.00) 6px),\n        radial-gradient(120% 90% at 50% 0%, rgba(34,197,94,0.14) 0%, rgba(34,197,94,0.00) 62%);\n      opacity: 0.75;\n    }\n\n    .start-reading:hover {\n      transform: translateY(-1px);\n      border-color: rgba(34,197,94,0.30);\n      box-shadow:\n        0 18px 42px rgba(0,0,0,0.24),\n        0 10px 18px rgba(0,0,0,0.18),\n        inset 0 1px 0 rgba(255,255,255,0.12),\n        inset 0 -1px 0 rgba(0,0,0,0.55);\n      text-shadow:\n        0 0 12px rgba(34,197,94,0.28),\n        0 0 26px rgba(34,197,94,0.18);\n    }\n\n    .start-reading:active {\n      transform: translateY(0px);\n      box-shadow:\n        0 14px 34px rgba(0,0,0,0.22),\n        0 8px 16px rgba(0,0,0,0.18),\n        inset 0 1px 0 rgba(255,255,255,0.10),\n        inset 0 -1px 0 rgba(0,0,0,0.55);\n    }\n\n    .start-reading:focus-visible {\n      outline: none;\n      box-shadow:\n        0 18px 42px rgba(0,0,0,0.24),\n        0 0 0 4px rgba(34,197,94,0.22),\n        0 0 0 1px rgba(34,197,94,0.26),\n        inset 0 1px 0 rgba(255,255,255,0.12),\n        inset 0 -1px 0 rgba(0,0,0,0.55);\n      border-color: rgba(34,197,94,0.34);\n    }\n\n    @media (prefers-reduced-motion: reduce) {\n      .start-reading {\n        transition: none;\n      }\n      .start-reading:hover {\n        transform: none;\n      }\n    }\n\n    /* =====================\n       CENTER: CONTENT\n    ====================== */\n    .content h1 {\n      font-size: 40px;\n      font-weight: 800;\n      line-height: 1.15;\n      margin: 0;\n    }\n\n    .byline {\n      font-size: 13px;\n      letter-spacing: 0.12em;\n      color: #666;\n      font-weight: 600;\n    }\n\n    .tagline {\n      font-size: 18px;\n      font-weight: 500;\n      color: #333;\n    }\n\n    .paragraph {\n      font-size: 15px;\n      color: #222;\n    }\n\n    .meta {\n      margin-top: 20px;\n      padding-top: 20px;\n      border-top: 1px solid var(--line);\n      display: grid;\n      grid-template-columns: repeat(2, 1fr);\n      gap: 12px 24px;\n      font-size: 13px;\n    }\n\n    .author {\n      margin-top: 20px;\n      padding-top: 20px;\n      border-top: 1px solid var(--line);\n      display: flex;\n      gap: 16px;\n      align-items: flex-start;\n    }\n\n    .author img {\n      width: 44px;\n      height: 44px;\n      border-radius: 50%;\n    }\n\n    /* =====================\n       RIGHT: RELATED\n    ====================== */\n    .related {\n      display: flex;\n      flex-direction: column;\n      gap: 20px;\n    }\n\n    .related-title {\n      font-size: 11px;\n      letter-spacing: 0.14em;\n      color: #666;\n      text-transform: uppercase;\n      font-weight: 600;\n    }\n\n    .related-item {\n      display: flex;\n      flex-direction: column;\n      gap: 6px;\n      cursor: pointer;\n      transition: transform 0.12s ease, box-shadow 0.12s ease;\n    }\n\n    .related-item:hover {\n      transform: translateY(-2px);\n    }\n\n    .related-thumb {\n      border-radius: 6px;\n      overflow: hidden;\n      aspect-ratio: 3 / 4;\n      box-shadow: 0 8px 24px rgba(0,0,0,0.1);\n\n      /* Gray placeholder shape */\n      background: linear-gradient(135deg, #e5e7eb 0%, #d1d5db 45%, #cbd5e1 100%);\n      border: 1px solid rgba(0,0,0,0.06);\n    }\n\n    .related-thumb img {\n      width: 100%;\n      height: 100%;\n      object-fit: cover;\n      filter: grayscale(1);\n      opacity: 0.85;\n      transition: filter 160ms ease, opacity 160ms ease;\n    }\n\n    .related-thumb .thumb-placeholder {\n      width: 100%;\n      height: 100%;\n      display: block;\n    }\n\n    .related-item a {\n      font-size: 12px;\n      font-weight: 600;\n      color: #111;\n    }\n\n    /* =====================\n       RIGHT: 13 CHAPTERS\n    ====================== */\n    .chapters {\n      display: flex;\n      flex-direction: column;\n      gap: 10px;\n    }\n\n    .chapters-title {\n      font-size: 11px;\n      letter-spacing: 0.12em;\n      color: rgba(17,17,17,0.52);\n      text-transform: uppercase;\n      font-weight: 600;\n    }\n\n    .chapters-help {\n      margin-top: -4px;\n      font-size: 11px;\n      line-height: 1.35;\n      color: rgba(17,17,17,0.42);\n    }\n\n    .chapter-list {\n      list-style: none;\n      padding: 0;\n      margin: 0;\n      display: flex;\n      flex-direction: column;\n      gap: 0;\n      border-top: 1px solid rgba(0,0,0,0.06);\n    }\n\n    .chapter-item {\n      display: grid;\n      grid-template-columns: 3ch 1fr;\n      gap: 12px;\n      align-items: start;\n      padding: 10px 0;\n      border-bottom: 1px solid rgba(0,0,0,0.06);\n    }\n\n    .chapter-item--preface .chapter-name {\n      font-weight: 760;\n      letter-spacing: -0.01em;\n      color: rgba(17,17,17,0.90);\n    }\n\n    .chapter-item--current .chapter-name {\n      color: rgba(17,17,17,0.92);\n      text-decoration: underline;\n      text-decoration-thickness: 1px;\n      text-underline-offset: 3px;\n      text-decoration-color: rgba(17,17,17,0.22);\n    }\n\n    .chapter-num {\n      width: auto;\n      height: auto;\n      border-radius: 0;\n      display: block;\n      text-align: right;\n      font-size: 11px;\n      font-weight: 650;\n      color: rgba(17,17,17,0.46);\n      font-variant-numeric: tabular-nums;\n    }\n\n    .chapter-name {\n      font-size: 12px;\n      font-weight: 600;\n      color: rgba(17,17,17,0.80);\n      line-height: 1.3;\n    }\n\n    .chapter-note {\n      margin-top: 2px;\n      font-size: 11px;\n      color: rgba(17,17,17,0.46);\n      line-height: 1.4;\n    }\n\n    /* =====================\n       RESPONSIVE\n    ====================== */\n    @media (max-width: 900px) {\n      .chapter-content {\n        max-width: 100%;\n        padding: 0 24px;\n      }\n\n      .page-widget {\n        max-width: 100%;\n        margin-left: 24px;\n        margin-right: 24px;\n      }\n\n      .chapter-title {\n        font-size: 42px;\n      }\n\n      .chapter-body {\n        font-size: 18px;\n      }\n\n      .chapter-body h2 {\n        font-size: 32px;\n      }\n\n      .chapter-body h3 {\n        font-size: 24px;\n      }\n    }\n\n    @media (max-width: 768px) {\n      .header {\n        flex-direction: column;\n        gap: 12px;\n      }\n\n      .chapter-content {\n        padding: 0 16px;\n      }\n\n      .page-widget {\n        margin-left: 16px;\n        margin-right: 16px;\n      }\n\n      .chapter-title {\n        font-size: 38px;\n      }\n\n      .chapter-body {\n        font-size: 17px;\n      }\n\n      .chapter-body h2 {\n        font-size: 30px;\n      }\n\n      .chapter-body h3 {\n        font-size: 22px;\n      }\n    }\n  </style>\n</head>\n\n<body>\n  <div class=\"page\">\n    <div class=\"container\">\n\n      <!-- SIDEBAR BACKDROP -->\n      <div class=\"sidebar-backdrop\" id=\"sidebarBackdrop\"></div>\n\n      <!-- SIDEBAR -->\n      <aside class=\"sidebar\" id=\"sidebar\">\n        <div class=\"sidebar__title\">Working Fundamentals</div>\n        <ul class=\"sidebar__chapter-list\">\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-introduction\" class=\"sidebar__chapter-link\" target=\"_blank\">Introduction</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-1-of-13-programming-fundamentals\" class=\"sidebar__chapter-link sidebar__chapter-link\" target=\"_blank\">Chapter 1 ¬∑ Programming Fundamentals</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-2-of-13-data-structures\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 2 ¬∑ Data Structures</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-3-of-13-algorithms-and-complexity\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 3 ¬∑ Algorithms & Complexity</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-4-of-13-control-and-flow\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 4 ¬∑ Control & Flow</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-5-of-13-state-and-change\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 5 ¬∑ State & Change</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"#\" class=\"sidebar__chapter-link\"> class=\"sidebar__chapter-link sidebar__chapter-link--current\">Chapter 6 ¬∑ Design\\ Principles</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-7-of-13-architecture\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 7 ¬∑ Architecture</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-8-of-13-persistence-and-data-modeling\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 8 ¬∑ Persistence & Data Modeling</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-9-of-13-interfaces-and-apis\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 9 ¬∑ Interfaces & APIs</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-10-of-13-errors-and-failure\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 10 ¬∑ Errors & Failure</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-11-of-13-testing\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 11 ¬∑ Testing</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-12-of-13-performance-and-scale\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 12 ¬∑ Performance & Scale</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-13-of-13-the-developers-role\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 13 ¬∑ The Developer''s Role</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-outroduction\" class=\"sidebar__chapter-link\" target=\"_blank\">Outroduction</a>\n          </li>\n        </ul>\n      </aside>\n\n      <!-- HEADER -->\n      <header class=\"header\" id=\"header\">\n        <a href=\"https://arvinjaysoncastro.com/\" class=\"brand\" target=\"_blank\">Arvin Jayson Castro</a>\n        <nav class=\"nav\">\n          <a href=\"https://arvinjaysoncastro.com/hungry-dev-mind\" target=\"_blank\">Books</a>\n          <a href=\"https://arvinjaysoncastro.com/working-systems\" target=\"_blank\">Working Systems</a>\n          <a href=\"https://arvinjaysoncastro.com/about\" target=\"_blank\">16 Years</a>\n          <div class=\"linkedin\">\n            <a href=\"https://www.linkedin.com/in/arvin-jayson-castro-7458199a/\" target=\"_blank\">linkedIn</a>\n            <span>let''s connect</span>\n          </div>\n        </nav>\n      </header>\n\n      <!-- PAGE WIDGET (TOP) - REMOVED -->\n      <div style=\"display: none;\">\n          <ol class=\"page-widget__pages-list\">\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">P</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Preface</div>\n                  <div class=\"page-widget__page-note\">Why fundamentals still decide outcomes.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item page-widget__page-item--current\">\n                <span class=\"page-widget__page-number\">1</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 1</div>\n                  <div class=\"page-widget__page-note\">Core principles and constraints.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">2</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 2</div>\n                  <div class=\"page-widget__page-note\">Boundaries, ownership, and interfaces.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">3</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 3</div>\n                  <div class=\"page-widget__page-note\">State, consistency, and failure modes.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">4</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 4</div>\n                  <div class=\"page-widget__page-note\">Abstractions that survive change.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">5</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 5</div>\n                  <div class=\"page-widget__page-note\">Simplicity as an engineering practice.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">6</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 6</div>\n                  <div class=\"page-widget__page-note\">Reliability, observability, and feedback.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">7</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 7</div>\n                  <div class=\"page-widget__page-note\">Delivery systems and decision hygiene.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">8</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 8</div>\n                  <div class=\"page-widget__page-note\">Documentation that stays useful.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">9</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 9</div>\n                  <div class=\"page-widget__page-note\">Testing strategy for predictable change.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">10</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 10</div>\n                  <div class=\"page-widget__page-note\">Pragmatic architecture for teams.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">11</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 11</div>\n                  <div class=\"page-widget__page-note\">Operational excellence without ceremony.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">12</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 12</div>\n                  <div class=\"page-widget__page-note\">Leadership, standards, and leverage.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">13</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 13</div>\n                  <div class=\"page-widget__page-note\">Making fundamentals non-negotiable.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">PS</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Postscript</div>\n                  <div class=\"page-widget__page-note\">A short operating model to carry forward.</div>\n                </div>\n              </a>\n            </li>\n          </ol>\n        </div>\n      </div>\n\n      <!-- MAIN -->\n      <main class=\"main\" id=\"main\">\n\n        <!-- CHAPTER CONTENT (Option 1: Magazine-style) -->\n        <article class=\"chapter-content\">\n          <header class=\"chapter-header\">\n            <div class=\"book-title\">Working Fundamentals</div>\n            <div class=\"chapter-number\" id=\"chapterIndicator\">\n              <span>chapter 6 of 13</span>\n              <span class=\"chapter-number__icon\" id=\"chapterIndicatorIcon\">‚ñæ</span>\n            </div>\n            <h1 class=\"chapter-title\">Design Principles</h1>\n            <p class=\"chapter-subtitle\">Why boundaries matter more than cleverness</p>\n          </header>\n\n          <div class=\"chapter-body\">\n            <h3>What this chapter is</h3>\n\n            <p>This chapter is not a checklist.It is not a style guide.It is not a collection of slogans.</p>\n\n            <p>This chapter explains <strong>why design principles exist at all</strong>.</p>\n\n            <p>They were not invented by committees.They were <strong>discovered through failure</strong>.</p>\n\n            <h2>The core truth</h2>\n\n            <p>Design principles are <strong>damage control mechanisms</strong>.</p>\n\n            <p>They exist because:</p>\n\n            <ul>\n\n            <li>systems grow</li>\n\n            </ul>\n\n            <ul>\n\n            <li>people change</li>\n\n            </ul>\n\n            <ul>\n\n            <li>assumptions break</li>\n\n            </ul>\n\n            <ul>\n\n            <li>time passes</li>\n\n            </ul>\n\n            <p>Good design is not about elegance.It is about <strong>survivability</strong>.</p>\n\n            <h2>Principles are not rules</h2>\n\n            <p>Rules demand obedience.Principles demand judgment.</p>\n\n            <p>A principle does not say:</p>\n\n            <blockquote>‚ÄúAlways do this.‚Äù</blockquote>\n\n            <p>It says:</p>\n\n            <blockquote>‚ÄúIf you ignore this, something predictable will go wrong.‚Äù</blockquote>\n\n            <p>üß† <strong>Mental Model</strong>Principles are warnings written in advance.</p>\n\n            <h2>Separation of concerns: the foundation</h2>\n\n            <p>When responsibilities mix:</p>\n\n            <ul>\n\n            <li>changes collide</li>\n\n            </ul>\n\n            <ul>\n\n            <li>bugs hide</li>\n\n            </ul>\n\n            <ul>\n\n            <li>reasoning slows</li>\n\n            </ul>\n\n            <p>Separation is not about purity.It is about <strong>blast radius</strong>.</p>\n\n            <p>If something breaks, how much breaks with it?</p>\n\n            <p>üß† <strong>Architect‚Äôs Note</strong>A concern separated is a failure contained.</p>\n\n            <h2>Boundaries create safety</h2>\n\n            <p>A boundary is a line you agree not to cross casually.</p>\n\n            <p>Boundaries answer:</p>\n\n            <ul>\n\n            <li>what can change freely</li>\n\n            </ul>\n\n            <ul>\n\n            <li>what must remain stable</li>\n\n            </ul>\n\n            <ul>\n\n            <li>where assumptions stop</li>\n\n            </ul>\n\n            <p>Without boundaries:</p>\n\n            <ul>\n\n            <li>everything depends on everything</li>\n\n            </ul>\n\n            <ul>\n\n            <li>fear replaces confidence</li>\n\n            </ul>\n\n            <ul>\n\n            <li>refactoring becomes dangerous</li>\n\n            </ul>\n\n            <p>üß† <strong>Perspective</strong>Most ‚Äútight coupling‚Äù is actually missing boundaries.</p>\n\n            <h2>Single Responsibility, correctly understood</h2>\n\n            <p>Single Responsibility does not mean:</p>\n\n            <blockquote>‚ÄúOne function does one thing.‚Äù</blockquote>\n\n            <p>It means:</p>\n\n            <blockquote>‚ÄúOne reason to change.‚Äù</blockquote>\n\n            <p>When code changes for multiple reasons:</p>\n\n            <ul>\n\n            <li>fixes interfere</li>\n\n            </ul>\n\n            <ul>\n\n            <li>intent blurs</li>\n\n            </ul>\n\n            <ul>\n\n            <li>history accumulates</li>\n\n            </ul>\n\n            <p>üß† <strong>Mental Model</strong>If a change request feels ambiguous, responsibility is unclear.</p>\n\n            <h2>DRY, without superstition</h2>\n\n            <p>‚ÄúDon‚Äôt Repeat Yourself‚Äù is often misapplied.</p>\n\n            <p>It does <strong>not</strong> mean:</p>\n\n            <ul>\n\n            <li>eliminate all duplication</li>\n\n            </ul>\n\n            <ul>\n\n            <li>reuse aggressively</li>\n\n            </ul>\n\n            <ul>\n\n            <li>abstract early</li>\n\n            </ul>\n\n            <p>It means:</p>\n\n            <blockquote>‚ÄúA rule should have one authoritative definition.‚Äù</blockquote>\n\n            <p>Duplication of <em>knowledge</em> is the enemy.Duplication of <em>code</em> is sometimes the price of clarity.</p>\n\n            <p>‚ö†Ô∏è <strong>Common Drift</strong>Premature abstraction spreads mistakes faster.</p>\n\n            <h2>Coupling vs cohesion</h2>\n\n            <p>Cohesion:</p>\n\n            <ul>\n\n            <li>things that belong together</li>\n\n            </ul>\n\n            <ul>\n\n            <li>shared purpose</li>\n\n            </ul>\n\n            <ul>\n\n            <li>aligned change</li>\n\n            </ul>\n\n            <p>Coupling:</p>\n\n            <ul>\n\n            <li>things that depend on each other</li>\n\n            </ul>\n\n            <ul>\n\n            <li>shared assumptions</li>\n\n            </ul>\n\n            <ul>\n\n            <li>forced coordination</li>\n\n            </ul>\n\n            <p>High cohesion is good.High coupling is dangerous.</p>\n\n            <p>üß† <strong>Architect‚Äôs Note</strong>Aim to increase cohesion before reducing coupling.</p>\n\n            <h2>Cleverness is a liability</h2>\n\n            <p>Clever code:</p>\n\n            <ul>\n\n            <li>impresses briefly</li>\n\n            </ul>\n\n            <ul>\n\n            <li>confuses later</li>\n\n            </ul>\n\n            <ul>\n\n            <li>resists change</li>\n\n            </ul>\n\n            <p>Clarity scales.Cleverness does not.</p>\n\n            <p>üß† <strong>Perspective</strong>If code needs explanation, it is already fragile.</p>\n\n            <h2>Design for change, not prediction</h2>\n\n            <p>You cannot predict:</p>\n\n            <ul>\n\n            <li>future features</li>\n\n            </ul>\n\n            <ul>\n\n            <li>future scale</li>\n\n            </ul>\n\n            <ul>\n\n            <li>future teams</li>\n\n            </ul>\n\n            <p>You <em>can</em> predict:</p>\n\n            <ul>\n\n            <li>change will happen</li>\n\n            </ul>\n\n            <ul>\n\n            <li>assumptions will break</li>\n\n            </ul>\n\n            <ul>\n\n            <li>pressure will arrive</li>\n\n            </ul>\n\n            <p>Good design:</p>\n\n            <ul>\n\n            <li>localizes change</li>\n\n            </ul>\n\n            <ul>\n\n            <li>limits impact</li>\n\n            </ul>\n\n            <ul>\n\n            <li>preserves invariants</li>\n\n            </ul>\n\n            <h2>Abstractions must earn their place</h2>\n\n            <p>An abstraction should:</p>\n\n            <ul>\n\n            <li>remove repetition of reasoning</li>\n\n            </ul>\n\n            <ul>\n\n            <li>hide volatile details</li>\n\n            </ul>\n\n            <ul>\n\n            <li>clarify intent</li>\n\n            </ul>\n\n            <p>If it only:</p>\n\n            <ul>\n\n            <li>saves lines</li>\n\n            </ul>\n\n            <ul>\n\n            <li>feels elegant</li>\n\n            </ul>\n\n            <ul>\n\n            <li>looks reusable</li>\n\n            </ul>\n\n            <p>‚Ä¶it is suspect.</p>\n\n            <p>üß† <strong>Mental Model</strong>Abstractions should make misuse harder, not easier.</p>\n\n            <h2>Design debt vs technical debt</h2>\n\n            <p>Technical debt is often blamed.Design debt is more dangerous.</p>\n\n            <p>Design debt appears when:</p>\n\n            <ul>\n\n            <li>boundaries are skipped</li>\n\n            </ul>\n\n            <ul>\n\n            <li>responsibilities blur</li>\n\n            </ul>\n\n            <ul>\n\n            <li>shortcuts harden into structure</li>\n\n            </ul>\n\n            <p>It compounds silently.</p>\n\n            <p>‚ö†Ô∏è <strong>Common Drift</strong>Most ‚Äúlegacy problems‚Äù began as reasonable shortcuts.</p>\n\n            <h2>Minimal practice (still no code)</h2>\n\n            <p><strong>Problem:</strong>‚ÄúA module handles validation, persistence, logging, and notification.‚Äù</p>\n\n            <p>Ask:</p>\n\n            <ul>\n\n            <li>How many reasons can this change?</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Which changes should be independent?</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Where should boundaries exist?</li>\n\n            </ul>\n\n            <p>If the answers overlap, redesign is needed.</p>\n\n            <h2>What beginners gain here</h2>\n\n            <ul>\n\n            <li>A sense of restraint</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Fewer ‚Äúmagic fixes‚Äù</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Cleaner mental models</li>\n\n            </ul>\n\n            <h2>What experienced developers recognize</h2>\n\n            <ul>\n\n            <li>Why systems rot over time</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Why refactors feel dangerous</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Why clever designs age poorly</li>\n\n            </ul>\n\n            <p>Principles were ignored.</p>\n\n            <h2>What this chapter deliberately avoids</h2>\n\n            <ul>\n\n            <li>Named patterns</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Framework opinions</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Methodology wars</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Dogma</li>\n\n            </ul>\n\n            <p>Those are downstream.</p>\n\n            <h2>Closing</h2>\n\n            <p>Design principles are not about beauty.They are about <strong>longevity</strong>.</p>\n\n            <p>Boundaries protect clarity.Clarity protects systems.Systems that hold protect people.</p>\n\n            <p>Choose boring design.Boring design survives.</p>\n          </div>\n        </article>\n\n        <!-- RIGHT -->\n\n      </main>\n\n      <!-- CHAPTER NAVIGATION (BOTTOM) -->\n      <nav class=\"chapter-nav-bottom\" id=\"chapterNavBottom\">\n        <a href=\"#\" class=\"chapter-nav-bottom__link chapter-nav-bottom__link--prev\" id=\"prevChapter\">\n          <span class=\"chapter-nav-bottom__arrow\">‚Üê</span>\n          <span class=\"chapter-nav-bottom__label\">Previous</span>\n        </a>\n        <a href=\"#\" class=\"chapter-nav-bottom__link chapter-nav-bottom__link--next\" id=\"nextChapter\">\n          <span class=\"chapter-nav-bottom__label\">Next</span>\n          <span class=\"chapter-nav-bottom__arrow\">‚Üí</span>\n        </a>\n      </nav>\n\n      <!-- PAGE WIDGET (BOTTOM) - REMOVED -->\n      <div style=\"display: none;\">\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">P</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Preface</div>\n                  <div class=\"page-widget__page-note\">Why fundamentals still decide outcomes.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item page-widget__page-item--current\">\n                <span class=\"page-widget__page-number\">1</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 1</div>\n                  <div class=\"page-widget__page-note\">Core principles and constraints.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">2</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 2</div>\n                  <div class=\"page-widget__page-note\">Boundaries, ownership, and interfaces.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">3</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 3</div>\n                  <div class=\"page-widget__page-note\">State, consistency, and failure modes.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">4</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 4</div>\n                  <div class=\"page-widget__page-note\">Abstractions that survive change.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">5</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 5</div>\n                  <div class=\"page-widget__page-note\">Simplicity as an engineering practice.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">6</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 6</div>\n                  <div class=\"page-widget__page-note\">Reliability, observability, and feedback.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">7</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 7</div>\n                  <div class=\"page-widget__page-note\">Delivery systems and decision hygiene.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">8</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 8</div>\n                  <div class=\"page-widget__page-note\">Documentation that stays useful.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">9</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 9</div>\n                  <div class=\"page-widget__page-note\">Testing strategy for predictable change.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">10</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 10</div>\n                  <div class=\"page-widget__page-note\">Pragmatic architecture for teams.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">11</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 11</div>\n                  <div class=\"page-widget__page-note\">Operational excellence without ceremony.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">12</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 12</div>\n                  <div class=\"page-widget__page-note\">Leadership, standards, and leverage.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">13</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 13</div>\n                  <div class=\"page-widget__page-note\">Making fundamentals non-negotiable.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">PS</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Postscript</div>\n                  <div class=\"page-widget__page-note\">A short operating model to carry forward.</div>\n                </div>\n              </a>\n            </li>\n          </ol>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <!-- PAGE WIDGET JS -->\n  <!-- SIDEBAR TOGGLE JS -->\n  <script>\n  (() => {\n    const sidebar = document.getElementById(''sidebar'');\n    const backdrop = document.getElementById(''sidebarBackdrop'');\n    const indicator = document.getElementById(''chapterIndicator'');\n    const icon = document.getElementById(''chapterIndicatorIcon'');\n    const header = document.getElementById(''header'');\n    const main = document.getElementById(''main'');\n    const body = document.body;\n\n    if (!sidebar || !backdrop || !indicator || !icon || !header || !main) return;\n\n    let isOpen = false;\n    let scrollTimeout = null;\n\n    const openSidebar = () => {\n      isOpen = true;\n      sidebar.classList.add(''sidebar--open'');\n      backdrop.classList.add(''sidebar-backdrop--visible'');\n      header.classList.add(''header--shifted'');\n      main.classList.add(''main--shifted'');\n      icon.classList.add(''chapter-number__icon--open'');\n      body.classList.add(''sidebar-open'');\n    };\n\n    const closeSidebar = () => {\n      isOpen = false;\n      sidebar.classList.remove(''sidebar--open'');\n      backdrop.classList.remove(''sidebar-backdrop--visible'');\n      header.classList.remove(''header--shifted'');\n      main.classList.remove(''main--shifted'');\n      icon.classList.remove(''chapter-number__icon--open'');\n      body.classList.remove(''sidebar-open'');\n    };\n\n    // Toggle sidebar\n    indicator.addEventListener(''click'', (e) => {\n      e.stopPropagation();\n      if (isOpen) {\n        closeSidebar();\n      } else {\n        openSidebar();\n      }\n    });\n\n    // Close sidebar when clicking backdrop\n    backdrop.addEventListener(''click'', () => {\n      closeSidebar();\n    });\n\n    // Close sidebar when clicking outside\n    document.addEventListener(''click'', (e) => {\n      // Don''t close sidebar if clicking on brand link or nav links\n      const brandLink = header.querySelector(''.brand'');\n      const isClickOnLink = brandLink && brandLink.contains(e.target);\n      const isClickOnNav = header.querySelector(''.nav'') && header.querySelector(''.nav'').contains(e.target);\n      \n      if (isOpen && !sidebar.contains(e.target) && !indicator.contains(e.target) && !isClickOnLink && !isClickOnNav) {\n        closeSidebar();\n      }\n    });\n\n    // Close sidebar on scroll (debounced)\n    const handleScroll = () => {\n      if (isOpen) {\n        clearTimeout(scrollTimeout);\n        scrollTimeout = setTimeout(() => {\n          closeSidebar();\n        }, 100);\n      }\n    };\n\n    // Listen for scroll on main content\n    window.addEventListener(''scroll'', handleScroll, { passive: true });\n    \n    // Also listen for scroll attempts on body (when scroll is disabled)\n    let lastScrollTop = window.pageYOffset;\n    const handleScrollAttempt = () => {\n      if (isOpen) {\n        const currentScrollTop = window.pageYOffset;\n        if (currentScrollTop !== lastScrollTop) {\n          closeSidebar();\n        }\n        lastScrollTop = currentScrollTop;\n      }\n    };\n\n    // Prevent scroll on body when sidebar is open\n    document.addEventListener(''wheel'', (e) => {\n      if (isOpen && !sidebar.contains(e.target)) {\n        e.preventDefault();\n        closeSidebar();\n      }\n    }, { passive: false });\n\n    // Prevent touch scroll on body when sidebar is open\n    document.addEventListener(''touchmove'', (e) => {\n      if (isOpen && !sidebar.contains(e.target)) {\n        e.preventDefault();\n        closeSidebar();\n      }\n    }, { passive: false });\n  })();\n  </script>\n\n  <!-- CHAPTER NAVIGATION (BOTTOM) JS -->\n  <script>\n  (() => {\n    // Chapter list: Preface = 0, Chapter 1-13 = 1-13, Postscript = 14\n    const chapters = [\n      { id: ''preface'', title: ''Preface'', url: ''https://arvinjaysoncastro.com/working-fundamentals-introduction'' },\n      { id: ''ch1'', title: ''Chapter 1'', url: ''https://arvinjaysoncastro.com/working-fundamentals-1-of-13-programming-fundamentals'' },\n      { id: ''ch2'', title: ''Chapter 2'', url: ''https://arvinjaysoncastro.com/working-fundamentals-2-of-13-data-structures'' },\n      { id: ''ch3'', title: ''Chapter 3'', url: ''https://arvinjaysoncastro.com/working-fundamentals-3-of-13-algorithms-and-complexity'' },\n      { id: ''ch4'', title: ''Chapter 4'', url: ''https://arvinjaysoncastro.com/working-fundamentals-4-of-13-control-and-flow'' },\n      { id: ''ch5'', title: ''Chapter 5'', url: ''https://arvinjaysoncastro.com/working-fundamentals-5-of-13-state-and-change'' },\n      { id: ''ch6'', title: ''Chapter 6'', url: ''https://arvinjaysoncastro.com/working-fundamentals-6-of-13-design-principles'' },\n      { id: ''ch7'', title: ''Chapter 7'', url: ''https://arvinjaysoncastro.com/working-fundamentals-7-of-13-architecture'' },\n      { id: ''ch8'', title: ''Chapter 8'', url: ''https://arvinjaysoncastro.com/working-fundamentals-8-of-13-persistence-and-data-modeling'' },\n      { id: ''ch9'', title: ''Chapter 9'', url: ''https://arvinjaysoncastro.com/working-fundamentals-9-of-13-interfaces-and-apis'' },\n      { id: ''ch10'', title: ''Chapter 10'', url: ''https://arvinjaysoncastro.com/working-fundamentals-10-of-13-errors-and-failure'' },\n      { id: ''ch11'', title: ''Chapter 11'', url: ''https://arvinjaysoncastro.com/working-fundamentals-11-of-13-testing'' },\n      { id: ''ch12'', title: ''Chapter 12'', url: ''https://arvinjaysoncastro.com/working-fundamentals-12-of-13-performance-and-scale'' },\n      { id: ''ch13'', title: ''Chapter 13'', url: ''https://arvinjaysoncastro.com/working-fundamentals-13-of-13-the-developers-role'' },\n      { id: ''postscript'', title: ''Postscript'', url: ''https://arvinjaysoncastro.com/working-fundamentals-outroduction'' }\n    ];\n\n    const currentChapterIndex = 6; // Chapter 1 is index 1 (Preface is 0)\n    const prevLink = document.getElementById(''prevChapter'');\n    const nextLink = document.getElementById(''nextChapter'');\n\n    if (!prevLink || !nextLink) return;\n\n    // Previous chapter\n    if (currentChapterIndex > 0) {\n      const prevChapter = chapters[currentChapterIndex - 1];\n      prevLink.href = prevChapter.url;\n      prevLink.target = ''_blank'';\n      prevLink.innerHTML = `\n        <span class=\"chapter-nav-bottom__arrow\">‚Üê</span>\n        <span class=\"chapter-nav-bottom__label\">Previous: ${prevChapter.title}</span>\n      `;\n    } else {\n      // No previous chapter - show \"go back to book list\"\n      prevLink.href = ''https://arvinjaysoncastro.com/hungry-dev-mind'';\n      prevLink.target = ''_blank'';\n      prevLink.innerHTML = `\n        <span class=\"chapter-nav-bottom__arrow\">‚Üê</span>\n        <span class=\"chapter-nav-bottom__label\">Go back to book list</span>\n      `;\n    }\n\n    // Next chapter\n    if (currentChapterIndex < chapters.length - 1) {\n      const nextChapter = chapters[currentChapterIndex + 1];\n      nextLink.href = nextChapter.url;\n      nextLink.target = ''_blank'';\n      nextLink.innerHTML = `\n        <span class=\"chapter-nav-bottom__label\">Next: ${nextChapter.title}</span>\n        <span class=\"chapter-nav-bottom__arrow\">‚Üí</span>\n      `;\n    } else {\n      // No next chapter - show \"go back to book list\"\n      nextLink.href = ''https://arvinjaysoncastro.com/hungry-dev-mind'';\n      nextLink.target = ''_blank'';\n      nextLink.innerHTML = `\n        <span class=\"chapter-nav-bottom__label\">Go back to book list</span>\n        <span class=\"chapter-nav-bottom__arrow\">‚Üí</span>\n      `;\n    }\n  })();\n  </script>\n\n  <!-- OPTIONAL JS -->\n <script>\n(() => {\n  const wrap = document.querySelector(''.book-wrap'');\n  if (!wrap) return;\n\n  const slab1 = wrap.querySelector(''.shadow-slab'');\n  const slab2 = wrap.querySelector(''.shadow-slab-2'');\n  const slab3 = wrap.querySelector(''.shadow-slab-3'');\n  const slab4 = wrap.querySelector(''.shadow-slab-4'');\n  const front = wrap.querySelector(''.front-slab'');\n\n  const clamp = (v, min, max) => Math.max(min, Math.min(max, v));\n\n  let raf = 0;\n  let lx = 0; // light vector x\n  let ly = 0; // light vector y\n\n  function render() {\n    raf = 0;\n\n    // Shadow direction = opposite of light\n    const sx = -lx;\n    const sy = -ly;\n\n    const intensity = Math.abs(lx) + Math.abs(ly);\n\n    /* ---------------------------\n       SLAB 1 ‚Äî KEY CAST SHADOW\n    ---------------------------- */\n    slab1.style.transform =\n      `translate(${(sx * 38).toFixed(2)}px, ${(sy * 38).toFixed(2)}px)`;\n    slab1.style.filter =\n      `blur(${(14 + intensity * 6).toFixed(2)}px)`;\n    slab1.style.opacity =\n      (0.28 + intensity * 0.14).toFixed(2);\n\n    /* ---------------------------\n       SLAB 2 ‚Äî BOUNCE / COLOR BLEED\n    ---------------------------- */\n    slab2.style.transform =\n      `translate(${(sx * 14).toFixed(2)}px, ${(sy * 14).toFixed(2)}px)`;\n    slab2.style.filter =\n      `blur(${(6 + intensity * 4).toFixed(2)}px)`;\n    slab2.style.opacity =\n      (0.16 + intensity * 0.10).toFixed(2);\n\n    /* ---------------------------\n       SLAB 3 ‚Äî CONTACT SHADOW\n    ---------------------------- */\n    slab3.style.transform =\n      `translate(${(sx * 6).toFixed(2)}px, ${(sy * 6).toFixed(2)}px)`;\n    slab3.style.filter = `blur(9px)`;\n    slab3.style.opacity =\n      (0.24 + Math.abs(lx) * 0.06).toFixed(2);\n\n    /* ---------------------------\n       SLAB 4 ‚Äî AMBIENT DEPTH\n    ---------------------------- */\n    slab4.style.transform =\n      `translate(${(sx * 3).toFixed(2)}px, ${(sy * 3).toFixed(2)}px)`;\n    slab4.style.filter = `blur(18px)`;\n    slab4.style.opacity =\n      (0.16 + Math.abs(ly) * 0.04).toFixed(2);\n\n    /* ---------------------------\n       FRONT SLAB ‚Äî SPECULAR RESPONSE\n       (moves TOWARD light)\n    ---------------------------- */\nif (front) {\n  // Very subtle counter-parallax (NOT toward light)\n  front.style.transform =\n    `translate(${(-lx * 1.6).toFixed(2)}px, ${(-ly * 1.6).toFixed(2)}px)`;\n\n  // Opacity increases when light is grazing\n  front.style.opacity =\n    (0.34 + intensity * 0.22).toFixed(2);\n\n  // Highlight shifts OPPOSITE the light direction\n  const gx = 50 - lx * 28;\n  const gy = 50 - ly * 28;\n  front.style.backgroundPosition = `${gx}% ${gy}%`;\n}\n\n  }\n\n  function onMove(e) {\n    const r = wrap.getBoundingClientRect();\n    const cx = r.left + r.width / 2;\n    const cy = r.top + r.height / 2;\n\n    // LIGHT VECTOR (mouse = light source)\n    lx = clamp((e.clientX - cx) / (r.width / 2), -1, 1);\n    ly = clamp((e.clientY - cy) / (r.height / 2), -1, 1);\n\n    if (!raf) raf = requestAnimationFrame(render);\n  }\n\n  window.addEventListener(''mousemove'', onMove, { passive: true });\n})();\n</script>\n</body>\n</html>\n", "css": "body { font-family: system-ui; padding: 20px; }", "js": "console.log(\"Code Runner initialized\");", "imports": {"css": [], "js": []}, "entryPoint": {"type": "htmlDocument", "mountSelector": "#app", "injectMountIfMissing": true}, "settings": {"mode": "play", "viewport": {"type": "responsive", "background": "white"}, "securityPreset": "trusted", "autoRun": true, "runOnLoad": true}, "codePanel": {"isVisible": false, "isEditable": false}}}]}]}',
    NULL,
    1,
    NOW()
);


-- 7. Architecture
-- Slug: working-fundamentals-7-of-13-architecture
-- ID: 7629c1da-6e48-410e-ba38-aa1dfe301107
-- File: ch_07.html
INSERT INTO App_Pages (
    id, org_id, name, slug, template_code, layout, layout_version, is_active,
    created_by_user_id, created_at, updated_at, visibility, description,
    is_template, template_metadata, kind, parent_id, section_tags, section_purpose,
    section_scope, palette_id, is_default_variation, variation_order, template_purpose,
    is_listed, is_org_landing_page, report, folder, layout_raw, layout_quarantine,
    layout_schema_version, layout_ingested_at
) VALUES (
    '7629c1da-6e48-410e-ba38-aa1dfe301107',
    '82c2d096-2638-4837-83c8-e8a933bb17c7',
    'Architecture',
    'working-fundamentals-7-of-13-architecture',
    NULL,
    '{"id": "block-root", "style": {}, "type": "container", "children": [{"id": "temp-container", "style": {"width": "100vw", "height": "100vh"}, "type": "container", "children": [{"id": "temp-coderunner", "style": {}, "type": "codeRunner", "data": {"html": "<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n  <meta charset=\"UTF-8\" />\n  <title>Working Fundamentals ‚Äî Arvin Jayson Castro</title>\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n\n  <!-- =====================\n       GLOBAL STYLES\n  ====================== -->\n  <style>\n    :root {\n      --bg: #f7f8f8;\n      --ink: #111111;\n      --muted: #666666;\n      --line: rgba(0,0,0,0.08);\n      --accent: #16a34a;\n      --link: #3b82f6;\n      --max-width: 1200px;\n    }\n\n    * {\n      box-sizing: border-box;\n    }\n\n    body {\n      margin: 0;\n      font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, sans-serif;\n      color: var(--ink);\n      background-color: var(--bg);\n      background-image:\n        radial-gradient(980px 560px at 14% 18%, rgba(16,185,129,0.10) 0%, rgba(16,185,129,0) 60%),\n        radial-gradient(860px 540px at 86% 74%, rgba(245,158,11,0.10) 0%, rgba(245,158,11,0) 62%),\n        repeating-linear-gradient(0deg, rgba(0,0,0,0.043) 0, rgba(0,0,0,0.043) 1px, transparent 1px, transparent 46px),\n        repeating-linear-gradient(90deg, rgba(0,0,0,0.043) 0, rgba(0,0,0,0.043) 1px, transparent 1px, transparent 46px);\n      min-height: 100vh;\n    }\n\n    a {\n      color: inherit;\n      text-decoration: none;\n    }\n\n    img {\n      max-width: 100%;\n      display: block;\n    }\n\n    /* =====================\n       PAGE WRAPPER\n    ====================== */\n    .page {\n      padding: 22px 24px;\n    }\n\n    .container {\n      max-width: var(--max-width);\n      margin: 0 auto;\n    }\n\n    /* =====================\n       SIDEBAR BACKDROP\n    ====================== */\n    .sidebar-backdrop {\n      position: fixed;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n      background: rgba(0, 0, 0, 0.2);\n      backdrop-filter: blur(4px);\n      -webkit-backdrop-filter: blur(4px);\n      opacity: 0;\n      visibility: hidden;\n      transition: opacity 0.3s ease, visibility 0.3s ease;\n      z-index: 999;\n      pointer-events: none;\n    }\n\n    .sidebar-backdrop--visible {\n      opacity: 1;\n      visibility: visible;\n      pointer-events: auto;\n    }\n\n    /* =====================\n       SIDEBAR\n    ====================== */\n    .sidebar {\n      position: fixed;\n      top: 0;\n      right: 0;\n      width: 320px;\n      height: 100vh;\n      background: var(--bg);\n      border-left: 1px solid var(--line);\n      transform: translateX(100%);\n      transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n      z-index: 1000;\n      overflow-y: auto;\n      padding: 24px;\n    }\n\n    .sidebar--open {\n      transform: translateX(0);\n    }\n\n    .sidebar__title {\n      font-size: 16px;\n      font-weight: 600;\n      margin-bottom: 24px;\n      color: var(--ink);\n    }\n\n    /* Prevent body scroll when sidebar is open */\n    body.sidebar-open {\n      overflow: hidden;\n    }\n\n    .sidebar__chapter-list {\n      list-style: none;\n      margin: 0;\n      padding: 0;\n    }\n\n    .sidebar__chapter-item {\n      margin: 0 0 8px 0;\n    }\n\n    .sidebar__chapter-link {\n      display: block;\n      font-size: 14px;\n      color: var(--muted);\n      text-decoration: none;\n      padding: 8px 0;\n      transition: color 0.2s ease;\n      line-height: 1.5;\n    }\n\n    .sidebar__chapter-link:hover {\n      color: var(--ink);\n    }\n\n    .sidebar__chapter-link {\n      color: var(--ink);\n      font-weight: 500;\n    }\n\n    /* =====================\n       HEADER (Top bar with chapter indicator)\n    ====================== */\n    .header {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      padding: 10px 0;\n      border-bottom: 1px solid var(--line);\n      position: relative;\n      transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n    }\n\n    .header--shifted {\n      transform: translateX(-320px);\n    }\n\n    .brand {\n      font-size: 16px;\n      font-weight: 600;\n      cursor: pointer;\n      display: inline-block;\n    }\n\n    .nav {\n      display: flex;\n      gap: 24px;\n      align-items: center;\n      font-size: 14px;\n    }\n\n    .nav a {\n      color: #1f2937;\n    }\n\n    .linkedin {\n      display: flex;\n      flex-direction: column;\n      align-items: flex-start;\n    }\n\n    .linkedin a {\n      color: var(--link);\n    }\n\n    .linkedin span {\n      font-family: Georgia, serif;\n      font-size: 9px;\n      font-style: italic;\n      color: #999;\n    }\n\n    /* =====================\n       MAIN GRID\n    ====================== */\n    .main {\n      padding-top: 48px;\n      padding-bottom: 48px;\n      display: flex;\n      justify-content: center;\n      align-items: start;\n    }\n\n    /* =====================\n       CHAPTER READING AREA (Option 1: Magazine-style)\n    ====================== */\n    .chapter-content {\n      max-width: 768px;\n      width: 100%;\n      margin: 0 auto;\n    }\n\n    .chapter-header {\n      margin-bottom: 56px;\n      padding-bottom: 32px;\n      border-bottom: 2px solid var(--line);\n    }\n\n    .book-title {\n      font-size: 12px;\n      letter-spacing: 0.15em;\n      text-transform: uppercase;\n      color: var(--muted);\n      font-weight: 500;\n      margin-bottom: 8px;\n      opacity: 0.7;\n    }\n\n    .chapter-number {\n      font-size: 13px;\n      letter-spacing: 0.2em;\n      text-transform: uppercase;\n      color: var(--muted);\n      font-weight: 600;\n      margin-bottom: 12px;\n      display: flex;\n      align-items: center;\n      gap: 8px;\n      cursor: pointer;\n      user-select: none;\n      transition: color 0.2s ease;\n    }\n\n    .chapter-number:hover {\n      color: var(--ink);\n    }\n\n    .chapter-number__icon {\n      font-size: 10px;\n      opacity: 0.6;\n      transition: transform 0.3s ease, opacity 0.2s ease;\n    }\n\n    .chapter-number:hover .chapter-number__icon {\n      opacity: 0.8;\n    }\n\n    .chapter-number__icon--open {\n      transform: rotate(180deg);\n    }\n\n    .chapter-title {\n      font-size: 56px;\n      font-weight: 900;\n      line-height: 1.05;\n      margin: 0 0 20px 0;\n      color: var(--ink);\n      letter-spacing: -0.03em;\n    }\n\n    .chapter-subtitle {\n      font-size: 22px;\n      font-weight: 500;\n      color: var(--muted);\n      line-height: 1.4;\n      margin: 0;\n    }\n\n    .chapter-body {\n      font-size: 19px;\n      line-height: 1.8;\n      color: var(--ink);\n      max-width: none;\n      font-weight: 400;\n    }\n\n    .chapter-body p {\n      margin: 0 0 28px 0;\n    }\n\n    .chapter-body p:last-child {\n      margin-bottom: 0;\n    }\n\n    .chapter-body h2 {\n      font-size: 36px;\n      font-weight: 800;\n      line-height: 1.2;\n      margin: 56px 0 24px 0;\n      color: var(--ink);\n      letter-spacing: -0.02em;\n    }\n\n    .chapter-body h3 {\n      font-size: 26px;\n      font-weight: 700;\n      line-height: 1.3;\n      margin: 40px 0 18px 0;\n      color: var(--ink);\n      letter-spacing: -0.01em;\n    }\n\n    .chapter-body strong {\n      font-weight: 600;\n      color: var(--ink);\n    }\n\n    .chapter-body em {\n      font-style: italic;\n    }\n\n    .chapter-body ul,\n    .chapter-body ol {\n      margin: 28px 0;\n      padding-left: 36px;\n    }\n\n    .chapter-body li {\n      margin-bottom: 14px;\n      line-height: 1.75;\n    }\n\n    .chapter-body blockquote {\n      margin: 40px 0;\n      padding-left: 28px;\n      border-left: 4px solid var(--accent);\n      font-style: italic;\n      color: var(--muted);\n      font-size: 18px;\n      line-height: 1.7;\n    }\n\n    .chapter-body code {\n      font-family: ''Monaco'', ''Menlo'', ''Courier New'', monospace;\n      font-size: 0.9em;\n      background: rgba(0,0,0,0.04);\n      padding: 2px 6px;\n      border-radius: 3px;\n    }\n\n    .chapter-body pre {\n      background: rgba(0,0,0,0.04);\n      padding: 20px;\n      border-radius: 8px;\n      overflow-x: auto;\n      margin: 24px 0;\n    }\n\n    .chapter-body pre code {\n      background: none;\n      padding: 0;\n    }\n\n    /* Content shift when sidebar opens */\n    .main {\n      transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n    }\n\n    .main--shifted {\n      transform: translateX(-320px);\n    }\n\n    /* Prevent horizontal scroll */\n    body {\n      overflow-x: hidden;\n    }\n\n    .page {\n      overflow-x: hidden;\n    }\n\n    /* =====================\n       CHAPTER NAVIGATION (BOTTOM)\n    ====================== */\n    .chapter-nav-bottom {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      max-width: 768px;\n      width: 100%;\n      margin: 64px auto 0 auto;\n      padding: 24px 0;\n      border-top: 1px solid var(--line);\n    }\n\n    .chapter-nav-bottom__link {\n      display: flex;\n      align-items: center;\n      gap: 8px;\n      font-size: 14px;\n      color: var(--muted);\n      text-decoration: none;\n      transition: color 0.2s ease;\n      padding: 8px 0;\n    }\n\n    .chapter-nav-bottom__link:hover {\n      color: var(--ink);\n    }\n\n    .chapter-nav-bottom__arrow {\n      font-size: 16px;\n      opacity: 0.7;\n    }\n\n    .chapter-nav-bottom__label {\n      font-weight: 500;\n    }\n\n    .chapter-nav-bottom__link--prev {\n      margin-right: auto;\n    }\n\n    .chapter-nav-bottom__link--next {\n      margin-left: auto;\n    }\n\n    .chapter-nav-bottom__link--disabled {\n      opacity: 0.4;\n      cursor: not-allowed;\n      pointer-events: none;\n    }\n\n    .page-widget__pages {\n      max-height: 0;\n      overflow: hidden;\n      transition: max-height 0.4s cubic-bezier(0.4, 0, 0.2, 1),\n                  opacity 0.3s ease,\n                  margin-top 0.3s ease;\n      opacity: 0;\n      margin-top: 0;\n      background: rgba(255, 255, 255, 0.98);\n      backdrop-filter: blur(12px);\n      -webkit-backdrop-filter: blur(12px);\n      border: 1px solid rgba(0, 0, 0, 0.06);\n      border-radius: 12px;\n      box-shadow: 0 2px 12px rgba(0, 0, 0, 0.06);\n    }\n\n    .page-widget__pages--expanded {\n      max-height: 500px;\n      opacity: 1;\n      margin-top: 12px;\n      padding: 8px;\n    }\n\n    .page-widget__pages-list {\n      list-style: none;\n      margin: 0;\n      padding: 0;\n      display: flex;\n      flex-direction: column;\n      gap: 8px;\n      max-height: 400px;\n      overflow-y: auto;\n      padding-right: 4px;\n    }\n\n    .page-widget__pages-list::-webkit-scrollbar {\n      width: 6px;\n    }\n\n    .page-widget__pages-list::-webkit-scrollbar-track {\n      background: rgba(0, 0, 0, 0.02);\n      border-radius: 3px;\n    }\n\n    .page-widget__pages-list::-webkit-scrollbar-thumb {\n      background: rgba(0, 0, 0, 0.12);\n      border-radius: 3px;\n    }\n\n    .page-widget__pages-list::-webkit-scrollbar-thumb:hover {\n      background: rgba(0, 0, 0, 0.2);\n    }\n\n    .page-widget__page-item {\n      display: flex;\n      align-items: center;\n      gap: 10px;\n      padding: 8px 10px;\n      border-radius: 8px;\n      cursor: pointer;\n      transition: all 0.2s ease;\n      text-decoration: none;\n      color: var(--ink);\n    }\n\n    .page-widget__page-item:hover {\n      background: rgba(0, 0, 0, 0.03);\n      transform: translateX(2px);\n    }\n\n    .page-widget__page-item--current {\n      background: rgba(22, 163, 74, 0.08);\n      color: var(--accent);\n      font-weight: 500;\n    }\n\n    .page-widget__page-item--current:hover {\n      background: rgba(22, 163, 74, 0.12);\n    }\n\n    .page-widget__page-number {\n      display: inline-flex;\n      align-items: center;\n      justify-content: center;\n      width: 24px;\n      height: 24px;\n      background: rgba(0, 0, 0, 0.04);\n      border-radius: 5px;\n      font-size: 11px;\n      font-weight: 500;\n      flex-shrink: 0;\n      color: var(--muted);\n    }\n\n    .page-widget__page-item--current .page-widget__page-number {\n      background: rgba(22, 163, 74, 0.15);\n      color: var(--accent);\n    }\n\n    .page-widget__page-info {\n      flex: 1;\n      min-width: 0;\n    }\n\n    .page-widget__page-name {\n      font-size: 13px;\n      font-weight: 500;\n      line-height: 1.3;\n      margin: 0 0 2px 0;\n    }\n\n    .page-widget__page-note {\n      font-size: 11px;\n      color: var(--muted);\n      line-height: 1.3;\n      margin: 0;\n      white-space: nowrap;\n      overflow: hidden;\n      text-overflow: ellipsis;\n    }\n\n    @media (max-width: 768px) {\n      .page-widget__pages-list {\n        max-height: 300px;\n      }\n    }\n\n\n/* ===============================\n   WRAPPER\n================================ */\n.book-wrap {\n  width: 320px;\n  aspect-ratio: 2 / 3;\n  position: relative;\n}\n\n/* ===============================\n   CAST SHADOW SLAB (REAL SHADOW)\n================================ */\n.shadow-slab {\n    position: absolute;\n    position: absolute;\n    inset: 0;\n    border-radius: 22px;\n    /* background: #2a2a2a; */\n    transform: translate(-30px, 30px);\n    filter: blur(13px);\n    opacity: 0.35;\n    z-index: 0;\n    background: radial-gradient(ellipse at 15% 85%, rgba(0, 0, 0, 0.35), rgba(0, 0, 0, 0.18) 35%, transparent 65%), linear-gradient(to right, #1f1f1f 0%, #2a2a2a 45%, #3a3a3a 100%);\n}\n\n.shadow-slab-2 {\n    position: absolute;\n    inset: 0;\n    border-radius: 22px;\n    background: radial-gradient(circle at top right, #f6e6a8 0%, #e2c36b 35%, #b58a3c 70%, #7a5524 100%);\n    transform: translate(-10px, 10px);\n    filter: blur(5px);\n    opacity: 0.35;\n    z-index: 0;\n}\n\n.shadow-slab-3 {\n    position: absolute;\n    inset: 0;\n    border-radius: 22px;\n    background: #333;\n    transform: translate(0px, 0px);\n    filter: blur(11px);\n    opacity: 0.35;\n    z-index: 0;\n}\n\n.shadow-slab-4 {\n    position: absolute;\n    inset: 0;\n    border-radius: 22px;\n    background: #333;\n    transform: translate(0px, 0px);\n    filter: blur(11px);\n    opacity: 0.35;\n    z-index: 0;\n}\n\n/* ===============================\n   FRONT SLAB & SPIN HANDLE\n================================ */\n\n.front-slab {\n    position: absolute;\n    inset: 0;\n    border-radius: 22px;\n    background: linear-gradient(to right, rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.1) 3%, transparent 1%);\n    /* background: green; */\n    z-index: 3;\n    opacity: .5;\n    transform: translateZ(6px);\n    pointer-events: none;\n}\n\n.spin-handle {\n  display: none;\n  position: absolute;\n  top: 50%;\n  right: -22px;\n  width: 14px;\n  height: 48px;\n  border-radius: 999px;\n  background: rgba(0,0,0,0.25);\n  backdrop-filter: blur(4px);\n  cursor: grab;\n  z-index: 10;\n}\n\n/* ===============================\n   BOOK OBJECT (NO SHADOW)\n================================ */\n.book {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  border-radius: 22px;\n  overflow: hidden;\n  z-index: 2;\n\n  /* IMPORTANT: no box-shadow */\n  box-shadow: none;\n\n  /* transform: perspective(1200px) rotateX(0.6deg); */\n}\n\n/* ===============================\n   PAPER SURFACE (LIGHT FIELD)\n================================ */\n.book .surface {\n  position: absolute;\n  inset: 0;\n  border-radius: inherit;\n  pointer-events: none;\n  z-index: 1;\n\n  background:\n    linear-gradient(\n      to bottom left,\n      rgba(255,255,255,1) 0%,\n      rgba(250,250,250,1) 42%,\n      rgba(240,240,240,1) 100%\n    ),\n    repeating-linear-gradient(\n      0deg,\n      rgba(0,0,0,0.01),\n      rgba(0,0,0,0.01) 1px,\n      transparent 1px,\n      transparent 3px\n    );\n}\n\n/* ===============================\n   LEFT OCCLUSION (CURTAIN)\n================================ */\n.book .curtain {\n  position: absolute;\n  inset: 0;\n  border-radius: inherit;\n  pointer-events: none;\n  z-index: 2;\n\n  background:\n    linear-gradient(\n      to right,\n      rgba(0,0,0,0.20) 0%,\n      rgba(0,0,0,0.12) 8%,\n      rgba(0,0,0,0.05) 16%,\n      rgba(0,0,0,0.02) 22%,\n      rgba(0,0,0,0.00) 30%\n    );\n}\n\n/* ===============================\n   RIGHT HIGHLIGHT\n================================ */\n.book .highlight {\n  position: absolute;\n  inset: 0;\n  border-radius: inherit;\n  pointer-events: none;\n  z-index: 3;\n\n  background:\n    linear-gradient(\n      to left,\n      rgba(255,255,255,0.35) 0%,\n      rgba(255,255,255,0.18) 6%,\n      rgba(255,255,255,0.06) 14%,\n      rgba(255,255,255,0.00) 24%\n    );\n}\n\n/* ===============================\n   PAGE EDGE (THICKNESS)\n================================ */\n.book .edge {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 120px;\n  height: 100%;\n  border-radius: 22px 0 0 22px;\n  pointer-events: none;\n  z-index: 4;\n\n  background:\n    linear-gradient(\n      to right,\n      rgba(215,215,215,0.95) 0%,\n      rgba(245,245,245,0.95) 40%,\n      rgba(255,255,255,0.95) 75%\n    );\n\n  box-shadow:\n    inset -1px 0 0 rgba(0,0,0,0.05);\n}\n\n/* ===============================\n   SVG (PURE WHITE)\n================================ */\n.book svg {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  display: block;\n  z-index: 5;\n}\n\n    /* =====================\n       LEFT: BOOK COVER\n    ====================== */\n    .book-cover {\n      display: flex;\n      flex-direction: column;\n      gap: 12px;\n    }\n\n\n    /* ===============================\n       BOOK + SHADOW SYSTEM\n    =============================== */\n    .book-wrap {\n      width: 320px;\n      aspect-ratio: 2 / 3;\n      position: relative;\n    }\n\n    .shadow-slab,\n    .shadow-slab-2,\n    .shadow-slab-3,\n    .shadow-slab-4 {\n      position: absolute;\n      inset: 0;\n      border-radius: 22px;\n      z-index: 0;\n      will-change: transform, filter, opacity;\n    }\n\n    .shadow-slab {\n      background:\n        radial-gradient(ellipse at 15% 85%, rgba(0,0,0,0.35), rgba(0,0,0,0.18) 35%, transparent 65%),\n        linear-gradient(to right, #1f1f1f 0%, #2a2a2a 45%, #3a3a3a 100%);\n      filter: blur(13px);\n      opacity: 0.35;\n    }\n\n    .shadow-slab-2 {\n      background: radial-gradient(circle at top right, #f6e6a8 0%, #e2c36b 35%, #b58a3c 70%, #7a5524 100%);\n      filter: blur(6px);\n      opacity: 0.30;\n    }\n\n    .shadow-slab-3,\n    .shadow-slab-4 {\n      background: #333;\n      filter: blur(11px);\n      opacity: 0.30;\n    }\n\n    .book {\n      position: relative;\n      width: 100%;\n      height: 100%;\n      border-radius: 22px;\n      overflow: hidden;\n      z-index: 2;\n      background: #f7f4ee;\n    }\n\n    .front-slab {\n      position: absolute;\n      inset: 0;\n      border-radius: 22px;\n      background: linear-gradient(to right, rgba(0,0,0,0.4), rgba(0,0,0,0.1) 3%, transparent 10%);\n      z-index: 3;\n      pointer-events: none;\n      opacity: 0.5;\n    }\n\n\n    @media (prefers-reduced-motion: reduce) {\n      .cover-frame {\n        transition: none;\n        transform: none;\n      }\n      .cover-frame:hover {\n        --lift: 0;\n      }\n    }\n\n    .start-reading {\n      display: inline-flex;\n      align-items: center;\n      justify-content: center;\n      width: 100%;\n      padding: 12px 14px;\n      border-radius: 999px;\n\n      font-size: 11px;\n      letter-spacing: 0.16em;\n      text-transform: uppercase;\n      font-weight: 650;\n      color: rgba(34,197,94,0.92);\n      text-shadow:\n        0 0 10px rgba(34,197,94,0.22),\n        0 0 22px rgba(34,197,94,0.14);\n\n      /* graphite: dark + slightly mineral */\n      background:\n        radial-gradient(120% 140% at 20% 10%, rgba(255,255,255,0.10) 0%, rgba(255,255,255,0.00) 55%),\n        radial-gradient(140% 140% at 80% 90%, rgba(255,255,255,0.06) 0%, rgba(255,255,255,0.00) 60%),\n        linear-gradient(180deg, #141414 0%, #0a0a0a 100%);\n      border: 1px solid rgba(255,255,255,0.10);\n      box-shadow:\n        0 14px 34px rgba(0,0,0,0.22),\n        0 8px 16px rgba(0,0,0,0.18),\n        inset 0 1px 0 rgba(255,255,255,0.10),\n        inset 0 -1px 0 rgba(0,0,0,0.55);\n\n      position: relative;\n      overflow: hidden;\n      cursor: pointer;\n      user-select: none;\n      -webkit-tap-highlight-color: transparent;\n\n      transition:\n        transform 160ms cubic-bezier(0.2, 0.8, 0.2, 1),\n        box-shadow 160ms cubic-bezier(0.2, 0.8, 0.2, 1),\n        border-color 160ms cubic-bezier(0.2, 0.8, 0.2, 1);\n    }\n\n    .start-reading::before {\n      content: \"\";\n      position: absolute;\n      inset: 0;\n      pointer-events: none;\n      /* texture + sheen (very subtle) */\n      background:\n        linear-gradient(120deg, rgba(255,255,255,0.12) 0%, rgba(255,255,255,0.00) 46%),\n        repeating-linear-gradient(0deg,\n          rgba(255,255,255,0.028) 0px,\n          rgba(255,255,255,0.028) 1px,\n          rgba(0,0,0,0.00) 3px,\n          rgba(0,0,0,0.00) 6px),\n        radial-gradient(120% 90% at 50% 0%, rgba(34,197,94,0.14) 0%, rgba(34,197,94,0.00) 62%);\n      opacity: 0.75;\n    }\n\n    .start-reading:hover {\n      transform: translateY(-1px);\n      border-color: rgba(34,197,94,0.30);\n      box-shadow:\n        0 18px 42px rgba(0,0,0,0.24),\n        0 10px 18px rgba(0,0,0,0.18),\n        inset 0 1px 0 rgba(255,255,255,0.12),\n        inset 0 -1px 0 rgba(0,0,0,0.55);\n      text-shadow:\n        0 0 12px rgba(34,197,94,0.28),\n        0 0 26px rgba(34,197,94,0.18);\n    }\n\n    .start-reading:active {\n      transform: translateY(0px);\n      box-shadow:\n        0 14px 34px rgba(0,0,0,0.22),\n        0 8px 16px rgba(0,0,0,0.18),\n        inset 0 1px 0 rgba(255,255,255,0.10),\n        inset 0 -1px 0 rgba(0,0,0,0.55);\n    }\n\n    .start-reading:focus-visible {\n      outline: none;\n      box-shadow:\n        0 18px 42px rgba(0,0,0,0.24),\n        0 0 0 4px rgba(34,197,94,0.22),\n        0 0 0 1px rgba(34,197,94,0.26),\n        inset 0 1px 0 rgba(255,255,255,0.12),\n        inset 0 -1px 0 rgba(0,0,0,0.55);\n      border-color: rgba(34,197,94,0.34);\n    }\n\n    @media (prefers-reduced-motion: reduce) {\n      .start-reading {\n        transition: none;\n      }\n      .start-reading:hover {\n        transform: none;\n      }\n    }\n\n    /* =====================\n       CENTER: CONTENT\n    ====================== */\n    .content h1 {\n      font-size: 40px;\n      font-weight: 800;\n      line-height: 1.15;\n      margin: 0;\n    }\n\n    .byline {\n      font-size: 13px;\n      letter-spacing: 0.12em;\n      color: #666;\n      font-weight: 600;\n    }\n\n    .tagline {\n      font-size: 18px;\n      font-weight: 500;\n      color: #333;\n    }\n\n    .paragraph {\n      font-size: 15px;\n      color: #222;\n    }\n\n    .meta {\n      margin-top: 20px;\n      padding-top: 20px;\n      border-top: 1px solid var(--line);\n      display: grid;\n      grid-template-columns: repeat(2, 1fr);\n      gap: 12px 24px;\n      font-size: 13px;\n    }\n\n    .author {\n      margin-top: 20px;\n      padding-top: 20px;\n      border-top: 1px solid var(--line);\n      display: flex;\n      gap: 16px;\n      align-items: flex-start;\n    }\n\n    .author img {\n      width: 44px;\n      height: 44px;\n      border-radius: 50%;\n    }\n\n    /* =====================\n       RIGHT: RELATED\n    ====================== */\n    .related {\n      display: flex;\n      flex-direction: column;\n      gap: 20px;\n    }\n\n    .related-title {\n      font-size: 11px;\n      letter-spacing: 0.14em;\n      color: #666;\n      text-transform: uppercase;\n      font-weight: 600;\n    }\n\n    .related-item {\n      display: flex;\n      flex-direction: column;\n      gap: 6px;\n      cursor: pointer;\n      transition: transform 0.12s ease, box-shadow 0.12s ease;\n    }\n\n    .related-item:hover {\n      transform: translateY(-2px);\n    }\n\n    .related-thumb {\n      border-radius: 6px;\n      overflow: hidden;\n      aspect-ratio: 3 / 4;\n      box-shadow: 0 8px 24px rgba(0,0,0,0.1);\n\n      /* Gray placeholder shape */\n      background: linear-gradient(135deg, #e5e7eb 0%, #d1d5db 45%, #cbd5e1 100%);\n      border: 1px solid rgba(0,0,0,0.06);\n    }\n\n    .related-thumb img {\n      width: 100%;\n      height: 100%;\n      object-fit: cover;\n      filter: grayscale(1);\n      opacity: 0.85;\n      transition: filter 160ms ease, opacity 160ms ease;\n    }\n\n    .related-thumb .thumb-placeholder {\n      width: 100%;\n      height: 100%;\n      display: block;\n    }\n\n    .related-item a {\n      font-size: 12px;\n      font-weight: 600;\n      color: #111;\n    }\n\n    /* =====================\n       RIGHT: 13 CHAPTERS\n    ====================== */\n    .chapters {\n      display: flex;\n      flex-direction: column;\n      gap: 10px;\n    }\n\n    .chapters-title {\n      font-size: 11px;\n      letter-spacing: 0.12em;\n      color: rgba(17,17,17,0.52);\n      text-transform: uppercase;\n      font-weight: 600;\n    }\n\n    .chapters-help {\n      margin-top: -4px;\n      font-size: 11px;\n      line-height: 1.35;\n      color: rgba(17,17,17,0.42);\n    }\n\n    .chapter-list {\n      list-style: none;\n      padding: 0;\n      margin: 0;\n      display: flex;\n      flex-direction: column;\n      gap: 0;\n      border-top: 1px solid rgba(0,0,0,0.06);\n    }\n\n    .chapter-item {\n      display: grid;\n      grid-template-columns: 3ch 1fr;\n      gap: 12px;\n      align-items: start;\n      padding: 10px 0;\n      border-bottom: 1px solid rgba(0,0,0,0.06);\n    }\n\n    .chapter-item--preface .chapter-name {\n      font-weight: 760;\n      letter-spacing: -0.01em;\n      color: rgba(17,17,17,0.90);\n    }\n\n    .chapter-item--current .chapter-name {\n      color: rgba(17,17,17,0.92);\n      text-decoration: underline;\n      text-decoration-thickness: 1px;\n      text-underline-offset: 3px;\n      text-decoration-color: rgba(17,17,17,0.22);\n    }\n\n    .chapter-num {\n      width: auto;\n      height: auto;\n      border-radius: 0;\n      display: block;\n      text-align: right;\n      font-size: 11px;\n      font-weight: 650;\n      color: rgba(17,17,17,0.46);\n      font-variant-numeric: tabular-nums;\n    }\n\n    .chapter-name {\n      font-size: 12px;\n      font-weight: 600;\n      color: rgba(17,17,17,0.80);\n      line-height: 1.3;\n    }\n\n    .chapter-note {\n      margin-top: 2px;\n      font-size: 11px;\n      color: rgba(17,17,17,0.46);\n      line-height: 1.4;\n    }\n\n    /* =====================\n       RESPONSIVE\n    ====================== */\n    @media (max-width: 900px) {\n      .chapter-content {\n        max-width: 100%;\n        padding: 0 24px;\n      }\n\n      .page-widget {\n        max-width: 100%;\n        margin-left: 24px;\n        margin-right: 24px;\n      }\n\n      .chapter-title {\n        font-size: 42px;\n      }\n\n      .chapter-body {\n        font-size: 18px;\n      }\n\n      .chapter-body h2 {\n        font-size: 32px;\n      }\n\n      .chapter-body h3 {\n        font-size: 24px;\n      }\n    }\n\n    @media (max-width: 768px) {\n      .header {\n        flex-direction: column;\n        gap: 12px;\n      }\n\n      .chapter-content {\n        padding: 0 16px;\n      }\n\n      .page-widget {\n        margin-left: 16px;\n        margin-right: 16px;\n      }\n\n      .chapter-title {\n        font-size: 38px;\n      }\n\n      .chapter-body {\n        font-size: 17px;\n      }\n\n      .chapter-body h2 {\n        font-size: 30px;\n      }\n\n      .chapter-body h3 {\n        font-size: 22px;\n      }\n    }\n  </style>\n</head>\n\n<body>\n  <div class=\"page\">\n    <div class=\"container\">\n\n      <!-- SIDEBAR BACKDROP -->\n      <div class=\"sidebar-backdrop\" id=\"sidebarBackdrop\"></div>\n\n      <!-- SIDEBAR -->\n      <aside class=\"sidebar\" id=\"sidebar\">\n        <div class=\"sidebar__title\">Working Fundamentals</div>\n        <ul class=\"sidebar__chapter-list\">\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-introduction\" class=\"sidebar__chapter-link\" target=\"_blank\">Introduction</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-1-of-13-programming-fundamentals\" class=\"sidebar__chapter-link sidebar__chapter-link\" target=\"_blank\">Chapter 1 ¬∑ Programming Fundamentals</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-2-of-13-data-structures\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 2 ¬∑ Data Structures</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-3-of-13-algorithms-and-complexity\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 3 ¬∑ Algorithms & Complexity</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-4-of-13-control-and-flow\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 4 ¬∑ Control & Flow</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-5-of-13-state-and-change\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 5 ¬∑ State & Change</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-6-of-13-design-principles\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 6 ¬∑ Design Principles</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"#\" class=\"sidebar__chapter-link\"> class=\"sidebar__chapter-link sidebar__chapter-link--current\">Chapter 7 ¬∑ Architecture</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-8-of-13-persistence-and-data-modeling\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 8 ¬∑ Persistence & Data Modeling</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-9-of-13-interfaces-and-apis\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 9 ¬∑ Interfaces & APIs</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-10-of-13-errors-and-failure\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 10 ¬∑ Errors & Failure</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-11-of-13-testing\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 11 ¬∑ Testing</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-12-of-13-performance-and-scale\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 12 ¬∑ Performance & Scale</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-13-of-13-the-developers-role\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 13 ¬∑ The Developer''s Role</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-outroduction\" class=\"sidebar__chapter-link\" target=\"_blank\">Outroduction</a>\n          </li>\n        </ul>\n      </aside>\n\n      <!-- HEADER -->\n      <header class=\"header\" id=\"header\">\n        <a href=\"https://arvinjaysoncastro.com/\" class=\"brand\" target=\"_blank\">Arvin Jayson Castro</a>\n        <nav class=\"nav\">\n          <a href=\"https://arvinjaysoncastro.com/hungry-dev-mind\" target=\"_blank\">Books</a>\n          <a href=\"https://arvinjaysoncastro.com/working-systems\" target=\"_blank\">Working Systems</a>\n          <a href=\"https://arvinjaysoncastro.com/about\" target=\"_blank\">16 Years</a>\n          <div class=\"linkedin\">\n            <a href=\"https://www.linkedin.com/in/arvin-jayson-castro-7458199a/\" target=\"_blank\">linkedIn</a>\n            <span>let''s connect</span>\n          </div>\n        </nav>\n      </header>\n\n      <!-- PAGE WIDGET (TOP) - REMOVED -->\n      <div style=\"display: none;\">\n          <ol class=\"page-widget__pages-list\">\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">P</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Preface</div>\n                  <div class=\"page-widget__page-note\">Why fundamentals still decide outcomes.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item page-widget__page-item--current\">\n                <span class=\"page-widget__page-number\">1</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 1</div>\n                  <div class=\"page-widget__page-note\">Core principles and constraints.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">2</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 2</div>\n                  <div class=\"page-widget__page-note\">Boundaries, ownership, and interfaces.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">3</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 3</div>\n                  <div class=\"page-widget__page-note\">State, consistency, and failure modes.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">4</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 4</div>\n                  <div class=\"page-widget__page-note\">Abstractions that survive change.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">5</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 5</div>\n                  <div class=\"page-widget__page-note\">Simplicity as an engineering practice.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">6</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 6</div>\n                  <div class=\"page-widget__page-note\">Reliability, observability, and feedback.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">7</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 7</div>\n                  <div class=\"page-widget__page-note\">Delivery systems and decision hygiene.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">8</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 8</div>\n                  <div class=\"page-widget__page-note\">Documentation that stays useful.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">9</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 9</div>\n                  <div class=\"page-widget__page-note\">Testing strategy for predictable change.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">10</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 10</div>\n                  <div class=\"page-widget__page-note\">Pragmatic architecture for teams.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">11</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 11</div>\n                  <div class=\"page-widget__page-note\">Operational excellence without ceremony.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">12</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 12</div>\n                  <div class=\"page-widget__page-note\">Leadership, standards, and leverage.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">13</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 13</div>\n                  <div class=\"page-widget__page-note\">Making fundamentals non-negotiable.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">PS</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Postscript</div>\n                  <div class=\"page-widget__page-note\">A short operating model to carry forward.</div>\n                </div>\n              </a>\n            </li>\n          </ol>\n        </div>\n      </div>\n\n      <!-- MAIN -->\n      <main class=\"main\" id=\"main\">\n\n        <!-- CHAPTER CONTENT (Option 1: Magazine-style) -->\n        <article class=\"chapter-content\">\n          <header class=\"chapter-header\">\n            <div class=\"book-title\">Working Fundamentals</div>\n            <div class=\"chapter-number\" id=\"chapterIndicator\">\n              <span>chapter 7 of 13</span>\n              <span class=\"chapter-number__icon\" id=\"chapterIndicatorIcon\">‚ñæ</span>\n            </div>\n            <h1 class=\"chapter-title\">Architecture</h1>\n            <p class=\"chapter-subtitle\">Decisions that are expensive to change</p>\n          </header>\n\n          <div class=\"chapter-body\">\n            <h3>What this chapter is</h3>\n\n            <p>This chapter is not about diagrams.It is not about boxes and arrows.It is not about technology choices.</p>\n\n            <p>This chapter is about <strong>irreversibility</strong>.</p>\n\n            <p>Architecture exists because some decisions, once made,reshape everything that follows.</p>\n\n            <h2>The core truth</h2>\n\n            <p>Architecture is not what you build first.Architecture is what you <strong>cannot easily undo</strong>.</p>\n\n            <p>If a decision can be changed quickly and safely,it is not architectural.</p>\n\n            <p>If changing it would:</p>\n\n            <ul>\n\n            <li>ripple through many parts</li>\n\n            </ul>\n\n            <ul>\n\n            <li>require coordinated changes</li>\n\n            </ul>\n\n            <ul>\n\n            <li>risk breaking unrelated behavior</li>\n\n            </ul>\n\n            <p>‚Ä¶then it is architecture.</p>\n\n            <p>üß† <strong>Mental Model</strong>Architecture is frozen intent.</p>\n\n            <h2>Why architecture exists at all</h2>\n\n            <p>In small systems:</p>\n\n            <ul>\n\n            <li>everything can touch everything</li>\n\n            </ul>\n\n            <ul>\n\n            <li>changes are cheap</li>\n\n            </ul>\n\n            <ul>\n\n            <li>mistakes are reversible</li>\n\n            </ul>\n\n            <p>In real systems:</p>\n\n            <ul>\n\n            <li>teams grow</li>\n\n            </ul>\n\n            <ul>\n\n            <li>time passes</li>\n\n            </ul>\n\n            <ul>\n\n            <li>assumptions decay</li>\n\n            </ul>\n\n            <ul>\n\n            <li>pressure increases</li>\n\n            </ul>\n\n            <p>Architecture exists to <strong>control the cost of change</strong>.</p>\n\n            <p>Without it, every change becomes dangerous.</p>\n\n            <h2>Boundaries are the real architecture</h2>\n\n            <p>Files, folders, layers, services ‚Äî these are expressions.<strong>Boundaries</strong> are the substance.</p>\n\n            <p>A boundary defines:</p>\n\n            <ul>\n\n            <li>who may depend on whom</li>\n\n            </ul>\n\n            <ul>\n\n            <li>what knowledge is shared</li>\n\n            </ul>\n\n            <ul>\n\n            <li>where assumptions stop</li>\n\n            </ul>\n\n            <p>Good boundaries:</p>\n\n            <ul>\n\n            <li>slow down damage</li>\n\n            </ul>\n\n            <ul>\n\n            <li>localize mistakes</li>\n\n            </ul>\n\n            <ul>\n\n            <li>preserve reasoning</li>\n\n            </ul>\n\n            <p>Bad or missing boundaries:</p>\n\n            <ul>\n\n            <li>spread change</li>\n\n            </ul>\n\n            <ul>\n\n            <li>hide responsibility</li>\n\n            </ul>\n\n            <ul>\n\n            <li>amplify fear</li>\n\n            </ul>\n\n            <p>üß† <strong>Architect‚Äôs Note</strong>If a boundary is unclear, it does not exist.</p>\n\n            <h2>Architecture is constraint, not freedom</h2>\n\n            <p>Many think architecture gives freedom.</p>\n\n            <p>It does not.</p>\n\n            <p>Good architecture <strong>removes options</strong>.</p>\n\n            <p>It says:</p>\n\n            <ul>\n\n            <li>‚ÄúYou cannot do that here.‚Äù</li>\n\n            </ul>\n\n            <ul>\n\n            <li>‚ÄúThis must go through this path.‚Äù</li>\n\n            </ul>\n\n            <ul>\n\n            <li>‚ÄúThis knowledge is forbidden here.‚Äù</li>\n\n            </ul>\n\n            <p>Early on, this feels restrictive.Later, it feels protective.</p>\n\n            <p>üß† <strong>Perspective</strong>Freedom without structure becomes chaos under pressure.</p>\n\n            <h2>Direction of dependency matters</h2>\n\n            <p>One of the most important architectural decisions is:</p>\n\n            <blockquote>_Who depends on whom?_</blockquote>\n\n            <p>Dependencies create gravity.</p>\n\n            <p>Code that depends on many things:</p>\n\n            <ul>\n\n            <li>is harder to change</li>\n\n            </ul>\n\n            <ul>\n\n            <li>is harder to test</li>\n\n            </ul>\n\n            <ul>\n\n            <li>becomes central unintentionally</li>\n\n            </ul>\n\n            <p>Code that few things depend on:</p>\n\n            <ul>\n\n            <li>is safer to evolve</li>\n\n            </ul>\n\n            <ul>\n\n            <li>becomes foundational</li>\n\n            </ul>\n\n            <p>üß† <strong>Mental Model</strong>Stability flows toward dependency, not size.</p>\n\n            <h2>Architectural seams</h2>\n\n            <p>A seam is a place where the system can split cleanly.</p>\n\n            <p>Good seams allow:</p>\n\n            <ul>\n\n            <li>replacement</li>\n\n            </ul>\n\n            <ul>\n\n            <li>isolation</li>\n\n            </ul>\n\n            <ul>\n\n            <li>experimentation</li>\n\n            </ul>\n\n            <p>Seams often appear as:</p>\n\n            <ul>\n\n            <li>interfaces</li>\n\n            </ul>\n\n            <ul>\n\n            <li>ports</li>\n\n            </ul>\n\n            <ul>\n\n            <li>adapters</li>\n\n            </ul>\n\n            <ul>\n\n            <li>boundaries between domains</li>\n\n            </ul>\n\n            <p>üß† <strong>Architect‚Äôs Note</strong>A system without seams cannot evolve safely.</p>\n\n            <h2>Monolith vs microservices is a false start</h2>\n\n            <p>The debate is seductive ‚Äî and shallow.</p>\n\n            <p>The real questions are:</p>\n\n            <ul>\n\n            <li>Where are the boundaries?</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Are responsibilities clear?</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Can parts change independently?</li>\n\n            </ul>\n\n            <p>A well-bounded monolith:</p>\n\n            <ul>\n\n            <li>is easier to reason about</li>\n\n            </ul>\n\n            <ul>\n\n            <li>is easier to debug</li>\n\n            </ul>\n\n            <ul>\n\n            <li>can evolve into services later</li>\n\n            </ul>\n\n            <p>A poorly bounded distributed system:</p>\n\n            <ul>\n\n            <li>multiplies failure</li>\n\n            </ul>\n\n            <ul>\n\n            <li>hides latency</li>\n\n            </ul>\n\n            <ul>\n\n            <li>amplifies mistakes</li>\n\n            </ul>\n\n            <p>üß† <strong>Perspective</strong>Distribution magnifies structure ‚Äî good or bad.</p>\n\n            <h2>Architecture and time</h2>\n\n            <p>Architecture must survive:</p>\n\n            <ul>\n\n            <li>new features</li>\n\n            </ul>\n\n            <ul>\n\n            <li>new developers</li>\n\n            </ul>\n\n            <ul>\n\n            <li>new constraints</li>\n\n            </ul>\n\n            <ul>\n\n            <li>new scale</li>\n\n            </ul>\n\n            <p>Code is written once.Architecture is <strong>lived in</strong>.</p>\n\n            <p>If the architecture requires constant explanation,it is already failing.</p>\n\n            <h2>Architectural mistakes hurt quietly</h2>\n\n            <p>Bad architecture rarely breaks immediately.</p>\n\n            <p>Instead:</p>\n\n            <ul>\n\n            <li>development slows</li>\n\n            </ul>\n\n            <ul>\n\n            <li>fear increases</li>\n\n            </ul>\n\n            <ul>\n\n            <li>workarounds multiply</li>\n\n            </ul>\n\n            <ul>\n\n            <li>‚Äútemporary‚Äù hacks harden</li>\n\n            </ul>\n\n            <p>By the time failure is obvious,change is expensive.</p>\n\n            <p>‚ö†Ô∏è <strong>Common Drift</strong>Most legacy systems were once ‚Äúgood enough.‚Äù</p>\n\n            <h2>Humility in architectural decisions</h2>\n\n            <p>Every architectural decision is a bet.</p>\n\n            <p>You will get some wrong.</p>\n\n            <p>Good architects:</p>\n\n            <ul>\n\n            <li>isolate risk</li>\n\n            </ul>\n\n            <ul>\n\n            <li>delay irreversible decisions</li>\n\n            </ul>\n\n            <ul>\n\n            <li>avoid locking in guesses</li>\n\n            </ul>\n\n            <ul>\n\n            <li>provide escape routes</li>\n\n            </ul>\n\n            <p>üß† <strong>Architect‚Äôs Note</strong>The best architecture assumes it will be partially wrong.</p>\n\n            <h2>Architecture is about people, not systems</h2>\n\n            <p>Architecture exists to help humans:</p>\n\n            <ul>\n\n            <li>reason</li>\n\n            </ul>\n\n            <ul>\n\n            <li>collaborate</li>\n\n            </ul>\n\n            <ul>\n\n            <li>change safely</li>\n\n            </ul>\n\n            <ul>\n\n            <li>sleep at night</li>\n\n            </ul>\n\n            <p>If only the original author understands it,it has already failed.</p>\n\n            <h2>Minimal practice (still no code)</h2>\n\n            <p><strong>Problem:</strong>‚ÄúA system mixes business rules, data access, and external integrations in the same modules.‚Äù</p>\n\n            <p>Ask:</p>\n\n            <ul>\n\n            <li>What must change together?</li>\n\n            </ul>\n\n            <ul>\n\n            <li>What should never change together?</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Where should knowledge stop flowing?</li>\n\n            </ul>\n\n            <p>If those answers are unclear, architecture is missing.</p>\n\n            <h2>What beginners gain here</h2>\n\n            <ul>\n\n            <li>Respect for structure</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Awareness of long-term cost</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Understanding why some codebases feel hostile</li>\n\n            </ul>\n\n            <h2>What experienced developers recognize</h2>\n\n            <ul>\n\n            <li>Why refactors stall</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Why every change feels risky</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Why progress slows over time</li>\n\n            </ul>\n\n            <p>Architecture was neglected.</p>\n\n            <h2>What this chapter deliberately avoids</h2>\n\n            <ul>\n\n            <li>Technology stacks</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Framework choices</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Deployment models</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Trend-driven patterns</li>\n\n            </ul>\n\n            <p>Those are downstream.</p>\n\n            <h2>Closing</h2>\n\n            <p>Architecture is not about control.It is about <strong>endurance</strong>.</p>\n\n            <p>Good architecture fades into the background.Bad architecture demands attention every day.</p>\n\n            <p>Design so the system can grow beyond you ‚Äîwithout collapsing under its own weight.</p>\n          </div>\n        </article>\n\n        <!-- RIGHT -->\n\n      </main>\n\n      <!-- CHAPTER NAVIGATION (BOTTOM) -->\n      <nav class=\"chapter-nav-bottom\" id=\"chapterNavBottom\">\n        <a href=\"#\" class=\"chapter-nav-bottom__link chapter-nav-bottom__link--prev\" id=\"prevChapter\">\n          <span class=\"chapter-nav-bottom__arrow\">‚Üê</span>\n          <span class=\"chapter-nav-bottom__label\">Previous</span>\n        </a>\n        <a href=\"#\" class=\"chapter-nav-bottom__link chapter-nav-bottom__link--next\" id=\"nextChapter\">\n          <span class=\"chapter-nav-bottom__label\">Next</span>\n          <span class=\"chapter-nav-bottom__arrow\">‚Üí</span>\n        </a>\n      </nav>\n\n      <!-- PAGE WIDGET (BOTTOM) - REMOVED -->\n      <div style=\"display: none;\">\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">P</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Preface</div>\n                  <div class=\"page-widget__page-note\">Why fundamentals still decide outcomes.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item page-widget__page-item--current\">\n                <span class=\"page-widget__page-number\">1</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 1</div>\n                  <div class=\"page-widget__page-note\">Core principles and constraints.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">2</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 2</div>\n                  <div class=\"page-widget__page-note\">Boundaries, ownership, and interfaces.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">3</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 3</div>\n                  <div class=\"page-widget__page-note\">State, consistency, and failure modes.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">4</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 4</div>\n                  <div class=\"page-widget__page-note\">Abstractions that survive change.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">5</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 5</div>\n                  <div class=\"page-widget__page-note\">Simplicity as an engineering practice.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">6</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 6</div>\n                  <div class=\"page-widget__page-note\">Reliability, observability, and feedback.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">7</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 7</div>\n                  <div class=\"page-widget__page-note\">Delivery systems and decision hygiene.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">8</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 8</div>\n                  <div class=\"page-widget__page-note\">Documentation that stays useful.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">9</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 9</div>\n                  <div class=\"page-widget__page-note\">Testing strategy for predictable change.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">10</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 10</div>\n                  <div class=\"page-widget__page-note\">Pragmatic architecture for teams.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">11</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 11</div>\n                  <div class=\"page-widget__page-note\">Operational excellence without ceremony.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">12</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 12</div>\n                  <div class=\"page-widget__page-note\">Leadership, standards, and leverage.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">13</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 13</div>\n                  <div class=\"page-widget__page-note\">Making fundamentals non-negotiable.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">PS</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Postscript</div>\n                  <div class=\"page-widget__page-note\">A short operating model to carry forward.</div>\n                </div>\n              </a>\n            </li>\n          </ol>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <!-- PAGE WIDGET JS -->\n  <!-- SIDEBAR TOGGLE JS -->\n  <script>\n  (() => {\n    const sidebar = document.getElementById(''sidebar'');\n    const backdrop = document.getElementById(''sidebarBackdrop'');\n    const indicator = document.getElementById(''chapterIndicator'');\n    const icon = document.getElementById(''chapterIndicatorIcon'');\n    const header = document.getElementById(''header'');\n    const main = document.getElementById(''main'');\n    const body = document.body;\n\n    if (!sidebar || !backdrop || !indicator || !icon || !header || !main) return;\n\n    let isOpen = false;\n    let scrollTimeout = null;\n\n    const openSidebar = () => {\n      isOpen = true;\n      sidebar.classList.add(''sidebar--open'');\n      backdrop.classList.add(''sidebar-backdrop--visible'');\n      header.classList.add(''header--shifted'');\n      main.classList.add(''main--shifted'');\n      icon.classList.add(''chapter-number__icon--open'');\n      body.classList.add(''sidebar-open'');\n    };\n\n    const closeSidebar = () => {\n      isOpen = false;\n      sidebar.classList.remove(''sidebar--open'');\n      backdrop.classList.remove(''sidebar-backdrop--visible'');\n      header.classList.remove(''header--shifted'');\n      main.classList.remove(''main--shifted'');\n      icon.classList.remove(''chapter-number__icon--open'');\n      body.classList.remove(''sidebar-open'');\n    };\n\n    // Toggle sidebar\n    indicator.addEventListener(''click'', (e) => {\n      e.stopPropagation();\n      if (isOpen) {\n        closeSidebar();\n      } else {\n        openSidebar();\n      }\n    });\n\n    // Close sidebar when clicking backdrop\n    backdrop.addEventListener(''click'', () => {\n      closeSidebar();\n    });\n\n    // Close sidebar when clicking outside\n    document.addEventListener(''click'', (e) => {\n      // Don''t close sidebar if clicking on brand link or nav links\n      const brandLink = header.querySelector(''.brand'');\n      const isClickOnLink = brandLink && brandLink.contains(e.target);\n      const isClickOnNav = header.querySelector(''.nav'') && header.querySelector(''.nav'').contains(e.target);\n      \n      if (isOpen && !sidebar.contains(e.target) && !indicator.contains(e.target) && !isClickOnLink && !isClickOnNav) {\n        closeSidebar();\n      }\n    });\n\n    // Close sidebar on scroll (debounced)\n    const handleScroll = () => {\n      if (isOpen) {\n        clearTimeout(scrollTimeout);\n        scrollTimeout = setTimeout(() => {\n          closeSidebar();\n        }, 100);\n      }\n    };\n\n    // Listen for scroll on main content\n    window.addEventListener(''scroll'', handleScroll, { passive: true });\n    \n    // Also listen for scroll attempts on body (when scroll is disabled)\n    let lastScrollTop = window.pageYOffset;\n    const handleScrollAttempt = () => {\n      if (isOpen) {\n        const currentScrollTop = window.pageYOffset;\n        if (currentScrollTop !== lastScrollTop) {\n          closeSidebar();\n        }\n        lastScrollTop = currentScrollTop;\n      }\n    };\n\n    // Prevent scroll on body when sidebar is open\n    document.addEventListener(''wheel'', (e) => {\n      if (isOpen && !sidebar.contains(e.target)) {\n        e.preventDefault();\n        closeSidebar();\n      }\n    }, { passive: false });\n\n    // Prevent touch scroll on body when sidebar is open\n    document.addEventListener(''touchmove'', (e) => {\n      if (isOpen && !sidebar.contains(e.target)) {\n        e.preventDefault();\n        closeSidebar();\n      }\n    }, { passive: false });\n  })();\n  </script>\n\n  <!-- CHAPTER NAVIGATION (BOTTOM) JS -->\n  <script>\n  (() => {\n    // Chapter list: Preface = 0, Chapter 1-13 = 1-13, Postscript = 14\n    const chapters = [\n      { id: ''preface'', title: ''Preface'', url: ''https://arvinjaysoncastro.com/working-fundamentals-introduction'' },\n      { id: ''ch1'', title: ''Chapter 1'', url: ''https://arvinjaysoncastro.com/working-fundamentals-1-of-13-programming-fundamentals'' },\n      { id: ''ch2'', title: ''Chapter 2'', url: ''https://arvinjaysoncastro.com/working-fundamentals-2-of-13-data-structures'' },\n      { id: ''ch3'', title: ''Chapter 3'', url: ''https://arvinjaysoncastro.com/working-fundamentals-3-of-13-algorithms-and-complexity'' },\n      { id: ''ch4'', title: ''Chapter 4'', url: ''https://arvinjaysoncastro.com/working-fundamentals-4-of-13-control-and-flow'' },\n      { id: ''ch5'', title: ''Chapter 5'', url: ''https://arvinjaysoncastro.com/working-fundamentals-5-of-13-state-and-change'' },\n      { id: ''ch6'', title: ''Chapter 6'', url: ''https://arvinjaysoncastro.com/working-fundamentals-6-of-13-design-principles'' },\n      { id: ''ch7'', title: ''Chapter 7'', url: ''https://arvinjaysoncastro.com/working-fundamentals-7-of-13-architecture'' },\n      { id: ''ch8'', title: ''Chapter 8'', url: ''https://arvinjaysoncastro.com/working-fundamentals-8-of-13-persistence-and-data-modeling'' },\n      { id: ''ch9'', title: ''Chapter 9'', url: ''https://arvinjaysoncastro.com/working-fundamentals-9-of-13-interfaces-and-apis'' },\n      { id: ''ch10'', title: ''Chapter 10'', url: ''https://arvinjaysoncastro.com/working-fundamentals-10-of-13-errors-and-failure'' },\n      { id: ''ch11'', title: ''Chapter 11'', url: ''https://arvinjaysoncastro.com/working-fundamentals-11-of-13-testing'' },\n      { id: ''ch12'', title: ''Chapter 12'', url: ''https://arvinjaysoncastro.com/working-fundamentals-12-of-13-performance-and-scale'' },\n      { id: ''ch13'', title: ''Chapter 13'', url: ''https://arvinjaysoncastro.com/working-fundamentals-13-of-13-the-developers-role'' },\n      { id: ''postscript'', title: ''Postscript'', url: ''https://arvinjaysoncastro.com/working-fundamentals-outroduction'' }\n    ];\n\n    const currentChapterIndex = 7; // Chapter 1 is index 1 (Preface is 0)\n    const prevLink = document.getElementById(''prevChapter'');\n    const nextLink = document.getElementById(''nextChapter'');\n\n    if (!prevLink || !nextLink) return;\n\n    // Previous chapter\n    if (currentChapterIndex > 0) {\n      const prevChapter = chapters[currentChapterIndex - 1];\n      prevLink.href = prevChapter.url;\n      prevLink.target = ''_blank'';\n      prevLink.innerHTML = `\n        <span class=\"chapter-nav-bottom__arrow\">‚Üê</span>\n        <span class=\"chapter-nav-bottom__label\">Previous: ${prevChapter.title}</span>\n      `;\n    } else {\n      // No previous chapter - show \"go back to book list\"\n      prevLink.href = ''https://arvinjaysoncastro.com/hungry-dev-mind'';\n      prevLink.target = ''_blank'';\n      prevLink.innerHTML = `\n        <span class=\"chapter-nav-bottom__arrow\">‚Üê</span>\n        <span class=\"chapter-nav-bottom__label\">Go back to book list</span>\n      `;\n    }\n\n    // Next chapter\n    if (currentChapterIndex < chapters.length - 1) {\n      const nextChapter = chapters[currentChapterIndex + 1];\n      nextLink.href = nextChapter.url;\n      nextLink.target = ''_blank'';\n      nextLink.innerHTML = `\n        <span class=\"chapter-nav-bottom__label\">Next: ${nextChapter.title}</span>\n        <span class=\"chapter-nav-bottom__arrow\">‚Üí</span>\n      `;\n    } else {\n      // No next chapter - show \"go back to book list\"\n      nextLink.href = ''https://arvinjaysoncastro.com/hungry-dev-mind'';\n      nextLink.target = ''_blank'';\n      nextLink.innerHTML = `\n        <span class=\"chapter-nav-bottom__label\">Go back to book list</span>\n        <span class=\"chapter-nav-bottom__arrow\">‚Üí</span>\n      `;\n    }\n  })();\n  </script>\n\n  <!-- OPTIONAL JS -->\n <script>\n(() => {\n  const wrap = document.querySelector(''.book-wrap'');\n  if (!wrap) return;\n\n  const slab1 = wrap.querySelector(''.shadow-slab'');\n  const slab2 = wrap.querySelector(''.shadow-slab-2'');\n  const slab3 = wrap.querySelector(''.shadow-slab-3'');\n  const slab4 = wrap.querySelector(''.shadow-slab-4'');\n  const front = wrap.querySelector(''.front-slab'');\n\n  const clamp = (v, min, max) => Math.max(min, Math.min(max, v));\n\n  let raf = 0;\n  let lx = 0; // light vector x\n  let ly = 0; // light vector y\n\n  function render() {\n    raf = 0;\n\n    // Shadow direction = opposite of light\n    const sx = -lx;\n    const sy = -ly;\n\n    const intensity = Math.abs(lx) + Math.abs(ly);\n\n    /* ---------------------------\n       SLAB 1 ‚Äî KEY CAST SHADOW\n    ---------------------------- */\n    slab1.style.transform =\n      `translate(${(sx * 38).toFixed(2)}px, ${(sy * 38).toFixed(2)}px)`;\n    slab1.style.filter =\n      `blur(${(14 + intensity * 6).toFixed(2)}px)`;\n    slab1.style.opacity =\n      (0.28 + intensity * 0.14).toFixed(2);\n\n    /* ---------------------------\n       SLAB 2 ‚Äî BOUNCE / COLOR BLEED\n    ---------------------------- */\n    slab2.style.transform =\n      `translate(${(sx * 14).toFixed(2)}px, ${(sy * 14).toFixed(2)}px)`;\n    slab2.style.filter =\n      `blur(${(6 + intensity * 4).toFixed(2)}px)`;\n    slab2.style.opacity =\n      (0.16 + intensity * 0.10).toFixed(2);\n\n    /* ---------------------------\n       SLAB 3 ‚Äî CONTACT SHADOW\n    ---------------------------- */\n    slab3.style.transform =\n      `translate(${(sx * 6).toFixed(2)}px, ${(sy * 6).toFixed(2)}px)`;\n    slab3.style.filter = `blur(9px)`;\n    slab3.style.opacity =\n      (0.24 + Math.abs(lx) * 0.06).toFixed(2);\n\n    /* ---------------------------\n       SLAB 4 ‚Äî AMBIENT DEPTH\n    ---------------------------- */\n    slab4.style.transform =\n      `translate(${(sx * 3).toFixed(2)}px, ${(sy * 3).toFixed(2)}px)`;\n    slab4.style.filter = `blur(18px)`;\n    slab4.style.opacity =\n      (0.16 + Math.abs(ly) * 0.04).toFixed(2);\n\n    /* ---------------------------\n       FRONT SLAB ‚Äî SPECULAR RESPONSE\n       (moves TOWARD light)\n    ---------------------------- */\nif (front) {\n  // Very subtle counter-parallax (NOT toward light)\n  front.style.transform =\n    `translate(${(-lx * 1.6).toFixed(2)}px, ${(-ly * 1.6).toFixed(2)}px)`;\n\n  // Opacity increases when light is grazing\n  front.style.opacity =\n    (0.34 + intensity * 0.22).toFixed(2);\n\n  // Highlight shifts OPPOSITE the light direction\n  const gx = 50 - lx * 28;\n  const gy = 50 - ly * 28;\n  front.style.backgroundPosition = `${gx}% ${gy}%`;\n}\n\n  }\n\n  function onMove(e) {\n    const r = wrap.getBoundingClientRect();\n    const cx = r.left + r.width / 2;\n    const cy = r.top + r.height / 2;\n\n    // LIGHT VECTOR (mouse = light source)\n    lx = clamp((e.clientX - cx) / (r.width / 2), -1, 1);\n    ly = clamp((e.clientY - cy) / (r.height / 2), -1, 1);\n\n    if (!raf) raf = requestAnimationFrame(render);\n  }\n\n  window.addEventListener(''mousemove'', onMove, { passive: true });\n})();\n</script>\n</body>\n</html>\n", "css": "body { font-family: system-ui; padding: 20px; }", "js": "console.log(\"Code Runner initialized\");", "imports": {"css": [], "js": []}, "entryPoint": {"type": "htmlDocument", "mountSelector": "#app", "injectMountIfMissing": true}, "settings": {"mode": "play", "viewport": {"type": "responsive", "background": "white"}, "securityPreset": "trusted", "autoRun": true, "runOnLoad": true}, "codePanel": {"isVisible": false, "isEditable": false}}}]}]}',
    '1.0.0',
    true,
    '88b62d69-6012-47ae-b45b-9ccc5f1dc87c',
    NOW(),
    NOW(),
    'public',
    NULL,
    false,
    NULL,
    'page',
    NULL,
    NULL,
    NULL,
    NULL,
    NULL,
    false,
    0,
    NULL,
    true,
    false,
    NULL,
    NULL,
    '{"id": "block-root", "style": {}, "type": "container", "children": [{"id": "temp-container", "style": {"width": "100vw", "height": "100vh"}, "type": "container", "children": [{"id": "temp-coderunner", "style": {}, "type": "codeRunner", "data": {"html": "<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n  <meta charset=\"UTF-8\" />\n  <title>Working Fundamentals ‚Äî Arvin Jayson Castro</title>\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n\n  <!-- =====================\n       GLOBAL STYLES\n  ====================== -->\n  <style>\n    :root {\n      --bg: #f7f8f8;\n      --ink: #111111;\n      --muted: #666666;\n      --line: rgba(0,0,0,0.08);\n      --accent: #16a34a;\n      --link: #3b82f6;\n      --max-width: 1200px;\n    }\n\n    * {\n      box-sizing: border-box;\n    }\n\n    body {\n      margin: 0;\n      font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, sans-serif;\n      color: var(--ink);\n      background-color: var(--bg);\n      background-image:\n        radial-gradient(980px 560px at 14% 18%, rgba(16,185,129,0.10) 0%, rgba(16,185,129,0) 60%),\n        radial-gradient(860px 540px at 86% 74%, rgba(245,158,11,0.10) 0%, rgba(245,158,11,0) 62%),\n        repeating-linear-gradient(0deg, rgba(0,0,0,0.043) 0, rgba(0,0,0,0.043) 1px, transparent 1px, transparent 46px),\n        repeating-linear-gradient(90deg, rgba(0,0,0,0.043) 0, rgba(0,0,0,0.043) 1px, transparent 1px, transparent 46px);\n      min-height: 100vh;\n    }\n\n    a {\n      color: inherit;\n      text-decoration: none;\n    }\n\n    img {\n      max-width: 100%;\n      display: block;\n    }\n\n    /* =====================\n       PAGE WRAPPER\n    ====================== */\n    .page {\n      padding: 22px 24px;\n    }\n\n    .container {\n      max-width: var(--max-width);\n      margin: 0 auto;\n    }\n\n    /* =====================\n       SIDEBAR BACKDROP\n    ====================== */\n    .sidebar-backdrop {\n      position: fixed;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n      background: rgba(0, 0, 0, 0.2);\n      backdrop-filter: blur(4px);\n      -webkit-backdrop-filter: blur(4px);\n      opacity: 0;\n      visibility: hidden;\n      transition: opacity 0.3s ease, visibility 0.3s ease;\n      z-index: 999;\n      pointer-events: none;\n    }\n\n    .sidebar-backdrop--visible {\n      opacity: 1;\n      visibility: visible;\n      pointer-events: auto;\n    }\n\n    /* =====================\n       SIDEBAR\n    ====================== */\n    .sidebar {\n      position: fixed;\n      top: 0;\n      right: 0;\n      width: 320px;\n      height: 100vh;\n      background: var(--bg);\n      border-left: 1px solid var(--line);\n      transform: translateX(100%);\n      transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n      z-index: 1000;\n      overflow-y: auto;\n      padding: 24px;\n    }\n\n    .sidebar--open {\n      transform: translateX(0);\n    }\n\n    .sidebar__title {\n      font-size: 16px;\n      font-weight: 600;\n      margin-bottom: 24px;\n      color: var(--ink);\n    }\n\n    /* Prevent body scroll when sidebar is open */\n    body.sidebar-open {\n      overflow: hidden;\n    }\n\n    .sidebar__chapter-list {\n      list-style: none;\n      margin: 0;\n      padding: 0;\n    }\n\n    .sidebar__chapter-item {\n      margin: 0 0 8px 0;\n    }\n\n    .sidebar__chapter-link {\n      display: block;\n      font-size: 14px;\n      color: var(--muted);\n      text-decoration: none;\n      padding: 8px 0;\n      transition: color 0.2s ease;\n      line-height: 1.5;\n    }\n\n    .sidebar__chapter-link:hover {\n      color: var(--ink);\n    }\n\n    .sidebar__chapter-link {\n      color: var(--ink);\n      font-weight: 500;\n    }\n\n    /* =====================\n       HEADER (Top bar with chapter indicator)\n    ====================== */\n    .header {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      padding: 10px 0;\n      border-bottom: 1px solid var(--line);\n      position: relative;\n      transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n    }\n\n    .header--shifted {\n      transform: translateX(-320px);\n    }\n\n    .brand {\n      font-size: 16px;\n      font-weight: 600;\n      cursor: pointer;\n      display: inline-block;\n    }\n\n    .nav {\n      display: flex;\n      gap: 24px;\n      align-items: center;\n      font-size: 14px;\n    }\n\n    .nav a {\n      color: #1f2937;\n    }\n\n    .linkedin {\n      display: flex;\n      flex-direction: column;\n      align-items: flex-start;\n    }\n\n    .linkedin a {\n      color: var(--link);\n    }\n\n    .linkedin span {\n      font-family: Georgia, serif;\n      font-size: 9px;\n      font-style: italic;\n      color: #999;\n    }\n\n    /* =====================\n       MAIN GRID\n    ====================== */\n    .main {\n      padding-top: 48px;\n      padding-bottom: 48px;\n      display: flex;\n      justify-content: center;\n      align-items: start;\n    }\n\n    /* =====================\n       CHAPTER READING AREA (Option 1: Magazine-style)\n    ====================== */\n    .chapter-content {\n      max-width: 768px;\n      width: 100%;\n      margin: 0 auto;\n    }\n\n    .chapter-header {\n      margin-bottom: 56px;\n      padding-bottom: 32px;\n      border-bottom: 2px solid var(--line);\n    }\n\n    .book-title {\n      font-size: 12px;\n      letter-spacing: 0.15em;\n      text-transform: uppercase;\n      color: var(--muted);\n      font-weight: 500;\n      margin-bottom: 8px;\n      opacity: 0.7;\n    }\n\n    .chapter-number {\n      font-size: 13px;\n      letter-spacing: 0.2em;\n      text-transform: uppercase;\n      color: var(--muted);\n      font-weight: 600;\n      margin-bottom: 12px;\n      display: flex;\n      align-items: center;\n      gap: 8px;\n      cursor: pointer;\n      user-select: none;\n      transition: color 0.2s ease;\n    }\n\n    .chapter-number:hover {\n      color: var(--ink);\n    }\n\n    .chapter-number__icon {\n      font-size: 10px;\n      opacity: 0.6;\n      transition: transform 0.3s ease, opacity 0.2s ease;\n    }\n\n    .chapter-number:hover .chapter-number__icon {\n      opacity: 0.8;\n    }\n\n    .chapter-number__icon--open {\n      transform: rotate(180deg);\n    }\n\n    .chapter-title {\n      font-size: 56px;\n      font-weight: 900;\n      line-height: 1.05;\n      margin: 0 0 20px 0;\n      color: var(--ink);\n      letter-spacing: -0.03em;\n    }\n\n    .chapter-subtitle {\n      font-size: 22px;\n      font-weight: 500;\n      color: var(--muted);\n      line-height: 1.4;\n      margin: 0;\n    }\n\n    .chapter-body {\n      font-size: 19px;\n      line-height: 1.8;\n      color: var(--ink);\n      max-width: none;\n      font-weight: 400;\n    }\n\n    .chapter-body p {\n      margin: 0 0 28px 0;\n    }\n\n    .chapter-body p:last-child {\n      margin-bottom: 0;\n    }\n\n    .chapter-body h2 {\n      font-size: 36px;\n      font-weight: 800;\n      line-height: 1.2;\n      margin: 56px 0 24px 0;\n      color: var(--ink);\n      letter-spacing: -0.02em;\n    }\n\n    .chapter-body h3 {\n      font-size: 26px;\n      font-weight: 700;\n      line-height: 1.3;\n      margin: 40px 0 18px 0;\n      color: var(--ink);\n      letter-spacing: -0.01em;\n    }\n\n    .chapter-body strong {\n      font-weight: 600;\n      color: var(--ink);\n    }\n\n    .chapter-body em {\n      font-style: italic;\n    }\n\n    .chapter-body ul,\n    .chapter-body ol {\n      margin: 28px 0;\n      padding-left: 36px;\n    }\n\n    .chapter-body li {\n      margin-bottom: 14px;\n      line-height: 1.75;\n    }\n\n    .chapter-body blockquote {\n      margin: 40px 0;\n      padding-left: 28px;\n      border-left: 4px solid var(--accent);\n      font-style: italic;\n      color: var(--muted);\n      font-size: 18px;\n      line-height: 1.7;\n    }\n\n    .chapter-body code {\n      font-family: ''Monaco'', ''Menlo'', ''Courier New'', monospace;\n      font-size: 0.9em;\n      background: rgba(0,0,0,0.04);\n      padding: 2px 6px;\n      border-radius: 3px;\n    }\n\n    .chapter-body pre {\n      background: rgba(0,0,0,0.04);\n      padding: 20px;\n      border-radius: 8px;\n      overflow-x: auto;\n      margin: 24px 0;\n    }\n\n    .chapter-body pre code {\n      background: none;\n      padding: 0;\n    }\n\n    /* Content shift when sidebar opens */\n    .main {\n      transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n    }\n\n    .main--shifted {\n      transform: translateX(-320px);\n    }\n\n    /* Prevent horizontal scroll */\n    body {\n      overflow-x: hidden;\n    }\n\n    .page {\n      overflow-x: hidden;\n    }\n\n    /* =====================\n       CHAPTER NAVIGATION (BOTTOM)\n    ====================== */\n    .chapter-nav-bottom {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      max-width: 768px;\n      width: 100%;\n      margin: 64px auto 0 auto;\n      padding: 24px 0;\n      border-top: 1px solid var(--line);\n    }\n\n    .chapter-nav-bottom__link {\n      display: flex;\n      align-items: center;\n      gap: 8px;\n      font-size: 14px;\n      color: var(--muted);\n      text-decoration: none;\n      transition: color 0.2s ease;\n      padding: 8px 0;\n    }\n\n    .chapter-nav-bottom__link:hover {\n      color: var(--ink);\n    }\n\n    .chapter-nav-bottom__arrow {\n      font-size: 16px;\n      opacity: 0.7;\n    }\n\n    .chapter-nav-bottom__label {\n      font-weight: 500;\n    }\n\n    .chapter-nav-bottom__link--prev {\n      margin-right: auto;\n    }\n\n    .chapter-nav-bottom__link--next {\n      margin-left: auto;\n    }\n\n    .chapter-nav-bottom__link--disabled {\n      opacity: 0.4;\n      cursor: not-allowed;\n      pointer-events: none;\n    }\n\n    .page-widget__pages {\n      max-height: 0;\n      overflow: hidden;\n      transition: max-height 0.4s cubic-bezier(0.4, 0, 0.2, 1),\n                  opacity 0.3s ease,\n                  margin-top 0.3s ease;\n      opacity: 0;\n      margin-top: 0;\n      background: rgba(255, 255, 255, 0.98);\n      backdrop-filter: blur(12px);\n      -webkit-backdrop-filter: blur(12px);\n      border: 1px solid rgba(0, 0, 0, 0.06);\n      border-radius: 12px;\n      box-shadow: 0 2px 12px rgba(0, 0, 0, 0.06);\n    }\n\n    .page-widget__pages--expanded {\n      max-height: 500px;\n      opacity: 1;\n      margin-top: 12px;\n      padding: 8px;\n    }\n\n    .page-widget__pages-list {\n      list-style: none;\n      margin: 0;\n      padding: 0;\n      display: flex;\n      flex-direction: column;\n      gap: 8px;\n      max-height: 400px;\n      overflow-y: auto;\n      padding-right: 4px;\n    }\n\n    .page-widget__pages-list::-webkit-scrollbar {\n      width: 6px;\n    }\n\n    .page-widget__pages-list::-webkit-scrollbar-track {\n      background: rgba(0, 0, 0, 0.02);\n      border-radius: 3px;\n    }\n\n    .page-widget__pages-list::-webkit-scrollbar-thumb {\n      background: rgba(0, 0, 0, 0.12);\n      border-radius: 3px;\n    }\n\n    .page-widget__pages-list::-webkit-scrollbar-thumb:hover {\n      background: rgba(0, 0, 0, 0.2);\n    }\n\n    .page-widget__page-item {\n      display: flex;\n      align-items: center;\n      gap: 10px;\n      padding: 8px 10px;\n      border-radius: 8px;\n      cursor: pointer;\n      transition: all 0.2s ease;\n      text-decoration: none;\n      color: var(--ink);\n    }\n\n    .page-widget__page-item:hover {\n      background: rgba(0, 0, 0, 0.03);\n      transform: translateX(2px);\n    }\n\n    .page-widget__page-item--current {\n      background: rgba(22, 163, 74, 0.08);\n      color: var(--accent);\n      font-weight: 500;\n    }\n\n    .page-widget__page-item--current:hover {\n      background: rgba(22, 163, 74, 0.12);\n    }\n\n    .page-widget__page-number {\n      display: inline-flex;\n      align-items: center;\n      justify-content: center;\n      width: 24px;\n      height: 24px;\n      background: rgba(0, 0, 0, 0.04);\n      border-radius: 5px;\n      font-size: 11px;\n      font-weight: 500;\n      flex-shrink: 0;\n      color: var(--muted);\n    }\n\n    .page-widget__page-item--current .page-widget__page-number {\n      background: rgba(22, 163, 74, 0.15);\n      color: var(--accent);\n    }\n\n    .page-widget__page-info {\n      flex: 1;\n      min-width: 0;\n    }\n\n    .page-widget__page-name {\n      font-size: 13px;\n      font-weight: 500;\n      line-height: 1.3;\n      margin: 0 0 2px 0;\n    }\n\n    .page-widget__page-note {\n      font-size: 11px;\n      color: var(--muted);\n      line-height: 1.3;\n      margin: 0;\n      white-space: nowrap;\n      overflow: hidden;\n      text-overflow: ellipsis;\n    }\n\n    @media (max-width: 768px) {\n      .page-widget__pages-list {\n        max-height: 300px;\n      }\n    }\n\n\n/* ===============================\n   WRAPPER\n================================ */\n.book-wrap {\n  width: 320px;\n  aspect-ratio: 2 / 3;\n  position: relative;\n}\n\n/* ===============================\n   CAST SHADOW SLAB (REAL SHADOW)\n================================ */\n.shadow-slab {\n    position: absolute;\n    position: absolute;\n    inset: 0;\n    border-radius: 22px;\n    /* background: #2a2a2a; */\n    transform: translate(-30px, 30px);\n    filter: blur(13px);\n    opacity: 0.35;\n    z-index: 0;\n    background: radial-gradient(ellipse at 15% 85%, rgba(0, 0, 0, 0.35), rgba(0, 0, 0, 0.18) 35%, transparent 65%), linear-gradient(to right, #1f1f1f 0%, #2a2a2a 45%, #3a3a3a 100%);\n}\n\n.shadow-slab-2 {\n    position: absolute;\n    inset: 0;\n    border-radius: 22px;\n    background: radial-gradient(circle at top right, #f6e6a8 0%, #e2c36b 35%, #b58a3c 70%, #7a5524 100%);\n    transform: translate(-10px, 10px);\n    filter: blur(5px);\n    opacity: 0.35;\n    z-index: 0;\n}\n\n.shadow-slab-3 {\n    position: absolute;\n    inset: 0;\n    border-radius: 22px;\n    background: #333;\n    transform: translate(0px, 0px);\n    filter: blur(11px);\n    opacity: 0.35;\n    z-index: 0;\n}\n\n.shadow-slab-4 {\n    position: absolute;\n    inset: 0;\n    border-radius: 22px;\n    background: #333;\n    transform: translate(0px, 0px);\n    filter: blur(11px);\n    opacity: 0.35;\n    z-index: 0;\n}\n\n/* ===============================\n   FRONT SLAB & SPIN HANDLE\n================================ */\n\n.front-slab {\n    position: absolute;\n    inset: 0;\n    border-radius: 22px;\n    background: linear-gradient(to right, rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.1) 3%, transparent 1%);\n    /* background: green; */\n    z-index: 3;\n    opacity: .5;\n    transform: translateZ(6px);\n    pointer-events: none;\n}\n\n.spin-handle {\n  display: none;\n  position: absolute;\n  top: 50%;\n  right: -22px;\n  width: 14px;\n  height: 48px;\n  border-radius: 999px;\n  background: rgba(0,0,0,0.25);\n  backdrop-filter: blur(4px);\n  cursor: grab;\n  z-index: 10;\n}\n\n/* ===============================\n   BOOK OBJECT (NO SHADOW)\n================================ */\n.book {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  border-radius: 22px;\n  overflow: hidden;\n  z-index: 2;\n\n  /* IMPORTANT: no box-shadow */\n  box-shadow: none;\n\n  /* transform: perspective(1200px) rotateX(0.6deg); */\n}\n\n/* ===============================\n   PAPER SURFACE (LIGHT FIELD)\n================================ */\n.book .surface {\n  position: absolute;\n  inset: 0;\n  border-radius: inherit;\n  pointer-events: none;\n  z-index: 1;\n\n  background:\n    linear-gradient(\n      to bottom left,\n      rgba(255,255,255,1) 0%,\n      rgba(250,250,250,1) 42%,\n      rgba(240,240,240,1) 100%\n    ),\n    repeating-linear-gradient(\n      0deg,\n      rgba(0,0,0,0.01),\n      rgba(0,0,0,0.01) 1px,\n      transparent 1px,\n      transparent 3px\n    );\n}\n\n/* ===============================\n   LEFT OCCLUSION (CURTAIN)\n================================ */\n.book .curtain {\n  position: absolute;\n  inset: 0;\n  border-radius: inherit;\n  pointer-events: none;\n  z-index: 2;\n\n  background:\n    linear-gradient(\n      to right,\n      rgba(0,0,0,0.20) 0%,\n      rgba(0,0,0,0.12) 8%,\n      rgba(0,0,0,0.05) 16%,\n      rgba(0,0,0,0.02) 22%,\n      rgba(0,0,0,0.00) 30%\n    );\n}\n\n/* ===============================\n   RIGHT HIGHLIGHT\n================================ */\n.book .highlight {\n  position: absolute;\n  inset: 0;\n  border-radius: inherit;\n  pointer-events: none;\n  z-index: 3;\n\n  background:\n    linear-gradient(\n      to left,\n      rgba(255,255,255,0.35) 0%,\n      rgba(255,255,255,0.18) 6%,\n      rgba(255,255,255,0.06) 14%,\n      rgba(255,255,255,0.00) 24%\n    );\n}\n\n/* ===============================\n   PAGE EDGE (THICKNESS)\n================================ */\n.book .edge {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 120px;\n  height: 100%;\n  border-radius: 22px 0 0 22px;\n  pointer-events: none;\n  z-index: 4;\n\n  background:\n    linear-gradient(\n      to right,\n      rgba(215,215,215,0.95) 0%,\n      rgba(245,245,245,0.95) 40%,\n      rgba(255,255,255,0.95) 75%\n    );\n\n  box-shadow:\n    inset -1px 0 0 rgba(0,0,0,0.05);\n}\n\n/* ===============================\n   SVG (PURE WHITE)\n================================ */\n.book svg {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  display: block;\n  z-index: 5;\n}\n\n    /* =====================\n       LEFT: BOOK COVER\n    ====================== */\n    .book-cover {\n      display: flex;\n      flex-direction: column;\n      gap: 12px;\n    }\n\n\n    /* ===============================\n       BOOK + SHADOW SYSTEM\n    =============================== */\n    .book-wrap {\n      width: 320px;\n      aspect-ratio: 2 / 3;\n      position: relative;\n    }\n\n    .shadow-slab,\n    .shadow-slab-2,\n    .shadow-slab-3,\n    .shadow-slab-4 {\n      position: absolute;\n      inset: 0;\n      border-radius: 22px;\n      z-index: 0;\n      will-change: transform, filter, opacity;\n    }\n\n    .shadow-slab {\n      background:\n        radial-gradient(ellipse at 15% 85%, rgba(0,0,0,0.35), rgba(0,0,0,0.18) 35%, transparent 65%),\n        linear-gradient(to right, #1f1f1f 0%, #2a2a2a 45%, #3a3a3a 100%);\n      filter: blur(13px);\n      opacity: 0.35;\n    }\n\n    .shadow-slab-2 {\n      background: radial-gradient(circle at top right, #f6e6a8 0%, #e2c36b 35%, #b58a3c 70%, #7a5524 100%);\n      filter: blur(6px);\n      opacity: 0.30;\n    }\n\n    .shadow-slab-3,\n    .shadow-slab-4 {\n      background: #333;\n      filter: blur(11px);\n      opacity: 0.30;\n    }\n\n    .book {\n      position: relative;\n      width: 100%;\n      height: 100%;\n      border-radius: 22px;\n      overflow: hidden;\n      z-index: 2;\n      background: #f7f4ee;\n    }\n\n    .front-slab {\n      position: absolute;\n      inset: 0;\n      border-radius: 22px;\n      background: linear-gradient(to right, rgba(0,0,0,0.4), rgba(0,0,0,0.1) 3%, transparent 10%);\n      z-index: 3;\n      pointer-events: none;\n      opacity: 0.5;\n    }\n\n\n    @media (prefers-reduced-motion: reduce) {\n      .cover-frame {\n        transition: none;\n        transform: none;\n      }\n      .cover-frame:hover {\n        --lift: 0;\n      }\n    }\n\n    .start-reading {\n      display: inline-flex;\n      align-items: center;\n      justify-content: center;\n      width: 100%;\n      padding: 12px 14px;\n      border-radius: 999px;\n\n      font-size: 11px;\n      letter-spacing: 0.16em;\n      text-transform: uppercase;\n      font-weight: 650;\n      color: rgba(34,197,94,0.92);\n      text-shadow:\n        0 0 10px rgba(34,197,94,0.22),\n        0 0 22px rgba(34,197,94,0.14);\n\n      /* graphite: dark + slightly mineral */\n      background:\n        radial-gradient(120% 140% at 20% 10%, rgba(255,255,255,0.10) 0%, rgba(255,255,255,0.00) 55%),\n        radial-gradient(140% 140% at 80% 90%, rgba(255,255,255,0.06) 0%, rgba(255,255,255,0.00) 60%),\n        linear-gradient(180deg, #141414 0%, #0a0a0a 100%);\n      border: 1px solid rgba(255,255,255,0.10);\n      box-shadow:\n        0 14px 34px rgba(0,0,0,0.22),\n        0 8px 16px rgba(0,0,0,0.18),\n        inset 0 1px 0 rgba(255,255,255,0.10),\n        inset 0 -1px 0 rgba(0,0,0,0.55);\n\n      position: relative;\n      overflow: hidden;\n      cursor: pointer;\n      user-select: none;\n      -webkit-tap-highlight-color: transparent;\n\n      transition:\n        transform 160ms cubic-bezier(0.2, 0.8, 0.2, 1),\n        box-shadow 160ms cubic-bezier(0.2, 0.8, 0.2, 1),\n        border-color 160ms cubic-bezier(0.2, 0.8, 0.2, 1);\n    }\n\n    .start-reading::before {\n      content: \"\";\n      position: absolute;\n      inset: 0;\n      pointer-events: none;\n      /* texture + sheen (very subtle) */\n      background:\n        linear-gradient(120deg, rgba(255,255,255,0.12) 0%, rgba(255,255,255,0.00) 46%),\n        repeating-linear-gradient(0deg,\n          rgba(255,255,255,0.028) 0px,\n          rgba(255,255,255,0.028) 1px,\n          rgba(0,0,0,0.00) 3px,\n          rgba(0,0,0,0.00) 6px),\n        radial-gradient(120% 90% at 50% 0%, rgba(34,197,94,0.14) 0%, rgba(34,197,94,0.00) 62%);\n      opacity: 0.75;\n    }\n\n    .start-reading:hover {\n      transform: translateY(-1px);\n      border-color: rgba(34,197,94,0.30);\n      box-shadow:\n        0 18px 42px rgba(0,0,0,0.24),\n        0 10px 18px rgba(0,0,0,0.18),\n        inset 0 1px 0 rgba(255,255,255,0.12),\n        inset 0 -1px 0 rgba(0,0,0,0.55);\n      text-shadow:\n        0 0 12px rgba(34,197,94,0.28),\n        0 0 26px rgba(34,197,94,0.18);\n    }\n\n    .start-reading:active {\n      transform: translateY(0px);\n      box-shadow:\n        0 14px 34px rgba(0,0,0,0.22),\n        0 8px 16px rgba(0,0,0,0.18),\n        inset 0 1px 0 rgba(255,255,255,0.10),\n        inset 0 -1px 0 rgba(0,0,0,0.55);\n    }\n\n    .start-reading:focus-visible {\n      outline: none;\n      box-shadow:\n        0 18px 42px rgba(0,0,0,0.24),\n        0 0 0 4px rgba(34,197,94,0.22),\n        0 0 0 1px rgba(34,197,94,0.26),\n        inset 0 1px 0 rgba(255,255,255,0.12),\n        inset 0 -1px 0 rgba(0,0,0,0.55);\n      border-color: rgba(34,197,94,0.34);\n    }\n\n    @media (prefers-reduced-motion: reduce) {\n      .start-reading {\n        transition: none;\n      }\n      .start-reading:hover {\n        transform: none;\n      }\n    }\n\n    /* =====================\n       CENTER: CONTENT\n    ====================== */\n    .content h1 {\n      font-size: 40px;\n      font-weight: 800;\n      line-height: 1.15;\n      margin: 0;\n    }\n\n    .byline {\n      font-size: 13px;\n      letter-spacing: 0.12em;\n      color: #666;\n      font-weight: 600;\n    }\n\n    .tagline {\n      font-size: 18px;\n      font-weight: 500;\n      color: #333;\n    }\n\n    .paragraph {\n      font-size: 15px;\n      color: #222;\n    }\n\n    .meta {\n      margin-top: 20px;\n      padding-top: 20px;\n      border-top: 1px solid var(--line);\n      display: grid;\n      grid-template-columns: repeat(2, 1fr);\n      gap: 12px 24px;\n      font-size: 13px;\n    }\n\n    .author {\n      margin-top: 20px;\n      padding-top: 20px;\n      border-top: 1px solid var(--line);\n      display: flex;\n      gap: 16px;\n      align-items: flex-start;\n    }\n\n    .author img {\n      width: 44px;\n      height: 44px;\n      border-radius: 50%;\n    }\n\n    /* =====================\n       RIGHT: RELATED\n    ====================== */\n    .related {\n      display: flex;\n      flex-direction: column;\n      gap: 20px;\n    }\n\n    .related-title {\n      font-size: 11px;\n      letter-spacing: 0.14em;\n      color: #666;\n      text-transform: uppercase;\n      font-weight: 600;\n    }\n\n    .related-item {\n      display: flex;\n      flex-direction: column;\n      gap: 6px;\n      cursor: pointer;\n      transition: transform 0.12s ease, box-shadow 0.12s ease;\n    }\n\n    .related-item:hover {\n      transform: translateY(-2px);\n    }\n\n    .related-thumb {\n      border-radius: 6px;\n      overflow: hidden;\n      aspect-ratio: 3 / 4;\n      box-shadow: 0 8px 24px rgba(0,0,0,0.1);\n\n      /* Gray placeholder shape */\n      background: linear-gradient(135deg, #e5e7eb 0%, #d1d5db 45%, #cbd5e1 100%);\n      border: 1px solid rgba(0,0,0,0.06);\n    }\n\n    .related-thumb img {\n      width: 100%;\n      height: 100%;\n      object-fit: cover;\n      filter: grayscale(1);\n      opacity: 0.85;\n      transition: filter 160ms ease, opacity 160ms ease;\n    }\n\n    .related-thumb .thumb-placeholder {\n      width: 100%;\n      height: 100%;\n      display: block;\n    }\n\n    .related-item a {\n      font-size: 12px;\n      font-weight: 600;\n      color: #111;\n    }\n\n    /* =====================\n       RIGHT: 13 CHAPTERS\n    ====================== */\n    .chapters {\n      display: flex;\n      flex-direction: column;\n      gap: 10px;\n    }\n\n    .chapters-title {\n      font-size: 11px;\n      letter-spacing: 0.12em;\n      color: rgba(17,17,17,0.52);\n      text-transform: uppercase;\n      font-weight: 600;\n    }\n\n    .chapters-help {\n      margin-top: -4px;\n      font-size: 11px;\n      line-height: 1.35;\n      color: rgba(17,17,17,0.42);\n    }\n\n    .chapter-list {\n      list-style: none;\n      padding: 0;\n      margin: 0;\n      display: flex;\n      flex-direction: column;\n      gap: 0;\n      border-top: 1px solid rgba(0,0,0,0.06);\n    }\n\n    .chapter-item {\n      display: grid;\n      grid-template-columns: 3ch 1fr;\n      gap: 12px;\n      align-items: start;\n      padding: 10px 0;\n      border-bottom: 1px solid rgba(0,0,0,0.06);\n    }\n\n    .chapter-item--preface .chapter-name {\n      font-weight: 760;\n      letter-spacing: -0.01em;\n      color: rgba(17,17,17,0.90);\n    }\n\n    .chapter-item--current .chapter-name {\n      color: rgba(17,17,17,0.92);\n      text-decoration: underline;\n      text-decoration-thickness: 1px;\n      text-underline-offset: 3px;\n      text-decoration-color: rgba(17,17,17,0.22);\n    }\n\n    .chapter-num {\n      width: auto;\n      height: auto;\n      border-radius: 0;\n      display: block;\n      text-align: right;\n      font-size: 11px;\n      font-weight: 650;\n      color: rgba(17,17,17,0.46);\n      font-variant-numeric: tabular-nums;\n    }\n\n    .chapter-name {\n      font-size: 12px;\n      font-weight: 600;\n      color: rgba(17,17,17,0.80);\n      line-height: 1.3;\n    }\n\n    .chapter-note {\n      margin-top: 2px;\n      font-size: 11px;\n      color: rgba(17,17,17,0.46);\n      line-height: 1.4;\n    }\n\n    /* =====================\n       RESPONSIVE\n    ====================== */\n    @media (max-width: 900px) {\n      .chapter-content {\n        max-width: 100%;\n        padding: 0 24px;\n      }\n\n      .page-widget {\n        max-width: 100%;\n        margin-left: 24px;\n        margin-right: 24px;\n      }\n\n      .chapter-title {\n        font-size: 42px;\n      }\n\n      .chapter-body {\n        font-size: 18px;\n      }\n\n      .chapter-body h2 {\n        font-size: 32px;\n      }\n\n      .chapter-body h3 {\n        font-size: 24px;\n      }\n    }\n\n    @media (max-width: 768px) {\n      .header {\n        flex-direction: column;\n        gap: 12px;\n      }\n\n      .chapter-content {\n        padding: 0 16px;\n      }\n\n      .page-widget {\n        margin-left: 16px;\n        margin-right: 16px;\n      }\n\n      .chapter-title {\n        font-size: 38px;\n      }\n\n      .chapter-body {\n        font-size: 17px;\n      }\n\n      .chapter-body h2 {\n        font-size: 30px;\n      }\n\n      .chapter-body h3 {\n        font-size: 22px;\n      }\n    }\n  </style>\n</head>\n\n<body>\n  <div class=\"page\">\n    <div class=\"container\">\n\n      <!-- SIDEBAR BACKDROP -->\n      <div class=\"sidebar-backdrop\" id=\"sidebarBackdrop\"></div>\n\n      <!-- SIDEBAR -->\n      <aside class=\"sidebar\" id=\"sidebar\">\n        <div class=\"sidebar__title\">Working Fundamentals</div>\n        <ul class=\"sidebar__chapter-list\">\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-introduction\" class=\"sidebar__chapter-link\" target=\"_blank\">Introduction</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-1-of-13-programming-fundamentals\" class=\"sidebar__chapter-link sidebar__chapter-link\" target=\"_blank\">Chapter 1 ¬∑ Programming Fundamentals</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-2-of-13-data-structures\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 2 ¬∑ Data Structures</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-3-of-13-algorithms-and-complexity\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 3 ¬∑ Algorithms & Complexity</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-4-of-13-control-and-flow\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 4 ¬∑ Control & Flow</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-5-of-13-state-and-change\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 5 ¬∑ State & Change</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-6-of-13-design-principles\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 6 ¬∑ Design Principles</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"#\" class=\"sidebar__chapter-link\"> class=\"sidebar__chapter-link sidebar__chapter-link--current\">Chapter 7 ¬∑ Architecture</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-8-of-13-persistence-and-data-modeling\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 8 ¬∑ Persistence & Data Modeling</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-9-of-13-interfaces-and-apis\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 9 ¬∑ Interfaces & APIs</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-10-of-13-errors-and-failure\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 10 ¬∑ Errors & Failure</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-11-of-13-testing\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 11 ¬∑ Testing</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-12-of-13-performance-and-scale\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 12 ¬∑ Performance & Scale</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-13-of-13-the-developers-role\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 13 ¬∑ The Developer''s Role</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-outroduction\" class=\"sidebar__chapter-link\" target=\"_blank\">Outroduction</a>\n          </li>\n        </ul>\n      </aside>\n\n      <!-- HEADER -->\n      <header class=\"header\" id=\"header\">\n        <a href=\"https://arvinjaysoncastro.com/\" class=\"brand\" target=\"_blank\">Arvin Jayson Castro</a>\n        <nav class=\"nav\">\n          <a href=\"https://arvinjaysoncastro.com/hungry-dev-mind\" target=\"_blank\">Books</a>\n          <a href=\"https://arvinjaysoncastro.com/working-systems\" target=\"_blank\">Working Systems</a>\n          <a href=\"https://arvinjaysoncastro.com/about\" target=\"_blank\">16 Years</a>\n          <div class=\"linkedin\">\n            <a href=\"https://www.linkedin.com/in/arvin-jayson-castro-7458199a/\" target=\"_blank\">linkedIn</a>\n            <span>let''s connect</span>\n          </div>\n        </nav>\n      </header>\n\n      <!-- PAGE WIDGET (TOP) - REMOVED -->\n      <div style=\"display: none;\">\n          <ol class=\"page-widget__pages-list\">\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">P</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Preface</div>\n                  <div class=\"page-widget__page-note\">Why fundamentals still decide outcomes.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item page-widget__page-item--current\">\n                <span class=\"page-widget__page-number\">1</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 1</div>\n                  <div class=\"page-widget__page-note\">Core principles and constraints.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">2</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 2</div>\n                  <div class=\"page-widget__page-note\">Boundaries, ownership, and interfaces.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">3</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 3</div>\n                  <div class=\"page-widget__page-note\">State, consistency, and failure modes.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">4</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 4</div>\n                  <div class=\"page-widget__page-note\">Abstractions that survive change.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">5</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 5</div>\n                  <div class=\"page-widget__page-note\">Simplicity as an engineering practice.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">6</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 6</div>\n                  <div class=\"page-widget__page-note\">Reliability, observability, and feedback.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">7</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 7</div>\n                  <div class=\"page-widget__page-note\">Delivery systems and decision hygiene.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">8</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 8</div>\n                  <div class=\"page-widget__page-note\">Documentation that stays useful.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">9</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 9</div>\n                  <div class=\"page-widget__page-note\">Testing strategy for predictable change.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">10</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 10</div>\n                  <div class=\"page-widget__page-note\">Pragmatic architecture for teams.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">11</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 11</div>\n                  <div class=\"page-widget__page-note\">Operational excellence without ceremony.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">12</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 12</div>\n                  <div class=\"page-widget__page-note\">Leadership, standards, and leverage.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">13</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 13</div>\n                  <div class=\"page-widget__page-note\">Making fundamentals non-negotiable.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">PS</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Postscript</div>\n                  <div class=\"page-widget__page-note\">A short operating model to carry forward.</div>\n                </div>\n              </a>\n            </li>\n          </ol>\n        </div>\n      </div>\n\n      <!-- MAIN -->\n      <main class=\"main\" id=\"main\">\n\n        <!-- CHAPTER CONTENT (Option 1: Magazine-style) -->\n        <article class=\"chapter-content\">\n          <header class=\"chapter-header\">\n            <div class=\"book-title\">Working Fundamentals</div>\n            <div class=\"chapter-number\" id=\"chapterIndicator\">\n              <span>chapter 7 of 13</span>\n              <span class=\"chapter-number__icon\" id=\"chapterIndicatorIcon\">‚ñæ</span>\n            </div>\n            <h1 class=\"chapter-title\">Architecture</h1>\n            <p class=\"chapter-subtitle\">Decisions that are expensive to change</p>\n          </header>\n\n          <div class=\"chapter-body\">\n            <h3>What this chapter is</h3>\n\n            <p>This chapter is not about diagrams.It is not about boxes and arrows.It is not about technology choices.</p>\n\n            <p>This chapter is about <strong>irreversibility</strong>.</p>\n\n            <p>Architecture exists because some decisions, once made,reshape everything that follows.</p>\n\n            <h2>The core truth</h2>\n\n            <p>Architecture is not what you build first.Architecture is what you <strong>cannot easily undo</strong>.</p>\n\n            <p>If a decision can be changed quickly and safely,it is not architectural.</p>\n\n            <p>If changing it would:</p>\n\n            <ul>\n\n            <li>ripple through many parts</li>\n\n            </ul>\n\n            <ul>\n\n            <li>require coordinated changes</li>\n\n            </ul>\n\n            <ul>\n\n            <li>risk breaking unrelated behavior</li>\n\n            </ul>\n\n            <p>‚Ä¶then it is architecture.</p>\n\n            <p>üß† <strong>Mental Model</strong>Architecture is frozen intent.</p>\n\n            <h2>Why architecture exists at all</h2>\n\n            <p>In small systems:</p>\n\n            <ul>\n\n            <li>everything can touch everything</li>\n\n            </ul>\n\n            <ul>\n\n            <li>changes are cheap</li>\n\n            </ul>\n\n            <ul>\n\n            <li>mistakes are reversible</li>\n\n            </ul>\n\n            <p>In real systems:</p>\n\n            <ul>\n\n            <li>teams grow</li>\n\n            </ul>\n\n            <ul>\n\n            <li>time passes</li>\n\n            </ul>\n\n            <ul>\n\n            <li>assumptions decay</li>\n\n            </ul>\n\n            <ul>\n\n            <li>pressure increases</li>\n\n            </ul>\n\n            <p>Architecture exists to <strong>control the cost of change</strong>.</p>\n\n            <p>Without it, every change becomes dangerous.</p>\n\n            <h2>Boundaries are the real architecture</h2>\n\n            <p>Files, folders, layers, services ‚Äî these are expressions.<strong>Boundaries</strong> are the substance.</p>\n\n            <p>A boundary defines:</p>\n\n            <ul>\n\n            <li>who may depend on whom</li>\n\n            </ul>\n\n            <ul>\n\n            <li>what knowledge is shared</li>\n\n            </ul>\n\n            <ul>\n\n            <li>where assumptions stop</li>\n\n            </ul>\n\n            <p>Good boundaries:</p>\n\n            <ul>\n\n            <li>slow down damage</li>\n\n            </ul>\n\n            <ul>\n\n            <li>localize mistakes</li>\n\n            </ul>\n\n            <ul>\n\n            <li>preserve reasoning</li>\n\n            </ul>\n\n            <p>Bad or missing boundaries:</p>\n\n            <ul>\n\n            <li>spread change</li>\n\n            </ul>\n\n            <ul>\n\n            <li>hide responsibility</li>\n\n            </ul>\n\n            <ul>\n\n            <li>amplify fear</li>\n\n            </ul>\n\n            <p>üß† <strong>Architect‚Äôs Note</strong>If a boundary is unclear, it does not exist.</p>\n\n            <h2>Architecture is constraint, not freedom</h2>\n\n            <p>Many think architecture gives freedom.</p>\n\n            <p>It does not.</p>\n\n            <p>Good architecture <strong>removes options</strong>.</p>\n\n            <p>It says:</p>\n\n            <ul>\n\n            <li>‚ÄúYou cannot do that here.‚Äù</li>\n\n            </ul>\n\n            <ul>\n\n            <li>‚ÄúThis must go through this path.‚Äù</li>\n\n            </ul>\n\n            <ul>\n\n            <li>‚ÄúThis knowledge is forbidden here.‚Äù</li>\n\n            </ul>\n\n            <p>Early on, this feels restrictive.Later, it feels protective.</p>\n\n            <p>üß† <strong>Perspective</strong>Freedom without structure becomes chaos under pressure.</p>\n\n            <h2>Direction of dependency matters</h2>\n\n            <p>One of the most important architectural decisions is:</p>\n\n            <blockquote>_Who depends on whom?_</blockquote>\n\n            <p>Dependencies create gravity.</p>\n\n            <p>Code that depends on many things:</p>\n\n            <ul>\n\n            <li>is harder to change</li>\n\n            </ul>\n\n            <ul>\n\n            <li>is harder to test</li>\n\n            </ul>\n\n            <ul>\n\n            <li>becomes central unintentionally</li>\n\n            </ul>\n\n            <p>Code that few things depend on:</p>\n\n            <ul>\n\n            <li>is safer to evolve</li>\n\n            </ul>\n\n            <ul>\n\n            <li>becomes foundational</li>\n\n            </ul>\n\n            <p>üß† <strong>Mental Model</strong>Stability flows toward dependency, not size.</p>\n\n            <h2>Architectural seams</h2>\n\n            <p>A seam is a place where the system can split cleanly.</p>\n\n            <p>Good seams allow:</p>\n\n            <ul>\n\n            <li>replacement</li>\n\n            </ul>\n\n            <ul>\n\n            <li>isolation</li>\n\n            </ul>\n\n            <ul>\n\n            <li>experimentation</li>\n\n            </ul>\n\n            <p>Seams often appear as:</p>\n\n            <ul>\n\n            <li>interfaces</li>\n\n            </ul>\n\n            <ul>\n\n            <li>ports</li>\n\n            </ul>\n\n            <ul>\n\n            <li>adapters</li>\n\n            </ul>\n\n            <ul>\n\n            <li>boundaries between domains</li>\n\n            </ul>\n\n            <p>üß† <strong>Architect‚Äôs Note</strong>A system without seams cannot evolve safely.</p>\n\n            <h2>Monolith vs microservices is a false start</h2>\n\n            <p>The debate is seductive ‚Äî and shallow.</p>\n\n            <p>The real questions are:</p>\n\n            <ul>\n\n            <li>Where are the boundaries?</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Are responsibilities clear?</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Can parts change independently?</li>\n\n            </ul>\n\n            <p>A well-bounded monolith:</p>\n\n            <ul>\n\n            <li>is easier to reason about</li>\n\n            </ul>\n\n            <ul>\n\n            <li>is easier to debug</li>\n\n            </ul>\n\n            <ul>\n\n            <li>can evolve into services later</li>\n\n            </ul>\n\n            <p>A poorly bounded distributed system:</p>\n\n            <ul>\n\n            <li>multiplies failure</li>\n\n            </ul>\n\n            <ul>\n\n            <li>hides latency</li>\n\n            </ul>\n\n            <ul>\n\n            <li>amplifies mistakes</li>\n\n            </ul>\n\n            <p>üß† <strong>Perspective</strong>Distribution magnifies structure ‚Äî good or bad.</p>\n\n            <h2>Architecture and time</h2>\n\n            <p>Architecture must survive:</p>\n\n            <ul>\n\n            <li>new features</li>\n\n            </ul>\n\n            <ul>\n\n            <li>new developers</li>\n\n            </ul>\n\n            <ul>\n\n            <li>new constraints</li>\n\n            </ul>\n\n            <ul>\n\n            <li>new scale</li>\n\n            </ul>\n\n            <p>Code is written once.Architecture is <strong>lived in</strong>.</p>\n\n            <p>If the architecture requires constant explanation,it is already failing.</p>\n\n            <h2>Architectural mistakes hurt quietly</h2>\n\n            <p>Bad architecture rarely breaks immediately.</p>\n\n            <p>Instead:</p>\n\n            <ul>\n\n            <li>development slows</li>\n\n            </ul>\n\n            <ul>\n\n            <li>fear increases</li>\n\n            </ul>\n\n            <ul>\n\n            <li>workarounds multiply</li>\n\n            </ul>\n\n            <ul>\n\n            <li>‚Äútemporary‚Äù hacks harden</li>\n\n            </ul>\n\n            <p>By the time failure is obvious,change is expensive.</p>\n\n            <p>‚ö†Ô∏è <strong>Common Drift</strong>Most legacy systems were once ‚Äúgood enough.‚Äù</p>\n\n            <h2>Humility in architectural decisions</h2>\n\n            <p>Every architectural decision is a bet.</p>\n\n            <p>You will get some wrong.</p>\n\n            <p>Good architects:</p>\n\n            <ul>\n\n            <li>isolate risk</li>\n\n            </ul>\n\n            <ul>\n\n            <li>delay irreversible decisions</li>\n\n            </ul>\n\n            <ul>\n\n            <li>avoid locking in guesses</li>\n\n            </ul>\n\n            <ul>\n\n            <li>provide escape routes</li>\n\n            </ul>\n\n            <p>üß† <strong>Architect‚Äôs Note</strong>The best architecture assumes it will be partially wrong.</p>\n\n            <h2>Architecture is about people, not systems</h2>\n\n            <p>Architecture exists to help humans:</p>\n\n            <ul>\n\n            <li>reason</li>\n\n            </ul>\n\n            <ul>\n\n            <li>collaborate</li>\n\n            </ul>\n\n            <ul>\n\n            <li>change safely</li>\n\n            </ul>\n\n            <ul>\n\n            <li>sleep at night</li>\n\n            </ul>\n\n            <p>If only the original author understands it,it has already failed.</p>\n\n            <h2>Minimal practice (still no code)</h2>\n\n            <p><strong>Problem:</strong>‚ÄúA system mixes business rules, data access, and external integrations in the same modules.‚Äù</p>\n\n            <p>Ask:</p>\n\n            <ul>\n\n            <li>What must change together?</li>\n\n            </ul>\n\n            <ul>\n\n            <li>What should never change together?</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Where should knowledge stop flowing?</li>\n\n            </ul>\n\n            <p>If those answers are unclear, architecture is missing.</p>\n\n            <h2>What beginners gain here</h2>\n\n            <ul>\n\n            <li>Respect for structure</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Awareness of long-term cost</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Understanding why some codebases feel hostile</li>\n\n            </ul>\n\n            <h2>What experienced developers recognize</h2>\n\n            <ul>\n\n            <li>Why refactors stall</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Why every change feels risky</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Why progress slows over time</li>\n\n            </ul>\n\n            <p>Architecture was neglected.</p>\n\n            <h2>What this chapter deliberately avoids</h2>\n\n            <ul>\n\n            <li>Technology stacks</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Framework choices</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Deployment models</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Trend-driven patterns</li>\n\n            </ul>\n\n            <p>Those are downstream.</p>\n\n            <h2>Closing</h2>\n\n            <p>Architecture is not about control.It is about <strong>endurance</strong>.</p>\n\n            <p>Good architecture fades into the background.Bad architecture demands attention every day.</p>\n\n            <p>Design so the system can grow beyond you ‚Äîwithout collapsing under its own weight.</p>\n          </div>\n        </article>\n\n        <!-- RIGHT -->\n\n      </main>\n\n      <!-- CHAPTER NAVIGATION (BOTTOM) -->\n      <nav class=\"chapter-nav-bottom\" id=\"chapterNavBottom\">\n        <a href=\"#\" class=\"chapter-nav-bottom__link chapter-nav-bottom__link--prev\" id=\"prevChapter\">\n          <span class=\"chapter-nav-bottom__arrow\">‚Üê</span>\n          <span class=\"chapter-nav-bottom__label\">Previous</span>\n        </a>\n        <a href=\"#\" class=\"chapter-nav-bottom__link chapter-nav-bottom__link--next\" id=\"nextChapter\">\n          <span class=\"chapter-nav-bottom__label\">Next</span>\n          <span class=\"chapter-nav-bottom__arrow\">‚Üí</span>\n        </a>\n      </nav>\n\n      <!-- PAGE WIDGET (BOTTOM) - REMOVED -->\n      <div style=\"display: none;\">\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">P</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Preface</div>\n                  <div class=\"page-widget__page-note\">Why fundamentals still decide outcomes.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item page-widget__page-item--current\">\n                <span class=\"page-widget__page-number\">1</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 1</div>\n                  <div class=\"page-widget__page-note\">Core principles and constraints.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">2</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 2</div>\n                  <div class=\"page-widget__page-note\">Boundaries, ownership, and interfaces.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">3</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 3</div>\n                  <div class=\"page-widget__page-note\">State, consistency, and failure modes.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">4</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 4</div>\n                  <div class=\"page-widget__page-note\">Abstractions that survive change.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">5</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 5</div>\n                  <div class=\"page-widget__page-note\">Simplicity as an engineering practice.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">6</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 6</div>\n                  <div class=\"page-widget__page-note\">Reliability, observability, and feedback.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">7</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 7</div>\n                  <div class=\"page-widget__page-note\">Delivery systems and decision hygiene.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">8</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 8</div>\n                  <div class=\"page-widget__page-note\">Documentation that stays useful.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">9</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 9</div>\n                  <div class=\"page-widget__page-note\">Testing strategy for predictable change.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">10</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 10</div>\n                  <div class=\"page-widget__page-note\">Pragmatic architecture for teams.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">11</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 11</div>\n                  <div class=\"page-widget__page-note\">Operational excellence without ceremony.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">12</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 12</div>\n                  <div class=\"page-widget__page-note\">Leadership, standards, and leverage.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">13</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 13</div>\n                  <div class=\"page-widget__page-note\">Making fundamentals non-negotiable.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">PS</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Postscript</div>\n                  <div class=\"page-widget__page-note\">A short operating model to carry forward.</div>\n                </div>\n              </a>\n            </li>\n          </ol>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <!-- PAGE WIDGET JS -->\n  <!-- SIDEBAR TOGGLE JS -->\n  <script>\n  (() => {\n    const sidebar = document.getElementById(''sidebar'');\n    const backdrop = document.getElementById(''sidebarBackdrop'');\n    const indicator = document.getElementById(''chapterIndicator'');\n    const icon = document.getElementById(''chapterIndicatorIcon'');\n    const header = document.getElementById(''header'');\n    const main = document.getElementById(''main'');\n    const body = document.body;\n\n    if (!sidebar || !backdrop || !indicator || !icon || !header || !main) return;\n\n    let isOpen = false;\n    let scrollTimeout = null;\n\n    const openSidebar = () => {\n      isOpen = true;\n      sidebar.classList.add(''sidebar--open'');\n      backdrop.classList.add(''sidebar-backdrop--visible'');\n      header.classList.add(''header--shifted'');\n      main.classList.add(''main--shifted'');\n      icon.classList.add(''chapter-number__icon--open'');\n      body.classList.add(''sidebar-open'');\n    };\n\n    const closeSidebar = () => {\n      isOpen = false;\n      sidebar.classList.remove(''sidebar--open'');\n      backdrop.classList.remove(''sidebar-backdrop--visible'');\n      header.classList.remove(''header--shifted'');\n      main.classList.remove(''main--shifted'');\n      icon.classList.remove(''chapter-number__icon--open'');\n      body.classList.remove(''sidebar-open'');\n    };\n\n    // Toggle sidebar\n    indicator.addEventListener(''click'', (e) => {\n      e.stopPropagation();\n      if (isOpen) {\n        closeSidebar();\n      } else {\n        openSidebar();\n      }\n    });\n\n    // Close sidebar when clicking backdrop\n    backdrop.addEventListener(''click'', () => {\n      closeSidebar();\n    });\n\n    // Close sidebar when clicking outside\n    document.addEventListener(''click'', (e) => {\n      // Don''t close sidebar if clicking on brand link or nav links\n      const brandLink = header.querySelector(''.brand'');\n      const isClickOnLink = brandLink && brandLink.contains(e.target);\n      const isClickOnNav = header.querySelector(''.nav'') && header.querySelector(''.nav'').contains(e.target);\n      \n      if (isOpen && !sidebar.contains(e.target) && !indicator.contains(e.target) && !isClickOnLink && !isClickOnNav) {\n        closeSidebar();\n      }\n    });\n\n    // Close sidebar on scroll (debounced)\n    const handleScroll = () => {\n      if (isOpen) {\n        clearTimeout(scrollTimeout);\n        scrollTimeout = setTimeout(() => {\n          closeSidebar();\n        }, 100);\n      }\n    };\n\n    // Listen for scroll on main content\n    window.addEventListener(''scroll'', handleScroll, { passive: true });\n    \n    // Also listen for scroll attempts on body (when scroll is disabled)\n    let lastScrollTop = window.pageYOffset;\n    const handleScrollAttempt = () => {\n      if (isOpen) {\n        const currentScrollTop = window.pageYOffset;\n        if (currentScrollTop !== lastScrollTop) {\n          closeSidebar();\n        }\n        lastScrollTop = currentScrollTop;\n      }\n    };\n\n    // Prevent scroll on body when sidebar is open\n    document.addEventListener(''wheel'', (e) => {\n      if (isOpen && !sidebar.contains(e.target)) {\n        e.preventDefault();\n        closeSidebar();\n      }\n    }, { passive: false });\n\n    // Prevent touch scroll on body when sidebar is open\n    document.addEventListener(''touchmove'', (e) => {\n      if (isOpen && !sidebar.contains(e.target)) {\n        e.preventDefault();\n        closeSidebar();\n      }\n    }, { passive: false });\n  })();\n  </script>\n\n  <!-- CHAPTER NAVIGATION (BOTTOM) JS -->\n  <script>\n  (() => {\n    // Chapter list: Preface = 0, Chapter 1-13 = 1-13, Postscript = 14\n    const chapters = [\n      { id: ''preface'', title: ''Preface'', url: ''https://arvinjaysoncastro.com/working-fundamentals-introduction'' },\n      { id: ''ch1'', title: ''Chapter 1'', url: ''https://arvinjaysoncastro.com/working-fundamentals-1-of-13-programming-fundamentals'' },\n      { id: ''ch2'', title: ''Chapter 2'', url: ''https://arvinjaysoncastro.com/working-fundamentals-2-of-13-data-structures'' },\n      { id: ''ch3'', title: ''Chapter 3'', url: ''https://arvinjaysoncastro.com/working-fundamentals-3-of-13-algorithms-and-complexity'' },\n      { id: ''ch4'', title: ''Chapter 4'', url: ''https://arvinjaysoncastro.com/working-fundamentals-4-of-13-control-and-flow'' },\n      { id: ''ch5'', title: ''Chapter 5'', url: ''https://arvinjaysoncastro.com/working-fundamentals-5-of-13-state-and-change'' },\n      { id: ''ch6'', title: ''Chapter 6'', url: ''https://arvinjaysoncastro.com/working-fundamentals-6-of-13-design-principles'' },\n      { id: ''ch7'', title: ''Chapter 7'', url: ''https://arvinjaysoncastro.com/working-fundamentals-7-of-13-architecture'' },\n      { id: ''ch8'', title: ''Chapter 8'', url: ''https://arvinjaysoncastro.com/working-fundamentals-8-of-13-persistence-and-data-modeling'' },\n      { id: ''ch9'', title: ''Chapter 9'', url: ''https://arvinjaysoncastro.com/working-fundamentals-9-of-13-interfaces-and-apis'' },\n      { id: ''ch10'', title: ''Chapter 10'', url: ''https://arvinjaysoncastro.com/working-fundamentals-10-of-13-errors-and-failure'' },\n      { id: ''ch11'', title: ''Chapter 11'', url: ''https://arvinjaysoncastro.com/working-fundamentals-11-of-13-testing'' },\n      { id: ''ch12'', title: ''Chapter 12'', url: ''https://arvinjaysoncastro.com/working-fundamentals-12-of-13-performance-and-scale'' },\n      { id: ''ch13'', title: ''Chapter 13'', url: ''https://arvinjaysoncastro.com/working-fundamentals-13-of-13-the-developers-role'' },\n      { id: ''postscript'', title: ''Postscript'', url: ''https://arvinjaysoncastro.com/working-fundamentals-outroduction'' }\n    ];\n\n    const currentChapterIndex = 7; // Chapter 1 is index 1 (Preface is 0)\n    const prevLink = document.getElementById(''prevChapter'');\n    const nextLink = document.getElementById(''nextChapter'');\n\n    if (!prevLink || !nextLink) return;\n\n    // Previous chapter\n    if (currentChapterIndex > 0) {\n      const prevChapter = chapters[currentChapterIndex - 1];\n      prevLink.href = prevChapter.url;\n      prevLink.target = ''_blank'';\n      prevLink.innerHTML = `\n        <span class=\"chapter-nav-bottom__arrow\">‚Üê</span>\n        <span class=\"chapter-nav-bottom__label\">Previous: ${prevChapter.title}</span>\n      `;\n    } else {\n      // No previous chapter - show \"go back to book list\"\n      prevLink.href = ''https://arvinjaysoncastro.com/hungry-dev-mind'';\n      prevLink.target = ''_blank'';\n      prevLink.innerHTML = `\n        <span class=\"chapter-nav-bottom__arrow\">‚Üê</span>\n        <span class=\"chapter-nav-bottom__label\">Go back to book list</span>\n      `;\n    }\n\n    // Next chapter\n    if (currentChapterIndex < chapters.length - 1) {\n      const nextChapter = chapters[currentChapterIndex + 1];\n      nextLink.href = nextChapter.url;\n      nextLink.target = ''_blank'';\n      nextLink.innerHTML = `\n        <span class=\"chapter-nav-bottom__label\">Next: ${nextChapter.title}</span>\n        <span class=\"chapter-nav-bottom__arrow\">‚Üí</span>\n      `;\n    } else {\n      // No next chapter - show \"go back to book list\"\n      nextLink.href = ''https://arvinjaysoncastro.com/hungry-dev-mind'';\n      nextLink.target = ''_blank'';\n      nextLink.innerHTML = `\n        <span class=\"chapter-nav-bottom__label\">Go back to book list</span>\n        <span class=\"chapter-nav-bottom__arrow\">‚Üí</span>\n      `;\n    }\n  })();\n  </script>\n\n  <!-- OPTIONAL JS -->\n <script>\n(() => {\n  const wrap = document.querySelector(''.book-wrap'');\n  if (!wrap) return;\n\n  const slab1 = wrap.querySelector(''.shadow-slab'');\n  const slab2 = wrap.querySelector(''.shadow-slab-2'');\n  const slab3 = wrap.querySelector(''.shadow-slab-3'');\n  const slab4 = wrap.querySelector(''.shadow-slab-4'');\n  const front = wrap.querySelector(''.front-slab'');\n\n  const clamp = (v, min, max) => Math.max(min, Math.min(max, v));\n\n  let raf = 0;\n  let lx = 0; // light vector x\n  let ly = 0; // light vector y\n\n  function render() {\n    raf = 0;\n\n    // Shadow direction = opposite of light\n    const sx = -lx;\n    const sy = -ly;\n\n    const intensity = Math.abs(lx) + Math.abs(ly);\n\n    /* ---------------------------\n       SLAB 1 ‚Äî KEY CAST SHADOW\n    ---------------------------- */\n    slab1.style.transform =\n      `translate(${(sx * 38).toFixed(2)}px, ${(sy * 38).toFixed(2)}px)`;\n    slab1.style.filter =\n      `blur(${(14 + intensity * 6).toFixed(2)}px)`;\n    slab1.style.opacity =\n      (0.28 + intensity * 0.14).toFixed(2);\n\n    /* ---------------------------\n       SLAB 2 ‚Äî BOUNCE / COLOR BLEED\n    ---------------------------- */\n    slab2.style.transform =\n      `translate(${(sx * 14).toFixed(2)}px, ${(sy * 14).toFixed(2)}px)`;\n    slab2.style.filter =\n      `blur(${(6 + intensity * 4).toFixed(2)}px)`;\n    slab2.style.opacity =\n      (0.16 + intensity * 0.10).toFixed(2);\n\n    /* ---------------------------\n       SLAB 3 ‚Äî CONTACT SHADOW\n    ---------------------------- */\n    slab3.style.transform =\n      `translate(${(sx * 6).toFixed(2)}px, ${(sy * 6).toFixed(2)}px)`;\n    slab3.style.filter = `blur(9px)`;\n    slab3.style.opacity =\n      (0.24 + Math.abs(lx) * 0.06).toFixed(2);\n\n    /* ---------------------------\n       SLAB 4 ‚Äî AMBIENT DEPTH\n    ---------------------------- */\n    slab4.style.transform =\n      `translate(${(sx * 3).toFixed(2)}px, ${(sy * 3).toFixed(2)}px)`;\n    slab4.style.filter = `blur(18px)`;\n    slab4.style.opacity =\n      (0.16 + Math.abs(ly) * 0.04).toFixed(2);\n\n    /* ---------------------------\n       FRONT SLAB ‚Äî SPECULAR RESPONSE\n       (moves TOWARD light)\n    ---------------------------- */\nif (front) {\n  // Very subtle counter-parallax (NOT toward light)\n  front.style.transform =\n    `translate(${(-lx * 1.6).toFixed(2)}px, ${(-ly * 1.6).toFixed(2)}px)`;\n\n  // Opacity increases when light is grazing\n  front.style.opacity =\n    (0.34 + intensity * 0.22).toFixed(2);\n\n  // Highlight shifts OPPOSITE the light direction\n  const gx = 50 - lx * 28;\n  const gy = 50 - ly * 28;\n  front.style.backgroundPosition = `${gx}% ${gy}%`;\n}\n\n  }\n\n  function onMove(e) {\n    const r = wrap.getBoundingClientRect();\n    const cx = r.left + r.width / 2;\n    const cy = r.top + r.height / 2;\n\n    // LIGHT VECTOR (mouse = light source)\n    lx = clamp((e.clientX - cx) / (r.width / 2), -1, 1);\n    ly = clamp((e.clientY - cy) / (r.height / 2), -1, 1);\n\n    if (!raf) raf = requestAnimationFrame(render);\n  }\n\n  window.addEventListener(''mousemove'', onMove, { passive: true });\n})();\n</script>\n</body>\n</html>\n", "css": "body { font-family: system-ui; padding: 20px; }", "js": "console.log(\"Code Runner initialized\");", "imports": {"css": [], "js": []}, "entryPoint": {"type": "htmlDocument", "mountSelector": "#app", "injectMountIfMissing": true}, "settings": {"mode": "play", "viewport": {"type": "responsive", "background": "white"}, "securityPreset": "trusted", "autoRun": true, "runOnLoad": true}, "codePanel": {"isVisible": false, "isEditable": false}}}]}]}',
    NULL,
    1,
    NOW()
);


-- 8. Persistence & Data Modeling
-- Slug: working-fundamentals-8-of-13-persistence-and-data-modeling
-- ID: 4576549d-b871-434d-a263-95b445cc4de6
-- File: ch_08.html
INSERT INTO App_Pages (
    id, org_id, name, slug, template_code, layout, layout_version, is_active,
    created_by_user_id, created_at, updated_at, visibility, description,
    is_template, template_metadata, kind, parent_id, section_tags, section_purpose,
    section_scope, palette_id, is_default_variation, variation_order, template_purpose,
    is_listed, is_org_landing_page, report, folder, layout_raw, layout_quarantine,
    layout_schema_version, layout_ingested_at
) VALUES (
    '4576549d-b871-434d-a263-95b445cc4de6',
    '82c2d096-2638-4837-83c8-e8a933bb17c7',
    'Persistence & Data Modeling',
    'working-fundamentals-8-of-13-persistence-and-data-modeling',
    NULL,
    '{"id": "block-root", "style": {}, "type": "container", "children": [{"id": "temp-container", "style": {"width": "100vw", "height": "100vh"}, "type": "container", "children": [{"id": "temp-coderunner", "style": {}, "type": "codeRunner", "data": {"html": "<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n  <meta charset=\"UTF-8\" />\n  <title>Working Fundamentals ‚Äî Arvin Jayson Castro</title>\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n\n  <!-- =====================\n       GLOBAL STYLES\n  ====================== -->\n  <style>\n    :root {\n      --bg: #f7f8f8;\n      --ink: #111111;\n      --muted: #666666;\n      --line: rgba(0,0,0,0.08);\n      --accent: #16a34a;\n      --link: #3b82f6;\n      --max-width: 1200px;\n    }\n\n    * {\n      box-sizing: border-box;\n    }\n\n    body {\n      margin: 0;\n      font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, sans-serif;\n      color: var(--ink);\n      background-color: var(--bg);\n      background-image:\n        radial-gradient(980px 560px at 14% 18%, rgba(16,185,129,0.10) 0%, rgba(16,185,129,0) 60%),\n        radial-gradient(860px 540px at 86% 74%, rgba(245,158,11,0.10) 0%, rgba(245,158,11,0) 62%),\n        repeating-linear-gradient(0deg, rgba(0,0,0,0.043) 0, rgba(0,0,0,0.043) 1px, transparent 1px, transparent 46px),\n        repeating-linear-gradient(90deg, rgba(0,0,0,0.043) 0, rgba(0,0,0,0.043) 1px, transparent 1px, transparent 46px);\n      min-height: 100vh;\n    }\n\n    a {\n      color: inherit;\n      text-decoration: none;\n    }\n\n    img {\n      max-width: 100%;\n      display: block;\n    }\n\n    /* =====================\n       PAGE WRAPPER\n    ====================== */\n    .page {\n      padding: 22px 24px;\n    }\n\n    .container {\n      max-width: var(--max-width);\n      margin: 0 auto;\n    }\n\n    /* =====================\n       SIDEBAR BACKDROP\n    ====================== */\n    .sidebar-backdrop {\n      position: fixed;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n      background: rgba(0, 0, 0, 0.2);\n      backdrop-filter: blur(4px);\n      -webkit-backdrop-filter: blur(4px);\n      opacity: 0;\n      visibility: hidden;\n      transition: opacity 0.3s ease, visibility 0.3s ease;\n      z-index: 999;\n      pointer-events: none;\n    }\n\n    .sidebar-backdrop--visible {\n      opacity: 1;\n      visibility: visible;\n      pointer-events: auto;\n    }\n\n    /* =====================\n       SIDEBAR\n    ====================== */\n    .sidebar {\n      position: fixed;\n      top: 0;\n      right: 0;\n      width: 320px;\n      height: 100vh;\n      background: var(--bg);\n      border-left: 1px solid var(--line);\n      transform: translateX(100%);\n      transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n      z-index: 1000;\n      overflow-y: auto;\n      padding: 24px;\n    }\n\n    .sidebar--open {\n      transform: translateX(0);\n    }\n\n    .sidebar__title {\n      font-size: 16px;\n      font-weight: 600;\n      margin-bottom: 24px;\n      color: var(--ink);\n    }\n\n    /* Prevent body scroll when sidebar is open */\n    body.sidebar-open {\n      overflow: hidden;\n    }\n\n    .sidebar__chapter-list {\n      list-style: none;\n      margin: 0;\n      padding: 0;\n    }\n\n    .sidebar__chapter-item {\n      margin: 0 0 8px 0;\n    }\n\n    .sidebar__chapter-link {\n      display: block;\n      font-size: 14px;\n      color: var(--muted);\n      text-decoration: none;\n      padding: 8px 0;\n      transition: color 0.2s ease;\n      line-height: 1.5;\n    }\n\n    .sidebar__chapter-link:hover {\n      color: var(--ink);\n    }\n\n    .sidebar__chapter-link {\n      color: var(--ink);\n      font-weight: 500;\n    }\n\n    /* =====================\n       HEADER (Top bar with chapter indicator)\n    ====================== */\n    .header {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      padding: 10px 0;\n      border-bottom: 1px solid var(--line);\n      position: relative;\n      transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n    }\n\n    .header--shifted {\n      transform: translateX(-320px);\n    }\n\n    .brand {\n      font-size: 16px;\n      font-weight: 600;\n      cursor: pointer;\n      display: inline-block;\n    }\n\n    .nav {\n      display: flex;\n      gap: 24px;\n      align-items: center;\n      font-size: 14px;\n    }\n\n    .nav a {\n      color: #1f2937;\n    }\n\n    .linkedin {\n      display: flex;\n      flex-direction: column;\n      align-items: flex-start;\n    }\n\n    .linkedin a {\n      color: var(--link);\n    }\n\n    .linkedin span {\n      font-family: Georgia, serif;\n      font-size: 9px;\n      font-style: italic;\n      color: #999;\n    }\n\n    /* =====================\n       MAIN GRID\n    ====================== */\n    .main {\n      padding-top: 48px;\n      padding-bottom: 48px;\n      display: flex;\n      justify-content: center;\n      align-items: start;\n    }\n\n    /* =====================\n       CHAPTER READING AREA (Option 1: Magazine-style)\n    ====================== */\n    .chapter-content {\n      max-width: 768px;\n      width: 100%;\n      margin: 0 auto;\n    }\n\n    .chapter-header {\n      margin-bottom: 56px;\n      padding-bottom: 32px;\n      border-bottom: 2px solid var(--line);\n    }\n\n    .book-title {\n      font-size: 12px;\n      letter-spacing: 0.15em;\n      text-transform: uppercase;\n      color: var(--muted);\n      font-weight: 500;\n      margin-bottom: 8px;\n      opacity: 0.7;\n    }\n\n    .chapter-number {\n      font-size: 13px;\n      letter-spacing: 0.2em;\n      text-transform: uppercase;\n      color: var(--muted);\n      font-weight: 600;\n      margin-bottom: 12px;\n      display: flex;\n      align-items: center;\n      gap: 8px;\n      cursor: pointer;\n      user-select: none;\n      transition: color 0.2s ease;\n    }\n\n    .chapter-number:hover {\n      color: var(--ink);\n    }\n\n    .chapter-number__icon {\n      font-size: 10px;\n      opacity: 0.6;\n      transition: transform 0.3s ease, opacity 0.2s ease;\n    }\n\n    .chapter-number:hover .chapter-number__icon {\n      opacity: 0.8;\n    }\n\n    .chapter-number__icon--open {\n      transform: rotate(180deg);\n    }\n\n    .chapter-title {\n      font-size: 56px;\n      font-weight: 900;\n      line-height: 1.05;\n      margin: 0 0 20px 0;\n      color: var(--ink);\n      letter-spacing: -0.03em;\n    }\n\n    .chapter-subtitle {\n      font-size: 22px;\n      font-weight: 500;\n      color: var(--muted);\n      line-height: 1.4;\n      margin: 0;\n    }\n\n    .chapter-body {\n      font-size: 19px;\n      line-height: 1.8;\n      color: var(--ink);\n      max-width: none;\n      font-weight: 400;\n    }\n\n    .chapter-body p {\n      margin: 0 0 28px 0;\n    }\n\n    .chapter-body p:last-child {\n      margin-bottom: 0;\n    }\n\n    .chapter-body h2 {\n      font-size: 36px;\n      font-weight: 800;\n      line-height: 1.2;\n      margin: 56px 0 24px 0;\n      color: var(--ink);\n      letter-spacing: -0.02em;\n    }\n\n    .chapter-body h3 {\n      font-size: 26px;\n      font-weight: 700;\n      line-height: 1.3;\n      margin: 40px 0 18px 0;\n      color: var(--ink);\n      letter-spacing: -0.01em;\n    }\n\n    .chapter-body strong {\n      font-weight: 600;\n      color: var(--ink);\n    }\n\n    .chapter-body em {\n      font-style: italic;\n    }\n\n    .chapter-body ul,\n    .chapter-body ol {\n      margin: 28px 0;\n      padding-left: 36px;\n    }\n\n    .chapter-body li {\n      margin-bottom: 14px;\n      line-height: 1.75;\n    }\n\n    .chapter-body blockquote {\n      margin: 40px 0;\n      padding-left: 28px;\n      border-left: 4px solid var(--accent);\n      font-style: italic;\n      color: var(--muted);\n      font-size: 18px;\n      line-height: 1.7;\n    }\n\n    .chapter-body code {\n      font-family: ''Monaco'', ''Menlo'', ''Courier New'', monospace;\n      font-size: 0.9em;\n      background: rgba(0,0,0,0.04);\n      padding: 2px 6px;\n      border-radius: 3px;\n    }\n\n    .chapter-body pre {\n      background: rgba(0,0,0,0.04);\n      padding: 20px;\n      border-radius: 8px;\n      overflow-x: auto;\n      margin: 24px 0;\n    }\n\n    .chapter-body pre code {\n      background: none;\n      padding: 0;\n    }\n\n    /* Content shift when sidebar opens */\n    .main {\n      transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n    }\n\n    .main--shifted {\n      transform: translateX(-320px);\n    }\n\n    /* Prevent horizontal scroll */\n    body {\n      overflow-x: hidden;\n    }\n\n    .page {\n      overflow-x: hidden;\n    }\n\n    /* =====================\n       CHAPTER NAVIGATION (BOTTOM)\n    ====================== */\n    .chapter-nav-bottom {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      max-width: 768px;\n      width: 100%;\n      margin: 64px auto 0 auto;\n      padding: 24px 0;\n      border-top: 1px solid var(--line);\n    }\n\n    .chapter-nav-bottom__link {\n      display: flex;\n      align-items: center;\n      gap: 8px;\n      font-size: 14px;\n      color: var(--muted);\n      text-decoration: none;\n      transition: color 0.2s ease;\n      padding: 8px 0;\n    }\n\n    .chapter-nav-bottom__link:hover {\n      color: var(--ink);\n    }\n\n    .chapter-nav-bottom__arrow {\n      font-size: 16px;\n      opacity: 0.7;\n    }\n\n    .chapter-nav-bottom__label {\n      font-weight: 500;\n    }\n\n    .chapter-nav-bottom__link--prev {\n      margin-right: auto;\n    }\n\n    .chapter-nav-bottom__link--next {\n      margin-left: auto;\n    }\n\n    .chapter-nav-bottom__link--disabled {\n      opacity: 0.4;\n      cursor: not-allowed;\n      pointer-events: none;\n    }\n\n    .page-widget__pages {\n      max-height: 0;\n      overflow: hidden;\n      transition: max-height 0.4s cubic-bezier(0.4, 0, 0.2, 1),\n                  opacity 0.3s ease,\n                  margin-top 0.3s ease;\n      opacity: 0;\n      margin-top: 0;\n      background: rgba(255, 255, 255, 0.98);\n      backdrop-filter: blur(12px);\n      -webkit-backdrop-filter: blur(12px);\n      border: 1px solid rgba(0, 0, 0, 0.06);\n      border-radius: 12px;\n      box-shadow: 0 2px 12px rgba(0, 0, 0, 0.06);\n    }\n\n    .page-widget__pages--expanded {\n      max-height: 500px;\n      opacity: 1;\n      margin-top: 12px;\n      padding: 8px;\n    }\n\n    .page-widget__pages-list {\n      list-style: none;\n      margin: 0;\n      padding: 0;\n      display: flex;\n      flex-direction: column;\n      gap: 8px;\n      max-height: 400px;\n      overflow-y: auto;\n      padding-right: 4px;\n    }\n\n    .page-widget__pages-list::-webkit-scrollbar {\n      width: 6px;\n    }\n\n    .page-widget__pages-list::-webkit-scrollbar-track {\n      background: rgba(0, 0, 0, 0.02);\n      border-radius: 3px;\n    }\n\n    .page-widget__pages-list::-webkit-scrollbar-thumb {\n      background: rgba(0, 0, 0, 0.12);\n      border-radius: 3px;\n    }\n\n    .page-widget__pages-list::-webkit-scrollbar-thumb:hover {\n      background: rgba(0, 0, 0, 0.2);\n    }\n\n    .page-widget__page-item {\n      display: flex;\n      align-items: center;\n      gap: 10px;\n      padding: 8px 10px;\n      border-radius: 8px;\n      cursor: pointer;\n      transition: all 0.2s ease;\n      text-decoration: none;\n      color: var(--ink);\n    }\n\n    .page-widget__page-item:hover {\n      background: rgba(0, 0, 0, 0.03);\n      transform: translateX(2px);\n    }\n\n    .page-widget__page-item--current {\n      background: rgba(22, 163, 74, 0.08);\n      color: var(--accent);\n      font-weight: 500;\n    }\n\n    .page-widget__page-item--current:hover {\n      background: rgba(22, 163, 74, 0.12);\n    }\n\n    .page-widget__page-number {\n      display: inline-flex;\n      align-items: center;\n      justify-content: center;\n      width: 24px;\n      height: 24px;\n      background: rgba(0, 0, 0, 0.04);\n      border-radius: 5px;\n      font-size: 11px;\n      font-weight: 500;\n      flex-shrink: 0;\n      color: var(--muted);\n    }\n\n    .page-widget__page-item--current .page-widget__page-number {\n      background: rgba(22, 163, 74, 0.15);\n      color: var(--accent);\n    }\n\n    .page-widget__page-info {\n      flex: 1;\n      min-width: 0;\n    }\n\n    .page-widget__page-name {\n      font-size: 13px;\n      font-weight: 500;\n      line-height: 1.3;\n      margin: 0 0 2px 0;\n    }\n\n    .page-widget__page-note {\n      font-size: 11px;\n      color: var(--muted);\n      line-height: 1.3;\n      margin: 0;\n      white-space: nowrap;\n      overflow: hidden;\n      text-overflow: ellipsis;\n    }\n\n    @media (max-width: 768px) {\n      .page-widget__pages-list {\n        max-height: 300px;\n      }\n    }\n\n\n/* ===============================\n   WRAPPER\n================================ */\n.book-wrap {\n  width: 320px;\n  aspect-ratio: 2 / 3;\n  position: relative;\n}\n\n/* ===============================\n   CAST SHADOW SLAB (REAL SHADOW)\n================================ */\n.shadow-slab {\n    position: absolute;\n    position: absolute;\n    inset: 0;\n    border-radius: 22px;\n    /* background: #2a2a2a; */\n    transform: translate(-30px, 30px);\n    filter: blur(13px);\n    opacity: 0.35;\n    z-index: 0;\n    background: radial-gradient(ellipse at 15% 85%, rgba(0, 0, 0, 0.35), rgba(0, 0, 0, 0.18) 35%, transparent 65%), linear-gradient(to right, #1f1f1f 0%, #2a2a2a 45%, #3a3a3a 100%);\n}\n\n.shadow-slab-2 {\n    position: absolute;\n    inset: 0;\n    border-radius: 22px;\n    background: radial-gradient(circle at top right, #f6e6a8 0%, #e2c36b 35%, #b58a3c 70%, #7a5524 100%);\n    transform: translate(-10px, 10px);\n    filter: blur(5px);\n    opacity: 0.35;\n    z-index: 0;\n}\n\n.shadow-slab-3 {\n    position: absolute;\n    inset: 0;\n    border-radius: 22px;\n    background: #333;\n    transform: translate(0px, 0px);\n    filter: blur(11px);\n    opacity: 0.35;\n    z-index: 0;\n}\n\n.shadow-slab-4 {\n    position: absolute;\n    inset: 0;\n    border-radius: 22px;\n    background: #333;\n    transform: translate(0px, 0px);\n    filter: blur(11px);\n    opacity: 0.35;\n    z-index: 0;\n}\n\n/* ===============================\n   FRONT SLAB & SPIN HANDLE\n================================ */\n\n.front-slab {\n    position: absolute;\n    inset: 0;\n    border-radius: 22px;\n    background: linear-gradient(to right, rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.1) 3%, transparent 1%);\n    /* background: green; */\n    z-index: 3;\n    opacity: .5;\n    transform: translateZ(6px);\n    pointer-events: none;\n}\n\n.spin-handle {\n  display: none;\n  position: absolute;\n  top: 50%;\n  right: -22px;\n  width: 14px;\n  height: 48px;\n  border-radius: 999px;\n  background: rgba(0,0,0,0.25);\n  backdrop-filter: blur(4px);\n  cursor: grab;\n  z-index: 10;\n}\n\n/* ===============================\n   BOOK OBJECT (NO SHADOW)\n================================ */\n.book {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  border-radius: 22px;\n  overflow: hidden;\n  z-index: 2;\n\n  /* IMPORTANT: no box-shadow */\n  box-shadow: none;\n\n  /* transform: perspective(1200px) rotateX(0.6deg); */\n}\n\n/* ===============================\n   PAPER SURFACE (LIGHT FIELD)\n================================ */\n.book .surface {\n  position: absolute;\n  inset: 0;\n  border-radius: inherit;\n  pointer-events: none;\n  z-index: 1;\n\n  background:\n    linear-gradient(\n      to bottom left,\n      rgba(255,255,255,1) 0%,\n      rgba(250,250,250,1) 42%,\n      rgba(240,240,240,1) 100%\n    ),\n    repeating-linear-gradient(\n      0deg,\n      rgba(0,0,0,0.01),\n      rgba(0,0,0,0.01) 1px,\n      transparent 1px,\n      transparent 3px\n    );\n}\n\n/* ===============================\n   LEFT OCCLUSION (CURTAIN)\n================================ */\n.book .curtain {\n  position: absolute;\n  inset: 0;\n  border-radius: inherit;\n  pointer-events: none;\n  z-index: 2;\n\n  background:\n    linear-gradient(\n      to right,\n      rgba(0,0,0,0.20) 0%,\n      rgba(0,0,0,0.12) 8%,\n      rgba(0,0,0,0.05) 16%,\n      rgba(0,0,0,0.02) 22%,\n      rgba(0,0,0,0.00) 30%\n    );\n}\n\n/* ===============================\n   RIGHT HIGHLIGHT\n================================ */\n.book .highlight {\n  position: absolute;\n  inset: 0;\n  border-radius: inherit;\n  pointer-events: none;\n  z-index: 3;\n\n  background:\n    linear-gradient(\n      to left,\n      rgba(255,255,255,0.35) 0%,\n      rgba(255,255,255,0.18) 6%,\n      rgba(255,255,255,0.06) 14%,\n      rgba(255,255,255,0.00) 24%\n    );\n}\n\n/* ===============================\n   PAGE EDGE (THICKNESS)\n================================ */\n.book .edge {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 120px;\n  height: 100%;\n  border-radius: 22px 0 0 22px;\n  pointer-events: none;\n  z-index: 4;\n\n  background:\n    linear-gradient(\n      to right,\n      rgba(215,215,215,0.95) 0%,\n      rgba(245,245,245,0.95) 40%,\n      rgba(255,255,255,0.95) 75%\n    );\n\n  box-shadow:\n    inset -1px 0 0 rgba(0,0,0,0.05);\n}\n\n/* ===============================\n   SVG (PURE WHITE)\n================================ */\n.book svg {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  display: block;\n  z-index: 5;\n}\n\n    /* =====================\n       LEFT: BOOK COVER\n    ====================== */\n    .book-cover {\n      display: flex;\n      flex-direction: column;\n      gap: 12px;\n    }\n\n\n    /* ===============================\n       BOOK + SHADOW SYSTEM\n    =============================== */\n    .book-wrap {\n      width: 320px;\n      aspect-ratio: 2 / 3;\n      position: relative;\n    }\n\n    .shadow-slab,\n    .shadow-slab-2,\n    .shadow-slab-3,\n    .shadow-slab-4 {\n      position: absolute;\n      inset: 0;\n      border-radius: 22px;\n      z-index: 0;\n      will-change: transform, filter, opacity;\n    }\n\n    .shadow-slab {\n      background:\n        radial-gradient(ellipse at 15% 85%, rgba(0,0,0,0.35), rgba(0,0,0,0.18) 35%, transparent 65%),\n        linear-gradient(to right, #1f1f1f 0%, #2a2a2a 45%, #3a3a3a 100%);\n      filter: blur(13px);\n      opacity: 0.35;\n    }\n\n    .shadow-slab-2 {\n      background: radial-gradient(circle at top right, #f6e6a8 0%, #e2c36b 35%, #b58a3c 70%, #7a5524 100%);\n      filter: blur(6px);\n      opacity: 0.30;\n    }\n\n    .shadow-slab-3,\n    .shadow-slab-4 {\n      background: #333;\n      filter: blur(11px);\n      opacity: 0.30;\n    }\n\n    .book {\n      position: relative;\n      width: 100%;\n      height: 100%;\n      border-radius: 22px;\n      overflow: hidden;\n      z-index: 2;\n      background: #f7f4ee;\n    }\n\n    .front-slab {\n      position: absolute;\n      inset: 0;\n      border-radius: 22px;\n      background: linear-gradient(to right, rgba(0,0,0,0.4), rgba(0,0,0,0.1) 3%, transparent 10%);\n      z-index: 3;\n      pointer-events: none;\n      opacity: 0.5;\n    }\n\n\n    @media (prefers-reduced-motion: reduce) {\n      .cover-frame {\n        transition: none;\n        transform: none;\n      }\n      .cover-frame:hover {\n        --lift: 0;\n      }\n    }\n\n    .start-reading {\n      display: inline-flex;\n      align-items: center;\n      justify-content: center;\n      width: 100%;\n      padding: 12px 14px;\n      border-radius: 999px;\n\n      font-size: 11px;\n      letter-spacing: 0.16em;\n      text-transform: uppercase;\n      font-weight: 650;\n      color: rgba(34,197,94,0.92);\n      text-shadow:\n        0 0 10px rgba(34,197,94,0.22),\n        0 0 22px rgba(34,197,94,0.14);\n\n      /* graphite: dark + slightly mineral */\n      background:\n        radial-gradient(120% 140% at 20% 10%, rgba(255,255,255,0.10) 0%, rgba(255,255,255,0.00) 55%),\n        radial-gradient(140% 140% at 80% 90%, rgba(255,255,255,0.06) 0%, rgba(255,255,255,0.00) 60%),\n        linear-gradient(180deg, #141414 0%, #0a0a0a 100%);\n      border: 1px solid rgba(255,255,255,0.10);\n      box-shadow:\n        0 14px 34px rgba(0,0,0,0.22),\n        0 8px 16px rgba(0,0,0,0.18),\n        inset 0 1px 0 rgba(255,255,255,0.10),\n        inset 0 -1px 0 rgba(0,0,0,0.55);\n\n      position: relative;\n      overflow: hidden;\n      cursor: pointer;\n      user-select: none;\n      -webkit-tap-highlight-color: transparent;\n\n      transition:\n        transform 160ms cubic-bezier(0.2, 0.8, 0.2, 1),\n        box-shadow 160ms cubic-bezier(0.2, 0.8, 0.2, 1),\n        border-color 160ms cubic-bezier(0.2, 0.8, 0.2, 1);\n    }\n\n    .start-reading::before {\n      content: \"\";\n      position: absolute;\n      inset: 0;\n      pointer-events: none;\n      /* texture + sheen (very subtle) */\n      background:\n        linear-gradient(120deg, rgba(255,255,255,0.12) 0%, rgba(255,255,255,0.00) 46%),\n        repeating-linear-gradient(0deg,\n          rgba(255,255,255,0.028) 0px,\n          rgba(255,255,255,0.028) 1px,\n          rgba(0,0,0,0.00) 3px,\n          rgba(0,0,0,0.00) 6px),\n        radial-gradient(120% 90% at 50% 0%, rgba(34,197,94,0.14) 0%, rgba(34,197,94,0.00) 62%);\n      opacity: 0.75;\n    }\n\n    .start-reading:hover {\n      transform: translateY(-1px);\n      border-color: rgba(34,197,94,0.30);\n      box-shadow:\n        0 18px 42px rgba(0,0,0,0.24),\n        0 10px 18px rgba(0,0,0,0.18),\n        inset 0 1px 0 rgba(255,255,255,0.12),\n        inset 0 -1px 0 rgba(0,0,0,0.55);\n      text-shadow:\n        0 0 12px rgba(34,197,94,0.28),\n        0 0 26px rgba(34,197,94,0.18);\n    }\n\n    .start-reading:active {\n      transform: translateY(0px);\n      box-shadow:\n        0 14px 34px rgba(0,0,0,0.22),\n        0 8px 16px rgba(0,0,0,0.18),\n        inset 0 1px 0 rgba(255,255,255,0.10),\n        inset 0 -1px 0 rgba(0,0,0,0.55);\n    }\n\n    .start-reading:focus-visible {\n      outline: none;\n      box-shadow:\n        0 18px 42px rgba(0,0,0,0.24),\n        0 0 0 4px rgba(34,197,94,0.22),\n        0 0 0 1px rgba(34,197,94,0.26),\n        inset 0 1px 0 rgba(255,255,255,0.12),\n        inset 0 -1px 0 rgba(0,0,0,0.55);\n      border-color: rgba(34,197,94,0.34);\n    }\n\n    @media (prefers-reduced-motion: reduce) {\n      .start-reading {\n        transition: none;\n      }\n      .start-reading:hover {\n        transform: none;\n      }\n    }\n\n    /* =====================\n       CENTER: CONTENT\n    ====================== */\n    .content h1 {\n      font-size: 40px;\n      font-weight: 800;\n      line-height: 1.15;\n      margin: 0;\n    }\n\n    .byline {\n      font-size: 13px;\n      letter-spacing: 0.12em;\n      color: #666;\n      font-weight: 600;\n    }\n\n    .tagline {\n      font-size: 18px;\n      font-weight: 500;\n      color: #333;\n    }\n\n    .paragraph {\n      font-size: 15px;\n      color: #222;\n    }\n\n    .meta {\n      margin-top: 20px;\n      padding-top: 20px;\n      border-top: 1px solid var(--line);\n      display: grid;\n      grid-template-columns: repeat(2, 1fr);\n      gap: 12px 24px;\n      font-size: 13px;\n    }\n\n    .author {\n      margin-top: 20px;\n      padding-top: 20px;\n      border-top: 1px solid var(--line);\n      display: flex;\n      gap: 16px;\n      align-items: flex-start;\n    }\n\n    .author img {\n      width: 44px;\n      height: 44px;\n      border-radius: 50%;\n    }\n\n    /* =====================\n       RIGHT: RELATED\n    ====================== */\n    .related {\n      display: flex;\n      flex-direction: column;\n      gap: 20px;\n    }\n\n    .related-title {\n      font-size: 11px;\n      letter-spacing: 0.14em;\n      color: #666;\n      text-transform: uppercase;\n      font-weight: 600;\n    }\n\n    .related-item {\n      display: flex;\n      flex-direction: column;\n      gap: 6px;\n      cursor: pointer;\n      transition: transform 0.12s ease, box-shadow 0.12s ease;\n    }\n\n    .related-item:hover {\n      transform: translateY(-2px);\n    }\n\n    .related-thumb {\n      border-radius: 6px;\n      overflow: hidden;\n      aspect-ratio: 3 / 4;\n      box-shadow: 0 8px 24px rgba(0,0,0,0.1);\n\n      /* Gray placeholder shape */\n      background: linear-gradient(135deg, #e5e7eb 0%, #d1d5db 45%, #cbd5e1 100%);\n      border: 1px solid rgba(0,0,0,0.06);\n    }\n\n    .related-thumb img {\n      width: 100%;\n      height: 100%;\n      object-fit: cover;\n      filter: grayscale(1);\n      opacity: 0.85;\n      transition: filter 160ms ease, opacity 160ms ease;\n    }\n\n    .related-thumb .thumb-placeholder {\n      width: 100%;\n      height: 100%;\n      display: block;\n    }\n\n    .related-item a {\n      font-size: 12px;\n      font-weight: 600;\n      color: #111;\n    }\n\n    /* =====================\n       RIGHT: 13 CHAPTERS\n    ====================== */\n    .chapters {\n      display: flex;\n      flex-direction: column;\n      gap: 10px;\n    }\n\n    .chapters-title {\n      font-size: 11px;\n      letter-spacing: 0.12em;\n      color: rgba(17,17,17,0.52);\n      text-transform: uppercase;\n      font-weight: 600;\n    }\n\n    .chapters-help {\n      margin-top: -4px;\n      font-size: 11px;\n      line-height: 1.35;\n      color: rgba(17,17,17,0.42);\n    }\n\n    .chapter-list {\n      list-style: none;\n      padding: 0;\n      margin: 0;\n      display: flex;\n      flex-direction: column;\n      gap: 0;\n      border-top: 1px solid rgba(0,0,0,0.06);\n    }\n\n    .chapter-item {\n      display: grid;\n      grid-template-columns: 3ch 1fr;\n      gap: 12px;\n      align-items: start;\n      padding: 10px 0;\n      border-bottom: 1px solid rgba(0,0,0,0.06);\n    }\n\n    .chapter-item--preface .chapter-name {\n      font-weight: 760;\n      letter-spacing: -0.01em;\n      color: rgba(17,17,17,0.90);\n    }\n\n    .chapter-item--current .chapter-name {\n      color: rgba(17,17,17,0.92);\n      text-decoration: underline;\n      text-decoration-thickness: 1px;\n      text-underline-offset: 3px;\n      text-decoration-color: rgba(17,17,17,0.22);\n    }\n\n    .chapter-num {\n      width: auto;\n      height: auto;\n      border-radius: 0;\n      display: block;\n      text-align: right;\n      font-size: 11px;\n      font-weight: 650;\n      color: rgba(17,17,17,0.46);\n      font-variant-numeric: tabular-nums;\n    }\n\n    .chapter-name {\n      font-size: 12px;\n      font-weight: 600;\n      color: rgba(17,17,17,0.80);\n      line-height: 1.3;\n    }\n\n    .chapter-note {\n      margin-top: 2px;\n      font-size: 11px;\n      color: rgba(17,17,17,0.46);\n      line-height: 1.4;\n    }\n\n    /* =====================\n       RESPONSIVE\n    ====================== */\n    @media (max-width: 900px) {\n      .chapter-content {\n        max-width: 100%;\n        padding: 0 24px;\n      }\n\n      .page-widget {\n        max-width: 100%;\n        margin-left: 24px;\n        margin-right: 24px;\n      }\n\n      .chapter-title {\n        font-size: 42px;\n      }\n\n      .chapter-body {\n        font-size: 18px;\n      }\n\n      .chapter-body h2 {\n        font-size: 32px;\n      }\n\n      .chapter-body h3 {\n        font-size: 24px;\n      }\n    }\n\n    @media (max-width: 768px) {\n      .header {\n        flex-direction: column;\n        gap: 12px;\n      }\n\n      .chapter-content {\n        padding: 0 16px;\n      }\n\n      .page-widget {\n        margin-left: 16px;\n        margin-right: 16px;\n      }\n\n      .chapter-title {\n        font-size: 38px;\n      }\n\n      .chapter-body {\n        font-size: 17px;\n      }\n\n      .chapter-body h2 {\n        font-size: 30px;\n      }\n\n      .chapter-body h3 {\n        font-size: 22px;\n      }\n    }\n  </style>\n</head>\n\n<body>\n  <div class=\"page\">\n    <div class=\"container\">\n\n      <!-- SIDEBAR BACKDROP -->\n      <div class=\"sidebar-backdrop\" id=\"sidebarBackdrop\"></div>\n\n      <!-- SIDEBAR -->\n      <aside class=\"sidebar\" id=\"sidebar\">\n        <div class=\"sidebar__title\">Working Fundamentals</div>\n        <ul class=\"sidebar__chapter-list\">\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-introduction\" class=\"sidebar__chapter-link\" target=\"_blank\">Introduction</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-1-of-13-programming-fundamentals\" class=\"sidebar__chapter-link sidebar__chapter-link\" target=\"_blank\">Chapter 1 ¬∑ Programming Fundamentals</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-2-of-13-data-structures\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 2 ¬∑ Data Structures</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-3-of-13-algorithms-and-complexity\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 3 ¬∑ Algorithms & Complexity</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-4-of-13-control-and-flow\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 4 ¬∑ Control & Flow</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-5-of-13-state-and-change\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 5 ¬∑ State & Change</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-6-of-13-design-principles\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 6 ¬∑ Design Principles</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-7-of-13-architecture\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 7 ¬∑ Architecture</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"#\" class=\"sidebar__chapter-link\"> class=\"sidebar__chapter-link sidebar__chapter-link--current\">Chapter 8 ¬∑ Persistence\\ \\&\\ Data\\ Modeling</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-9-of-13-interfaces-and-apis\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 9 ¬∑ Interfaces & APIs</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-10-of-13-errors-and-failure\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 10 ¬∑ Errors & Failure</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-11-of-13-testing\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 11 ¬∑ Testing</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-12-of-13-performance-and-scale\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 12 ¬∑ Performance & Scale</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-13-of-13-the-developers-role\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 13 ¬∑ The Developer''s Role</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-outroduction\" class=\"sidebar__chapter-link\" target=\"_blank\">Outroduction</a>\n          </li>\n        </ul>\n      </aside>\n\n      <!-- HEADER -->\n      <header class=\"header\" id=\"header\">\n        <a href=\"https://arvinjaysoncastro.com/\" class=\"brand\" target=\"_blank\">Arvin Jayson Castro</a>\n        <nav class=\"nav\">\n          <a href=\"https://arvinjaysoncastro.com/hungry-dev-mind\" target=\"_blank\">Books</a>\n          <a href=\"https://arvinjaysoncastro.com/working-systems\" target=\"_blank\">Working Systems</a>\n          <a href=\"https://arvinjaysoncastro.com/about\" target=\"_blank\">16 Years</a>\n          <div class=\"linkedin\">\n            <a href=\"https://www.linkedin.com/in/arvin-jayson-castro-7458199a/\" target=\"_blank\">linkedIn</a>\n            <span>let''s connect</span>\n          </div>\n        </nav>\n      </header>\n\n      <!-- PAGE WIDGET (TOP) - REMOVED -->\n      <div style=\"display: none;\">\n          <ol class=\"page-widget__pages-list\">\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">P</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Preface</div>\n                  <div class=\"page-widget__page-note\">Why fundamentals still decide outcomes.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item page-widget__page-item--current\">\n                <span class=\"page-widget__page-number\">1</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 1</div>\n                  <div class=\"page-widget__page-note\">Core principles and constraints.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">2</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 2</div>\n                  <div class=\"page-widget__page-note\">Boundaries, ownership, and interfaces.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">3</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 3</div>\n                  <div class=\"page-widget__page-note\">State, consistency, and failure modes.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">4</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 4</div>\n                  <div class=\"page-widget__page-note\">Abstractions that survive change.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">5</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 5</div>\n                  <div class=\"page-widget__page-note\">Simplicity as an engineering practice.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">6</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 6</div>\n                  <div class=\"page-widget__page-note\">Reliability, observability, and feedback.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">7</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 7</div>\n                  <div class=\"page-widget__page-note\">Delivery systems and decision hygiene.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">8</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 8</div>\n                  <div class=\"page-widget__page-note\">Documentation that stays useful.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">9</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 9</div>\n                  <div class=\"page-widget__page-note\">Testing strategy for predictable change.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">10</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 10</div>\n                  <div class=\"page-widget__page-note\">Pragmatic architecture for teams.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">11</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 11</div>\n                  <div class=\"page-widget__page-note\">Operational excellence without ceremony.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">12</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 12</div>\n                  <div class=\"page-widget__page-note\">Leadership, standards, and leverage.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">13</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 13</div>\n                  <div class=\"page-widget__page-note\">Making fundamentals non-negotiable.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">PS</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Postscript</div>\n                  <div class=\"page-widget__page-note\">A short operating model to carry forward.</div>\n                </div>\n              </a>\n            </li>\n          </ol>\n        </div>\n      </div>\n\n      <!-- MAIN -->\n      <main class=\"main\" id=\"main\">\n\n        <!-- CHAPTER CONTENT (Option 1: Magazine-style) -->\n        <article class=\"chapter-content\">\n          <header class=\"chapter-header\">\n            <div class=\"book-title\">Working Fundamentals</div>\n            <div class=\"chapter-number\" id=\"chapterIndicator\">\n              <span>chapter 8 of 13</span>\n              <span class=\"chapter-number__icon\" id=\"chapterIndicatorIcon\">‚ñæ</span>\n            </div>\n            <h1 class=\"chapter-title\">Persistence & Data Modeling</h1>\n            <p class=\"chapter-subtitle\">What you choose to remember forever</p>\n          </header>\n\n          <div class=\"chapter-body\">\n            <h3>What this chapter is</h3>\n\n            <p>This chapter is not about databases.It is not about SQL versus NoSQL.It is not about ORMs or query syntax.</p>\n\n            <p>This chapter is about <strong>commitment</strong>.</p>\n\n            <p>Persistence is the moment software stops being temporary.</p>\n\n            <h2>The core truth</h2>\n\n            <p>Code forgets.Data remembers.</p>\n\n            <p>Once data is written, it becomes part of history ‚Äîand history is hard to change.</p>\n\n            <p>üß† <strong>Mental Model</strong>Persistence turns decisions into obligations.</p>\n\n            <h2>Why persistence is different from everything else</h2>\n\n            <p>You can rewrite code.You can refactor logic.You can replace services.</p>\n\n            <p>You cannot easily erase:</p>\n\n            <ul>\n\n            <li>stored records</li>\n\n            </ul>\n\n            <ul>\n\n            <li>past assumptions</li>\n\n            </ul>\n\n            <ul>\n\n            <li>historical mistakes</li>\n\n            </ul>\n\n            <p>Persistence multiplies the cost of being wrong.</p>\n\n            <p>That is why this chapter exists.</p>\n\n            <h2>Data models are statements about reality</h2>\n\n            <p>A data model is not storage.</p>\n\n            <p>It is a <strong>claim</strong> about the world:</p>\n\n            <ul>\n\n            <li>what exists</li>\n\n            </ul>\n\n            <ul>\n\n            <li>what is allowed</li>\n\n            </ul>\n\n            <ul>\n\n            <li>what is optional</li>\n\n            </ul>\n\n            <ul>\n\n            <li>what must be unique</li>\n\n            </ul>\n\n            <ul>\n\n            <li>what can change</li>\n\n            </ul>\n\n            <p>If your model lies, the system lies with it.</p>\n\n            <p>üß† <strong>Architect‚Äôs Note</strong>Most bugs in persistent systems are truth mismatches, not code errors.</p>\n\n            <h2>The danger of modeling too much</h2>\n\n            <p>It is tempting to store everything:</p>\n\n            <ul>\n\n            <li>flags ‚Äújust in case‚Äù</li>\n\n            </ul>\n\n            <ul>\n\n            <li>snapshots ‚Äúfor safety‚Äù</li>\n\n            </ul>\n\n            <ul>\n\n            <li>derived values ‚Äúfor convenience‚Äù</li>\n\n            </ul>\n\n            <p>Every stored field becomes:</p>\n\n            <ul>\n\n            <li>a liability</li>\n\n            </ul>\n\n            <ul>\n\n            <li>a maintenance cost</li>\n\n            </ul>\n\n            <ul>\n\n            <li>a migration risk</li>\n\n            </ul>\n\n            <p>üß† <strong>Perspective</strong>If you are not willing to support a field forever, do not store it.</p>\n\n            <h2>The danger of modeling too little</h2>\n\n            <p>Under-modeling is equally dangerous.</p>\n\n            <p>When the model does not express rules:</p>\n\n            <ul>\n\n            <li>validation moves into code</li>\n\n            </ul>\n\n            <ul>\n\n            <li>invariants scatter</li>\n\n            </ul>\n\n            <ul>\n\n            <li>bugs repeat</li>\n\n            </ul>\n\n            <p>The database becomes permissive.The application becomes defensive.</p>\n\n            <p>‚ö†Ô∏è <strong>Common Drift</strong>Validation logic often exists because the model is silent.</p>\n\n            <h2>Identity, not structure</h2>\n\n            <p>One of the most important modeling questions is:</p>\n\n            <blockquote>_What gives this thing its identity?_</blockquote>\n\n            <p>Identity answers:</p>\n\n            <ul>\n\n            <li>what makes two records the same</li>\n\n            </ul>\n\n            <ul>\n\n            <li>what must never change</li>\n\n            </ul>\n\n            <ul>\n\n            <li>what links history together</li>\n\n            </ul>\n\n            <p>Mistaken identity leads to:</p>\n\n            <ul>\n\n            <li>duplication</li>\n\n            </ul>\n\n            <ul>\n\n            <li>orphaned records</li>\n\n            </ul>\n\n            <ul>\n\n            <li>impossible merges</li>\n\n            </ul>\n\n            <p>üß† <strong>Mental Model</strong>Identity should be stable, boring, and unquestioned.</p>\n\n            <h2>Facts, state, and events</h2>\n\n            <p>Not all stored data is the same.</p>\n\n            <ul>\n\n            <li><strong>Facts</strong> describe what <em>is true</em></li>\n\n            </ul>\n\n            <ul>\n\n            <li><strong>State</strong> describes what <em>is true now</em></li>\n\n            </ul>\n\n            <ul>\n\n            <li><strong>Events</strong> describe what <em>happened</em></li>\n\n            </ul>\n\n            <p>Confusing these leads to:</p>\n\n            <ul>\n\n            <li>overwritten history</li>\n\n            </ul>\n\n            <ul>\n\n            <li>lost meaning</li>\n\n            </ul>\n\n            <ul>\n\n            <li>irrecoverable mistakes</li>\n\n            </ul>\n\n            <p>üß† <strong>Architect‚Äôs Note</strong>You cannot reconstruct events from state reliably.</p>\n\n            <h2>Normalization is about truth, not performance</h2>\n\n            <p>Normalization exists to:</p>\n\n            <ul>\n\n            <li>prevent contradiction</li>\n\n            </ul>\n\n            <ul>\n\n            <li>protect integrity</li>\n\n            </ul>\n\n            <ul>\n\n            <li>preserve meaning</li>\n\n            </ul>\n\n            <p>Denormalization exists to:</p>\n\n            <ul>\n\n            <li>trade truth for speed</li>\n\n            </ul>\n\n            <ul>\n\n            <li>duplicate intentionally</li>\n\n            </ul>\n\n            <ul>\n\n            <li>optimize reads</li>\n\n            </ul>\n\n            <p>Both are valid.</p>\n\n            <p>What matters is knowing <strong>which truth you are trading</strong>.</p>\n\n            <h2>Migrations are architectural events</h2>\n\n            <p>A migration is not a technical task.It is a <strong>public apology</strong> for a past assumption.</p>\n\n            <p>Migrations:</p>\n\n            <ul>\n\n            <li>take time</li>\n\n            </ul>\n\n            <ul>\n\n            <li>require coordination</li>\n\n            </ul>\n\n            <ul>\n\n            <li>risk data loss</li>\n\n            </ul>\n\n            <ul>\n\n            <li>affect trust</li>\n\n            </ul>\n\n            <p>üß† <strong>Perspective</strong>Every migration is a reminder that persistence is permanent.</p>\n\n            <h2>Backward compatibility is mercy</h2>\n\n            <p>Old data will outlive:</p>\n\n            <ul>\n\n            <li>code</li>\n\n            </ul>\n\n            <ul>\n\n            <li>teams</li>\n\n            </ul>\n\n            <ul>\n\n            <li>documentation</li>\n\n            </ul>\n\n            <ul>\n\n            <li>intentions</li>\n\n            </ul>\n\n            <p>Your system must treat old data kindly.</p>\n\n            <p>If old data breaks new code,the design was incomplete.</p>\n\n            <h2>Persistence and failure</h2>\n\n            <p>Failures involving persistence are the most dangerous.</p>\n\n            <p>Questions every persistent operation must answer:</p>\n\n            <ul>\n\n            <li>what happens if this fails halfway?</li>\n\n            </ul>\n\n            <ul>\n\n            <li>what is left written?</li>\n\n            </ul>\n\n            <ul>\n\n            <li>can this be retried safely?</li>\n\n            </ul>\n\n            <ul>\n\n            <li>can it be rolled back?</li>\n\n            </ul>\n\n            <p>Ignoring these creates <strong>corruption</strong>, not just bugs.</p>\n\n            <p>üß† <strong>Architect‚Äôs Note</strong>Partial writes are more dangerous than total failure.</p>\n\n            <h2>Persistence leaks into architecture</h2>\n\n            <p>Once data is stored:</p>\n\n            <ul>\n\n            <li>APIs must respect it</li>\n\n            </ul>\n\n            <ul>\n\n            <li>migrations must honor it</li>\n\n            </ul>\n\n            <ul>\n\n            <li>performance must account for it</li>\n\n            </ul>\n\n            <p>Persistence shapes the entire system.</p>\n\n            <p>This is why data modeling is architecture.</p>\n\n            <h2>Minimal practice (still no code)</h2>\n\n            <p><strong>Problem:</strong>‚ÄúYou store user profiles, preferences, and activity history.‚Äù</p>\n\n            <p>Ask:</p>\n\n            <ul>\n\n            <li>Which parts are facts?</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Which parts are state?</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Which parts are events?</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Which parts must never be changed?</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Which parts can be recomputed?</li>\n\n            </ul>\n\n            <p>If the answers blur, redesign the model.</p>\n\n            <h2>What beginners gain here</h2>\n\n            <ul>\n\n            <li>Respect for data</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Fewer destructive shortcuts</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Awareness of long-term impact</li>\n\n            </ul>\n\n            <h2>What experienced developers recognize</h2>\n\n            <ul>\n\n            <li>Why migrations hurt</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Why legacy data is terrifying</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Why ‚Äúsimple schema changes‚Äù aren‚Äôt simple</li>\n\n            </ul>\n\n            <p>The model carried hidden assumptions.</p>\n\n            <h2>What this chapter deliberately avoids</h2>\n\n            <ul>\n\n            <li>Database engines</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Index tuning</li>\n\n            </ul>\n\n            <ul>\n\n            <li>ORM mechanics</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Query optimization</li>\n\n            </ul>\n\n            <p>Those come after truth.</p>\n\n            <h2>Closing</h2>\n\n            <p>Persistence is memory with consequences.</p>\n\n            <p>Store only what you are willing to defend.Model only what you understand deeply.</p>\n\n            <p>Good data models age gracefully.Bad ones haunt systems forever.</p>\n          </div>\n        </article>\n\n        <!-- RIGHT -->\n\n      </main>\n\n      <!-- CHAPTER NAVIGATION (BOTTOM) -->\n      <nav class=\"chapter-nav-bottom\" id=\"chapterNavBottom\">\n        <a href=\"#\" class=\"chapter-nav-bottom__link chapter-nav-bottom__link--prev\" id=\"prevChapter\">\n          <span class=\"chapter-nav-bottom__arrow\">‚Üê</span>\n          <span class=\"chapter-nav-bottom__label\">Previous</span>\n        </a>\n        <a href=\"#\" class=\"chapter-nav-bottom__link chapter-nav-bottom__link--next\" id=\"nextChapter\">\n          <span class=\"chapter-nav-bottom__label\">Next</span>\n          <span class=\"chapter-nav-bottom__arrow\">‚Üí</span>\n        </a>\n      </nav>\n\n      <!-- PAGE WIDGET (BOTTOM) - REMOVED -->\n      <div style=\"display: none;\">\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">P</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Preface</div>\n                  <div class=\"page-widget__page-note\">Why fundamentals still decide outcomes.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item page-widget__page-item--current\">\n                <span class=\"page-widget__page-number\">1</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 1</div>\n                  <div class=\"page-widget__page-note\">Core principles and constraints.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">2</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 2</div>\n                  <div class=\"page-widget__page-note\">Boundaries, ownership, and interfaces.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">3</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 3</div>\n                  <div class=\"page-widget__page-note\">State, consistency, and failure modes.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">4</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 4</div>\n                  <div class=\"page-widget__page-note\">Abstractions that survive change.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">5</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 5</div>\n                  <div class=\"page-widget__page-note\">Simplicity as an engineering practice.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">6</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 6</div>\n                  <div class=\"page-widget__page-note\">Reliability, observability, and feedback.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">7</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 7</div>\n                  <div class=\"page-widget__page-note\">Delivery systems and decision hygiene.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">8</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 8</div>\n                  <div class=\"page-widget__page-note\">Documentation that stays useful.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">9</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 9</div>\n                  <div class=\"page-widget__page-note\">Testing strategy for predictable change.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">10</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 10</div>\n                  <div class=\"page-widget__page-note\">Pragmatic architecture for teams.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">11</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 11</div>\n                  <div class=\"page-widget__page-note\">Operational excellence without ceremony.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">12</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 12</div>\n                  <div class=\"page-widget__page-note\">Leadership, standards, and leverage.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">13</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 13</div>\n                  <div class=\"page-widget__page-note\">Making fundamentals non-negotiable.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">PS</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Postscript</div>\n                  <div class=\"page-widget__page-note\">A short operating model to carry forward.</div>\n                </div>\n              </a>\n            </li>\n          </ol>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <!-- PAGE WIDGET JS -->\n  <!-- SIDEBAR TOGGLE JS -->\n  <script>\n  (() => {\n    const sidebar = document.getElementById(''sidebar'');\n    const backdrop = document.getElementById(''sidebarBackdrop'');\n    const indicator = document.getElementById(''chapterIndicator'');\n    const icon = document.getElementById(''chapterIndicatorIcon'');\n    const header = document.getElementById(''header'');\n    const main = document.getElementById(''main'');\n    const body = document.body;\n\n    if (!sidebar || !backdrop || !indicator || !icon || !header || !main) return;\n\n    let isOpen = false;\n    let scrollTimeout = null;\n\n    const openSidebar = () => {\n      isOpen = true;\n      sidebar.classList.add(''sidebar--open'');\n      backdrop.classList.add(''sidebar-backdrop--visible'');\n      header.classList.add(''header--shifted'');\n      main.classList.add(''main--shifted'');\n      icon.classList.add(''chapter-number__icon--open'');\n      body.classList.add(''sidebar-open'');\n    };\n\n    const closeSidebar = () => {\n      isOpen = false;\n      sidebar.classList.remove(''sidebar--open'');\n      backdrop.classList.remove(''sidebar-backdrop--visible'');\n      header.classList.remove(''header--shifted'');\n      main.classList.remove(''main--shifted'');\n      icon.classList.remove(''chapter-number__icon--open'');\n      body.classList.remove(''sidebar-open'');\n    };\n\n    // Toggle sidebar\n    indicator.addEventListener(''click'', (e) => {\n      e.stopPropagation();\n      if (isOpen) {\n        closeSidebar();\n      } else {\n        openSidebar();\n      }\n    });\n\n    // Close sidebar when clicking backdrop\n    backdrop.addEventListener(''click'', () => {\n      closeSidebar();\n    });\n\n    // Close sidebar when clicking outside\n    document.addEventListener(''click'', (e) => {\n      // Don''t close sidebar if clicking on brand link or nav links\n      const brandLink = header.querySelector(''.brand'');\n      const isClickOnLink = brandLink && brandLink.contains(e.target);\n      const isClickOnNav = header.querySelector(''.nav'') && header.querySelector(''.nav'').contains(e.target);\n      \n      if (isOpen && !sidebar.contains(e.target) && !indicator.contains(e.target) && !isClickOnLink && !isClickOnNav) {\n        closeSidebar();\n      }\n    });\n\n    // Close sidebar on scroll (debounced)\n    const handleScroll = () => {\n      if (isOpen) {\n        clearTimeout(scrollTimeout);\n        scrollTimeout = setTimeout(() => {\n          closeSidebar();\n        }, 100);\n      }\n    };\n\n    // Listen for scroll on main content\n    window.addEventListener(''scroll'', handleScroll, { passive: true });\n    \n    // Also listen for scroll attempts on body (when scroll is disabled)\n    let lastScrollTop = window.pageYOffset;\n    const handleScrollAttempt = () => {\n      if (isOpen) {\n        const currentScrollTop = window.pageYOffset;\n        if (currentScrollTop !== lastScrollTop) {\n          closeSidebar();\n        }\n        lastScrollTop = currentScrollTop;\n      }\n    };\n\n    // Prevent scroll on body when sidebar is open\n    document.addEventListener(''wheel'', (e) => {\n      if (isOpen && !sidebar.contains(e.target)) {\n        e.preventDefault();\n        closeSidebar();\n      }\n    }, { passive: false });\n\n    // Prevent touch scroll on body when sidebar is open\n    document.addEventListener(''touchmove'', (e) => {\n      if (isOpen && !sidebar.contains(e.target)) {\n        e.preventDefault();\n        closeSidebar();\n      }\n    }, { passive: false });\n  })();\n  </script>\n\n  <!-- CHAPTER NAVIGATION (BOTTOM) JS -->\n  <script>\n  (() => {\n    // Chapter list: Preface = 0, Chapter 1-13 = 1-13, Postscript = 14\n    const chapters = [\n      { id: ''preface'', title: ''Preface'', url: ''https://arvinjaysoncastro.com/working-fundamentals-introduction'' },\n      { id: ''ch1'', title: ''Chapter 1'', url: ''https://arvinjaysoncastro.com/working-fundamentals-1-of-13-programming-fundamentals'' },\n      { id: ''ch2'', title: ''Chapter 2'', url: ''https://arvinjaysoncastro.com/working-fundamentals-2-of-13-data-structures'' },\n      { id: ''ch3'', title: ''Chapter 3'', url: ''https://arvinjaysoncastro.com/working-fundamentals-3-of-13-algorithms-and-complexity'' },\n      { id: ''ch4'', title: ''Chapter 4'', url: ''https://arvinjaysoncastro.com/working-fundamentals-4-of-13-control-and-flow'' },\n      { id: ''ch5'', title: ''Chapter 5'', url: ''https://arvinjaysoncastro.com/working-fundamentals-5-of-13-state-and-change'' },\n      { id: ''ch6'', title: ''Chapter 6'', url: ''https://arvinjaysoncastro.com/working-fundamentals-6-of-13-design-principles'' },\n      { id: ''ch7'', title: ''Chapter 7'', url: ''https://arvinjaysoncastro.com/working-fundamentals-7-of-13-architecture'' },\n      { id: ''ch8'', title: ''Chapter 8'', url: ''https://arvinjaysoncastro.com/working-fundamentals-8-of-13-persistence-and-data-modeling'' },\n      { id: ''ch9'', title: ''Chapter 9'', url: ''https://arvinjaysoncastro.com/working-fundamentals-9-of-13-interfaces-and-apis'' },\n      { id: ''ch10'', title: ''Chapter 10'', url: ''https://arvinjaysoncastro.com/working-fundamentals-10-of-13-errors-and-failure'' },\n      { id: ''ch11'', title: ''Chapter 11'', url: ''https://arvinjaysoncastro.com/working-fundamentals-11-of-13-testing'' },\n      { id: ''ch12'', title: ''Chapter 12'', url: ''https://arvinjaysoncastro.com/working-fundamentals-12-of-13-performance-and-scale'' },\n      { id: ''ch13'', title: ''Chapter 13'', url: ''https://arvinjaysoncastro.com/working-fundamentals-13-of-13-the-developers-role'' },\n      { id: ''postscript'', title: ''Postscript'', url: ''https://arvinjaysoncastro.com/working-fundamentals-outroduction'' }\n    ];\n\n    const currentChapterIndex = 8; // Chapter 1 is index 1 (Preface is 0)\n    const prevLink = document.getElementById(''prevChapter'');\n    const nextLink = document.getElementById(''nextChapter'');\n\n    if (!prevLink || !nextLink) return;\n\n    // Previous chapter\n    if (currentChapterIndex > 0) {\n      const prevChapter = chapters[currentChapterIndex - 1];\n      prevLink.href = prevChapter.url;\n      prevLink.target = ''_blank'';\n      prevLink.innerHTML = `\n        <span class=\"chapter-nav-bottom__arrow\">‚Üê</span>\n        <span class=\"chapter-nav-bottom__label\">Previous: ${prevChapter.title}</span>\n      `;\n    } else {\n      // No previous chapter - show \"go back to book list\"\n      prevLink.href = ''https://arvinjaysoncastro.com/hungry-dev-mind'';\n      prevLink.target = ''_blank'';\n      prevLink.innerHTML = `\n        <span class=\"chapter-nav-bottom__arrow\">‚Üê</span>\n        <span class=\"chapter-nav-bottom__label\">Go back to book list</span>\n      `;\n    }\n\n    // Next chapter\n    if (currentChapterIndex < chapters.length - 1) {\n      const nextChapter = chapters[currentChapterIndex + 1];\n      nextLink.href = nextChapter.url;\n      nextLink.target = ''_blank'';\n      nextLink.innerHTML = `\n        <span class=\"chapter-nav-bottom__label\">Next: ${nextChapter.title}</span>\n        <span class=\"chapter-nav-bottom__arrow\">‚Üí</span>\n      `;\n    } else {\n      // No next chapter - show \"go back to book list\"\n      nextLink.href = ''https://arvinjaysoncastro.com/hungry-dev-mind'';\n      nextLink.target = ''_blank'';\n      nextLink.innerHTML = `\n        <span class=\"chapter-nav-bottom__label\">Go back to book list</span>\n        <span class=\"chapter-nav-bottom__arrow\">‚Üí</span>\n      `;\n    }\n  })();\n  </script>\n\n  <!-- OPTIONAL JS -->\n <script>\n(() => {\n  const wrap = document.querySelector(''.book-wrap'');\n  if (!wrap) return;\n\n  const slab1 = wrap.querySelector(''.shadow-slab'');\n  const slab2 = wrap.querySelector(''.shadow-slab-2'');\n  const slab3 = wrap.querySelector(''.shadow-slab-3'');\n  const slab4 = wrap.querySelector(''.shadow-slab-4'');\n  const front = wrap.querySelector(''.front-slab'');\n\n  const clamp = (v, min, max) => Math.max(min, Math.min(max, v));\n\n  let raf = 0;\n  let lx = 0; // light vector x\n  let ly = 0; // light vector y\n\n  function render() {\n    raf = 0;\n\n    // Shadow direction = opposite of light\n    const sx = -lx;\n    const sy = -ly;\n\n    const intensity = Math.abs(lx) + Math.abs(ly);\n\n    /* ---------------------------\n       SLAB 1 ‚Äî KEY CAST SHADOW\n    ---------------------------- */\n    slab1.style.transform =\n      `translate(${(sx * 38).toFixed(2)}px, ${(sy * 38).toFixed(2)}px)`;\n    slab1.style.filter =\n      `blur(${(14 + intensity * 6).toFixed(2)}px)`;\n    slab1.style.opacity =\n      (0.28 + intensity * 0.14).toFixed(2);\n\n    /* ---------------------------\n       SLAB 2 ‚Äî BOUNCE / COLOR BLEED\n    ---------------------------- */\n    slab2.style.transform =\n      `translate(${(sx * 14).toFixed(2)}px, ${(sy * 14).toFixed(2)}px)`;\n    slab2.style.filter =\n      `blur(${(6 + intensity * 4).toFixed(2)}px)`;\n    slab2.style.opacity =\n      (0.16 + intensity * 0.10).toFixed(2);\n\n    /* ---------------------------\n       SLAB 3 ‚Äî CONTACT SHADOW\n    ---------------------------- */\n    slab3.style.transform =\n      `translate(${(sx * 6).toFixed(2)}px, ${(sy * 6).toFixed(2)}px)`;\n    slab3.style.filter = `blur(9px)`;\n    slab3.style.opacity =\n      (0.24 + Math.abs(lx) * 0.06).toFixed(2);\n\n    /* ---------------------------\n       SLAB 4 ‚Äî AMBIENT DEPTH\n    ---------------------------- */\n    slab4.style.transform =\n      `translate(${(sx * 3).toFixed(2)}px, ${(sy * 3).toFixed(2)}px)`;\n    slab4.style.filter = `blur(18px)`;\n    slab4.style.opacity =\n      (0.16 + Math.abs(ly) * 0.04).toFixed(2);\n\n    /* ---------------------------\n       FRONT SLAB ‚Äî SPECULAR RESPONSE\n       (moves TOWARD light)\n    ---------------------------- */\nif (front) {\n  // Very subtle counter-parallax (NOT toward light)\n  front.style.transform =\n    `translate(${(-lx * 1.6).toFixed(2)}px, ${(-ly * 1.6).toFixed(2)}px)`;\n\n  // Opacity increases when light is grazing\n  front.style.opacity =\n    (0.34 + intensity * 0.22).toFixed(2);\n\n  // Highlight shifts OPPOSITE the light direction\n  const gx = 50 - lx * 28;\n  const gy = 50 - ly * 28;\n  front.style.backgroundPosition = `${gx}% ${gy}%`;\n}\n\n  }\n\n  function onMove(e) {\n    const r = wrap.getBoundingClientRect();\n    const cx = r.left + r.width / 2;\n    const cy = r.top + r.height / 2;\n\n    // LIGHT VECTOR (mouse = light source)\n    lx = clamp((e.clientX - cx) / (r.width / 2), -1, 1);\n    ly = clamp((e.clientY - cy) / (r.height / 2), -1, 1);\n\n    if (!raf) raf = requestAnimationFrame(render);\n  }\n\n  window.addEventListener(''mousemove'', onMove, { passive: true });\n})();\n</script>\n</body>\n</html>\n", "css": "body { font-family: system-ui; padding: 20px; }", "js": "console.log(\"Code Runner initialized\");", "imports": {"css": [], "js": []}, "entryPoint": {"type": "htmlDocument", "mountSelector": "#app", "injectMountIfMissing": true}, "settings": {"mode": "play", "viewport": {"type": "responsive", "background": "white"}, "securityPreset": "trusted", "autoRun": true, "runOnLoad": true}, "codePanel": {"isVisible": false, "isEditable": false}}}]}]}',
    '1.0.0',
    true,
    '88b62d69-6012-47ae-b45b-9ccc5f1dc87c',
    NOW(),
    NOW(),
    'public',
    NULL,
    false,
    NULL,
    'page',
    NULL,
    NULL,
    NULL,
    NULL,
    NULL,
    false,
    0,
    NULL,
    true,
    false,
    NULL,
    NULL,
    '{"id": "block-root", "style": {}, "type": "container", "children": [{"id": "temp-container", "style": {"width": "100vw", "height": "100vh"}, "type": "container", "children": [{"id": "temp-coderunner", "style": {}, "type": "codeRunner", "data": {"html": "<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n  <meta charset=\"UTF-8\" />\n  <title>Working Fundamentals ‚Äî Arvin Jayson Castro</title>\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n\n  <!-- =====================\n       GLOBAL STYLES\n  ====================== -->\n  <style>\n    :root {\n      --bg: #f7f8f8;\n      --ink: #111111;\n      --muted: #666666;\n      --line: rgba(0,0,0,0.08);\n      --accent: #16a34a;\n      --link: #3b82f6;\n      --max-width: 1200px;\n    }\n\n    * {\n      box-sizing: border-box;\n    }\n\n    body {\n      margin: 0;\n      font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, sans-serif;\n      color: var(--ink);\n      background-color: var(--bg);\n      background-image:\n        radial-gradient(980px 560px at 14% 18%, rgba(16,185,129,0.10) 0%, rgba(16,185,129,0) 60%),\n        radial-gradient(860px 540px at 86% 74%, rgba(245,158,11,0.10) 0%, rgba(245,158,11,0) 62%),\n        repeating-linear-gradient(0deg, rgba(0,0,0,0.043) 0, rgba(0,0,0,0.043) 1px, transparent 1px, transparent 46px),\n        repeating-linear-gradient(90deg, rgba(0,0,0,0.043) 0, rgba(0,0,0,0.043) 1px, transparent 1px, transparent 46px);\n      min-height: 100vh;\n    }\n\n    a {\n      color: inherit;\n      text-decoration: none;\n    }\n\n    img {\n      max-width: 100%;\n      display: block;\n    }\n\n    /* =====================\n       PAGE WRAPPER\n    ====================== */\n    .page {\n      padding: 22px 24px;\n    }\n\n    .container {\n      max-width: var(--max-width);\n      margin: 0 auto;\n    }\n\n    /* =====================\n       SIDEBAR BACKDROP\n    ====================== */\n    .sidebar-backdrop {\n      position: fixed;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n      background: rgba(0, 0, 0, 0.2);\n      backdrop-filter: blur(4px);\n      -webkit-backdrop-filter: blur(4px);\n      opacity: 0;\n      visibility: hidden;\n      transition: opacity 0.3s ease, visibility 0.3s ease;\n      z-index: 999;\n      pointer-events: none;\n    }\n\n    .sidebar-backdrop--visible {\n      opacity: 1;\n      visibility: visible;\n      pointer-events: auto;\n    }\n\n    /* =====================\n       SIDEBAR\n    ====================== */\n    .sidebar {\n      position: fixed;\n      top: 0;\n      right: 0;\n      width: 320px;\n      height: 100vh;\n      background: var(--bg);\n      border-left: 1px solid var(--line);\n      transform: translateX(100%);\n      transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n      z-index: 1000;\n      overflow-y: auto;\n      padding: 24px;\n    }\n\n    .sidebar--open {\n      transform: translateX(0);\n    }\n\n    .sidebar__title {\n      font-size: 16px;\n      font-weight: 600;\n      margin-bottom: 24px;\n      color: var(--ink);\n    }\n\n    /* Prevent body scroll when sidebar is open */\n    body.sidebar-open {\n      overflow: hidden;\n    }\n\n    .sidebar__chapter-list {\n      list-style: none;\n      margin: 0;\n      padding: 0;\n    }\n\n    .sidebar__chapter-item {\n      margin: 0 0 8px 0;\n    }\n\n    .sidebar__chapter-link {\n      display: block;\n      font-size: 14px;\n      color: var(--muted);\n      text-decoration: none;\n      padding: 8px 0;\n      transition: color 0.2s ease;\n      line-height: 1.5;\n    }\n\n    .sidebar__chapter-link:hover {\n      color: var(--ink);\n    }\n\n    .sidebar__chapter-link {\n      color: var(--ink);\n      font-weight: 500;\n    }\n\n    /* =====================\n       HEADER (Top bar with chapter indicator)\n    ====================== */\n    .header {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      padding: 10px 0;\n      border-bottom: 1px solid var(--line);\n      position: relative;\n      transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n    }\n\n    .header--shifted {\n      transform: translateX(-320px);\n    }\n\n    .brand {\n      font-size: 16px;\n      font-weight: 600;\n      cursor: pointer;\n      display: inline-block;\n    }\n\n    .nav {\n      display: flex;\n      gap: 24px;\n      align-items: center;\n      font-size: 14px;\n    }\n\n    .nav a {\n      color: #1f2937;\n    }\n\n    .linkedin {\n      display: flex;\n      flex-direction: column;\n      align-items: flex-start;\n    }\n\n    .linkedin a {\n      color: var(--link);\n    }\n\n    .linkedin span {\n      font-family: Georgia, serif;\n      font-size: 9px;\n      font-style: italic;\n      color: #999;\n    }\n\n    /* =====================\n       MAIN GRID\n    ====================== */\n    .main {\n      padding-top: 48px;\n      padding-bottom: 48px;\n      display: flex;\n      justify-content: center;\n      align-items: start;\n    }\n\n    /* =====================\n       CHAPTER READING AREA (Option 1: Magazine-style)\n    ====================== */\n    .chapter-content {\n      max-width: 768px;\n      width: 100%;\n      margin: 0 auto;\n    }\n\n    .chapter-header {\n      margin-bottom: 56px;\n      padding-bottom: 32px;\n      border-bottom: 2px solid var(--line);\n    }\n\n    .book-title {\n      font-size: 12px;\n      letter-spacing: 0.15em;\n      text-transform: uppercase;\n      color: var(--muted);\n      font-weight: 500;\n      margin-bottom: 8px;\n      opacity: 0.7;\n    }\n\n    .chapter-number {\n      font-size: 13px;\n      letter-spacing: 0.2em;\n      text-transform: uppercase;\n      color: var(--muted);\n      font-weight: 600;\n      margin-bottom: 12px;\n      display: flex;\n      align-items: center;\n      gap: 8px;\n      cursor: pointer;\n      user-select: none;\n      transition: color 0.2s ease;\n    }\n\n    .chapter-number:hover {\n      color: var(--ink);\n    }\n\n    .chapter-number__icon {\n      font-size: 10px;\n      opacity: 0.6;\n      transition: transform 0.3s ease, opacity 0.2s ease;\n    }\n\n    .chapter-number:hover .chapter-number__icon {\n      opacity: 0.8;\n    }\n\n    .chapter-number__icon--open {\n      transform: rotate(180deg);\n    }\n\n    .chapter-title {\n      font-size: 56px;\n      font-weight: 900;\n      line-height: 1.05;\n      margin: 0 0 20px 0;\n      color: var(--ink);\n      letter-spacing: -0.03em;\n    }\n\n    .chapter-subtitle {\n      font-size: 22px;\n      font-weight: 500;\n      color: var(--muted);\n      line-height: 1.4;\n      margin: 0;\n    }\n\n    .chapter-body {\n      font-size: 19px;\n      line-height: 1.8;\n      color: var(--ink);\n      max-width: none;\n      font-weight: 400;\n    }\n\n    .chapter-body p {\n      margin: 0 0 28px 0;\n    }\n\n    .chapter-body p:last-child {\n      margin-bottom: 0;\n    }\n\n    .chapter-body h2 {\n      font-size: 36px;\n      font-weight: 800;\n      line-height: 1.2;\n      margin: 56px 0 24px 0;\n      color: var(--ink);\n      letter-spacing: -0.02em;\n    }\n\n    .chapter-body h3 {\n      font-size: 26px;\n      font-weight: 700;\n      line-height: 1.3;\n      margin: 40px 0 18px 0;\n      color: var(--ink);\n      letter-spacing: -0.01em;\n    }\n\n    .chapter-body strong {\n      font-weight: 600;\n      color: var(--ink);\n    }\n\n    .chapter-body em {\n      font-style: italic;\n    }\n\n    .chapter-body ul,\n    .chapter-body ol {\n      margin: 28px 0;\n      padding-left: 36px;\n    }\n\n    .chapter-body li {\n      margin-bottom: 14px;\n      line-height: 1.75;\n    }\n\n    .chapter-body blockquote {\n      margin: 40px 0;\n      padding-left: 28px;\n      border-left: 4px solid var(--accent);\n      font-style: italic;\n      color: var(--muted);\n      font-size: 18px;\n      line-height: 1.7;\n    }\n\n    .chapter-body code {\n      font-family: ''Monaco'', ''Menlo'', ''Courier New'', monospace;\n      font-size: 0.9em;\n      background: rgba(0,0,0,0.04);\n      padding: 2px 6px;\n      border-radius: 3px;\n    }\n\n    .chapter-body pre {\n      background: rgba(0,0,0,0.04);\n      padding: 20px;\n      border-radius: 8px;\n      overflow-x: auto;\n      margin: 24px 0;\n    }\n\n    .chapter-body pre code {\n      background: none;\n      padding: 0;\n    }\n\n    /* Content shift when sidebar opens */\n    .main {\n      transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n    }\n\n    .main--shifted {\n      transform: translateX(-320px);\n    }\n\n    /* Prevent horizontal scroll */\n    body {\n      overflow-x: hidden;\n    }\n\n    .page {\n      overflow-x: hidden;\n    }\n\n    /* =====================\n       CHAPTER NAVIGATION (BOTTOM)\n    ====================== */\n    .chapter-nav-bottom {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      max-width: 768px;\n      width: 100%;\n      margin: 64px auto 0 auto;\n      padding: 24px 0;\n      border-top: 1px solid var(--line);\n    }\n\n    .chapter-nav-bottom__link {\n      display: flex;\n      align-items: center;\n      gap: 8px;\n      font-size: 14px;\n      color: var(--muted);\n      text-decoration: none;\n      transition: color 0.2s ease;\n      padding: 8px 0;\n    }\n\n    .chapter-nav-bottom__link:hover {\n      color: var(--ink);\n    }\n\n    .chapter-nav-bottom__arrow {\n      font-size: 16px;\n      opacity: 0.7;\n    }\n\n    .chapter-nav-bottom__label {\n      font-weight: 500;\n    }\n\n    .chapter-nav-bottom__link--prev {\n      margin-right: auto;\n    }\n\n    .chapter-nav-bottom__link--next {\n      margin-left: auto;\n    }\n\n    .chapter-nav-bottom__link--disabled {\n      opacity: 0.4;\n      cursor: not-allowed;\n      pointer-events: none;\n    }\n\n    .page-widget__pages {\n      max-height: 0;\n      overflow: hidden;\n      transition: max-height 0.4s cubic-bezier(0.4, 0, 0.2, 1),\n                  opacity 0.3s ease,\n                  margin-top 0.3s ease;\n      opacity: 0;\n      margin-top: 0;\n      background: rgba(255, 255, 255, 0.98);\n      backdrop-filter: blur(12px);\n      -webkit-backdrop-filter: blur(12px);\n      border: 1px solid rgba(0, 0, 0, 0.06);\n      border-radius: 12px;\n      box-shadow: 0 2px 12px rgba(0, 0, 0, 0.06);\n    }\n\n    .page-widget__pages--expanded {\n      max-height: 500px;\n      opacity: 1;\n      margin-top: 12px;\n      padding: 8px;\n    }\n\n    .page-widget__pages-list {\n      list-style: none;\n      margin: 0;\n      padding: 0;\n      display: flex;\n      flex-direction: column;\n      gap: 8px;\n      max-height: 400px;\n      overflow-y: auto;\n      padding-right: 4px;\n    }\n\n    .page-widget__pages-list::-webkit-scrollbar {\n      width: 6px;\n    }\n\n    .page-widget__pages-list::-webkit-scrollbar-track {\n      background: rgba(0, 0, 0, 0.02);\n      border-radius: 3px;\n    }\n\n    .page-widget__pages-list::-webkit-scrollbar-thumb {\n      background: rgba(0, 0, 0, 0.12);\n      border-radius: 3px;\n    }\n\n    .page-widget__pages-list::-webkit-scrollbar-thumb:hover {\n      background: rgba(0, 0, 0, 0.2);\n    }\n\n    .page-widget__page-item {\n      display: flex;\n      align-items: center;\n      gap: 10px;\n      padding: 8px 10px;\n      border-radius: 8px;\n      cursor: pointer;\n      transition: all 0.2s ease;\n      text-decoration: none;\n      color: var(--ink);\n    }\n\n    .page-widget__page-item:hover {\n      background: rgba(0, 0, 0, 0.03);\n      transform: translateX(2px);\n    }\n\n    .page-widget__page-item--current {\n      background: rgba(22, 163, 74, 0.08);\n      color: var(--accent);\n      font-weight: 500;\n    }\n\n    .page-widget__page-item--current:hover {\n      background: rgba(22, 163, 74, 0.12);\n    }\n\n    .page-widget__page-number {\n      display: inline-flex;\n      align-items: center;\n      justify-content: center;\n      width: 24px;\n      height: 24px;\n      background: rgba(0, 0, 0, 0.04);\n      border-radius: 5px;\n      font-size: 11px;\n      font-weight: 500;\n      flex-shrink: 0;\n      color: var(--muted);\n    }\n\n    .page-widget__page-item--current .page-widget__page-number {\n      background: rgba(22, 163, 74, 0.15);\n      color: var(--accent);\n    }\n\n    .page-widget__page-info {\n      flex: 1;\n      min-width: 0;\n    }\n\n    .page-widget__page-name {\n      font-size: 13px;\n      font-weight: 500;\n      line-height: 1.3;\n      margin: 0 0 2px 0;\n    }\n\n    .page-widget__page-note {\n      font-size: 11px;\n      color: var(--muted);\n      line-height: 1.3;\n      margin: 0;\n      white-space: nowrap;\n      overflow: hidden;\n      text-overflow: ellipsis;\n    }\n\n    @media (max-width: 768px) {\n      .page-widget__pages-list {\n        max-height: 300px;\n      }\n    }\n\n\n/* ===============================\n   WRAPPER\n================================ */\n.book-wrap {\n  width: 320px;\n  aspect-ratio: 2 / 3;\n  position: relative;\n}\n\n/* ===============================\n   CAST SHADOW SLAB (REAL SHADOW)\n================================ */\n.shadow-slab {\n    position: absolute;\n    position: absolute;\n    inset: 0;\n    border-radius: 22px;\n    /* background: #2a2a2a; */\n    transform: translate(-30px, 30px);\n    filter: blur(13px);\n    opacity: 0.35;\n    z-index: 0;\n    background: radial-gradient(ellipse at 15% 85%, rgba(0, 0, 0, 0.35), rgba(0, 0, 0, 0.18) 35%, transparent 65%), linear-gradient(to right, #1f1f1f 0%, #2a2a2a 45%, #3a3a3a 100%);\n}\n\n.shadow-slab-2 {\n    position: absolute;\n    inset: 0;\n    border-radius: 22px;\n    background: radial-gradient(circle at top right, #f6e6a8 0%, #e2c36b 35%, #b58a3c 70%, #7a5524 100%);\n    transform: translate(-10px, 10px);\n    filter: blur(5px);\n    opacity: 0.35;\n    z-index: 0;\n}\n\n.shadow-slab-3 {\n    position: absolute;\n    inset: 0;\n    border-radius: 22px;\n    background: #333;\n    transform: translate(0px, 0px);\n    filter: blur(11px);\n    opacity: 0.35;\n    z-index: 0;\n}\n\n.shadow-slab-4 {\n    position: absolute;\n    inset: 0;\n    border-radius: 22px;\n    background: #333;\n    transform: translate(0px, 0px);\n    filter: blur(11px);\n    opacity: 0.35;\n    z-index: 0;\n}\n\n/* ===============================\n   FRONT SLAB & SPIN HANDLE\n================================ */\n\n.front-slab {\n    position: absolute;\n    inset: 0;\n    border-radius: 22px;\n    background: linear-gradient(to right, rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.1) 3%, transparent 1%);\n    /* background: green; */\n    z-index: 3;\n    opacity: .5;\n    transform: translateZ(6px);\n    pointer-events: none;\n}\n\n.spin-handle {\n  display: none;\n  position: absolute;\n  top: 50%;\n  right: -22px;\n  width: 14px;\n  height: 48px;\n  border-radius: 999px;\n  background: rgba(0,0,0,0.25);\n  backdrop-filter: blur(4px);\n  cursor: grab;\n  z-index: 10;\n}\n\n/* ===============================\n   BOOK OBJECT (NO SHADOW)\n================================ */\n.book {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  border-radius: 22px;\n  overflow: hidden;\n  z-index: 2;\n\n  /* IMPORTANT: no box-shadow */\n  box-shadow: none;\n\n  /* transform: perspective(1200px) rotateX(0.6deg); */\n}\n\n/* ===============================\n   PAPER SURFACE (LIGHT FIELD)\n================================ */\n.book .surface {\n  position: absolute;\n  inset: 0;\n  border-radius: inherit;\n  pointer-events: none;\n  z-index: 1;\n\n  background:\n    linear-gradient(\n      to bottom left,\n      rgba(255,255,255,1) 0%,\n      rgba(250,250,250,1) 42%,\n      rgba(240,240,240,1) 100%\n    ),\n    repeating-linear-gradient(\n      0deg,\n      rgba(0,0,0,0.01),\n      rgba(0,0,0,0.01) 1px,\n      transparent 1px,\n      transparent 3px\n    );\n}\n\n/* ===============================\n   LEFT OCCLUSION (CURTAIN)\n================================ */\n.book .curtain {\n  position: absolute;\n  inset: 0;\n  border-radius: inherit;\n  pointer-events: none;\n  z-index: 2;\n\n  background:\n    linear-gradient(\n      to right,\n      rgba(0,0,0,0.20) 0%,\n      rgba(0,0,0,0.12) 8%,\n      rgba(0,0,0,0.05) 16%,\n      rgba(0,0,0,0.02) 22%,\n      rgba(0,0,0,0.00) 30%\n    );\n}\n\n/* ===============================\n   RIGHT HIGHLIGHT\n================================ */\n.book .highlight {\n  position: absolute;\n  inset: 0;\n  border-radius: inherit;\n  pointer-events: none;\n  z-index: 3;\n\n  background:\n    linear-gradient(\n      to left,\n      rgba(255,255,255,0.35) 0%,\n      rgba(255,255,255,0.18) 6%,\n      rgba(255,255,255,0.06) 14%,\n      rgba(255,255,255,0.00) 24%\n    );\n}\n\n/* ===============================\n   PAGE EDGE (THICKNESS)\n================================ */\n.book .edge {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 120px;\n  height: 100%;\n  border-radius: 22px 0 0 22px;\n  pointer-events: none;\n  z-index: 4;\n\n  background:\n    linear-gradient(\n      to right,\n      rgba(215,215,215,0.95) 0%,\n      rgba(245,245,245,0.95) 40%,\n      rgba(255,255,255,0.95) 75%\n    );\n\n  box-shadow:\n    inset -1px 0 0 rgba(0,0,0,0.05);\n}\n\n/* ===============================\n   SVG (PURE WHITE)\n================================ */\n.book svg {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  display: block;\n  z-index: 5;\n}\n\n    /* =====================\n       LEFT: BOOK COVER\n    ====================== */\n    .book-cover {\n      display: flex;\n      flex-direction: column;\n      gap: 12px;\n    }\n\n\n    /* ===============================\n       BOOK + SHADOW SYSTEM\n    =============================== */\n    .book-wrap {\n      width: 320px;\n      aspect-ratio: 2 / 3;\n      position: relative;\n    }\n\n    .shadow-slab,\n    .shadow-slab-2,\n    .shadow-slab-3,\n    .shadow-slab-4 {\n      position: absolute;\n      inset: 0;\n      border-radius: 22px;\n      z-index: 0;\n      will-change: transform, filter, opacity;\n    }\n\n    .shadow-slab {\n      background:\n        radial-gradient(ellipse at 15% 85%, rgba(0,0,0,0.35), rgba(0,0,0,0.18) 35%, transparent 65%),\n        linear-gradient(to right, #1f1f1f 0%, #2a2a2a 45%, #3a3a3a 100%);\n      filter: blur(13px);\n      opacity: 0.35;\n    }\n\n    .shadow-slab-2 {\n      background: radial-gradient(circle at top right, #f6e6a8 0%, #e2c36b 35%, #b58a3c 70%, #7a5524 100%);\n      filter: blur(6px);\n      opacity: 0.30;\n    }\n\n    .shadow-slab-3,\n    .shadow-slab-4 {\n      background: #333;\n      filter: blur(11px);\n      opacity: 0.30;\n    }\n\n    .book {\n      position: relative;\n      width: 100%;\n      height: 100%;\n      border-radius: 22px;\n      overflow: hidden;\n      z-index: 2;\n      background: #f7f4ee;\n    }\n\n    .front-slab {\n      position: absolute;\n      inset: 0;\n      border-radius: 22px;\n      background: linear-gradient(to right, rgba(0,0,0,0.4), rgba(0,0,0,0.1) 3%, transparent 10%);\n      z-index: 3;\n      pointer-events: none;\n      opacity: 0.5;\n    }\n\n\n    @media (prefers-reduced-motion: reduce) {\n      .cover-frame {\n        transition: none;\n        transform: none;\n      }\n      .cover-frame:hover {\n        --lift: 0;\n      }\n    }\n\n    .start-reading {\n      display: inline-flex;\n      align-items: center;\n      justify-content: center;\n      width: 100%;\n      padding: 12px 14px;\n      border-radius: 999px;\n\n      font-size: 11px;\n      letter-spacing: 0.16em;\n      text-transform: uppercase;\n      font-weight: 650;\n      color: rgba(34,197,94,0.92);\n      text-shadow:\n        0 0 10px rgba(34,197,94,0.22),\n        0 0 22px rgba(34,197,94,0.14);\n\n      /* graphite: dark + slightly mineral */\n      background:\n        radial-gradient(120% 140% at 20% 10%, rgba(255,255,255,0.10) 0%, rgba(255,255,255,0.00) 55%),\n        radial-gradient(140% 140% at 80% 90%, rgba(255,255,255,0.06) 0%, rgba(255,255,255,0.00) 60%),\n        linear-gradient(180deg, #141414 0%, #0a0a0a 100%);\n      border: 1px solid rgba(255,255,255,0.10);\n      box-shadow:\n        0 14px 34px rgba(0,0,0,0.22),\n        0 8px 16px rgba(0,0,0,0.18),\n        inset 0 1px 0 rgba(255,255,255,0.10),\n        inset 0 -1px 0 rgba(0,0,0,0.55);\n\n      position: relative;\n      overflow: hidden;\n      cursor: pointer;\n      user-select: none;\n      -webkit-tap-highlight-color: transparent;\n\n      transition:\n        transform 160ms cubic-bezier(0.2, 0.8, 0.2, 1),\n        box-shadow 160ms cubic-bezier(0.2, 0.8, 0.2, 1),\n        border-color 160ms cubic-bezier(0.2, 0.8, 0.2, 1);\n    }\n\n    .start-reading::before {\n      content: \"\";\n      position: absolute;\n      inset: 0;\n      pointer-events: none;\n      /* texture + sheen (very subtle) */\n      background:\n        linear-gradient(120deg, rgba(255,255,255,0.12) 0%, rgba(255,255,255,0.00) 46%),\n        repeating-linear-gradient(0deg,\n          rgba(255,255,255,0.028) 0px,\n          rgba(255,255,255,0.028) 1px,\n          rgba(0,0,0,0.00) 3px,\n          rgba(0,0,0,0.00) 6px),\n        radial-gradient(120% 90% at 50% 0%, rgba(34,197,94,0.14) 0%, rgba(34,197,94,0.00) 62%);\n      opacity: 0.75;\n    }\n\n    .start-reading:hover {\n      transform: translateY(-1px);\n      border-color: rgba(34,197,94,0.30);\n      box-shadow:\n        0 18px 42px rgba(0,0,0,0.24),\n        0 10px 18px rgba(0,0,0,0.18),\n        inset 0 1px 0 rgba(255,255,255,0.12),\n        inset 0 -1px 0 rgba(0,0,0,0.55);\n      text-shadow:\n        0 0 12px rgba(34,197,94,0.28),\n        0 0 26px rgba(34,197,94,0.18);\n    }\n\n    .start-reading:active {\n      transform: translateY(0px);\n      box-shadow:\n        0 14px 34px rgba(0,0,0,0.22),\n        0 8px 16px rgba(0,0,0,0.18),\n        inset 0 1px 0 rgba(255,255,255,0.10),\n        inset 0 -1px 0 rgba(0,0,0,0.55);\n    }\n\n    .start-reading:focus-visible {\n      outline: none;\n      box-shadow:\n        0 18px 42px rgba(0,0,0,0.24),\n        0 0 0 4px rgba(34,197,94,0.22),\n        0 0 0 1px rgba(34,197,94,0.26),\n        inset 0 1px 0 rgba(255,255,255,0.12),\n        inset 0 -1px 0 rgba(0,0,0,0.55);\n      border-color: rgba(34,197,94,0.34);\n    }\n\n    @media (prefers-reduced-motion: reduce) {\n      .start-reading {\n        transition: none;\n      }\n      .start-reading:hover {\n        transform: none;\n      }\n    }\n\n    /* =====================\n       CENTER: CONTENT\n    ====================== */\n    .content h1 {\n      font-size: 40px;\n      font-weight: 800;\n      line-height: 1.15;\n      margin: 0;\n    }\n\n    .byline {\n      font-size: 13px;\n      letter-spacing: 0.12em;\n      color: #666;\n      font-weight: 600;\n    }\n\n    .tagline {\n      font-size: 18px;\n      font-weight: 500;\n      color: #333;\n    }\n\n    .paragraph {\n      font-size: 15px;\n      color: #222;\n    }\n\n    .meta {\n      margin-top: 20px;\n      padding-top: 20px;\n      border-top: 1px solid var(--line);\n      display: grid;\n      grid-template-columns: repeat(2, 1fr);\n      gap: 12px 24px;\n      font-size: 13px;\n    }\n\n    .author {\n      margin-top: 20px;\n      padding-top: 20px;\n      border-top: 1px solid var(--line);\n      display: flex;\n      gap: 16px;\n      align-items: flex-start;\n    }\n\n    .author img {\n      width: 44px;\n      height: 44px;\n      border-radius: 50%;\n    }\n\n    /* =====================\n       RIGHT: RELATED\n    ====================== */\n    .related {\n      display: flex;\n      flex-direction: column;\n      gap: 20px;\n    }\n\n    .related-title {\n      font-size: 11px;\n      letter-spacing: 0.14em;\n      color: #666;\n      text-transform: uppercase;\n      font-weight: 600;\n    }\n\n    .related-item {\n      display: flex;\n      flex-direction: column;\n      gap: 6px;\n      cursor: pointer;\n      transition: transform 0.12s ease, box-shadow 0.12s ease;\n    }\n\n    .related-item:hover {\n      transform: translateY(-2px);\n    }\n\n    .related-thumb {\n      border-radius: 6px;\n      overflow: hidden;\n      aspect-ratio: 3 / 4;\n      box-shadow: 0 8px 24px rgba(0,0,0,0.1);\n\n      /* Gray placeholder shape */\n      background: linear-gradient(135deg, #e5e7eb 0%, #d1d5db 45%, #cbd5e1 100%);\n      border: 1px solid rgba(0,0,0,0.06);\n    }\n\n    .related-thumb img {\n      width: 100%;\n      height: 100%;\n      object-fit: cover;\n      filter: grayscale(1);\n      opacity: 0.85;\n      transition: filter 160ms ease, opacity 160ms ease;\n    }\n\n    .related-thumb .thumb-placeholder {\n      width: 100%;\n      height: 100%;\n      display: block;\n    }\n\n    .related-item a {\n      font-size: 12px;\n      font-weight: 600;\n      color: #111;\n    }\n\n    /* =====================\n       RIGHT: 13 CHAPTERS\n    ====================== */\n    .chapters {\n      display: flex;\n      flex-direction: column;\n      gap: 10px;\n    }\n\n    .chapters-title {\n      font-size: 11px;\n      letter-spacing: 0.12em;\n      color: rgba(17,17,17,0.52);\n      text-transform: uppercase;\n      font-weight: 600;\n    }\n\n    .chapters-help {\n      margin-top: -4px;\n      font-size: 11px;\n      line-height: 1.35;\n      color: rgba(17,17,17,0.42);\n    }\n\n    .chapter-list {\n      list-style: none;\n      padding: 0;\n      margin: 0;\n      display: flex;\n      flex-direction: column;\n      gap: 0;\n      border-top: 1px solid rgba(0,0,0,0.06);\n    }\n\n    .chapter-item {\n      display: grid;\n      grid-template-columns: 3ch 1fr;\n      gap: 12px;\n      align-items: start;\n      padding: 10px 0;\n      border-bottom: 1px solid rgba(0,0,0,0.06);\n    }\n\n    .chapter-item--preface .chapter-name {\n      font-weight: 760;\n      letter-spacing: -0.01em;\n      color: rgba(17,17,17,0.90);\n    }\n\n    .chapter-item--current .chapter-name {\n      color: rgba(17,17,17,0.92);\n      text-decoration: underline;\n      text-decoration-thickness: 1px;\n      text-underline-offset: 3px;\n      text-decoration-color: rgba(17,17,17,0.22);\n    }\n\n    .chapter-num {\n      width: auto;\n      height: auto;\n      border-radius: 0;\n      display: block;\n      text-align: right;\n      font-size: 11px;\n      font-weight: 650;\n      color: rgba(17,17,17,0.46);\n      font-variant-numeric: tabular-nums;\n    }\n\n    .chapter-name {\n      font-size: 12px;\n      font-weight: 600;\n      color: rgba(17,17,17,0.80);\n      line-height: 1.3;\n    }\n\n    .chapter-note {\n      margin-top: 2px;\n      font-size: 11px;\n      color: rgba(17,17,17,0.46);\n      line-height: 1.4;\n    }\n\n    /* =====================\n       RESPONSIVE\n    ====================== */\n    @media (max-width: 900px) {\n      .chapter-content {\n        max-width: 100%;\n        padding: 0 24px;\n      }\n\n      .page-widget {\n        max-width: 100%;\n        margin-left: 24px;\n        margin-right: 24px;\n      }\n\n      .chapter-title {\n        font-size: 42px;\n      }\n\n      .chapter-body {\n        font-size: 18px;\n      }\n\n      .chapter-body h2 {\n        font-size: 32px;\n      }\n\n      .chapter-body h3 {\n        font-size: 24px;\n      }\n    }\n\n    @media (max-width: 768px) {\n      .header {\n        flex-direction: column;\n        gap: 12px;\n      }\n\n      .chapter-content {\n        padding: 0 16px;\n      }\n\n      .page-widget {\n        margin-left: 16px;\n        margin-right: 16px;\n      }\n\n      .chapter-title {\n        font-size: 38px;\n      }\n\n      .chapter-body {\n        font-size: 17px;\n      }\n\n      .chapter-body h2 {\n        font-size: 30px;\n      }\n\n      .chapter-body h3 {\n        font-size: 22px;\n      }\n    }\n  </style>\n</head>\n\n<body>\n  <div class=\"page\">\n    <div class=\"container\">\n\n      <!-- SIDEBAR BACKDROP -->\n      <div class=\"sidebar-backdrop\" id=\"sidebarBackdrop\"></div>\n\n      <!-- SIDEBAR -->\n      <aside class=\"sidebar\" id=\"sidebar\">\n        <div class=\"sidebar__title\">Working Fundamentals</div>\n        <ul class=\"sidebar__chapter-list\">\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-introduction\" class=\"sidebar__chapter-link\" target=\"_blank\">Introduction</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-1-of-13-programming-fundamentals\" class=\"sidebar__chapter-link sidebar__chapter-link\" target=\"_blank\">Chapter 1 ¬∑ Programming Fundamentals</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-2-of-13-data-structures\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 2 ¬∑ Data Structures</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-3-of-13-algorithms-and-complexity\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 3 ¬∑ Algorithms & Complexity</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-4-of-13-control-and-flow\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 4 ¬∑ Control & Flow</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-5-of-13-state-and-change\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 5 ¬∑ State & Change</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-6-of-13-design-principles\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 6 ¬∑ Design Principles</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-7-of-13-architecture\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 7 ¬∑ Architecture</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"#\" class=\"sidebar__chapter-link\"> class=\"sidebar__chapter-link sidebar__chapter-link--current\">Chapter 8 ¬∑ Persistence\\ \\&\\ Data\\ Modeling</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-9-of-13-interfaces-and-apis\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 9 ¬∑ Interfaces & APIs</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-10-of-13-errors-and-failure\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 10 ¬∑ Errors & Failure</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-11-of-13-testing\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 11 ¬∑ Testing</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-12-of-13-performance-and-scale\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 12 ¬∑ Performance & Scale</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-13-of-13-the-developers-role\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 13 ¬∑ The Developer''s Role</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-outroduction\" class=\"sidebar__chapter-link\" target=\"_blank\">Outroduction</a>\n          </li>\n        </ul>\n      </aside>\n\n      <!-- HEADER -->\n      <header class=\"header\" id=\"header\">\n        <a href=\"https://arvinjaysoncastro.com/\" class=\"brand\" target=\"_blank\">Arvin Jayson Castro</a>\n        <nav class=\"nav\">\n          <a href=\"https://arvinjaysoncastro.com/hungry-dev-mind\" target=\"_blank\">Books</a>\n          <a href=\"https://arvinjaysoncastro.com/working-systems\" target=\"_blank\">Working Systems</a>\n          <a href=\"https://arvinjaysoncastro.com/about\" target=\"_blank\">16 Years</a>\n          <div class=\"linkedin\">\n            <a href=\"https://www.linkedin.com/in/arvin-jayson-castro-7458199a/\" target=\"_blank\">linkedIn</a>\n            <span>let''s connect</span>\n          </div>\n        </nav>\n      </header>\n\n      <!-- PAGE WIDGET (TOP) - REMOVED -->\n      <div style=\"display: none;\">\n          <ol class=\"page-widget__pages-list\">\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">P</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Preface</div>\n                  <div class=\"page-widget__page-note\">Why fundamentals still decide outcomes.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item page-widget__page-item--current\">\n                <span class=\"page-widget__page-number\">1</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 1</div>\n                  <div class=\"page-widget__page-note\">Core principles and constraints.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">2</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 2</div>\n                  <div class=\"page-widget__page-note\">Boundaries, ownership, and interfaces.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">3</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 3</div>\n                  <div class=\"page-widget__page-note\">State, consistency, and failure modes.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">4</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 4</div>\n                  <div class=\"page-widget__page-note\">Abstractions that survive change.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">5</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 5</div>\n                  <div class=\"page-widget__page-note\">Simplicity as an engineering practice.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">6</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 6</div>\n                  <div class=\"page-widget__page-note\">Reliability, observability, and feedback.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">7</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 7</div>\n                  <div class=\"page-widget__page-note\">Delivery systems and decision hygiene.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">8</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 8</div>\n                  <div class=\"page-widget__page-note\">Documentation that stays useful.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">9</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 9</div>\n                  <div class=\"page-widget__page-note\">Testing strategy for predictable change.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">10</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 10</div>\n                  <div class=\"page-widget__page-note\">Pragmatic architecture for teams.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">11</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 11</div>\n                  <div class=\"page-widget__page-note\">Operational excellence without ceremony.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">12</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 12</div>\n                  <div class=\"page-widget__page-note\">Leadership, standards, and leverage.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">13</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 13</div>\n                  <div class=\"page-widget__page-note\">Making fundamentals non-negotiable.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">PS</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Postscript</div>\n                  <div class=\"page-widget__page-note\">A short operating model to carry forward.</div>\n                </div>\n              </a>\n            </li>\n          </ol>\n        </div>\n      </div>\n\n      <!-- MAIN -->\n      <main class=\"main\" id=\"main\">\n\n        <!-- CHAPTER CONTENT (Option 1: Magazine-style) -->\n        <article class=\"chapter-content\">\n          <header class=\"chapter-header\">\n            <div class=\"book-title\">Working Fundamentals</div>\n            <div class=\"chapter-number\" id=\"chapterIndicator\">\n              <span>chapter 8 of 13</span>\n              <span class=\"chapter-number__icon\" id=\"chapterIndicatorIcon\">‚ñæ</span>\n            </div>\n            <h1 class=\"chapter-title\">Persistence & Data Modeling</h1>\n            <p class=\"chapter-subtitle\">What you choose to remember forever</p>\n          </header>\n\n          <div class=\"chapter-body\">\n            <h3>What this chapter is</h3>\n\n            <p>This chapter is not about databases.It is not about SQL versus NoSQL.It is not about ORMs or query syntax.</p>\n\n            <p>This chapter is about <strong>commitment</strong>.</p>\n\n            <p>Persistence is the moment software stops being temporary.</p>\n\n            <h2>The core truth</h2>\n\n            <p>Code forgets.Data remembers.</p>\n\n            <p>Once data is written, it becomes part of history ‚Äîand history is hard to change.</p>\n\n            <p>üß† <strong>Mental Model</strong>Persistence turns decisions into obligations.</p>\n\n            <h2>Why persistence is different from everything else</h2>\n\n            <p>You can rewrite code.You can refactor logic.You can replace services.</p>\n\n            <p>You cannot easily erase:</p>\n\n            <ul>\n\n            <li>stored records</li>\n\n            </ul>\n\n            <ul>\n\n            <li>past assumptions</li>\n\n            </ul>\n\n            <ul>\n\n            <li>historical mistakes</li>\n\n            </ul>\n\n            <p>Persistence multiplies the cost of being wrong.</p>\n\n            <p>That is why this chapter exists.</p>\n\n            <h2>Data models are statements about reality</h2>\n\n            <p>A data model is not storage.</p>\n\n            <p>It is a <strong>claim</strong> about the world:</p>\n\n            <ul>\n\n            <li>what exists</li>\n\n            </ul>\n\n            <ul>\n\n            <li>what is allowed</li>\n\n            </ul>\n\n            <ul>\n\n            <li>what is optional</li>\n\n            </ul>\n\n            <ul>\n\n            <li>what must be unique</li>\n\n            </ul>\n\n            <ul>\n\n            <li>what can change</li>\n\n            </ul>\n\n            <p>If your model lies, the system lies with it.</p>\n\n            <p>üß† <strong>Architect‚Äôs Note</strong>Most bugs in persistent systems are truth mismatches, not code errors.</p>\n\n            <h2>The danger of modeling too much</h2>\n\n            <p>It is tempting to store everything:</p>\n\n            <ul>\n\n            <li>flags ‚Äújust in case‚Äù</li>\n\n            </ul>\n\n            <ul>\n\n            <li>snapshots ‚Äúfor safety‚Äù</li>\n\n            </ul>\n\n            <ul>\n\n            <li>derived values ‚Äúfor convenience‚Äù</li>\n\n            </ul>\n\n            <p>Every stored field becomes:</p>\n\n            <ul>\n\n            <li>a liability</li>\n\n            </ul>\n\n            <ul>\n\n            <li>a maintenance cost</li>\n\n            </ul>\n\n            <ul>\n\n            <li>a migration risk</li>\n\n            </ul>\n\n            <p>üß† <strong>Perspective</strong>If you are not willing to support a field forever, do not store it.</p>\n\n            <h2>The danger of modeling too little</h2>\n\n            <p>Under-modeling is equally dangerous.</p>\n\n            <p>When the model does not express rules:</p>\n\n            <ul>\n\n            <li>validation moves into code</li>\n\n            </ul>\n\n            <ul>\n\n            <li>invariants scatter</li>\n\n            </ul>\n\n            <ul>\n\n            <li>bugs repeat</li>\n\n            </ul>\n\n            <p>The database becomes permissive.The application becomes defensive.</p>\n\n            <p>‚ö†Ô∏è <strong>Common Drift</strong>Validation logic often exists because the model is silent.</p>\n\n            <h2>Identity, not structure</h2>\n\n            <p>One of the most important modeling questions is:</p>\n\n            <blockquote>_What gives this thing its identity?_</blockquote>\n\n            <p>Identity answers:</p>\n\n            <ul>\n\n            <li>what makes two records the same</li>\n\n            </ul>\n\n            <ul>\n\n            <li>what must never change</li>\n\n            </ul>\n\n            <ul>\n\n            <li>what links history together</li>\n\n            </ul>\n\n            <p>Mistaken identity leads to:</p>\n\n            <ul>\n\n            <li>duplication</li>\n\n            </ul>\n\n            <ul>\n\n            <li>orphaned records</li>\n\n            </ul>\n\n            <ul>\n\n            <li>impossible merges</li>\n\n            </ul>\n\n            <p>üß† <strong>Mental Model</strong>Identity should be stable, boring, and unquestioned.</p>\n\n            <h2>Facts, state, and events</h2>\n\n            <p>Not all stored data is the same.</p>\n\n            <ul>\n\n            <li><strong>Facts</strong> describe what <em>is true</em></li>\n\n            </ul>\n\n            <ul>\n\n            <li><strong>State</strong> describes what <em>is true now</em></li>\n\n            </ul>\n\n            <ul>\n\n            <li><strong>Events</strong> describe what <em>happened</em></li>\n\n            </ul>\n\n            <p>Confusing these leads to:</p>\n\n            <ul>\n\n            <li>overwritten history</li>\n\n            </ul>\n\n            <ul>\n\n            <li>lost meaning</li>\n\n            </ul>\n\n            <ul>\n\n            <li>irrecoverable mistakes</li>\n\n            </ul>\n\n            <p>üß† <strong>Architect‚Äôs Note</strong>You cannot reconstruct events from state reliably.</p>\n\n            <h2>Normalization is about truth, not performance</h2>\n\n            <p>Normalization exists to:</p>\n\n            <ul>\n\n            <li>prevent contradiction</li>\n\n            </ul>\n\n            <ul>\n\n            <li>protect integrity</li>\n\n            </ul>\n\n            <ul>\n\n            <li>preserve meaning</li>\n\n            </ul>\n\n            <p>Denormalization exists to:</p>\n\n            <ul>\n\n            <li>trade truth for speed</li>\n\n            </ul>\n\n            <ul>\n\n            <li>duplicate intentionally</li>\n\n            </ul>\n\n            <ul>\n\n            <li>optimize reads</li>\n\n            </ul>\n\n            <p>Both are valid.</p>\n\n            <p>What matters is knowing <strong>which truth you are trading</strong>.</p>\n\n            <h2>Migrations are architectural events</h2>\n\n            <p>A migration is not a technical task.It is a <strong>public apology</strong> for a past assumption.</p>\n\n            <p>Migrations:</p>\n\n            <ul>\n\n            <li>take time</li>\n\n            </ul>\n\n            <ul>\n\n            <li>require coordination</li>\n\n            </ul>\n\n            <ul>\n\n            <li>risk data loss</li>\n\n            </ul>\n\n            <ul>\n\n            <li>affect trust</li>\n\n            </ul>\n\n            <p>üß† <strong>Perspective</strong>Every migration is a reminder that persistence is permanent.</p>\n\n            <h2>Backward compatibility is mercy</h2>\n\n            <p>Old data will outlive:</p>\n\n            <ul>\n\n            <li>code</li>\n\n            </ul>\n\n            <ul>\n\n            <li>teams</li>\n\n            </ul>\n\n            <ul>\n\n            <li>documentation</li>\n\n            </ul>\n\n            <ul>\n\n            <li>intentions</li>\n\n            </ul>\n\n            <p>Your system must treat old data kindly.</p>\n\n            <p>If old data breaks new code,the design was incomplete.</p>\n\n            <h2>Persistence and failure</h2>\n\n            <p>Failures involving persistence are the most dangerous.</p>\n\n            <p>Questions every persistent operation must answer:</p>\n\n            <ul>\n\n            <li>what happens if this fails halfway?</li>\n\n            </ul>\n\n            <ul>\n\n            <li>what is left written?</li>\n\n            </ul>\n\n            <ul>\n\n            <li>can this be retried safely?</li>\n\n            </ul>\n\n            <ul>\n\n            <li>can it be rolled back?</li>\n\n            </ul>\n\n            <p>Ignoring these creates <strong>corruption</strong>, not just bugs.</p>\n\n            <p>üß† <strong>Architect‚Äôs Note</strong>Partial writes are more dangerous than total failure.</p>\n\n            <h2>Persistence leaks into architecture</h2>\n\n            <p>Once data is stored:</p>\n\n            <ul>\n\n            <li>APIs must respect it</li>\n\n            </ul>\n\n            <ul>\n\n            <li>migrations must honor it</li>\n\n            </ul>\n\n            <ul>\n\n            <li>performance must account for it</li>\n\n            </ul>\n\n            <p>Persistence shapes the entire system.</p>\n\n            <p>This is why data modeling is architecture.</p>\n\n            <h2>Minimal practice (still no code)</h2>\n\n            <p><strong>Problem:</strong>‚ÄúYou store user profiles, preferences, and activity history.‚Äù</p>\n\n            <p>Ask:</p>\n\n            <ul>\n\n            <li>Which parts are facts?</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Which parts are state?</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Which parts are events?</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Which parts must never be changed?</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Which parts can be recomputed?</li>\n\n            </ul>\n\n            <p>If the answers blur, redesign the model.</p>\n\n            <h2>What beginners gain here</h2>\n\n            <ul>\n\n            <li>Respect for data</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Fewer destructive shortcuts</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Awareness of long-term impact</li>\n\n            </ul>\n\n            <h2>What experienced developers recognize</h2>\n\n            <ul>\n\n            <li>Why migrations hurt</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Why legacy data is terrifying</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Why ‚Äúsimple schema changes‚Äù aren‚Äôt simple</li>\n\n            </ul>\n\n            <p>The model carried hidden assumptions.</p>\n\n            <h2>What this chapter deliberately avoids</h2>\n\n            <ul>\n\n            <li>Database engines</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Index tuning</li>\n\n            </ul>\n\n            <ul>\n\n            <li>ORM mechanics</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Query optimization</li>\n\n            </ul>\n\n            <p>Those come after truth.</p>\n\n            <h2>Closing</h2>\n\n            <p>Persistence is memory with consequences.</p>\n\n            <p>Store only what you are willing to defend.Model only what you understand deeply.</p>\n\n            <p>Good data models age gracefully.Bad ones haunt systems forever.</p>\n          </div>\n        </article>\n\n        <!-- RIGHT -->\n\n      </main>\n\n      <!-- CHAPTER NAVIGATION (BOTTOM) -->\n      <nav class=\"chapter-nav-bottom\" id=\"chapterNavBottom\">\n        <a href=\"#\" class=\"chapter-nav-bottom__link chapter-nav-bottom__link--prev\" id=\"prevChapter\">\n          <span class=\"chapter-nav-bottom__arrow\">‚Üê</span>\n          <span class=\"chapter-nav-bottom__label\">Previous</span>\n        </a>\n        <a href=\"#\" class=\"chapter-nav-bottom__link chapter-nav-bottom__link--next\" id=\"nextChapter\">\n          <span class=\"chapter-nav-bottom__label\">Next</span>\n          <span class=\"chapter-nav-bottom__arrow\">‚Üí</span>\n        </a>\n      </nav>\n\n      <!-- PAGE WIDGET (BOTTOM) - REMOVED -->\n      <div style=\"display: none;\">\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">P</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Preface</div>\n                  <div class=\"page-widget__page-note\">Why fundamentals still decide outcomes.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item page-widget__page-item--current\">\n                <span class=\"page-widget__page-number\">1</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 1</div>\n                  <div class=\"page-widget__page-note\">Core principles and constraints.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">2</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 2</div>\n                  <div class=\"page-widget__page-note\">Boundaries, ownership, and interfaces.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">3</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 3</div>\n                  <div class=\"page-widget__page-note\">State, consistency, and failure modes.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">4</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 4</div>\n                  <div class=\"page-widget__page-note\">Abstractions that survive change.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">5</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 5</div>\n                  <div class=\"page-widget__page-note\">Simplicity as an engineering practice.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">6</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 6</div>\n                  <div class=\"page-widget__page-note\">Reliability, observability, and feedback.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">7</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 7</div>\n                  <div class=\"page-widget__page-note\">Delivery systems and decision hygiene.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">8</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 8</div>\n                  <div class=\"page-widget__page-note\">Documentation that stays useful.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">9</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 9</div>\n                  <div class=\"page-widget__page-note\">Testing strategy for predictable change.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">10</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 10</div>\n                  <div class=\"page-widget__page-note\">Pragmatic architecture for teams.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">11</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 11</div>\n                  <div class=\"page-widget__page-note\">Operational excellence without ceremony.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">12</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 12</div>\n                  <div class=\"page-widget__page-note\">Leadership, standards, and leverage.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">13</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 13</div>\n                  <div class=\"page-widget__page-note\">Making fundamentals non-negotiable.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">PS</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Postscript</div>\n                  <div class=\"page-widget__page-note\">A short operating model to carry forward.</div>\n                </div>\n              </a>\n            </li>\n          </ol>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <!-- PAGE WIDGET JS -->\n  <!-- SIDEBAR TOGGLE JS -->\n  <script>\n  (() => {\n    const sidebar = document.getElementById(''sidebar'');\n    const backdrop = document.getElementById(''sidebarBackdrop'');\n    const indicator = document.getElementById(''chapterIndicator'');\n    const icon = document.getElementById(''chapterIndicatorIcon'');\n    const header = document.getElementById(''header'');\n    const main = document.getElementById(''main'');\n    const body = document.body;\n\n    if (!sidebar || !backdrop || !indicator || !icon || !header || !main) return;\n\n    let isOpen = false;\n    let scrollTimeout = null;\n\n    const openSidebar = () => {\n      isOpen = true;\n      sidebar.classList.add(''sidebar--open'');\n      backdrop.classList.add(''sidebar-backdrop--visible'');\n      header.classList.add(''header--shifted'');\n      main.classList.add(''main--shifted'');\n      icon.classList.add(''chapter-number__icon--open'');\n      body.classList.add(''sidebar-open'');\n    };\n\n    const closeSidebar = () => {\n      isOpen = false;\n      sidebar.classList.remove(''sidebar--open'');\n      backdrop.classList.remove(''sidebar-backdrop--visible'');\n      header.classList.remove(''header--shifted'');\n      main.classList.remove(''main--shifted'');\n      icon.classList.remove(''chapter-number__icon--open'');\n      body.classList.remove(''sidebar-open'');\n    };\n\n    // Toggle sidebar\n    indicator.addEventListener(''click'', (e) => {\n      e.stopPropagation();\n      if (isOpen) {\n        closeSidebar();\n      } else {\n        openSidebar();\n      }\n    });\n\n    // Close sidebar when clicking backdrop\n    backdrop.addEventListener(''click'', () => {\n      closeSidebar();\n    });\n\n    // Close sidebar when clicking outside\n    document.addEventListener(''click'', (e) => {\n      // Don''t close sidebar if clicking on brand link or nav links\n      const brandLink = header.querySelector(''.brand'');\n      const isClickOnLink = brandLink && brandLink.contains(e.target);\n      const isClickOnNav = header.querySelector(''.nav'') && header.querySelector(''.nav'').contains(e.target);\n      \n      if (isOpen && !sidebar.contains(e.target) && !indicator.contains(e.target) && !isClickOnLink && !isClickOnNav) {\n        closeSidebar();\n      }\n    });\n\n    // Close sidebar on scroll (debounced)\n    const handleScroll = () => {\n      if (isOpen) {\n        clearTimeout(scrollTimeout);\n        scrollTimeout = setTimeout(() => {\n          closeSidebar();\n        }, 100);\n      }\n    };\n\n    // Listen for scroll on main content\n    window.addEventListener(''scroll'', handleScroll, { passive: true });\n    \n    // Also listen for scroll attempts on body (when scroll is disabled)\n    let lastScrollTop = window.pageYOffset;\n    const handleScrollAttempt = () => {\n      if (isOpen) {\n        const currentScrollTop = window.pageYOffset;\n        if (currentScrollTop !== lastScrollTop) {\n          closeSidebar();\n        }\n        lastScrollTop = currentScrollTop;\n      }\n    };\n\n    // Prevent scroll on body when sidebar is open\n    document.addEventListener(''wheel'', (e) => {\n      if (isOpen && !sidebar.contains(e.target)) {\n        e.preventDefault();\n        closeSidebar();\n      }\n    }, { passive: false });\n\n    // Prevent touch scroll on body when sidebar is open\n    document.addEventListener(''touchmove'', (e) => {\n      if (isOpen && !sidebar.contains(e.target)) {\n        e.preventDefault();\n        closeSidebar();\n      }\n    }, { passive: false });\n  })();\n  </script>\n\n  <!-- CHAPTER NAVIGATION (BOTTOM) JS -->\n  <script>\n  (() => {\n    // Chapter list: Preface = 0, Chapter 1-13 = 1-13, Postscript = 14\n    const chapters = [\n      { id: ''preface'', title: ''Preface'', url: ''https://arvinjaysoncastro.com/working-fundamentals-introduction'' },\n      { id: ''ch1'', title: ''Chapter 1'', url: ''https://arvinjaysoncastro.com/working-fundamentals-1-of-13-programming-fundamentals'' },\n      { id: ''ch2'', title: ''Chapter 2'', url: ''https://arvinjaysoncastro.com/working-fundamentals-2-of-13-data-structures'' },\n      { id: ''ch3'', title: ''Chapter 3'', url: ''https://arvinjaysoncastro.com/working-fundamentals-3-of-13-algorithms-and-complexity'' },\n      { id: ''ch4'', title: ''Chapter 4'', url: ''https://arvinjaysoncastro.com/working-fundamentals-4-of-13-control-and-flow'' },\n      { id: ''ch5'', title: ''Chapter 5'', url: ''https://arvinjaysoncastro.com/working-fundamentals-5-of-13-state-and-change'' },\n      { id: ''ch6'', title: ''Chapter 6'', url: ''https://arvinjaysoncastro.com/working-fundamentals-6-of-13-design-principles'' },\n      { id: ''ch7'', title: ''Chapter 7'', url: ''https://arvinjaysoncastro.com/working-fundamentals-7-of-13-architecture'' },\n      { id: ''ch8'', title: ''Chapter 8'', url: ''https://arvinjaysoncastro.com/working-fundamentals-8-of-13-persistence-and-data-modeling'' },\n      { id: ''ch9'', title: ''Chapter 9'', url: ''https://arvinjaysoncastro.com/working-fundamentals-9-of-13-interfaces-and-apis'' },\n      { id: ''ch10'', title: ''Chapter 10'', url: ''https://arvinjaysoncastro.com/working-fundamentals-10-of-13-errors-and-failure'' },\n      { id: ''ch11'', title: ''Chapter 11'', url: ''https://arvinjaysoncastro.com/working-fundamentals-11-of-13-testing'' },\n      { id: ''ch12'', title: ''Chapter 12'', url: ''https://arvinjaysoncastro.com/working-fundamentals-12-of-13-performance-and-scale'' },\n      { id: ''ch13'', title: ''Chapter 13'', url: ''https://arvinjaysoncastro.com/working-fundamentals-13-of-13-the-developers-role'' },\n      { id: ''postscript'', title: ''Postscript'', url: ''https://arvinjaysoncastro.com/working-fundamentals-outroduction'' }\n    ];\n\n    const currentChapterIndex = 8; // Chapter 1 is index 1 (Preface is 0)\n    const prevLink = document.getElementById(''prevChapter'');\n    const nextLink = document.getElementById(''nextChapter'');\n\n    if (!prevLink || !nextLink) return;\n\n    // Previous chapter\n    if (currentChapterIndex > 0) {\n      const prevChapter = chapters[currentChapterIndex - 1];\n      prevLink.href = prevChapter.url;\n      prevLink.target = ''_blank'';\n      prevLink.innerHTML = `\n        <span class=\"chapter-nav-bottom__arrow\">‚Üê</span>\n        <span class=\"chapter-nav-bottom__label\">Previous: ${prevChapter.title}</span>\n      `;\n    } else {\n      // No previous chapter - show \"go back to book list\"\n      prevLink.href = ''https://arvinjaysoncastro.com/hungry-dev-mind'';\n      prevLink.target = ''_blank'';\n      prevLink.innerHTML = `\n        <span class=\"chapter-nav-bottom__arrow\">‚Üê</span>\n        <span class=\"chapter-nav-bottom__label\">Go back to book list</span>\n      `;\n    }\n\n    // Next chapter\n    if (currentChapterIndex < chapters.length - 1) {\n      const nextChapter = chapters[currentChapterIndex + 1];\n      nextLink.href = nextChapter.url;\n      nextLink.target = ''_blank'';\n      nextLink.innerHTML = `\n        <span class=\"chapter-nav-bottom__label\">Next: ${nextChapter.title}</span>\n        <span class=\"chapter-nav-bottom__arrow\">‚Üí</span>\n      `;\n    } else {\n      // No next chapter - show \"go back to book list\"\n      nextLink.href = ''https://arvinjaysoncastro.com/hungry-dev-mind'';\n      nextLink.target = ''_blank'';\n      nextLink.innerHTML = `\n        <span class=\"chapter-nav-bottom__label\">Go back to book list</span>\n        <span class=\"chapter-nav-bottom__arrow\">‚Üí</span>\n      `;\n    }\n  })();\n  </script>\n\n  <!-- OPTIONAL JS -->\n <script>\n(() => {\n  const wrap = document.querySelector(''.book-wrap'');\n  if (!wrap) return;\n\n  const slab1 = wrap.querySelector(''.shadow-slab'');\n  const slab2 = wrap.querySelector(''.shadow-slab-2'');\n  const slab3 = wrap.querySelector(''.shadow-slab-3'');\n  const slab4 = wrap.querySelector(''.shadow-slab-4'');\n  const front = wrap.querySelector(''.front-slab'');\n\n  const clamp = (v, min, max) => Math.max(min, Math.min(max, v));\n\n  let raf = 0;\n  let lx = 0; // light vector x\n  let ly = 0; // light vector y\n\n  function render() {\n    raf = 0;\n\n    // Shadow direction = opposite of light\n    const sx = -lx;\n    const sy = -ly;\n\n    const intensity = Math.abs(lx) + Math.abs(ly);\n\n    /* ---------------------------\n       SLAB 1 ‚Äî KEY CAST SHADOW\n    ---------------------------- */\n    slab1.style.transform =\n      `translate(${(sx * 38).toFixed(2)}px, ${(sy * 38).toFixed(2)}px)`;\n    slab1.style.filter =\n      `blur(${(14 + intensity * 6).toFixed(2)}px)`;\n    slab1.style.opacity =\n      (0.28 + intensity * 0.14).toFixed(2);\n\n    /* ---------------------------\n       SLAB 2 ‚Äî BOUNCE / COLOR BLEED\n    ---------------------------- */\n    slab2.style.transform =\n      `translate(${(sx * 14).toFixed(2)}px, ${(sy * 14).toFixed(2)}px)`;\n    slab2.style.filter =\n      `blur(${(6 + intensity * 4).toFixed(2)}px)`;\n    slab2.style.opacity =\n      (0.16 + intensity * 0.10).toFixed(2);\n\n    /* ---------------------------\n       SLAB 3 ‚Äî CONTACT SHADOW\n    ---------------------------- */\n    slab3.style.transform =\n      `translate(${(sx * 6).toFixed(2)}px, ${(sy * 6).toFixed(2)}px)`;\n    slab3.style.filter = `blur(9px)`;\n    slab3.style.opacity =\n      (0.24 + Math.abs(lx) * 0.06).toFixed(2);\n\n    /* ---------------------------\n       SLAB 4 ‚Äî AMBIENT DEPTH\n    ---------------------------- */\n    slab4.style.transform =\n      `translate(${(sx * 3).toFixed(2)}px, ${(sy * 3).toFixed(2)}px)`;\n    slab4.style.filter = `blur(18px)`;\n    slab4.style.opacity =\n      (0.16 + Math.abs(ly) * 0.04).toFixed(2);\n\n    /* ---------------------------\n       FRONT SLAB ‚Äî SPECULAR RESPONSE\n       (moves TOWARD light)\n    ---------------------------- */\nif (front) {\n  // Very subtle counter-parallax (NOT toward light)\n  front.style.transform =\n    `translate(${(-lx * 1.6).toFixed(2)}px, ${(-ly * 1.6).toFixed(2)}px)`;\n\n  // Opacity increases when light is grazing\n  front.style.opacity =\n    (0.34 + intensity * 0.22).toFixed(2);\n\n  // Highlight shifts OPPOSITE the light direction\n  const gx = 50 - lx * 28;\n  const gy = 50 - ly * 28;\n  front.style.backgroundPosition = `${gx}% ${gy}%`;\n}\n\n  }\n\n  function onMove(e) {\n    const r = wrap.getBoundingClientRect();\n    const cx = r.left + r.width / 2;\n    const cy = r.top + r.height / 2;\n\n    // LIGHT VECTOR (mouse = light source)\n    lx = clamp((e.clientX - cx) / (r.width / 2), -1, 1);\n    ly = clamp((e.clientY - cy) / (r.height / 2), -1, 1);\n\n    if (!raf) raf = requestAnimationFrame(render);\n  }\n\n  window.addEventListener(''mousemove'', onMove, { passive: true });\n})();\n</script>\n</body>\n</html>\n", "css": "body { font-family: system-ui; padding: 20px; }", "js": "console.log(\"Code Runner initialized\");", "imports": {"css": [], "js": []}, "entryPoint": {"type": "htmlDocument", "mountSelector": "#app", "injectMountIfMissing": true}, "settings": {"mode": "play", "viewport": {"type": "responsive", "background": "white"}, "securityPreset": "trusted", "autoRun": true, "runOnLoad": true}, "codePanel": {"isVisible": false, "isEditable": false}}}]}]}',
    NULL,
    1,
    NOW()
);


-- 9. Interfaces & APIs
-- Slug: working-fundamentals-9-of-13-interfaces-and-apis
-- ID: 3bceee8b-bb1c-4b63-a7de-45ec17a99135
-- File: ch_09.html
INSERT INTO App_Pages (
    id, org_id, name, slug, template_code, layout, layout_version, is_active,
    created_by_user_id, created_at, updated_at, visibility, description,
    is_template, template_metadata, kind, parent_id, section_tags, section_purpose,
    section_scope, palette_id, is_default_variation, variation_order, template_purpose,
    is_listed, is_org_landing_page, report, folder, layout_raw, layout_quarantine,
    layout_schema_version, layout_ingested_at
) VALUES (
    '3bceee8b-bb1c-4b63-a7de-45ec17a99135',
    '82c2d096-2638-4837-83c8-e8a933bb17c7',
    'Interfaces & APIs',
    'working-fundamentals-9-of-13-interfaces-and-apis',
    NULL,
    '{"id": "block-root", "style": {}, "type": "container", "children": [{"id": "temp-container", "style": {"width": "100vw", "height": "100vh"}, "type": "container", "children": [{"id": "temp-coderunner", "style": {}, "type": "codeRunner", "data": {"html": "<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n  <meta charset=\"UTF-8\" />\n  <title>Working Fundamentals ‚Äî Arvin Jayson Castro</title>\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n\n  <!-- =====================\n       GLOBAL STYLES\n  ====================== -->\n  <style>\n    :root {\n      --bg: #f7f8f8;\n      --ink: #111111;\n      --muted: #666666;\n      --line: rgba(0,0,0,0.08);\n      --accent: #16a34a;\n      --link: #3b82f6;\n      --max-width: 1200px;\n    }\n\n    * {\n      box-sizing: border-box;\n    }\n\n    body {\n      margin: 0;\n      font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, sans-serif;\n      color: var(--ink);\n      background-color: var(--bg);\n      background-image:\n        radial-gradient(980px 560px at 14% 18%, rgba(16,185,129,0.10) 0%, rgba(16,185,129,0) 60%),\n        radial-gradient(860px 540px at 86% 74%, rgba(245,158,11,0.10) 0%, rgba(245,158,11,0) 62%),\n        repeating-linear-gradient(0deg, rgba(0,0,0,0.043) 0, rgba(0,0,0,0.043) 1px, transparent 1px, transparent 46px),\n        repeating-linear-gradient(90deg, rgba(0,0,0,0.043) 0, rgba(0,0,0,0.043) 1px, transparent 1px, transparent 46px);\n      min-height: 100vh;\n    }\n\n    a {\n      color: inherit;\n      text-decoration: none;\n    }\n\n    img {\n      max-width: 100%;\n      display: block;\n    }\n\n    /* =====================\n       PAGE WRAPPER\n    ====================== */\n    .page {\n      padding: 22px 24px;\n    }\n\n    .container {\n      max-width: var(--max-width);\n      margin: 0 auto;\n    }\n\n    /* =====================\n       SIDEBAR BACKDROP\n    ====================== */\n    .sidebar-backdrop {\n      position: fixed;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n      background: rgba(0, 0, 0, 0.2);\n      backdrop-filter: blur(4px);\n      -webkit-backdrop-filter: blur(4px);\n      opacity: 0;\n      visibility: hidden;\n      transition: opacity 0.3s ease, visibility 0.3s ease;\n      z-index: 999;\n      pointer-events: none;\n    }\n\n    .sidebar-backdrop--visible {\n      opacity: 1;\n      visibility: visible;\n      pointer-events: auto;\n    }\n\n    /* =====================\n       SIDEBAR\n    ====================== */\n    .sidebar {\n      position: fixed;\n      top: 0;\n      right: 0;\n      width: 320px;\n      height: 100vh;\n      background: var(--bg);\n      border-left: 1px solid var(--line);\n      transform: translateX(100%);\n      transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n      z-index: 1000;\n      overflow-y: auto;\n      padding: 24px;\n    }\n\n    .sidebar--open {\n      transform: translateX(0);\n    }\n\n    .sidebar__title {\n      font-size: 16px;\n      font-weight: 600;\n      margin-bottom: 24px;\n      color: var(--ink);\n    }\n\n    /* Prevent body scroll when sidebar is open */\n    body.sidebar-open {\n      overflow: hidden;\n    }\n\n    .sidebar__chapter-list {\n      list-style: none;\n      margin: 0;\n      padding: 0;\n    }\n\n    .sidebar__chapter-item {\n      margin: 0 0 8px 0;\n    }\n\n    .sidebar__chapter-link {\n      display: block;\n      font-size: 14px;\n      color: var(--muted);\n      text-decoration: none;\n      padding: 8px 0;\n      transition: color 0.2s ease;\n      line-height: 1.5;\n    }\n\n    .sidebar__chapter-link:hover {\n      color: var(--ink);\n    }\n\n    .sidebar__chapter-link {\n      color: var(--ink);\n      font-weight: 500;\n    }\n\n    /* =====================\n       HEADER (Top bar with chapter indicator)\n    ====================== */\n    .header {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      padding: 10px 0;\n      border-bottom: 1px solid var(--line);\n      position: relative;\n      transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n    }\n\n    .header--shifted {\n      transform: translateX(-320px);\n    }\n\n    .brand {\n      font-size: 16px;\n      font-weight: 600;\n      cursor: pointer;\n      display: inline-block;\n    }\n\n    .nav {\n      display: flex;\n      gap: 24px;\n      align-items: center;\n      font-size: 14px;\n    }\n\n    .nav a {\n      color: #1f2937;\n    }\n\n    .linkedin {\n      display: flex;\n      flex-direction: column;\n      align-items: flex-start;\n    }\n\n    .linkedin a {\n      color: var(--link);\n    }\n\n    .linkedin span {\n      font-family: Georgia, serif;\n      font-size: 9px;\n      font-style: italic;\n      color: #999;\n    }\n\n    /* =====================\n       MAIN GRID\n    ====================== */\n    .main {\n      padding-top: 48px;\n      padding-bottom: 48px;\n      display: flex;\n      justify-content: center;\n      align-items: start;\n    }\n\n    /* =====================\n       CHAPTER READING AREA (Option 1: Magazine-style)\n    ====================== */\n    .chapter-content {\n      max-width: 768px;\n      width: 100%;\n      margin: 0 auto;\n    }\n\n    .chapter-header {\n      margin-bottom: 56px;\n      padding-bottom: 32px;\n      border-bottom: 2px solid var(--line);\n    }\n\n    .book-title {\n      font-size: 12px;\n      letter-spacing: 0.15em;\n      text-transform: uppercase;\n      color: var(--muted);\n      font-weight: 500;\n      margin-bottom: 8px;\n      opacity: 0.7;\n    }\n\n    .chapter-number {\n      font-size: 13px;\n      letter-spacing: 0.2em;\n      text-transform: uppercase;\n      color: var(--muted);\n      font-weight: 600;\n      margin-bottom: 12px;\n      display: flex;\n      align-items: center;\n      gap: 8px;\n      cursor: pointer;\n      user-select: none;\n      transition: color 0.2s ease;\n    }\n\n    .chapter-number:hover {\n      color: var(--ink);\n    }\n\n    .chapter-number__icon {\n      font-size: 10px;\n      opacity: 0.6;\n      transition: transform 0.3s ease, opacity 0.2s ease;\n    }\n\n    .chapter-number:hover .chapter-number__icon {\n      opacity: 0.8;\n    }\n\n    .chapter-number__icon--open {\n      transform: rotate(180deg);\n    }\n\n    .chapter-title {\n      font-size: 56px;\n      font-weight: 900;\n      line-height: 1.05;\n      margin: 0 0 20px 0;\n      color: var(--ink);\n      letter-spacing: -0.03em;\n    }\n\n    .chapter-subtitle {\n      font-size: 22px;\n      font-weight: 500;\n      color: var(--muted);\n      line-height: 1.4;\n      margin: 0;\n    }\n\n    .chapter-body {\n      font-size: 19px;\n      line-height: 1.8;\n      color: var(--ink);\n      max-width: none;\n      font-weight: 400;\n    }\n\n    .chapter-body p {\n      margin: 0 0 28px 0;\n    }\n\n    .chapter-body p:last-child {\n      margin-bottom: 0;\n    }\n\n    .chapter-body h2 {\n      font-size: 36px;\n      font-weight: 800;\n      line-height: 1.2;\n      margin: 56px 0 24px 0;\n      color: var(--ink);\n      letter-spacing: -0.02em;\n    }\n\n    .chapter-body h3 {\n      font-size: 26px;\n      font-weight: 700;\n      line-height: 1.3;\n      margin: 40px 0 18px 0;\n      color: var(--ink);\n      letter-spacing: -0.01em;\n    }\n\n    .chapter-body strong {\n      font-weight: 600;\n      color: var(--ink);\n    }\n\n    .chapter-body em {\n      font-style: italic;\n    }\n\n    .chapter-body ul,\n    .chapter-body ol {\n      margin: 28px 0;\n      padding-left: 36px;\n    }\n\n    .chapter-body li {\n      margin-bottom: 14px;\n      line-height: 1.75;\n    }\n\n    .chapter-body blockquote {\n      margin: 40px 0;\n      padding-left: 28px;\n      border-left: 4px solid var(--accent);\n      font-style: italic;\n      color: var(--muted);\n      font-size: 18px;\n      line-height: 1.7;\n    }\n\n    .chapter-body code {\n      font-family: ''Monaco'', ''Menlo'', ''Courier New'', monospace;\n      font-size: 0.9em;\n      background: rgba(0,0,0,0.04);\n      padding: 2px 6px;\n      border-radius: 3px;\n    }\n\n    .chapter-body pre {\n      background: rgba(0,0,0,0.04);\n      padding: 20px;\n      border-radius: 8px;\n      overflow-x: auto;\n      margin: 24px 0;\n    }\n\n    .chapter-body pre code {\n      background: none;\n      padding: 0;\n    }\n\n    /* Content shift when sidebar opens */\n    .main {\n      transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n    }\n\n    .main--shifted {\n      transform: translateX(-320px);\n    }\n\n    /* Prevent horizontal scroll */\n    body {\n      overflow-x: hidden;\n    }\n\n    .page {\n      overflow-x: hidden;\n    }\n\n    /* =====================\n       CHAPTER NAVIGATION (BOTTOM)\n    ====================== */\n    .chapter-nav-bottom {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      max-width: 768px;\n      width: 100%;\n      margin: 64px auto 0 auto;\n      padding: 24px 0;\n      border-top: 1px solid var(--line);\n    }\n\n    .chapter-nav-bottom__link {\n      display: flex;\n      align-items: center;\n      gap: 8px;\n      font-size: 14px;\n      color: var(--muted);\n      text-decoration: none;\n      transition: color 0.2s ease;\n      padding: 8px 0;\n    }\n\n    .chapter-nav-bottom__link:hover {\n      color: var(--ink);\n    }\n\n    .chapter-nav-bottom__arrow {\n      font-size: 16px;\n      opacity: 0.7;\n    }\n\n    .chapter-nav-bottom__label {\n      font-weight: 500;\n    }\n\n    .chapter-nav-bottom__link--prev {\n      margin-right: auto;\n    }\n\n    .chapter-nav-bottom__link--next {\n      margin-left: auto;\n    }\n\n    .chapter-nav-bottom__link--disabled {\n      opacity: 0.4;\n      cursor: not-allowed;\n      pointer-events: none;\n    }\n\n    .page-widget__pages {\n      max-height: 0;\n      overflow: hidden;\n      transition: max-height 0.4s cubic-bezier(0.4, 0, 0.2, 1),\n                  opacity 0.3s ease,\n                  margin-top 0.3s ease;\n      opacity: 0;\n      margin-top: 0;\n      background: rgba(255, 255, 255, 0.98);\n      backdrop-filter: blur(12px);\n      -webkit-backdrop-filter: blur(12px);\n      border: 1px solid rgba(0, 0, 0, 0.06);\n      border-radius: 12px;\n      box-shadow: 0 2px 12px rgba(0, 0, 0, 0.06);\n    }\n\n    .page-widget__pages--expanded {\n      max-height: 500px;\n      opacity: 1;\n      margin-top: 12px;\n      padding: 8px;\n    }\n\n    .page-widget__pages-list {\n      list-style: none;\n      margin: 0;\n      padding: 0;\n      display: flex;\n      flex-direction: column;\n      gap: 8px;\n      max-height: 400px;\n      overflow-y: auto;\n      padding-right: 4px;\n    }\n\n    .page-widget__pages-list::-webkit-scrollbar {\n      width: 6px;\n    }\n\n    .page-widget__pages-list::-webkit-scrollbar-track {\n      background: rgba(0, 0, 0, 0.02);\n      border-radius: 3px;\n    }\n\n    .page-widget__pages-list::-webkit-scrollbar-thumb {\n      background: rgba(0, 0, 0, 0.12);\n      border-radius: 3px;\n    }\n\n    .page-widget__pages-list::-webkit-scrollbar-thumb:hover {\n      background: rgba(0, 0, 0, 0.2);\n    }\n\n    .page-widget__page-item {\n      display: flex;\n      align-items: center;\n      gap: 10px;\n      padding: 8px 10px;\n      border-radius: 8px;\n      cursor: pointer;\n      transition: all 0.2s ease;\n      text-decoration: none;\n      color: var(--ink);\n    }\n\n    .page-widget__page-item:hover {\n      background: rgba(0, 0, 0, 0.03);\n      transform: translateX(2px);\n    }\n\n    .page-widget__page-item--current {\n      background: rgba(22, 163, 74, 0.08);\n      color: var(--accent);\n      font-weight: 500;\n    }\n\n    .page-widget__page-item--current:hover {\n      background: rgba(22, 163, 74, 0.12);\n    }\n\n    .page-widget__page-number {\n      display: inline-flex;\n      align-items: center;\n      justify-content: center;\n      width: 24px;\n      height: 24px;\n      background: rgba(0, 0, 0, 0.04);\n      border-radius: 5px;\n      font-size: 11px;\n      font-weight: 500;\n      flex-shrink: 0;\n      color: var(--muted);\n    }\n\n    .page-widget__page-item--current .page-widget__page-number {\n      background: rgba(22, 163, 74, 0.15);\n      color: var(--accent);\n    }\n\n    .page-widget__page-info {\n      flex: 1;\n      min-width: 0;\n    }\n\n    .page-widget__page-name {\n      font-size: 13px;\n      font-weight: 500;\n      line-height: 1.3;\n      margin: 0 0 2px 0;\n    }\n\n    .page-widget__page-note {\n      font-size: 11px;\n      color: var(--muted);\n      line-height: 1.3;\n      margin: 0;\n      white-space: nowrap;\n      overflow: hidden;\n      text-overflow: ellipsis;\n    }\n\n    @media (max-width: 768px) {\n      .page-widget__pages-list {\n        max-height: 300px;\n      }\n    }\n\n\n/* ===============================\n   WRAPPER\n================================ */\n.book-wrap {\n  width: 320px;\n  aspect-ratio: 2 / 3;\n  position: relative;\n}\n\n/* ===============================\n   CAST SHADOW SLAB (REAL SHADOW)\n================================ */\n.shadow-slab {\n    position: absolute;\n    position: absolute;\n    inset: 0;\n    border-radius: 22px;\n    /* background: #2a2a2a; */\n    transform: translate(-30px, 30px);\n    filter: blur(13px);\n    opacity: 0.35;\n    z-index: 0;\n    background: radial-gradient(ellipse at 15% 85%, rgba(0, 0, 0, 0.35), rgba(0, 0, 0, 0.18) 35%, transparent 65%), linear-gradient(to right, #1f1f1f 0%, #2a2a2a 45%, #3a3a3a 100%);\n}\n\n.shadow-slab-2 {\n    position: absolute;\n    inset: 0;\n    border-radius: 22px;\n    background: radial-gradient(circle at top right, #f6e6a8 0%, #e2c36b 35%, #b58a3c 70%, #7a5524 100%);\n    transform: translate(-10px, 10px);\n    filter: blur(5px);\n    opacity: 0.35;\n    z-index: 0;\n}\n\n.shadow-slab-3 {\n    position: absolute;\n    inset: 0;\n    border-radius: 22px;\n    background: #333;\n    transform: translate(0px, 0px);\n    filter: blur(11px);\n    opacity: 0.35;\n    z-index: 0;\n}\n\n.shadow-slab-4 {\n    position: absolute;\n    inset: 0;\n    border-radius: 22px;\n    background: #333;\n    transform: translate(0px, 0px);\n    filter: blur(11px);\n    opacity: 0.35;\n    z-index: 0;\n}\n\n/* ===============================\n   FRONT SLAB & SPIN HANDLE\n================================ */\n\n.front-slab {\n    position: absolute;\n    inset: 0;\n    border-radius: 22px;\n    background: linear-gradient(to right, rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.1) 3%, transparent 1%);\n    /* background: green; */\n    z-index: 3;\n    opacity: .5;\n    transform: translateZ(6px);\n    pointer-events: none;\n}\n\n.spin-handle {\n  display: none;\n  position: absolute;\n  top: 50%;\n  right: -22px;\n  width: 14px;\n  height: 48px;\n  border-radius: 999px;\n  background: rgba(0,0,0,0.25);\n  backdrop-filter: blur(4px);\n  cursor: grab;\n  z-index: 10;\n}\n\n/* ===============================\n   BOOK OBJECT (NO SHADOW)\n================================ */\n.book {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  border-radius: 22px;\n  overflow: hidden;\n  z-index: 2;\n\n  /* IMPORTANT: no box-shadow */\n  box-shadow: none;\n\n  /* transform: perspective(1200px) rotateX(0.6deg); */\n}\n\n/* ===============================\n   PAPER SURFACE (LIGHT FIELD)\n================================ */\n.book .surface {\n  position: absolute;\n  inset: 0;\n  border-radius: inherit;\n  pointer-events: none;\n  z-index: 1;\n\n  background:\n    linear-gradient(\n      to bottom left,\n      rgba(255,255,255,1) 0%,\n      rgba(250,250,250,1) 42%,\n      rgba(240,240,240,1) 100%\n    ),\n    repeating-linear-gradient(\n      0deg,\n      rgba(0,0,0,0.01),\n      rgba(0,0,0,0.01) 1px,\n      transparent 1px,\n      transparent 3px\n    );\n}\n\n/* ===============================\n   LEFT OCCLUSION (CURTAIN)\n================================ */\n.book .curtain {\n  position: absolute;\n  inset: 0;\n  border-radius: inherit;\n  pointer-events: none;\n  z-index: 2;\n\n  background:\n    linear-gradient(\n      to right,\n      rgba(0,0,0,0.20) 0%,\n      rgba(0,0,0,0.12) 8%,\n      rgba(0,0,0,0.05) 16%,\n      rgba(0,0,0,0.02) 22%,\n      rgba(0,0,0,0.00) 30%\n    );\n}\n\n/* ===============================\n   RIGHT HIGHLIGHT\n================================ */\n.book .highlight {\n  position: absolute;\n  inset: 0;\n  border-radius: inherit;\n  pointer-events: none;\n  z-index: 3;\n\n  background:\n    linear-gradient(\n      to left,\n      rgba(255,255,255,0.35) 0%,\n      rgba(255,255,255,0.18) 6%,\n      rgba(255,255,255,0.06) 14%,\n      rgba(255,255,255,0.00) 24%\n    );\n}\n\n/* ===============================\n   PAGE EDGE (THICKNESS)\n================================ */\n.book .edge {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 120px;\n  height: 100%;\n  border-radius: 22px 0 0 22px;\n  pointer-events: none;\n  z-index: 4;\n\n  background:\n    linear-gradient(\n      to right,\n      rgba(215,215,215,0.95) 0%,\n      rgba(245,245,245,0.95) 40%,\n      rgba(255,255,255,0.95) 75%\n    );\n\n  box-shadow:\n    inset -1px 0 0 rgba(0,0,0,0.05);\n}\n\n/* ===============================\n   SVG (PURE WHITE)\n================================ */\n.book svg {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  display: block;\n  z-index: 5;\n}\n\n    /* =====================\n       LEFT: BOOK COVER\n    ====================== */\n    .book-cover {\n      display: flex;\n      flex-direction: column;\n      gap: 12px;\n    }\n\n\n    /* ===============================\n       BOOK + SHADOW SYSTEM\n    =============================== */\n    .book-wrap {\n      width: 320px;\n      aspect-ratio: 2 / 3;\n      position: relative;\n    }\n\n    .shadow-slab,\n    .shadow-slab-2,\n    .shadow-slab-3,\n    .shadow-slab-4 {\n      position: absolute;\n      inset: 0;\n      border-radius: 22px;\n      z-index: 0;\n      will-change: transform, filter, opacity;\n    }\n\n    .shadow-slab {\n      background:\n        radial-gradient(ellipse at 15% 85%, rgba(0,0,0,0.35), rgba(0,0,0,0.18) 35%, transparent 65%),\n        linear-gradient(to right, #1f1f1f 0%, #2a2a2a 45%, #3a3a3a 100%);\n      filter: blur(13px);\n      opacity: 0.35;\n    }\n\n    .shadow-slab-2 {\n      background: radial-gradient(circle at top right, #f6e6a8 0%, #e2c36b 35%, #b58a3c 70%, #7a5524 100%);\n      filter: blur(6px);\n      opacity: 0.30;\n    }\n\n    .shadow-slab-3,\n    .shadow-slab-4 {\n      background: #333;\n      filter: blur(11px);\n      opacity: 0.30;\n    }\n\n    .book {\n      position: relative;\n      width: 100%;\n      height: 100%;\n      border-radius: 22px;\n      overflow: hidden;\n      z-index: 2;\n      background: #f7f4ee;\n    }\n\n    .front-slab {\n      position: absolute;\n      inset: 0;\n      border-radius: 22px;\n      background: linear-gradient(to right, rgba(0,0,0,0.4), rgba(0,0,0,0.1) 3%, transparent 10%);\n      z-index: 3;\n      pointer-events: none;\n      opacity: 0.5;\n    }\n\n\n    @media (prefers-reduced-motion: reduce) {\n      .cover-frame {\n        transition: none;\n        transform: none;\n      }\n      .cover-frame:hover {\n        --lift: 0;\n      }\n    }\n\n    .start-reading {\n      display: inline-flex;\n      align-items: center;\n      justify-content: center;\n      width: 100%;\n      padding: 12px 14px;\n      border-radius: 999px;\n\n      font-size: 11px;\n      letter-spacing: 0.16em;\n      text-transform: uppercase;\n      font-weight: 650;\n      color: rgba(34,197,94,0.92);\n      text-shadow:\n        0 0 10px rgba(34,197,94,0.22),\n        0 0 22px rgba(34,197,94,0.14);\n\n      /* graphite: dark + slightly mineral */\n      background:\n        radial-gradient(120% 140% at 20% 10%, rgba(255,255,255,0.10) 0%, rgba(255,255,255,0.00) 55%),\n        radial-gradient(140% 140% at 80% 90%, rgba(255,255,255,0.06) 0%, rgba(255,255,255,0.00) 60%),\n        linear-gradient(180deg, #141414 0%, #0a0a0a 100%);\n      border: 1px solid rgba(255,255,255,0.10);\n      box-shadow:\n        0 14px 34px rgba(0,0,0,0.22),\n        0 8px 16px rgba(0,0,0,0.18),\n        inset 0 1px 0 rgba(255,255,255,0.10),\n        inset 0 -1px 0 rgba(0,0,0,0.55);\n\n      position: relative;\n      overflow: hidden;\n      cursor: pointer;\n      user-select: none;\n      -webkit-tap-highlight-color: transparent;\n\n      transition:\n        transform 160ms cubic-bezier(0.2, 0.8, 0.2, 1),\n        box-shadow 160ms cubic-bezier(0.2, 0.8, 0.2, 1),\n        border-color 160ms cubic-bezier(0.2, 0.8, 0.2, 1);\n    }\n\n    .start-reading::before {\n      content: \"\";\n      position: absolute;\n      inset: 0;\n      pointer-events: none;\n      /* texture + sheen (very subtle) */\n      background:\n        linear-gradient(120deg, rgba(255,255,255,0.12) 0%, rgba(255,255,255,0.00) 46%),\n        repeating-linear-gradient(0deg,\n          rgba(255,255,255,0.028) 0px,\n          rgba(255,255,255,0.028) 1px,\n          rgba(0,0,0,0.00) 3px,\n          rgba(0,0,0,0.00) 6px),\n        radial-gradient(120% 90% at 50% 0%, rgba(34,197,94,0.14) 0%, rgba(34,197,94,0.00) 62%);\n      opacity: 0.75;\n    }\n\n    .start-reading:hover {\n      transform: translateY(-1px);\n      border-color: rgba(34,197,94,0.30);\n      box-shadow:\n        0 18px 42px rgba(0,0,0,0.24),\n        0 10px 18px rgba(0,0,0,0.18),\n        inset 0 1px 0 rgba(255,255,255,0.12),\n        inset 0 -1px 0 rgba(0,0,0,0.55);\n      text-shadow:\n        0 0 12px rgba(34,197,94,0.28),\n        0 0 26px rgba(34,197,94,0.18);\n    }\n\n    .start-reading:active {\n      transform: translateY(0px);\n      box-shadow:\n        0 14px 34px rgba(0,0,0,0.22),\n        0 8px 16px rgba(0,0,0,0.18),\n        inset 0 1px 0 rgba(255,255,255,0.10),\n        inset 0 -1px 0 rgba(0,0,0,0.55);\n    }\n\n    .start-reading:focus-visible {\n      outline: none;\n      box-shadow:\n        0 18px 42px rgba(0,0,0,0.24),\n        0 0 0 4px rgba(34,197,94,0.22),\n        0 0 0 1px rgba(34,197,94,0.26),\n        inset 0 1px 0 rgba(255,255,255,0.12),\n        inset 0 -1px 0 rgba(0,0,0,0.55);\n      border-color: rgba(34,197,94,0.34);\n    }\n\n    @media (prefers-reduced-motion: reduce) {\n      .start-reading {\n        transition: none;\n      }\n      .start-reading:hover {\n        transform: none;\n      }\n    }\n\n    /* =====================\n       CENTER: CONTENT\n    ====================== */\n    .content h1 {\n      font-size: 40px;\n      font-weight: 800;\n      line-height: 1.15;\n      margin: 0;\n    }\n\n    .byline {\n      font-size: 13px;\n      letter-spacing: 0.12em;\n      color: #666;\n      font-weight: 600;\n    }\n\n    .tagline {\n      font-size: 18px;\n      font-weight: 500;\n      color: #333;\n    }\n\n    .paragraph {\n      font-size: 15px;\n      color: #222;\n    }\n\n    .meta {\n      margin-top: 20px;\n      padding-top: 20px;\n      border-top: 1px solid var(--line);\n      display: grid;\n      grid-template-columns: repeat(2, 1fr);\n      gap: 12px 24px;\n      font-size: 13px;\n    }\n\n    .author {\n      margin-top: 20px;\n      padding-top: 20px;\n      border-top: 1px solid var(--line);\n      display: flex;\n      gap: 16px;\n      align-items: flex-start;\n    }\n\n    .author img {\n      width: 44px;\n      height: 44px;\n      border-radius: 50%;\n    }\n\n    /* =====================\n       RIGHT: RELATED\n    ====================== */\n    .related {\n      display: flex;\n      flex-direction: column;\n      gap: 20px;\n    }\n\n    .related-title {\n      font-size: 11px;\n      letter-spacing: 0.14em;\n      color: #666;\n      text-transform: uppercase;\n      font-weight: 600;\n    }\n\n    .related-item {\n      display: flex;\n      flex-direction: column;\n      gap: 6px;\n      cursor: pointer;\n      transition: transform 0.12s ease, box-shadow 0.12s ease;\n    }\n\n    .related-item:hover {\n      transform: translateY(-2px);\n    }\n\n    .related-thumb {\n      border-radius: 6px;\n      overflow: hidden;\n      aspect-ratio: 3 / 4;\n      box-shadow: 0 8px 24px rgba(0,0,0,0.1);\n\n      /* Gray placeholder shape */\n      background: linear-gradient(135deg, #e5e7eb 0%, #d1d5db 45%, #cbd5e1 100%);\n      border: 1px solid rgba(0,0,0,0.06);\n    }\n\n    .related-thumb img {\n      width: 100%;\n      height: 100%;\n      object-fit: cover;\n      filter: grayscale(1);\n      opacity: 0.85;\n      transition: filter 160ms ease, opacity 160ms ease;\n    }\n\n    .related-thumb .thumb-placeholder {\n      width: 100%;\n      height: 100%;\n      display: block;\n    }\n\n    .related-item a {\n      font-size: 12px;\n      font-weight: 600;\n      color: #111;\n    }\n\n    /* =====================\n       RIGHT: 13 CHAPTERS\n    ====================== */\n    .chapters {\n      display: flex;\n      flex-direction: column;\n      gap: 10px;\n    }\n\n    .chapters-title {\n      font-size: 11px;\n      letter-spacing: 0.12em;\n      color: rgba(17,17,17,0.52);\n      text-transform: uppercase;\n      font-weight: 600;\n    }\n\n    .chapters-help {\n      margin-top: -4px;\n      font-size: 11px;\n      line-height: 1.35;\n      color: rgba(17,17,17,0.42);\n    }\n\n    .chapter-list {\n      list-style: none;\n      padding: 0;\n      margin: 0;\n      display: flex;\n      flex-direction: column;\n      gap: 0;\n      border-top: 1px solid rgba(0,0,0,0.06);\n    }\n\n    .chapter-item {\n      display: grid;\n      grid-template-columns: 3ch 1fr;\n      gap: 12px;\n      align-items: start;\n      padding: 10px 0;\n      border-bottom: 1px solid rgba(0,0,0,0.06);\n    }\n\n    .chapter-item--preface .chapter-name {\n      font-weight: 760;\n      letter-spacing: -0.01em;\n      color: rgba(17,17,17,0.90);\n    }\n\n    .chapter-item--current .chapter-name {\n      color: rgba(17,17,17,0.92);\n      text-decoration: underline;\n      text-decoration-thickness: 1px;\n      text-underline-offset: 3px;\n      text-decoration-color: rgba(17,17,17,0.22);\n    }\n\n    .chapter-num {\n      width: auto;\n      height: auto;\n      border-radius: 0;\n      display: block;\n      text-align: right;\n      font-size: 11px;\n      font-weight: 650;\n      color: rgba(17,17,17,0.46);\n      font-variant-numeric: tabular-nums;\n    }\n\n    .chapter-name {\n      font-size: 12px;\n      font-weight: 600;\n      color: rgba(17,17,17,0.80);\n      line-height: 1.3;\n    }\n\n    .chapter-note {\n      margin-top: 2px;\n      font-size: 11px;\n      color: rgba(17,17,17,0.46);\n      line-height: 1.4;\n    }\n\n    /* =====================\n       RESPONSIVE\n    ====================== */\n    @media (max-width: 900px) {\n      .chapter-content {\n        max-width: 100%;\n        padding: 0 24px;\n      }\n\n      .page-widget {\n        max-width: 100%;\n        margin-left: 24px;\n        margin-right: 24px;\n      }\n\n      .chapter-title {\n        font-size: 42px;\n      }\n\n      .chapter-body {\n        font-size: 18px;\n      }\n\n      .chapter-body h2 {\n        font-size: 32px;\n      }\n\n      .chapter-body h3 {\n        font-size: 24px;\n      }\n    }\n\n    @media (max-width: 768px) {\n      .header {\n        flex-direction: column;\n        gap: 12px;\n      }\n\n      .chapter-content {\n        padding: 0 16px;\n      }\n\n      .page-widget {\n        margin-left: 16px;\n        margin-right: 16px;\n      }\n\n      .chapter-title {\n        font-size: 38px;\n      }\n\n      .chapter-body {\n        font-size: 17px;\n      }\n\n      .chapter-body h2 {\n        font-size: 30px;\n      }\n\n      .chapter-body h3 {\n        font-size: 22px;\n      }\n    }\n  </style>\n</head>\n\n<body>\n  <div class=\"page\">\n    <div class=\"container\">\n\n      <!-- SIDEBAR BACKDROP -->\n      <div class=\"sidebar-backdrop\" id=\"sidebarBackdrop\"></div>\n\n      <!-- SIDEBAR -->\n      <aside class=\"sidebar\" id=\"sidebar\">\n        <div class=\"sidebar__title\">Working Fundamentals</div>\n        <ul class=\"sidebar__chapter-list\">\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-introduction\" class=\"sidebar__chapter-link\" target=\"_blank\">Introduction</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-1-of-13-programming-fundamentals\" class=\"sidebar__chapter-link sidebar__chapter-link\" target=\"_blank\">Chapter 1 ¬∑ Programming Fundamentals</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-2-of-13-data-structures\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 2 ¬∑ Data Structures</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-3-of-13-algorithms-and-complexity\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 3 ¬∑ Algorithms & Complexity</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-4-of-13-control-and-flow\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 4 ¬∑ Control & Flow</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-5-of-13-state-and-change\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 5 ¬∑ State & Change</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-6-of-13-design-principles\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 6 ¬∑ Design Principles</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-7-of-13-architecture\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 7 ¬∑ Architecture</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-8-of-13-persistence-and-data-modeling\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 8 ¬∑ Persistence & Data Modeling</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"#\" class=\"sidebar__chapter-link\"> class=\"sidebar__chapter-link sidebar__chapter-link--current\">Chapter 9 ¬∑ Interfaces\\ \\&\\ APIs</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-10-of-13-errors-and-failure\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 10 ¬∑ Errors & Failure</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-11-of-13-testing\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 11 ¬∑ Testing</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-12-of-13-performance-and-scale\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 12 ¬∑ Performance & Scale</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-13-of-13-the-developers-role\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 13 ¬∑ The Developer''s Role</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-outroduction\" class=\"sidebar__chapter-link\" target=\"_blank\">Outroduction</a>\n          </li>\n        </ul>\n      </aside>\n\n      <!-- HEADER -->\n      <header class=\"header\" id=\"header\">\n        <a href=\"https://arvinjaysoncastro.com/\" class=\"brand\" target=\"_blank\">Arvin Jayson Castro</a>\n        <nav class=\"nav\">\n          <a href=\"https://arvinjaysoncastro.com/hungry-dev-mind\" target=\"_blank\">Books</a>\n          <a href=\"https://arvinjaysoncastro.com/working-systems\" target=\"_blank\">Working Systems</a>\n          <a href=\"https://arvinjaysoncastro.com/about\" target=\"_blank\">16 Years</a>\n          <div class=\"linkedin\">\n            <a href=\"https://www.linkedin.com/in/arvin-jayson-castro-7458199a/\" target=\"_blank\">linkedIn</a>\n            <span>let''s connect</span>\n          </div>\n        </nav>\n      </header>\n\n      <!-- PAGE WIDGET (TOP) - REMOVED -->\n      <div style=\"display: none;\">\n          <ol class=\"page-widget__pages-list\">\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">P</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Preface</div>\n                  <div class=\"page-widget__page-note\">Why fundamentals still decide outcomes.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item page-widget__page-item--current\">\n                <span class=\"page-widget__page-number\">1</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 1</div>\n                  <div class=\"page-widget__page-note\">Core principles and constraints.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">2</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 2</div>\n                  <div class=\"page-widget__page-note\">Boundaries, ownership, and interfaces.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">3</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 3</div>\n                  <div class=\"page-widget__page-note\">State, consistency, and failure modes.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">4</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 4</div>\n                  <div class=\"page-widget__page-note\">Abstractions that survive change.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">5</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 5</div>\n                  <div class=\"page-widget__page-note\">Simplicity as an engineering practice.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">6</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 6</div>\n                  <div class=\"page-widget__page-note\">Reliability, observability, and feedback.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">7</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 7</div>\n                  <div class=\"page-widget__page-note\">Delivery systems and decision hygiene.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">8</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 8</div>\n                  <div class=\"page-widget__page-note\">Documentation that stays useful.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">9</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 9</div>\n                  <div class=\"page-widget__page-note\">Testing strategy for predictable change.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">10</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 10</div>\n                  <div class=\"page-widget__page-note\">Pragmatic architecture for teams.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">11</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 11</div>\n                  <div class=\"page-widget__page-note\">Operational excellence without ceremony.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">12</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 12</div>\n                  <div class=\"page-widget__page-note\">Leadership, standards, and leverage.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">13</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 13</div>\n                  <div class=\"page-widget__page-note\">Making fundamentals non-negotiable.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">PS</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Postscript</div>\n                  <div class=\"page-widget__page-note\">A short operating model to carry forward.</div>\n                </div>\n              </a>\n            </li>\n          </ol>\n        </div>\n      </div>\n\n      <!-- MAIN -->\n      <main class=\"main\" id=\"main\">\n\n        <!-- CHAPTER CONTENT (Option 1: Magazine-style) -->\n        <article class=\"chapter-content\">\n          <header class=\"chapter-header\">\n            <div class=\"book-title\">Working Fundamentals</div>\n            <div class=\"chapter-number\" id=\"chapterIndicator\">\n              <span>chapter 9 of 13</span>\n              <span class=\"chapter-number__icon\" id=\"chapterIndicatorIcon\">‚ñæ</span>\n            </div>\n            <h1 class=\"chapter-title\">Interfaces & APIs</h1>\n            <p class=\"chapter-subtitle\">Promises you cannot easily take back</p>\n          </header>\n\n          <div class=\"chapter-body\">\n            <h3>What this chapter is</h3>\n\n            <p>This chapter is not about REST.It is not about GraphQL.It is not about HTTP verbs, schemas, or tooling.</p>\n\n            <p>This chapter is about <strong>commitment</strong>.</p>\n\n            <p>An interface is the moment a system stops being private.</p>\n\n            <h2>The core truth</h2>\n\n            <p>An interface is a <strong>promise about behavior</strong>.</p>\n\n            <p>Once exposed, it will be:</p>\n\n            <ul>\n\n            <li>depended on</li>\n\n            </ul>\n\n            <ul>\n\n            <li>worked around</li>\n\n            </ul>\n\n            <ul>\n\n            <li>relied upon in unintended ways</li>\n\n            </ul>\n\n            <p>You can change implementation freely.You cannot change promises cheaply.</p>\n\n            <p>üß† <strong>Mental Model</strong>APIs outlive the intent of their creators.</p>\n\n            <h2>Interfaces exist to protect both sides</h2>\n\n            <p>A good interface protects:</p>\n\n            <ul>\n\n            <li>consumers from internal churn</li>\n\n            </ul>\n\n            <ul>\n\n            <li>providers from consumer misuse</li>\n\n            </ul>\n\n            <p>A bad interface:</p>\n\n            <ul>\n\n            <li>leaks internals</li>\n\n            </ul>\n\n            <ul>\n\n            <li>invites coupling</li>\n\n            </ul>\n\n            <ul>\n\n            <li>creates dependency traps</li>\n\n            </ul>\n\n            <p>üß† <strong>Architect‚Äôs Note</strong>An interface should make the <em>right thing easy</em> and the <em>wrong thing hard</em>.</p>\n\n            <h2>Stability beats expressiveness</h2>\n\n            <p>The temptation is to expose everything.</p>\n\n            <p>Expressive APIs feel powerful early.They feel dangerous later.</p>\n\n            <p>Stable APIs:</p>\n\n            <ul>\n\n            <li>do less</li>\n\n            </ul>\n\n            <ul>\n\n            <li>change rarely</li>\n\n            </ul>\n\n            <ul>\n\n            <li>force discipline</li>\n\n            </ul>\n\n            <p>üß† <strong>Perspective</strong>An API that rarely changes is more valuable than one that can do everything.</p>\n\n            <h2>Shape matters more than technology</h2>\n\n            <p>Whether an interface is:</p>\n\n            <ul>\n\n            <li>a function</li>\n\n            </ul>\n\n            <ul>\n\n            <li>a module</li>\n\n            </ul>\n\n            <ul>\n\n            <li>a service</li>\n\n            </ul>\n\n            <ul>\n\n            <li>a message</li>\n\n            </ul>\n\n            <p>‚Ä¶the same rules apply.</p>\n\n            <p>Good interfaces:</p>\n\n            <ul>\n\n            <li>have clear inputs</li>\n\n            </ul>\n\n            <ul>\n\n            <li>have clear outputs</li>\n\n            </ul>\n\n            <ul>\n\n            <li>have clear failure modes</li>\n\n            </ul>\n\n            <ul>\n\n            <li>hide internal decisions</li>\n\n            </ul>\n\n            <p>Technology is incidental.Shape is essential.</p>\n\n            <h2>Leaky abstractions hurt twice</h2>\n\n            <p>When an interface leaks internal details:</p>\n\n            <ul>\n\n            <li>consumers depend on them</li>\n\n            </ul>\n\n            <ul>\n\n            <li>providers become trapped by them</li>\n\n            </ul>\n\n            <p>This creates:</p>\n\n            <ul>\n\n            <li>fragile integrations</li>\n\n            </ul>\n\n            <ul>\n\n            <li>coordination overhead</li>\n\n            </ul>\n\n            <ul>\n\n            <li>fear of change</li>\n\n            </ul>\n\n            <p>üß† <strong>Mental Model</strong>If consumers know how it works, you‚Äôve already lost freedom.</p>\n\n            <h2>Versioning is a cost, not a solution</h2>\n\n            <p>Versioning feels like safety.</p>\n\n            <p>In reality, it:</p>\n\n            <ul>\n\n            <li>multiplies surface area</li>\n\n            </ul>\n\n            <ul>\n\n            <li>splits attention</li>\n\n            </ul>\n\n            <ul>\n\n            <li>prolongs bad decisions</li>\n\n            </ul>\n\n            <p>Versioning should be:</p>\n\n            <ul>\n\n            <li>rare</li>\n\n            </ul>\n\n            <ul>\n\n            <li>deliberate</li>\n\n            </ul>\n\n            <ul>\n\n            <li>accompanied by deprecation</li>\n\n            </ul>\n\n            <p>üß† <strong>Architect‚Äôs Note</strong>The best versioning strategy is needing it as little as possible.</p>\n\n            <h2>Error behavior is part of the interface</h2>\n\n            <p>An interface is incomplete without:</p>\n\n            <ul>\n\n            <li>defined failure modes</li>\n\n            </ul>\n\n            <ul>\n\n            <li>consistent error signaling</li>\n\n            </ul>\n\n            <ul>\n\n            <li>clear recovery expectations</li>\n\n            </ul>\n\n            <p>Silence is not stability.Ambiguity is not flexibility.</p>\n\n            <p>üß† <strong>Perspective</strong>Consumers will build logic around how you fail.</p>\n\n            <h2>Interfaces create political boundaries</h2>\n\n            <p>APIs exist between:</p>\n\n            <ul>\n\n            <li>teams</li>\n\n            </ul>\n\n            <ul>\n\n            <li>organizations</li>\n\n            </ul>\n\n            <ul>\n\n            <li>vendors</li>\n\n            </ul>\n\n            <ul>\n\n            <li>timeframes</li>\n\n            </ul>\n\n            <p>They are social contracts as much as technical ones.</p>\n\n            <p>Breaking an interface:</p>\n\n            <ul>\n\n            <li>costs trust</li>\n\n            </ul>\n\n            <ul>\n\n            <li>costs coordination</li>\n\n            </ul>\n\n            <ul>\n\n            <li>costs velocity</li>\n\n            </ul>\n\n            <p>üß† <strong>Mental Model</strong>Technical breakage becomes organizational friction.</p>\n\n            <h2>Narrow interfaces scale better</h2>\n\n            <p>Wide interfaces invite misuse.Narrow interfaces constrain behavior.</p>\n\n            <p>A narrow interface:</p>\n\n            <ul>\n\n            <li>limits dependency</li>\n\n            </ul>\n\n            <ul>\n\n            <li>clarifies intent</li>\n\n            </ul>\n\n            <ul>\n\n            <li>reduces coupling</li>\n\n            </ul>\n\n            <p>üß† <strong>Architect‚Äôs Note</strong>You can always add later. Removing is painful.</p>\n\n            <h2>Documentation is not decoration</h2>\n\n            <p>Documentation explains:</p>\n\n            <ul>\n\n            <li>what is promised</li>\n\n            </ul>\n\n            <ul>\n\n            <li>what is not</li>\n\n            </ul>\n\n            <ul>\n\n            <li>what must not be assumed</li>\n\n            </ul>\n\n            <p>Undocumented behavior becomes folklore.Folklore becomes dependency.</p>\n\n            <h2>Interfaces and time</h2>\n\n            <p>Interfaces must survive:</p>\n\n            <ul>\n\n            <li>new features</li>\n\n            </ul>\n\n            <ul>\n\n            <li>new teams</li>\n\n            </ul>\n\n            <ul>\n\n            <li>new requirements</li>\n\n            </ul>\n\n            <ul>\n\n            <li>new scale</li>\n\n            </ul>\n\n            <p>If an interface requires constant explanation,it is already failing.</p>\n\n            <h2>Minimal practice (still no code)</h2>\n\n            <p><strong>Problem:</strong>‚ÄúYou expose a service that creates and updates user data.‚Äù</p>\n\n            <p>Ask:</p>\n\n            <ul>\n\n            <li>What must always be true?</li>\n\n            </ul>\n\n            <ul>\n\n            <li>What must never be allowed?</li>\n\n            </ul>\n\n            <ul>\n\n            <li>What errors are expected?</li>\n\n            </ul>\n\n            <ul>\n\n            <li>What assumptions should consumers <em>not</em> make?</li>\n\n            </ul>\n\n            <p>If the answers are fuzzy, the interface is unsafe.</p>\n\n            <h2>What beginners gain here</h2>\n\n            <ul>\n\n            <li>Respect for contracts</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Less accidental coupling</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Cleaner boundaries</li>\n\n            </ul>\n\n            <h2>What experienced developers recognize</h2>\n\n            <ul>\n\n            <li>Why integrations rot</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Why changes are risky</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Why APIs feel constraining over time</li>\n\n            </ul>\n\n            <p>Promises were made too freely.</p>\n\n            <h2>What this chapter deliberately avoids</h2>\n\n            <ul>\n\n            <li>Protocol debates</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Tool comparisons</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Framework opinions</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Implementation mechanics</li>\n\n            </ul>\n\n            <p>Those are downstream.</p>\n\n            <h2>Closing</h2>\n\n            <p>Interfaces are promises that bind the future.</p>\n\n            <p>Make them:</p>\n\n            <ul>\n\n            <li>small</li>\n\n            </ul>\n\n            <ul>\n\n            <li>boring</li>\n\n            </ul>\n\n            <ul>\n\n            <li>stable</li>\n\n            </ul>\n\n            <ul>\n\n            <li>explicit</li>\n\n            </ul>\n\n            <p>A system with good interfaces can evolve calmly.A system with bad ones lives in negotiation.</p>\n          </div>\n        </article>\n\n        <!-- RIGHT -->\n\n      </main>\n\n      <!-- CHAPTER NAVIGATION (BOTTOM) -->\n      <nav class=\"chapter-nav-bottom\" id=\"chapterNavBottom\">\n        <a href=\"#\" class=\"chapter-nav-bottom__link chapter-nav-bottom__link--prev\" id=\"prevChapter\">\n          <span class=\"chapter-nav-bottom__arrow\">‚Üê</span>\n          <span class=\"chapter-nav-bottom__label\">Previous</span>\n        </a>\n        <a href=\"#\" class=\"chapter-nav-bottom__link chapter-nav-bottom__link--next\" id=\"nextChapter\">\n          <span class=\"chapter-nav-bottom__label\">Next</span>\n          <span class=\"chapter-nav-bottom__arrow\">‚Üí</span>\n        </a>\n      </nav>\n\n      <!-- PAGE WIDGET (BOTTOM) - REMOVED -->\n      <div style=\"display: none;\">\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">P</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Preface</div>\n                  <div class=\"page-widget__page-note\">Why fundamentals still decide outcomes.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item page-widget__page-item--current\">\n                <span class=\"page-widget__page-number\">1</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 1</div>\n                  <div class=\"page-widget__page-note\">Core principles and constraints.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">2</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 2</div>\n                  <div class=\"page-widget__page-note\">Boundaries, ownership, and interfaces.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">3</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 3</div>\n                  <div class=\"page-widget__page-note\">State, consistency, and failure modes.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">4</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 4</div>\n                  <div class=\"page-widget__page-note\">Abstractions that survive change.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">5</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 5</div>\n                  <div class=\"page-widget__page-note\">Simplicity as an engineering practice.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">6</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 6</div>\n                  <div class=\"page-widget__page-note\">Reliability, observability, and feedback.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">7</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 7</div>\n                  <div class=\"page-widget__page-note\">Delivery systems and decision hygiene.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">8</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 8</div>\n                  <div class=\"page-widget__page-note\">Documentation that stays useful.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">9</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 9</div>\n                  <div class=\"page-widget__page-note\">Testing strategy for predictable change.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">10</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 10</div>\n                  <div class=\"page-widget__page-note\">Pragmatic architecture for teams.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">11</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 11</div>\n                  <div class=\"page-widget__page-note\">Operational excellence without ceremony.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">12</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 12</div>\n                  <div class=\"page-widget__page-note\">Leadership, standards, and leverage.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">13</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 13</div>\n                  <div class=\"page-widget__page-note\">Making fundamentals non-negotiable.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">PS</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Postscript</div>\n                  <div class=\"page-widget__page-note\">A short operating model to carry forward.</div>\n                </div>\n              </a>\n            </li>\n          </ol>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <!-- PAGE WIDGET JS -->\n  <!-- SIDEBAR TOGGLE JS -->\n  <script>\n  (() => {\n    const sidebar = document.getElementById(''sidebar'');\n    const backdrop = document.getElementById(''sidebarBackdrop'');\n    const indicator = document.getElementById(''chapterIndicator'');\n    const icon = document.getElementById(''chapterIndicatorIcon'');\n    const header = document.getElementById(''header'');\n    const main = document.getElementById(''main'');\n    const body = document.body;\n\n    if (!sidebar || !backdrop || !indicator || !icon || !header || !main) return;\n\n    let isOpen = false;\n    let scrollTimeout = null;\n\n    const openSidebar = () => {\n      isOpen = true;\n      sidebar.classList.add(''sidebar--open'');\n      backdrop.classList.add(''sidebar-backdrop--visible'');\n      header.classList.add(''header--shifted'');\n      main.classList.add(''main--shifted'');\n      icon.classList.add(''chapter-number__icon--open'');\n      body.classList.add(''sidebar-open'');\n    };\n\n    const closeSidebar = () => {\n      isOpen = false;\n      sidebar.classList.remove(''sidebar--open'');\n      backdrop.classList.remove(''sidebar-backdrop--visible'');\n      header.classList.remove(''header--shifted'');\n      main.classList.remove(''main--shifted'');\n      icon.classList.remove(''chapter-number__icon--open'');\n      body.classList.remove(''sidebar-open'');\n    };\n\n    // Toggle sidebar\n    indicator.addEventListener(''click'', (e) => {\n      e.stopPropagation();\n      if (isOpen) {\n        closeSidebar();\n      } else {\n        openSidebar();\n      }\n    });\n\n    // Close sidebar when clicking backdrop\n    backdrop.addEventListener(''click'', () => {\n      closeSidebar();\n    });\n\n    // Close sidebar when clicking outside\n    document.addEventListener(''click'', (e) => {\n      // Don''t close sidebar if clicking on brand link or nav links\n      const brandLink = header.querySelector(''.brand'');\n      const isClickOnLink = brandLink && brandLink.contains(e.target);\n      const isClickOnNav = header.querySelector(''.nav'') && header.querySelector(''.nav'').contains(e.target);\n      \n      if (isOpen && !sidebar.contains(e.target) && !indicator.contains(e.target) && !isClickOnLink && !isClickOnNav) {\n        closeSidebar();\n      }\n    });\n\n    // Close sidebar on scroll (debounced)\n    const handleScroll = () => {\n      if (isOpen) {\n        clearTimeout(scrollTimeout);\n        scrollTimeout = setTimeout(() => {\n          closeSidebar();\n        }, 100);\n      }\n    };\n\n    // Listen for scroll on main content\n    window.addEventListener(''scroll'', handleScroll, { passive: true });\n    \n    // Also listen for scroll attempts on body (when scroll is disabled)\n    let lastScrollTop = window.pageYOffset;\n    const handleScrollAttempt = () => {\n      if (isOpen) {\n        const currentScrollTop = window.pageYOffset;\n        if (currentScrollTop !== lastScrollTop) {\n          closeSidebar();\n        }\n        lastScrollTop = currentScrollTop;\n      }\n    };\n\n    // Prevent scroll on body when sidebar is open\n    document.addEventListener(''wheel'', (e) => {\n      if (isOpen && !sidebar.contains(e.target)) {\n        e.preventDefault();\n        closeSidebar();\n      }\n    }, { passive: false });\n\n    // Prevent touch scroll on body when sidebar is open\n    document.addEventListener(''touchmove'', (e) => {\n      if (isOpen && !sidebar.contains(e.target)) {\n        e.preventDefault();\n        closeSidebar();\n      }\n    }, { passive: false });\n  })();\n  </script>\n\n  <!-- CHAPTER NAVIGATION (BOTTOM) JS -->\n  <script>\n  (() => {\n    // Chapter list: Preface = 0, Chapter 1-13 = 1-13, Postscript = 14\n    const chapters = [\n      { id: ''preface'', title: ''Preface'', url: ''https://arvinjaysoncastro.com/working-fundamentals-introduction'' },\n      { id: ''ch1'', title: ''Chapter 1'', url: ''https://arvinjaysoncastro.com/working-fundamentals-1-of-13-programming-fundamentals'' },\n      { id: ''ch2'', title: ''Chapter 2'', url: ''https://arvinjaysoncastro.com/working-fundamentals-2-of-13-data-structures'' },\n      { id: ''ch3'', title: ''Chapter 3'', url: ''https://arvinjaysoncastro.com/working-fundamentals-3-of-13-algorithms-and-complexity'' },\n      { id: ''ch4'', title: ''Chapter 4'', url: ''https://arvinjaysoncastro.com/working-fundamentals-4-of-13-control-and-flow'' },\n      { id: ''ch5'', title: ''Chapter 5'', url: ''https://arvinjaysoncastro.com/working-fundamentals-5-of-13-state-and-change'' },\n      { id: ''ch6'', title: ''Chapter 6'', url: ''https://arvinjaysoncastro.com/working-fundamentals-6-of-13-design-principles'' },\n      { id: ''ch7'', title: ''Chapter 7'', url: ''https://arvinjaysoncastro.com/working-fundamentals-7-of-13-architecture'' },\n      { id: ''ch8'', title: ''Chapter 8'', url: ''https://arvinjaysoncastro.com/working-fundamentals-8-of-13-persistence-and-data-modeling'' },\n      { id: ''ch9'', title: ''Chapter 9'', url: ''https://arvinjaysoncastro.com/working-fundamentals-9-of-13-interfaces-and-apis'' },\n      { id: ''ch10'', title: ''Chapter 10'', url: ''https://arvinjaysoncastro.com/working-fundamentals-10-of-13-errors-and-failure'' },\n      { id: ''ch11'', title: ''Chapter 11'', url: ''https://arvinjaysoncastro.com/working-fundamentals-11-of-13-testing'' },\n      { id: ''ch12'', title: ''Chapter 12'', url: ''https://arvinjaysoncastro.com/working-fundamentals-12-of-13-performance-and-scale'' },\n      { id: ''ch13'', title: ''Chapter 13'', url: ''https://arvinjaysoncastro.com/working-fundamentals-13-of-13-the-developers-role'' },\n      { id: ''postscript'', title: ''Postscript'', url: ''https://arvinjaysoncastro.com/working-fundamentals-outroduction'' }\n    ];\n\n    const currentChapterIndex = 9; // Chapter 1 is index 1 (Preface is 0)\n    const prevLink = document.getElementById(''prevChapter'');\n    const nextLink = document.getElementById(''nextChapter'');\n\n    if (!prevLink || !nextLink) return;\n\n    // Previous chapter\n    if (currentChapterIndex > 0) {\n      const prevChapter = chapters[currentChapterIndex - 1];\n      prevLink.href = prevChapter.url;\n      prevLink.target = ''_blank'';\n      prevLink.innerHTML = `\n        <span class=\"chapter-nav-bottom__arrow\">‚Üê</span>\n        <span class=\"chapter-nav-bottom__label\">Previous: ${prevChapter.title}</span>\n      `;\n    } else {\n      // No previous chapter - show \"go back to book list\"\n      prevLink.href = ''https://arvinjaysoncastro.com/hungry-dev-mind'';\n      prevLink.target = ''_blank'';\n      prevLink.innerHTML = `\n        <span class=\"chapter-nav-bottom__arrow\">‚Üê</span>\n        <span class=\"chapter-nav-bottom__label\">Go back to book list</span>\n      `;\n    }\n\n    // Next chapter\n    if (currentChapterIndex < chapters.length - 1) {\n      const nextChapter = chapters[currentChapterIndex + 1];\n      nextLink.href = nextChapter.url;\n      nextLink.target = ''_blank'';\n      nextLink.innerHTML = `\n        <span class=\"chapter-nav-bottom__label\">Next: ${nextChapter.title}</span>\n        <span class=\"chapter-nav-bottom__arrow\">‚Üí</span>\n      `;\n    } else {\n      // No next chapter - show \"go back to book list\"\n      nextLink.href = ''https://arvinjaysoncastro.com/hungry-dev-mind'';\n      nextLink.target = ''_blank'';\n      nextLink.innerHTML = `\n        <span class=\"chapter-nav-bottom__label\">Go back to book list</span>\n        <span class=\"chapter-nav-bottom__arrow\">‚Üí</span>\n      `;\n    }\n  })();\n  </script>\n\n  <!-- OPTIONAL JS -->\n <script>\n(() => {\n  const wrap = document.querySelector(''.book-wrap'');\n  if (!wrap) return;\n\n  const slab1 = wrap.querySelector(''.shadow-slab'');\n  const slab2 = wrap.querySelector(''.shadow-slab-2'');\n  const slab3 = wrap.querySelector(''.shadow-slab-3'');\n  const slab4 = wrap.querySelector(''.shadow-slab-4'');\n  const front = wrap.querySelector(''.front-slab'');\n\n  const clamp = (v, min, max) => Math.max(min, Math.min(max, v));\n\n  let raf = 0;\n  let lx = 0; // light vector x\n  let ly = 0; // light vector y\n\n  function render() {\n    raf = 0;\n\n    // Shadow direction = opposite of light\n    const sx = -lx;\n    const sy = -ly;\n\n    const intensity = Math.abs(lx) + Math.abs(ly);\n\n    /* ---------------------------\n       SLAB 1 ‚Äî KEY CAST SHADOW\n    ---------------------------- */\n    slab1.style.transform =\n      `translate(${(sx * 38).toFixed(2)}px, ${(sy * 38).toFixed(2)}px)`;\n    slab1.style.filter =\n      `blur(${(14 + intensity * 6).toFixed(2)}px)`;\n    slab1.style.opacity =\n      (0.28 + intensity * 0.14).toFixed(2);\n\n    /* ---------------------------\n       SLAB 2 ‚Äî BOUNCE / COLOR BLEED\n    ---------------------------- */\n    slab2.style.transform =\n      `translate(${(sx * 14).toFixed(2)}px, ${(sy * 14).toFixed(2)}px)`;\n    slab2.style.filter =\n      `blur(${(6 + intensity * 4).toFixed(2)}px)`;\n    slab2.style.opacity =\n      (0.16 + intensity * 0.10).toFixed(2);\n\n    /* ---------------------------\n       SLAB 3 ‚Äî CONTACT SHADOW\n    ---------------------------- */\n    slab3.style.transform =\n      `translate(${(sx * 6).toFixed(2)}px, ${(sy * 6).toFixed(2)}px)`;\n    slab3.style.filter = `blur(9px)`;\n    slab3.style.opacity =\n      (0.24 + Math.abs(lx) * 0.06).toFixed(2);\n\n    /* ---------------------------\n       SLAB 4 ‚Äî AMBIENT DEPTH\n    ---------------------------- */\n    slab4.style.transform =\n      `translate(${(sx * 3).toFixed(2)}px, ${(sy * 3).toFixed(2)}px)`;\n    slab4.style.filter = `blur(18px)`;\n    slab4.style.opacity =\n      (0.16 + Math.abs(ly) * 0.04).toFixed(2);\n\n    /* ---------------------------\n       FRONT SLAB ‚Äî SPECULAR RESPONSE\n       (moves TOWARD light)\n    ---------------------------- */\nif (front) {\n  // Very subtle counter-parallax (NOT toward light)\n  front.style.transform =\n    `translate(${(-lx * 1.6).toFixed(2)}px, ${(-ly * 1.6).toFixed(2)}px)`;\n\n  // Opacity increases when light is grazing\n  front.style.opacity =\n    (0.34 + intensity * 0.22).toFixed(2);\n\n  // Highlight shifts OPPOSITE the light direction\n  const gx = 50 - lx * 28;\n  const gy = 50 - ly * 28;\n  front.style.backgroundPosition = `${gx}% ${gy}%`;\n}\n\n  }\n\n  function onMove(e) {\n    const r = wrap.getBoundingClientRect();\n    const cx = r.left + r.width / 2;\n    const cy = r.top + r.height / 2;\n\n    // LIGHT VECTOR (mouse = light source)\n    lx = clamp((e.clientX - cx) / (r.width / 2), -1, 1);\n    ly = clamp((e.clientY - cy) / (r.height / 2), -1, 1);\n\n    if (!raf) raf = requestAnimationFrame(render);\n  }\n\n  window.addEventListener(''mousemove'', onMove, { passive: true });\n})();\n</script>\n</body>\n</html>\n", "css": "body { font-family: system-ui; padding: 20px; }", "js": "console.log(\"Code Runner initialized\");", "imports": {"css": [], "js": []}, "entryPoint": {"type": "htmlDocument", "mountSelector": "#app", "injectMountIfMissing": true}, "settings": {"mode": "play", "viewport": {"type": "responsive", "background": "white"}, "securityPreset": "trusted", "autoRun": true, "runOnLoad": true}, "codePanel": {"isVisible": false, "isEditable": false}}}]}]}',
    '1.0.0',
    true,
    '88b62d69-6012-47ae-b45b-9ccc5f1dc87c',
    NOW(),
    NOW(),
    'public',
    NULL,
    false,
    NULL,
    'page',
    NULL,
    NULL,
    NULL,
    NULL,
    NULL,
    false,
    0,
    NULL,
    true,
    false,
    NULL,
    NULL,
    '{"id": "block-root", "style": {}, "type": "container", "children": [{"id": "temp-container", "style": {"width": "100vw", "height": "100vh"}, "type": "container", "children": [{"id": "temp-coderunner", "style": {}, "type": "codeRunner", "data": {"html": "<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n  <meta charset=\"UTF-8\" />\n  <title>Working Fundamentals ‚Äî Arvin Jayson Castro</title>\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n\n  <!-- =====================\n       GLOBAL STYLES\n  ====================== -->\n  <style>\n    :root {\n      --bg: #f7f8f8;\n      --ink: #111111;\n      --muted: #666666;\n      --line: rgba(0,0,0,0.08);\n      --accent: #16a34a;\n      --link: #3b82f6;\n      --max-width: 1200px;\n    }\n\n    * {\n      box-sizing: border-box;\n    }\n\n    body {\n      margin: 0;\n      font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, sans-serif;\n      color: var(--ink);\n      background-color: var(--bg);\n      background-image:\n        radial-gradient(980px 560px at 14% 18%, rgba(16,185,129,0.10) 0%, rgba(16,185,129,0) 60%),\n        radial-gradient(860px 540px at 86% 74%, rgba(245,158,11,0.10) 0%, rgba(245,158,11,0) 62%),\n        repeating-linear-gradient(0deg, rgba(0,0,0,0.043) 0, rgba(0,0,0,0.043) 1px, transparent 1px, transparent 46px),\n        repeating-linear-gradient(90deg, rgba(0,0,0,0.043) 0, rgba(0,0,0,0.043) 1px, transparent 1px, transparent 46px);\n      min-height: 100vh;\n    }\n\n    a {\n      color: inherit;\n      text-decoration: none;\n    }\n\n    img {\n      max-width: 100%;\n      display: block;\n    }\n\n    /* =====================\n       PAGE WRAPPER\n    ====================== */\n    .page {\n      padding: 22px 24px;\n    }\n\n    .container {\n      max-width: var(--max-width);\n      margin: 0 auto;\n    }\n\n    /* =====================\n       SIDEBAR BACKDROP\n    ====================== */\n    .sidebar-backdrop {\n      position: fixed;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n      background: rgba(0, 0, 0, 0.2);\n      backdrop-filter: blur(4px);\n      -webkit-backdrop-filter: blur(4px);\n      opacity: 0;\n      visibility: hidden;\n      transition: opacity 0.3s ease, visibility 0.3s ease;\n      z-index: 999;\n      pointer-events: none;\n    }\n\n    .sidebar-backdrop--visible {\n      opacity: 1;\n      visibility: visible;\n      pointer-events: auto;\n    }\n\n    /* =====================\n       SIDEBAR\n    ====================== */\n    .sidebar {\n      position: fixed;\n      top: 0;\n      right: 0;\n      width: 320px;\n      height: 100vh;\n      background: var(--bg);\n      border-left: 1px solid var(--line);\n      transform: translateX(100%);\n      transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n      z-index: 1000;\n      overflow-y: auto;\n      padding: 24px;\n    }\n\n    .sidebar--open {\n      transform: translateX(0);\n    }\n\n    .sidebar__title {\n      font-size: 16px;\n      font-weight: 600;\n      margin-bottom: 24px;\n      color: var(--ink);\n    }\n\n    /* Prevent body scroll when sidebar is open */\n    body.sidebar-open {\n      overflow: hidden;\n    }\n\n    .sidebar__chapter-list {\n      list-style: none;\n      margin: 0;\n      padding: 0;\n    }\n\n    .sidebar__chapter-item {\n      margin: 0 0 8px 0;\n    }\n\n    .sidebar__chapter-link {\n      display: block;\n      font-size: 14px;\n      color: var(--muted);\n      text-decoration: none;\n      padding: 8px 0;\n      transition: color 0.2s ease;\n      line-height: 1.5;\n    }\n\n    .sidebar__chapter-link:hover {\n      color: var(--ink);\n    }\n\n    .sidebar__chapter-link {\n      color: var(--ink);\n      font-weight: 500;\n    }\n\n    /* =====================\n       HEADER (Top bar with chapter indicator)\n    ====================== */\n    .header {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      padding: 10px 0;\n      border-bottom: 1px solid var(--line);\n      position: relative;\n      transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n    }\n\n    .header--shifted {\n      transform: translateX(-320px);\n    }\n\n    .brand {\n      font-size: 16px;\n      font-weight: 600;\n      cursor: pointer;\n      display: inline-block;\n    }\n\n    .nav {\n      display: flex;\n      gap: 24px;\n      align-items: center;\n      font-size: 14px;\n    }\n\n    .nav a {\n      color: #1f2937;\n    }\n\n    .linkedin {\n      display: flex;\n      flex-direction: column;\n      align-items: flex-start;\n    }\n\n    .linkedin a {\n      color: var(--link);\n    }\n\n    .linkedin span {\n      font-family: Georgia, serif;\n      font-size: 9px;\n      font-style: italic;\n      color: #999;\n    }\n\n    /* =====================\n       MAIN GRID\n    ====================== */\n    .main {\n      padding-top: 48px;\n      padding-bottom: 48px;\n      display: flex;\n      justify-content: center;\n      align-items: start;\n    }\n\n    /* =====================\n       CHAPTER READING AREA (Option 1: Magazine-style)\n    ====================== */\n    .chapter-content {\n      max-width: 768px;\n      width: 100%;\n      margin: 0 auto;\n    }\n\n    .chapter-header {\n      margin-bottom: 56px;\n      padding-bottom: 32px;\n      border-bottom: 2px solid var(--line);\n    }\n\n    .book-title {\n      font-size: 12px;\n      letter-spacing: 0.15em;\n      text-transform: uppercase;\n      color: var(--muted);\n      font-weight: 500;\n      margin-bottom: 8px;\n      opacity: 0.7;\n    }\n\n    .chapter-number {\n      font-size: 13px;\n      letter-spacing: 0.2em;\n      text-transform: uppercase;\n      color: var(--muted);\n      font-weight: 600;\n      margin-bottom: 12px;\n      display: flex;\n      align-items: center;\n      gap: 8px;\n      cursor: pointer;\n      user-select: none;\n      transition: color 0.2s ease;\n    }\n\n    .chapter-number:hover {\n      color: var(--ink);\n    }\n\n    .chapter-number__icon {\n      font-size: 10px;\n      opacity: 0.6;\n      transition: transform 0.3s ease, opacity 0.2s ease;\n    }\n\n    .chapter-number:hover .chapter-number__icon {\n      opacity: 0.8;\n    }\n\n    .chapter-number__icon--open {\n      transform: rotate(180deg);\n    }\n\n    .chapter-title {\n      font-size: 56px;\n      font-weight: 900;\n      line-height: 1.05;\n      margin: 0 0 20px 0;\n      color: var(--ink);\n      letter-spacing: -0.03em;\n    }\n\n    .chapter-subtitle {\n      font-size: 22px;\n      font-weight: 500;\n      color: var(--muted);\n      line-height: 1.4;\n      margin: 0;\n    }\n\n    .chapter-body {\n      font-size: 19px;\n      line-height: 1.8;\n      color: var(--ink);\n      max-width: none;\n      font-weight: 400;\n    }\n\n    .chapter-body p {\n      margin: 0 0 28px 0;\n    }\n\n    .chapter-body p:last-child {\n      margin-bottom: 0;\n    }\n\n    .chapter-body h2 {\n      font-size: 36px;\n      font-weight: 800;\n      line-height: 1.2;\n      margin: 56px 0 24px 0;\n      color: var(--ink);\n      letter-spacing: -0.02em;\n    }\n\n    .chapter-body h3 {\n      font-size: 26px;\n      font-weight: 700;\n      line-height: 1.3;\n      margin: 40px 0 18px 0;\n      color: var(--ink);\n      letter-spacing: -0.01em;\n    }\n\n    .chapter-body strong {\n      font-weight: 600;\n      color: var(--ink);\n    }\n\n    .chapter-body em {\n      font-style: italic;\n    }\n\n    .chapter-body ul,\n    .chapter-body ol {\n      margin: 28px 0;\n      padding-left: 36px;\n    }\n\n    .chapter-body li {\n      margin-bottom: 14px;\n      line-height: 1.75;\n    }\n\n    .chapter-body blockquote {\n      margin: 40px 0;\n      padding-left: 28px;\n      border-left: 4px solid var(--accent);\n      font-style: italic;\n      color: var(--muted);\n      font-size: 18px;\n      line-height: 1.7;\n    }\n\n    .chapter-body code {\n      font-family: ''Monaco'', ''Menlo'', ''Courier New'', monospace;\n      font-size: 0.9em;\n      background: rgba(0,0,0,0.04);\n      padding: 2px 6px;\n      border-radius: 3px;\n    }\n\n    .chapter-body pre {\n      background: rgba(0,0,0,0.04);\n      padding: 20px;\n      border-radius: 8px;\n      overflow-x: auto;\n      margin: 24px 0;\n    }\n\n    .chapter-body pre code {\n      background: none;\n      padding: 0;\n    }\n\n    /* Content shift when sidebar opens */\n    .main {\n      transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n    }\n\n    .main--shifted {\n      transform: translateX(-320px);\n    }\n\n    /* Prevent horizontal scroll */\n    body {\n      overflow-x: hidden;\n    }\n\n    .page {\n      overflow-x: hidden;\n    }\n\n    /* =====================\n       CHAPTER NAVIGATION (BOTTOM)\n    ====================== */\n    .chapter-nav-bottom {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      max-width: 768px;\n      width: 100%;\n      margin: 64px auto 0 auto;\n      padding: 24px 0;\n      border-top: 1px solid var(--line);\n    }\n\n    .chapter-nav-bottom__link {\n      display: flex;\n      align-items: center;\n      gap: 8px;\n      font-size: 14px;\n      color: var(--muted);\n      text-decoration: none;\n      transition: color 0.2s ease;\n      padding: 8px 0;\n    }\n\n    .chapter-nav-bottom__link:hover {\n      color: var(--ink);\n    }\n\n    .chapter-nav-bottom__arrow {\n      font-size: 16px;\n      opacity: 0.7;\n    }\n\n    .chapter-nav-bottom__label {\n      font-weight: 500;\n    }\n\n    .chapter-nav-bottom__link--prev {\n      margin-right: auto;\n    }\n\n    .chapter-nav-bottom__link--next {\n      margin-left: auto;\n    }\n\n    .chapter-nav-bottom__link--disabled {\n      opacity: 0.4;\n      cursor: not-allowed;\n      pointer-events: none;\n    }\n\n    .page-widget__pages {\n      max-height: 0;\n      overflow: hidden;\n      transition: max-height 0.4s cubic-bezier(0.4, 0, 0.2, 1),\n                  opacity 0.3s ease,\n                  margin-top 0.3s ease;\n      opacity: 0;\n      margin-top: 0;\n      background: rgba(255, 255, 255, 0.98);\n      backdrop-filter: blur(12px);\n      -webkit-backdrop-filter: blur(12px);\n      border: 1px solid rgba(0, 0, 0, 0.06);\n      border-radius: 12px;\n      box-shadow: 0 2px 12px rgba(0, 0, 0, 0.06);\n    }\n\n    .page-widget__pages--expanded {\n      max-height: 500px;\n      opacity: 1;\n      margin-top: 12px;\n      padding: 8px;\n    }\n\n    .page-widget__pages-list {\n      list-style: none;\n      margin: 0;\n      padding: 0;\n      display: flex;\n      flex-direction: column;\n      gap: 8px;\n      max-height: 400px;\n      overflow-y: auto;\n      padding-right: 4px;\n    }\n\n    .page-widget__pages-list::-webkit-scrollbar {\n      width: 6px;\n    }\n\n    .page-widget__pages-list::-webkit-scrollbar-track {\n      background: rgba(0, 0, 0, 0.02);\n      border-radius: 3px;\n    }\n\n    .page-widget__pages-list::-webkit-scrollbar-thumb {\n      background: rgba(0, 0, 0, 0.12);\n      border-radius: 3px;\n    }\n\n    .page-widget__pages-list::-webkit-scrollbar-thumb:hover {\n      background: rgba(0, 0, 0, 0.2);\n    }\n\n    .page-widget__page-item {\n      display: flex;\n      align-items: center;\n      gap: 10px;\n      padding: 8px 10px;\n      border-radius: 8px;\n      cursor: pointer;\n      transition: all 0.2s ease;\n      text-decoration: none;\n      color: var(--ink);\n    }\n\n    .page-widget__page-item:hover {\n      background: rgba(0, 0, 0, 0.03);\n      transform: translateX(2px);\n    }\n\n    .page-widget__page-item--current {\n      background: rgba(22, 163, 74, 0.08);\n      color: var(--accent);\n      font-weight: 500;\n    }\n\n    .page-widget__page-item--current:hover {\n      background: rgba(22, 163, 74, 0.12);\n    }\n\n    .page-widget__page-number {\n      display: inline-flex;\n      align-items: center;\n      justify-content: center;\n      width: 24px;\n      height: 24px;\n      background: rgba(0, 0, 0, 0.04);\n      border-radius: 5px;\n      font-size: 11px;\n      font-weight: 500;\n      flex-shrink: 0;\n      color: var(--muted);\n    }\n\n    .page-widget__page-item--current .page-widget__page-number {\n      background: rgba(22, 163, 74, 0.15);\n      color: var(--accent);\n    }\n\n    .page-widget__page-info {\n      flex: 1;\n      min-width: 0;\n    }\n\n    .page-widget__page-name {\n      font-size: 13px;\n      font-weight: 500;\n      line-height: 1.3;\n      margin: 0 0 2px 0;\n    }\n\n    .page-widget__page-note {\n      font-size: 11px;\n      color: var(--muted);\n      line-height: 1.3;\n      margin: 0;\n      white-space: nowrap;\n      overflow: hidden;\n      text-overflow: ellipsis;\n    }\n\n    @media (max-width: 768px) {\n      .page-widget__pages-list {\n        max-height: 300px;\n      }\n    }\n\n\n/* ===============================\n   WRAPPER\n================================ */\n.book-wrap {\n  width: 320px;\n  aspect-ratio: 2 / 3;\n  position: relative;\n}\n\n/* ===============================\n   CAST SHADOW SLAB (REAL SHADOW)\n================================ */\n.shadow-slab {\n    position: absolute;\n    position: absolute;\n    inset: 0;\n    border-radius: 22px;\n    /* background: #2a2a2a; */\n    transform: translate(-30px, 30px);\n    filter: blur(13px);\n    opacity: 0.35;\n    z-index: 0;\n    background: radial-gradient(ellipse at 15% 85%, rgba(0, 0, 0, 0.35), rgba(0, 0, 0, 0.18) 35%, transparent 65%), linear-gradient(to right, #1f1f1f 0%, #2a2a2a 45%, #3a3a3a 100%);\n}\n\n.shadow-slab-2 {\n    position: absolute;\n    inset: 0;\n    border-radius: 22px;\n    background: radial-gradient(circle at top right, #f6e6a8 0%, #e2c36b 35%, #b58a3c 70%, #7a5524 100%);\n    transform: translate(-10px, 10px);\n    filter: blur(5px);\n    opacity: 0.35;\n    z-index: 0;\n}\n\n.shadow-slab-3 {\n    position: absolute;\n    inset: 0;\n    border-radius: 22px;\n    background: #333;\n    transform: translate(0px, 0px);\n    filter: blur(11px);\n    opacity: 0.35;\n    z-index: 0;\n}\n\n.shadow-slab-4 {\n    position: absolute;\n    inset: 0;\n    border-radius: 22px;\n    background: #333;\n    transform: translate(0px, 0px);\n    filter: blur(11px);\n    opacity: 0.35;\n    z-index: 0;\n}\n\n/* ===============================\n   FRONT SLAB & SPIN HANDLE\n================================ */\n\n.front-slab {\n    position: absolute;\n    inset: 0;\n    border-radius: 22px;\n    background: linear-gradient(to right, rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.1) 3%, transparent 1%);\n    /* background: green; */\n    z-index: 3;\n    opacity: .5;\n    transform: translateZ(6px);\n    pointer-events: none;\n}\n\n.spin-handle {\n  display: none;\n  position: absolute;\n  top: 50%;\n  right: -22px;\n  width: 14px;\n  height: 48px;\n  border-radius: 999px;\n  background: rgba(0,0,0,0.25);\n  backdrop-filter: blur(4px);\n  cursor: grab;\n  z-index: 10;\n}\n\n/* ===============================\n   BOOK OBJECT (NO SHADOW)\n================================ */\n.book {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  border-radius: 22px;\n  overflow: hidden;\n  z-index: 2;\n\n  /* IMPORTANT: no box-shadow */\n  box-shadow: none;\n\n  /* transform: perspective(1200px) rotateX(0.6deg); */\n}\n\n/* ===============================\n   PAPER SURFACE (LIGHT FIELD)\n================================ */\n.book .surface {\n  position: absolute;\n  inset: 0;\n  border-radius: inherit;\n  pointer-events: none;\n  z-index: 1;\n\n  background:\n    linear-gradient(\n      to bottom left,\n      rgba(255,255,255,1) 0%,\n      rgba(250,250,250,1) 42%,\n      rgba(240,240,240,1) 100%\n    ),\n    repeating-linear-gradient(\n      0deg,\n      rgba(0,0,0,0.01),\n      rgba(0,0,0,0.01) 1px,\n      transparent 1px,\n      transparent 3px\n    );\n}\n\n/* ===============================\n   LEFT OCCLUSION (CURTAIN)\n================================ */\n.book .curtain {\n  position: absolute;\n  inset: 0;\n  border-radius: inherit;\n  pointer-events: none;\n  z-index: 2;\n\n  background:\n    linear-gradient(\n      to right,\n      rgba(0,0,0,0.20) 0%,\n      rgba(0,0,0,0.12) 8%,\n      rgba(0,0,0,0.05) 16%,\n      rgba(0,0,0,0.02) 22%,\n      rgba(0,0,0,0.00) 30%\n    );\n}\n\n/* ===============================\n   RIGHT HIGHLIGHT\n================================ */\n.book .highlight {\n  position: absolute;\n  inset: 0;\n  border-radius: inherit;\n  pointer-events: none;\n  z-index: 3;\n\n  background:\n    linear-gradient(\n      to left,\n      rgba(255,255,255,0.35) 0%,\n      rgba(255,255,255,0.18) 6%,\n      rgba(255,255,255,0.06) 14%,\n      rgba(255,255,255,0.00) 24%\n    );\n}\n\n/* ===============================\n   PAGE EDGE (THICKNESS)\n================================ */\n.book .edge {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 120px;\n  height: 100%;\n  border-radius: 22px 0 0 22px;\n  pointer-events: none;\n  z-index: 4;\n\n  background:\n    linear-gradient(\n      to right,\n      rgba(215,215,215,0.95) 0%,\n      rgba(245,245,245,0.95) 40%,\n      rgba(255,255,255,0.95) 75%\n    );\n\n  box-shadow:\n    inset -1px 0 0 rgba(0,0,0,0.05);\n}\n\n/* ===============================\n   SVG (PURE WHITE)\n================================ */\n.book svg {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  display: block;\n  z-index: 5;\n}\n\n    /* =====================\n       LEFT: BOOK COVER\n    ====================== */\n    .book-cover {\n      display: flex;\n      flex-direction: column;\n      gap: 12px;\n    }\n\n\n    /* ===============================\n       BOOK + SHADOW SYSTEM\n    =============================== */\n    .book-wrap {\n      width: 320px;\n      aspect-ratio: 2 / 3;\n      position: relative;\n    }\n\n    .shadow-slab,\n    .shadow-slab-2,\n    .shadow-slab-3,\n    .shadow-slab-4 {\n      position: absolute;\n      inset: 0;\n      border-radius: 22px;\n      z-index: 0;\n      will-change: transform, filter, opacity;\n    }\n\n    .shadow-slab {\n      background:\n        radial-gradient(ellipse at 15% 85%, rgba(0,0,0,0.35), rgba(0,0,0,0.18) 35%, transparent 65%),\n        linear-gradient(to right, #1f1f1f 0%, #2a2a2a 45%, #3a3a3a 100%);\n      filter: blur(13px);\n      opacity: 0.35;\n    }\n\n    .shadow-slab-2 {\n      background: radial-gradient(circle at top right, #f6e6a8 0%, #e2c36b 35%, #b58a3c 70%, #7a5524 100%);\n      filter: blur(6px);\n      opacity: 0.30;\n    }\n\n    .shadow-slab-3,\n    .shadow-slab-4 {\n      background: #333;\n      filter: blur(11px);\n      opacity: 0.30;\n    }\n\n    .book {\n      position: relative;\n      width: 100%;\n      height: 100%;\n      border-radius: 22px;\n      overflow: hidden;\n      z-index: 2;\n      background: #f7f4ee;\n    }\n\n    .front-slab {\n      position: absolute;\n      inset: 0;\n      border-radius: 22px;\n      background: linear-gradient(to right, rgba(0,0,0,0.4), rgba(0,0,0,0.1) 3%, transparent 10%);\n      z-index: 3;\n      pointer-events: none;\n      opacity: 0.5;\n    }\n\n\n    @media (prefers-reduced-motion: reduce) {\n      .cover-frame {\n        transition: none;\n        transform: none;\n      }\n      .cover-frame:hover {\n        --lift: 0;\n      }\n    }\n\n    .start-reading {\n      display: inline-flex;\n      align-items: center;\n      justify-content: center;\n      width: 100%;\n      padding: 12px 14px;\n      border-radius: 999px;\n\n      font-size: 11px;\n      letter-spacing: 0.16em;\n      text-transform: uppercase;\n      font-weight: 650;\n      color: rgba(34,197,94,0.92);\n      text-shadow:\n        0 0 10px rgba(34,197,94,0.22),\n        0 0 22px rgba(34,197,94,0.14);\n\n      /* graphite: dark + slightly mineral */\n      background:\n        radial-gradient(120% 140% at 20% 10%, rgba(255,255,255,0.10) 0%, rgba(255,255,255,0.00) 55%),\n        radial-gradient(140% 140% at 80% 90%, rgba(255,255,255,0.06) 0%, rgba(255,255,255,0.00) 60%),\n        linear-gradient(180deg, #141414 0%, #0a0a0a 100%);\n      border: 1px solid rgba(255,255,255,0.10);\n      box-shadow:\n        0 14px 34px rgba(0,0,0,0.22),\n        0 8px 16px rgba(0,0,0,0.18),\n        inset 0 1px 0 rgba(255,255,255,0.10),\n        inset 0 -1px 0 rgba(0,0,0,0.55);\n\n      position: relative;\n      overflow: hidden;\n      cursor: pointer;\n      user-select: none;\n      -webkit-tap-highlight-color: transparent;\n\n      transition:\n        transform 160ms cubic-bezier(0.2, 0.8, 0.2, 1),\n        box-shadow 160ms cubic-bezier(0.2, 0.8, 0.2, 1),\n        border-color 160ms cubic-bezier(0.2, 0.8, 0.2, 1);\n    }\n\n    .start-reading::before {\n      content: \"\";\n      position: absolute;\n      inset: 0;\n      pointer-events: none;\n      /* texture + sheen (very subtle) */\n      background:\n        linear-gradient(120deg, rgba(255,255,255,0.12) 0%, rgba(255,255,255,0.00) 46%),\n        repeating-linear-gradient(0deg,\n          rgba(255,255,255,0.028) 0px,\n          rgba(255,255,255,0.028) 1px,\n          rgba(0,0,0,0.00) 3px,\n          rgba(0,0,0,0.00) 6px),\n        radial-gradient(120% 90% at 50% 0%, rgba(34,197,94,0.14) 0%, rgba(34,197,94,0.00) 62%);\n      opacity: 0.75;\n    }\n\n    .start-reading:hover {\n      transform: translateY(-1px);\n      border-color: rgba(34,197,94,0.30);\n      box-shadow:\n        0 18px 42px rgba(0,0,0,0.24),\n        0 10px 18px rgba(0,0,0,0.18),\n        inset 0 1px 0 rgba(255,255,255,0.12),\n        inset 0 -1px 0 rgba(0,0,0,0.55);\n      text-shadow:\n        0 0 12px rgba(34,197,94,0.28),\n        0 0 26px rgba(34,197,94,0.18);\n    }\n\n    .start-reading:active {\n      transform: translateY(0px);\n      box-shadow:\n        0 14px 34px rgba(0,0,0,0.22),\n        0 8px 16px rgba(0,0,0,0.18),\n        inset 0 1px 0 rgba(255,255,255,0.10),\n        inset 0 -1px 0 rgba(0,0,0,0.55);\n    }\n\n    .start-reading:focus-visible {\n      outline: none;\n      box-shadow:\n        0 18px 42px rgba(0,0,0,0.24),\n        0 0 0 4px rgba(34,197,94,0.22),\n        0 0 0 1px rgba(34,197,94,0.26),\n        inset 0 1px 0 rgba(255,255,255,0.12),\n        inset 0 -1px 0 rgba(0,0,0,0.55);\n      border-color: rgba(34,197,94,0.34);\n    }\n\n    @media (prefers-reduced-motion: reduce) {\n      .start-reading {\n        transition: none;\n      }\n      .start-reading:hover {\n        transform: none;\n      }\n    }\n\n    /* =====================\n       CENTER: CONTENT\n    ====================== */\n    .content h1 {\n      font-size: 40px;\n      font-weight: 800;\n      line-height: 1.15;\n      margin: 0;\n    }\n\n    .byline {\n      font-size: 13px;\n      letter-spacing: 0.12em;\n      color: #666;\n      font-weight: 600;\n    }\n\n    .tagline {\n      font-size: 18px;\n      font-weight: 500;\n      color: #333;\n    }\n\n    .paragraph {\n      font-size: 15px;\n      color: #222;\n    }\n\n    .meta {\n      margin-top: 20px;\n      padding-top: 20px;\n      border-top: 1px solid var(--line);\n      display: grid;\n      grid-template-columns: repeat(2, 1fr);\n      gap: 12px 24px;\n      font-size: 13px;\n    }\n\n    .author {\n      margin-top: 20px;\n      padding-top: 20px;\n      border-top: 1px solid var(--line);\n      display: flex;\n      gap: 16px;\n      align-items: flex-start;\n    }\n\n    .author img {\n      width: 44px;\n      height: 44px;\n      border-radius: 50%;\n    }\n\n    /* =====================\n       RIGHT: RELATED\n    ====================== */\n    .related {\n      display: flex;\n      flex-direction: column;\n      gap: 20px;\n    }\n\n    .related-title {\n      font-size: 11px;\n      letter-spacing: 0.14em;\n      color: #666;\n      text-transform: uppercase;\n      font-weight: 600;\n    }\n\n    .related-item {\n      display: flex;\n      flex-direction: column;\n      gap: 6px;\n      cursor: pointer;\n      transition: transform 0.12s ease, box-shadow 0.12s ease;\n    }\n\n    .related-item:hover {\n      transform: translateY(-2px);\n    }\n\n    .related-thumb {\n      border-radius: 6px;\n      overflow: hidden;\n      aspect-ratio: 3 / 4;\n      box-shadow: 0 8px 24px rgba(0,0,0,0.1);\n\n      /* Gray placeholder shape */\n      background: linear-gradient(135deg, #e5e7eb 0%, #d1d5db 45%, #cbd5e1 100%);\n      border: 1px solid rgba(0,0,0,0.06);\n    }\n\n    .related-thumb img {\n      width: 100%;\n      height: 100%;\n      object-fit: cover;\n      filter: grayscale(1);\n      opacity: 0.85;\n      transition: filter 160ms ease, opacity 160ms ease;\n    }\n\n    .related-thumb .thumb-placeholder {\n      width: 100%;\n      height: 100%;\n      display: block;\n    }\n\n    .related-item a {\n      font-size: 12px;\n      font-weight: 600;\n      color: #111;\n    }\n\n    /* =====================\n       RIGHT: 13 CHAPTERS\n    ====================== */\n    .chapters {\n      display: flex;\n      flex-direction: column;\n      gap: 10px;\n    }\n\n    .chapters-title {\n      font-size: 11px;\n      letter-spacing: 0.12em;\n      color: rgba(17,17,17,0.52);\n      text-transform: uppercase;\n      font-weight: 600;\n    }\n\n    .chapters-help {\n      margin-top: -4px;\n      font-size: 11px;\n      line-height: 1.35;\n      color: rgba(17,17,17,0.42);\n    }\n\n    .chapter-list {\n      list-style: none;\n      padding: 0;\n      margin: 0;\n      display: flex;\n      flex-direction: column;\n      gap: 0;\n      border-top: 1px solid rgba(0,0,0,0.06);\n    }\n\n    .chapter-item {\n      display: grid;\n      grid-template-columns: 3ch 1fr;\n      gap: 12px;\n      align-items: start;\n      padding: 10px 0;\n      border-bottom: 1px solid rgba(0,0,0,0.06);\n    }\n\n    .chapter-item--preface .chapter-name {\n      font-weight: 760;\n      letter-spacing: -0.01em;\n      color: rgba(17,17,17,0.90);\n    }\n\n    .chapter-item--current .chapter-name {\n      color: rgba(17,17,17,0.92);\n      text-decoration: underline;\n      text-decoration-thickness: 1px;\n      text-underline-offset: 3px;\n      text-decoration-color: rgba(17,17,17,0.22);\n    }\n\n    .chapter-num {\n      width: auto;\n      height: auto;\n      border-radius: 0;\n      display: block;\n      text-align: right;\n      font-size: 11px;\n      font-weight: 650;\n      color: rgba(17,17,17,0.46);\n      font-variant-numeric: tabular-nums;\n    }\n\n    .chapter-name {\n      font-size: 12px;\n      font-weight: 600;\n      color: rgba(17,17,17,0.80);\n      line-height: 1.3;\n    }\n\n    .chapter-note {\n      margin-top: 2px;\n      font-size: 11px;\n      color: rgba(17,17,17,0.46);\n      line-height: 1.4;\n    }\n\n    /* =====================\n       RESPONSIVE\n    ====================== */\n    @media (max-width: 900px) {\n      .chapter-content {\n        max-width: 100%;\n        padding: 0 24px;\n      }\n\n      .page-widget {\n        max-width: 100%;\n        margin-left: 24px;\n        margin-right: 24px;\n      }\n\n      .chapter-title {\n        font-size: 42px;\n      }\n\n      .chapter-body {\n        font-size: 18px;\n      }\n\n      .chapter-body h2 {\n        font-size: 32px;\n      }\n\n      .chapter-body h3 {\n        font-size: 24px;\n      }\n    }\n\n    @media (max-width: 768px) {\n      .header {\n        flex-direction: column;\n        gap: 12px;\n      }\n\n      .chapter-content {\n        padding: 0 16px;\n      }\n\n      .page-widget {\n        margin-left: 16px;\n        margin-right: 16px;\n      }\n\n      .chapter-title {\n        font-size: 38px;\n      }\n\n      .chapter-body {\n        font-size: 17px;\n      }\n\n      .chapter-body h2 {\n        font-size: 30px;\n      }\n\n      .chapter-body h3 {\n        font-size: 22px;\n      }\n    }\n  </style>\n</head>\n\n<body>\n  <div class=\"page\">\n    <div class=\"container\">\n\n      <!-- SIDEBAR BACKDROP -->\n      <div class=\"sidebar-backdrop\" id=\"sidebarBackdrop\"></div>\n\n      <!-- SIDEBAR -->\n      <aside class=\"sidebar\" id=\"sidebar\">\n        <div class=\"sidebar__title\">Working Fundamentals</div>\n        <ul class=\"sidebar__chapter-list\">\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-introduction\" class=\"sidebar__chapter-link\" target=\"_blank\">Introduction</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-1-of-13-programming-fundamentals\" class=\"sidebar__chapter-link sidebar__chapter-link\" target=\"_blank\">Chapter 1 ¬∑ Programming Fundamentals</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-2-of-13-data-structures\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 2 ¬∑ Data Structures</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-3-of-13-algorithms-and-complexity\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 3 ¬∑ Algorithms & Complexity</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-4-of-13-control-and-flow\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 4 ¬∑ Control & Flow</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-5-of-13-state-and-change\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 5 ¬∑ State & Change</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-6-of-13-design-principles\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 6 ¬∑ Design Principles</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-7-of-13-architecture\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 7 ¬∑ Architecture</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-8-of-13-persistence-and-data-modeling\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 8 ¬∑ Persistence & Data Modeling</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"#\" class=\"sidebar__chapter-link\"> class=\"sidebar__chapter-link sidebar__chapter-link--current\">Chapter 9 ¬∑ Interfaces\\ \\&\\ APIs</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-10-of-13-errors-and-failure\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 10 ¬∑ Errors & Failure</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-11-of-13-testing\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 11 ¬∑ Testing</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-12-of-13-performance-and-scale\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 12 ¬∑ Performance & Scale</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-13-of-13-the-developers-role\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 13 ¬∑ The Developer''s Role</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-outroduction\" class=\"sidebar__chapter-link\" target=\"_blank\">Outroduction</a>\n          </li>\n        </ul>\n      </aside>\n\n      <!-- HEADER -->\n      <header class=\"header\" id=\"header\">\n        <a href=\"https://arvinjaysoncastro.com/\" class=\"brand\" target=\"_blank\">Arvin Jayson Castro</a>\n        <nav class=\"nav\">\n          <a href=\"https://arvinjaysoncastro.com/hungry-dev-mind\" target=\"_blank\">Books</a>\n          <a href=\"https://arvinjaysoncastro.com/working-systems\" target=\"_blank\">Working Systems</a>\n          <a href=\"https://arvinjaysoncastro.com/about\" target=\"_blank\">16 Years</a>\n          <div class=\"linkedin\">\n            <a href=\"https://www.linkedin.com/in/arvin-jayson-castro-7458199a/\" target=\"_blank\">linkedIn</a>\n            <span>let''s connect</span>\n          </div>\n        </nav>\n      </header>\n\n      <!-- PAGE WIDGET (TOP) - REMOVED -->\n      <div style=\"display: none;\">\n          <ol class=\"page-widget__pages-list\">\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">P</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Preface</div>\n                  <div class=\"page-widget__page-note\">Why fundamentals still decide outcomes.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item page-widget__page-item--current\">\n                <span class=\"page-widget__page-number\">1</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 1</div>\n                  <div class=\"page-widget__page-note\">Core principles and constraints.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">2</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 2</div>\n                  <div class=\"page-widget__page-note\">Boundaries, ownership, and interfaces.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">3</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 3</div>\n                  <div class=\"page-widget__page-note\">State, consistency, and failure modes.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">4</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 4</div>\n                  <div class=\"page-widget__page-note\">Abstractions that survive change.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">5</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 5</div>\n                  <div class=\"page-widget__page-note\">Simplicity as an engineering practice.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">6</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 6</div>\n                  <div class=\"page-widget__page-note\">Reliability, observability, and feedback.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">7</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 7</div>\n                  <div class=\"page-widget__page-note\">Delivery systems and decision hygiene.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">8</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 8</div>\n                  <div class=\"page-widget__page-note\">Documentation that stays useful.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">9</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 9</div>\n                  <div class=\"page-widget__page-note\">Testing strategy for predictable change.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">10</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 10</div>\n                  <div class=\"page-widget__page-note\">Pragmatic architecture for teams.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">11</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 11</div>\n                  <div class=\"page-widget__page-note\">Operational excellence without ceremony.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">12</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 12</div>\n                  <div class=\"page-widget__page-note\">Leadership, standards, and leverage.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">13</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 13</div>\n                  <div class=\"page-widget__page-note\">Making fundamentals non-negotiable.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">PS</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Postscript</div>\n                  <div class=\"page-widget__page-note\">A short operating model to carry forward.</div>\n                </div>\n              </a>\n            </li>\n          </ol>\n        </div>\n      </div>\n\n      <!-- MAIN -->\n      <main class=\"main\" id=\"main\">\n\n        <!-- CHAPTER CONTENT (Option 1: Magazine-style) -->\n        <article class=\"chapter-content\">\n          <header class=\"chapter-header\">\n            <div class=\"book-title\">Working Fundamentals</div>\n            <div class=\"chapter-number\" id=\"chapterIndicator\">\n              <span>chapter 9 of 13</span>\n              <span class=\"chapter-number__icon\" id=\"chapterIndicatorIcon\">‚ñæ</span>\n            </div>\n            <h1 class=\"chapter-title\">Interfaces & APIs</h1>\n            <p class=\"chapter-subtitle\">Promises you cannot easily take back</p>\n          </header>\n\n          <div class=\"chapter-body\">\n            <h3>What this chapter is</h3>\n\n            <p>This chapter is not about REST.It is not about GraphQL.It is not about HTTP verbs, schemas, or tooling.</p>\n\n            <p>This chapter is about <strong>commitment</strong>.</p>\n\n            <p>An interface is the moment a system stops being private.</p>\n\n            <h2>The core truth</h2>\n\n            <p>An interface is a <strong>promise about behavior</strong>.</p>\n\n            <p>Once exposed, it will be:</p>\n\n            <ul>\n\n            <li>depended on</li>\n\n            </ul>\n\n            <ul>\n\n            <li>worked around</li>\n\n            </ul>\n\n            <ul>\n\n            <li>relied upon in unintended ways</li>\n\n            </ul>\n\n            <p>You can change implementation freely.You cannot change promises cheaply.</p>\n\n            <p>üß† <strong>Mental Model</strong>APIs outlive the intent of their creators.</p>\n\n            <h2>Interfaces exist to protect both sides</h2>\n\n            <p>A good interface protects:</p>\n\n            <ul>\n\n            <li>consumers from internal churn</li>\n\n            </ul>\n\n            <ul>\n\n            <li>providers from consumer misuse</li>\n\n            </ul>\n\n            <p>A bad interface:</p>\n\n            <ul>\n\n            <li>leaks internals</li>\n\n            </ul>\n\n            <ul>\n\n            <li>invites coupling</li>\n\n            </ul>\n\n            <ul>\n\n            <li>creates dependency traps</li>\n\n            </ul>\n\n            <p>üß† <strong>Architect‚Äôs Note</strong>An interface should make the <em>right thing easy</em> and the <em>wrong thing hard</em>.</p>\n\n            <h2>Stability beats expressiveness</h2>\n\n            <p>The temptation is to expose everything.</p>\n\n            <p>Expressive APIs feel powerful early.They feel dangerous later.</p>\n\n            <p>Stable APIs:</p>\n\n            <ul>\n\n            <li>do less</li>\n\n            </ul>\n\n            <ul>\n\n            <li>change rarely</li>\n\n            </ul>\n\n            <ul>\n\n            <li>force discipline</li>\n\n            </ul>\n\n            <p>üß† <strong>Perspective</strong>An API that rarely changes is more valuable than one that can do everything.</p>\n\n            <h2>Shape matters more than technology</h2>\n\n            <p>Whether an interface is:</p>\n\n            <ul>\n\n            <li>a function</li>\n\n            </ul>\n\n            <ul>\n\n            <li>a module</li>\n\n            </ul>\n\n            <ul>\n\n            <li>a service</li>\n\n            </ul>\n\n            <ul>\n\n            <li>a message</li>\n\n            </ul>\n\n            <p>‚Ä¶the same rules apply.</p>\n\n            <p>Good interfaces:</p>\n\n            <ul>\n\n            <li>have clear inputs</li>\n\n            </ul>\n\n            <ul>\n\n            <li>have clear outputs</li>\n\n            </ul>\n\n            <ul>\n\n            <li>have clear failure modes</li>\n\n            </ul>\n\n            <ul>\n\n            <li>hide internal decisions</li>\n\n            </ul>\n\n            <p>Technology is incidental.Shape is essential.</p>\n\n            <h2>Leaky abstractions hurt twice</h2>\n\n            <p>When an interface leaks internal details:</p>\n\n            <ul>\n\n            <li>consumers depend on them</li>\n\n            </ul>\n\n            <ul>\n\n            <li>providers become trapped by them</li>\n\n            </ul>\n\n            <p>This creates:</p>\n\n            <ul>\n\n            <li>fragile integrations</li>\n\n            </ul>\n\n            <ul>\n\n            <li>coordination overhead</li>\n\n            </ul>\n\n            <ul>\n\n            <li>fear of change</li>\n\n            </ul>\n\n            <p>üß† <strong>Mental Model</strong>If consumers know how it works, you‚Äôve already lost freedom.</p>\n\n            <h2>Versioning is a cost, not a solution</h2>\n\n            <p>Versioning feels like safety.</p>\n\n            <p>In reality, it:</p>\n\n            <ul>\n\n            <li>multiplies surface area</li>\n\n            </ul>\n\n            <ul>\n\n            <li>splits attention</li>\n\n            </ul>\n\n            <ul>\n\n            <li>prolongs bad decisions</li>\n\n            </ul>\n\n            <p>Versioning should be:</p>\n\n            <ul>\n\n            <li>rare</li>\n\n            </ul>\n\n            <ul>\n\n            <li>deliberate</li>\n\n            </ul>\n\n            <ul>\n\n            <li>accompanied by deprecation</li>\n\n            </ul>\n\n            <p>üß† <strong>Architect‚Äôs Note</strong>The best versioning strategy is needing it as little as possible.</p>\n\n            <h2>Error behavior is part of the interface</h2>\n\n            <p>An interface is incomplete without:</p>\n\n            <ul>\n\n            <li>defined failure modes</li>\n\n            </ul>\n\n            <ul>\n\n            <li>consistent error signaling</li>\n\n            </ul>\n\n            <ul>\n\n            <li>clear recovery expectations</li>\n\n            </ul>\n\n            <p>Silence is not stability.Ambiguity is not flexibility.</p>\n\n            <p>üß† <strong>Perspective</strong>Consumers will build logic around how you fail.</p>\n\n            <h2>Interfaces create political boundaries</h2>\n\n            <p>APIs exist between:</p>\n\n            <ul>\n\n            <li>teams</li>\n\n            </ul>\n\n            <ul>\n\n            <li>organizations</li>\n\n            </ul>\n\n            <ul>\n\n            <li>vendors</li>\n\n            </ul>\n\n            <ul>\n\n            <li>timeframes</li>\n\n            </ul>\n\n            <p>They are social contracts as much as technical ones.</p>\n\n            <p>Breaking an interface:</p>\n\n            <ul>\n\n            <li>costs trust</li>\n\n            </ul>\n\n            <ul>\n\n            <li>costs coordination</li>\n\n            </ul>\n\n            <ul>\n\n            <li>costs velocity</li>\n\n            </ul>\n\n            <p>üß† <strong>Mental Model</strong>Technical breakage becomes organizational friction.</p>\n\n            <h2>Narrow interfaces scale better</h2>\n\n            <p>Wide interfaces invite misuse.Narrow interfaces constrain behavior.</p>\n\n            <p>A narrow interface:</p>\n\n            <ul>\n\n            <li>limits dependency</li>\n\n            </ul>\n\n            <ul>\n\n            <li>clarifies intent</li>\n\n            </ul>\n\n            <ul>\n\n            <li>reduces coupling</li>\n\n            </ul>\n\n            <p>üß† <strong>Architect‚Äôs Note</strong>You can always add later. Removing is painful.</p>\n\n            <h2>Documentation is not decoration</h2>\n\n            <p>Documentation explains:</p>\n\n            <ul>\n\n            <li>what is promised</li>\n\n            </ul>\n\n            <ul>\n\n            <li>what is not</li>\n\n            </ul>\n\n            <ul>\n\n            <li>what must not be assumed</li>\n\n            </ul>\n\n            <p>Undocumented behavior becomes folklore.Folklore becomes dependency.</p>\n\n            <h2>Interfaces and time</h2>\n\n            <p>Interfaces must survive:</p>\n\n            <ul>\n\n            <li>new features</li>\n\n            </ul>\n\n            <ul>\n\n            <li>new teams</li>\n\n            </ul>\n\n            <ul>\n\n            <li>new requirements</li>\n\n            </ul>\n\n            <ul>\n\n            <li>new scale</li>\n\n            </ul>\n\n            <p>If an interface requires constant explanation,it is already failing.</p>\n\n            <h2>Minimal practice (still no code)</h2>\n\n            <p><strong>Problem:</strong>‚ÄúYou expose a service that creates and updates user data.‚Äù</p>\n\n            <p>Ask:</p>\n\n            <ul>\n\n            <li>What must always be true?</li>\n\n            </ul>\n\n            <ul>\n\n            <li>What must never be allowed?</li>\n\n            </ul>\n\n            <ul>\n\n            <li>What errors are expected?</li>\n\n            </ul>\n\n            <ul>\n\n            <li>What assumptions should consumers <em>not</em> make?</li>\n\n            </ul>\n\n            <p>If the answers are fuzzy, the interface is unsafe.</p>\n\n            <h2>What beginners gain here</h2>\n\n            <ul>\n\n            <li>Respect for contracts</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Less accidental coupling</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Cleaner boundaries</li>\n\n            </ul>\n\n            <h2>What experienced developers recognize</h2>\n\n            <ul>\n\n            <li>Why integrations rot</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Why changes are risky</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Why APIs feel constraining over time</li>\n\n            </ul>\n\n            <p>Promises were made too freely.</p>\n\n            <h2>What this chapter deliberately avoids</h2>\n\n            <ul>\n\n            <li>Protocol debates</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Tool comparisons</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Framework opinions</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Implementation mechanics</li>\n\n            </ul>\n\n            <p>Those are downstream.</p>\n\n            <h2>Closing</h2>\n\n            <p>Interfaces are promises that bind the future.</p>\n\n            <p>Make them:</p>\n\n            <ul>\n\n            <li>small</li>\n\n            </ul>\n\n            <ul>\n\n            <li>boring</li>\n\n            </ul>\n\n            <ul>\n\n            <li>stable</li>\n\n            </ul>\n\n            <ul>\n\n            <li>explicit</li>\n\n            </ul>\n\n            <p>A system with good interfaces can evolve calmly.A system with bad ones lives in negotiation.</p>\n          </div>\n        </article>\n\n        <!-- RIGHT -->\n\n      </main>\n\n      <!-- CHAPTER NAVIGATION (BOTTOM) -->\n      <nav class=\"chapter-nav-bottom\" id=\"chapterNavBottom\">\n        <a href=\"#\" class=\"chapter-nav-bottom__link chapter-nav-bottom__link--prev\" id=\"prevChapter\">\n          <span class=\"chapter-nav-bottom__arrow\">‚Üê</span>\n          <span class=\"chapter-nav-bottom__label\">Previous</span>\n        </a>\n        <a href=\"#\" class=\"chapter-nav-bottom__link chapter-nav-bottom__link--next\" id=\"nextChapter\">\n          <span class=\"chapter-nav-bottom__label\">Next</span>\n          <span class=\"chapter-nav-bottom__arrow\">‚Üí</span>\n        </a>\n      </nav>\n\n      <!-- PAGE WIDGET (BOTTOM) - REMOVED -->\n      <div style=\"display: none;\">\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">P</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Preface</div>\n                  <div class=\"page-widget__page-note\">Why fundamentals still decide outcomes.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item page-widget__page-item--current\">\n                <span class=\"page-widget__page-number\">1</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 1</div>\n                  <div class=\"page-widget__page-note\">Core principles and constraints.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">2</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 2</div>\n                  <div class=\"page-widget__page-note\">Boundaries, ownership, and interfaces.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">3</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 3</div>\n                  <div class=\"page-widget__page-note\">State, consistency, and failure modes.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">4</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 4</div>\n                  <div class=\"page-widget__page-note\">Abstractions that survive change.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">5</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 5</div>\n                  <div class=\"page-widget__page-note\">Simplicity as an engineering practice.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">6</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 6</div>\n                  <div class=\"page-widget__page-note\">Reliability, observability, and feedback.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">7</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 7</div>\n                  <div class=\"page-widget__page-note\">Delivery systems and decision hygiene.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">8</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 8</div>\n                  <div class=\"page-widget__page-note\">Documentation that stays useful.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">9</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 9</div>\n                  <div class=\"page-widget__page-note\">Testing strategy for predictable change.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">10</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 10</div>\n                  <div class=\"page-widget__page-note\">Pragmatic architecture for teams.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">11</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 11</div>\n                  <div class=\"page-widget__page-note\">Operational excellence without ceremony.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">12</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 12</div>\n                  <div class=\"page-widget__page-note\">Leadership, standards, and leverage.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">13</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 13</div>\n                  <div class=\"page-widget__page-note\">Making fundamentals non-negotiable.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">PS</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Postscript</div>\n                  <div class=\"page-widget__page-note\">A short operating model to carry forward.</div>\n                </div>\n              </a>\n            </li>\n          </ol>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <!-- PAGE WIDGET JS -->\n  <!-- SIDEBAR TOGGLE JS -->\n  <script>\n  (() => {\n    const sidebar = document.getElementById(''sidebar'');\n    const backdrop = document.getElementById(''sidebarBackdrop'');\n    const indicator = document.getElementById(''chapterIndicator'');\n    const icon = document.getElementById(''chapterIndicatorIcon'');\n    const header = document.getElementById(''header'');\n    const main = document.getElementById(''main'');\n    const body = document.body;\n\n    if (!sidebar || !backdrop || !indicator || !icon || !header || !main) return;\n\n    let isOpen = false;\n    let scrollTimeout = null;\n\n    const openSidebar = () => {\n      isOpen = true;\n      sidebar.classList.add(''sidebar--open'');\n      backdrop.classList.add(''sidebar-backdrop--visible'');\n      header.classList.add(''header--shifted'');\n      main.classList.add(''main--shifted'');\n      icon.classList.add(''chapter-number__icon--open'');\n      body.classList.add(''sidebar-open'');\n    };\n\n    const closeSidebar = () => {\n      isOpen = false;\n      sidebar.classList.remove(''sidebar--open'');\n      backdrop.classList.remove(''sidebar-backdrop--visible'');\n      header.classList.remove(''header--shifted'');\n      main.classList.remove(''main--shifted'');\n      icon.classList.remove(''chapter-number__icon--open'');\n      body.classList.remove(''sidebar-open'');\n    };\n\n    // Toggle sidebar\n    indicator.addEventListener(''click'', (e) => {\n      e.stopPropagation();\n      if (isOpen) {\n        closeSidebar();\n      } else {\n        openSidebar();\n      }\n    });\n\n    // Close sidebar when clicking backdrop\n    backdrop.addEventListener(''click'', () => {\n      closeSidebar();\n    });\n\n    // Close sidebar when clicking outside\n    document.addEventListener(''click'', (e) => {\n      // Don''t close sidebar if clicking on brand link or nav links\n      const brandLink = header.querySelector(''.brand'');\n      const isClickOnLink = brandLink && brandLink.contains(e.target);\n      const isClickOnNav = header.querySelector(''.nav'') && header.querySelector(''.nav'').contains(e.target);\n      \n      if (isOpen && !sidebar.contains(e.target) && !indicator.contains(e.target) && !isClickOnLink && !isClickOnNav) {\n        closeSidebar();\n      }\n    });\n\n    // Close sidebar on scroll (debounced)\n    const handleScroll = () => {\n      if (isOpen) {\n        clearTimeout(scrollTimeout);\n        scrollTimeout = setTimeout(() => {\n          closeSidebar();\n        }, 100);\n      }\n    };\n\n    // Listen for scroll on main content\n    window.addEventListener(''scroll'', handleScroll, { passive: true });\n    \n    // Also listen for scroll attempts on body (when scroll is disabled)\n    let lastScrollTop = window.pageYOffset;\n    const handleScrollAttempt = () => {\n      if (isOpen) {\n        const currentScrollTop = window.pageYOffset;\n        if (currentScrollTop !== lastScrollTop) {\n          closeSidebar();\n        }\n        lastScrollTop = currentScrollTop;\n      }\n    };\n\n    // Prevent scroll on body when sidebar is open\n    document.addEventListener(''wheel'', (e) => {\n      if (isOpen && !sidebar.contains(e.target)) {\n        e.preventDefault();\n        closeSidebar();\n      }\n    }, { passive: false });\n\n    // Prevent touch scroll on body when sidebar is open\n    document.addEventListener(''touchmove'', (e) => {\n      if (isOpen && !sidebar.contains(e.target)) {\n        e.preventDefault();\n        closeSidebar();\n      }\n    }, { passive: false });\n  })();\n  </script>\n\n  <!-- CHAPTER NAVIGATION (BOTTOM) JS -->\n  <script>\n  (() => {\n    // Chapter list: Preface = 0, Chapter 1-13 = 1-13, Postscript = 14\n    const chapters = [\n      { id: ''preface'', title: ''Preface'', url: ''https://arvinjaysoncastro.com/working-fundamentals-introduction'' },\n      { id: ''ch1'', title: ''Chapter 1'', url: ''https://arvinjaysoncastro.com/working-fundamentals-1-of-13-programming-fundamentals'' },\n      { id: ''ch2'', title: ''Chapter 2'', url: ''https://arvinjaysoncastro.com/working-fundamentals-2-of-13-data-structures'' },\n      { id: ''ch3'', title: ''Chapter 3'', url: ''https://arvinjaysoncastro.com/working-fundamentals-3-of-13-algorithms-and-complexity'' },\n      { id: ''ch4'', title: ''Chapter 4'', url: ''https://arvinjaysoncastro.com/working-fundamentals-4-of-13-control-and-flow'' },\n      { id: ''ch5'', title: ''Chapter 5'', url: ''https://arvinjaysoncastro.com/working-fundamentals-5-of-13-state-and-change'' },\n      { id: ''ch6'', title: ''Chapter 6'', url: ''https://arvinjaysoncastro.com/working-fundamentals-6-of-13-design-principles'' },\n      { id: ''ch7'', title: ''Chapter 7'', url: ''https://arvinjaysoncastro.com/working-fundamentals-7-of-13-architecture'' },\n      { id: ''ch8'', title: ''Chapter 8'', url: ''https://arvinjaysoncastro.com/working-fundamentals-8-of-13-persistence-and-data-modeling'' },\n      { id: ''ch9'', title: ''Chapter 9'', url: ''https://arvinjaysoncastro.com/working-fundamentals-9-of-13-interfaces-and-apis'' },\n      { id: ''ch10'', title: ''Chapter 10'', url: ''https://arvinjaysoncastro.com/working-fundamentals-10-of-13-errors-and-failure'' },\n      { id: ''ch11'', title: ''Chapter 11'', url: ''https://arvinjaysoncastro.com/working-fundamentals-11-of-13-testing'' },\n      { id: ''ch12'', title: ''Chapter 12'', url: ''https://arvinjaysoncastro.com/working-fundamentals-12-of-13-performance-and-scale'' },\n      { id: ''ch13'', title: ''Chapter 13'', url: ''https://arvinjaysoncastro.com/working-fundamentals-13-of-13-the-developers-role'' },\n      { id: ''postscript'', title: ''Postscript'', url: ''https://arvinjaysoncastro.com/working-fundamentals-outroduction'' }\n    ];\n\n    const currentChapterIndex = 9; // Chapter 1 is index 1 (Preface is 0)\n    const prevLink = document.getElementById(''prevChapter'');\n    const nextLink = document.getElementById(''nextChapter'');\n\n    if (!prevLink || !nextLink) return;\n\n    // Previous chapter\n    if (currentChapterIndex > 0) {\n      const prevChapter = chapters[currentChapterIndex - 1];\n      prevLink.href = prevChapter.url;\n      prevLink.target = ''_blank'';\n      prevLink.innerHTML = `\n        <span class=\"chapter-nav-bottom__arrow\">‚Üê</span>\n        <span class=\"chapter-nav-bottom__label\">Previous: ${prevChapter.title}</span>\n      `;\n    } else {\n      // No previous chapter - show \"go back to book list\"\n      prevLink.href = ''https://arvinjaysoncastro.com/hungry-dev-mind'';\n      prevLink.target = ''_blank'';\n      prevLink.innerHTML = `\n        <span class=\"chapter-nav-bottom__arrow\">‚Üê</span>\n        <span class=\"chapter-nav-bottom__label\">Go back to book list</span>\n      `;\n    }\n\n    // Next chapter\n    if (currentChapterIndex < chapters.length - 1) {\n      const nextChapter = chapters[currentChapterIndex + 1];\n      nextLink.href = nextChapter.url;\n      nextLink.target = ''_blank'';\n      nextLink.innerHTML = `\n        <span class=\"chapter-nav-bottom__label\">Next: ${nextChapter.title}</span>\n        <span class=\"chapter-nav-bottom__arrow\">‚Üí</span>\n      `;\n    } else {\n      // No next chapter - show \"go back to book list\"\n      nextLink.href = ''https://arvinjaysoncastro.com/hungry-dev-mind'';\n      nextLink.target = ''_blank'';\n      nextLink.innerHTML = `\n        <span class=\"chapter-nav-bottom__label\">Go back to book list</span>\n        <span class=\"chapter-nav-bottom__arrow\">‚Üí</span>\n      `;\n    }\n  })();\n  </script>\n\n  <!-- OPTIONAL JS -->\n <script>\n(() => {\n  const wrap = document.querySelector(''.book-wrap'');\n  if (!wrap) return;\n\n  const slab1 = wrap.querySelector(''.shadow-slab'');\n  const slab2 = wrap.querySelector(''.shadow-slab-2'');\n  const slab3 = wrap.querySelector(''.shadow-slab-3'');\n  const slab4 = wrap.querySelector(''.shadow-slab-4'');\n  const front = wrap.querySelector(''.front-slab'');\n\n  const clamp = (v, min, max) => Math.max(min, Math.min(max, v));\n\n  let raf = 0;\n  let lx = 0; // light vector x\n  let ly = 0; // light vector y\n\n  function render() {\n    raf = 0;\n\n    // Shadow direction = opposite of light\n    const sx = -lx;\n    const sy = -ly;\n\n    const intensity = Math.abs(lx) + Math.abs(ly);\n\n    /* ---------------------------\n       SLAB 1 ‚Äî KEY CAST SHADOW\n    ---------------------------- */\n    slab1.style.transform =\n      `translate(${(sx * 38).toFixed(2)}px, ${(sy * 38).toFixed(2)}px)`;\n    slab1.style.filter =\n      `blur(${(14 + intensity * 6).toFixed(2)}px)`;\n    slab1.style.opacity =\n      (0.28 + intensity * 0.14).toFixed(2);\n\n    /* ---------------------------\n       SLAB 2 ‚Äî BOUNCE / COLOR BLEED\n    ---------------------------- */\n    slab2.style.transform =\n      `translate(${(sx * 14).toFixed(2)}px, ${(sy * 14).toFixed(2)}px)`;\n    slab2.style.filter =\n      `blur(${(6 + intensity * 4).toFixed(2)}px)`;\n    slab2.style.opacity =\n      (0.16 + intensity * 0.10).toFixed(2);\n\n    /* ---------------------------\n       SLAB 3 ‚Äî CONTACT SHADOW\n    ---------------------------- */\n    slab3.style.transform =\n      `translate(${(sx * 6).toFixed(2)}px, ${(sy * 6).toFixed(2)}px)`;\n    slab3.style.filter = `blur(9px)`;\n    slab3.style.opacity =\n      (0.24 + Math.abs(lx) * 0.06).toFixed(2);\n\n    /* ---------------------------\n       SLAB 4 ‚Äî AMBIENT DEPTH\n    ---------------------------- */\n    slab4.style.transform =\n      `translate(${(sx * 3).toFixed(2)}px, ${(sy * 3).toFixed(2)}px)`;\n    slab4.style.filter = `blur(18px)`;\n    slab4.style.opacity =\n      (0.16 + Math.abs(ly) * 0.04).toFixed(2);\n\n    /* ---------------------------\n       FRONT SLAB ‚Äî SPECULAR RESPONSE\n       (moves TOWARD light)\n    ---------------------------- */\nif (front) {\n  // Very subtle counter-parallax (NOT toward light)\n  front.style.transform =\n    `translate(${(-lx * 1.6).toFixed(2)}px, ${(-ly * 1.6).toFixed(2)}px)`;\n\n  // Opacity increases when light is grazing\n  front.style.opacity =\n    (0.34 + intensity * 0.22).toFixed(2);\n\n  // Highlight shifts OPPOSITE the light direction\n  const gx = 50 - lx * 28;\n  const gy = 50 - ly * 28;\n  front.style.backgroundPosition = `${gx}% ${gy}%`;\n}\n\n  }\n\n  function onMove(e) {\n    const r = wrap.getBoundingClientRect();\n    const cx = r.left + r.width / 2;\n    const cy = r.top + r.height / 2;\n\n    // LIGHT VECTOR (mouse = light source)\n    lx = clamp((e.clientX - cx) / (r.width / 2), -1, 1);\n    ly = clamp((e.clientY - cy) / (r.height / 2), -1, 1);\n\n    if (!raf) raf = requestAnimationFrame(render);\n  }\n\n  window.addEventListener(''mousemove'', onMove, { passive: true });\n})();\n</script>\n</body>\n</html>\n", "css": "body { font-family: system-ui; padding: 20px; }", "js": "console.log(\"Code Runner initialized\");", "imports": {"css": [], "js": []}, "entryPoint": {"type": "htmlDocument", "mountSelector": "#app", "injectMountIfMissing": true}, "settings": {"mode": "play", "viewport": {"type": "responsive", "background": "white"}, "securityPreset": "trusted", "autoRun": true, "runOnLoad": true}, "codePanel": {"isVisible": false, "isEditable": false}}}]}]}',
    NULL,
    1,
    NOW()
);


-- 10. Errors & Failure
-- Slug: working-fundamentals-10-of-13-errors-and-failure
-- ID: 68e3d00b-441c-4dc4-a091-e01f844babcf
-- File: ch_10.html
INSERT INTO App_Pages (
    id, org_id, name, slug, template_code, layout, layout_version, is_active,
    created_by_user_id, created_at, updated_at, visibility, description,
    is_template, template_metadata, kind, parent_id, section_tags, section_purpose,
    section_scope, palette_id, is_default_variation, variation_order, template_purpose,
    is_listed, is_org_landing_page, report, folder, layout_raw, layout_quarantine,
    layout_schema_version, layout_ingested_at
) VALUES (
    '68e3d00b-441c-4dc4-a091-e01f844babcf',
    '82c2d096-2638-4837-83c8-e8a933bb17c7',
    'Errors & Failure',
    'working-fundamentals-10-of-13-errors-and-failure',
    NULL,
    '{"id": "block-root", "style": {}, "type": "container", "children": [{"id": "temp-container", "style": {"width": "100vw", "height": "100vh"}, "type": "container", "children": [{"id": "temp-coderunner", "style": {}, "type": "codeRunner", "data": {"html": "<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n  <meta charset=\"UTF-8\" />\n  <title>Working Fundamentals ‚Äî Arvin Jayson Castro</title>\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n\n  <!-- =====================\n       GLOBAL STYLES\n  ====================== -->\n  <style>\n    :root {\n      --bg: #f7f8f8;\n      --ink: #111111;\n      --muted: #666666;\n      --line: rgba(0,0,0,0.08);\n      --accent: #16a34a;\n      --link: #3b82f6;\n      --max-width: 1200px;\n    }\n\n    * {\n      box-sizing: border-box;\n    }\n\n    body {\n      margin: 0;\n      font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, sans-serif;\n      color: var(--ink);\n      background-color: var(--bg);\n      background-image:\n        radial-gradient(980px 560px at 14% 18%, rgba(16,185,129,0.10) 0%, rgba(16,185,129,0) 60%),\n        radial-gradient(860px 540px at 86% 74%, rgba(245,158,11,0.10) 0%, rgba(245,158,11,0) 62%),\n        repeating-linear-gradient(0deg, rgba(0,0,0,0.043) 0, rgba(0,0,0,0.043) 1px, transparent 1px, transparent 46px),\n        repeating-linear-gradient(90deg, rgba(0,0,0,0.043) 0, rgba(0,0,0,0.043) 1px, transparent 1px, transparent 46px);\n      min-height: 100vh;\n    }\n\n    a {\n      color: inherit;\n      text-decoration: none;\n    }\n\n    img {\n      max-width: 100%;\n      display: block;\n    }\n\n    /* =====================\n       PAGE WRAPPER\n    ====================== */\n    .page {\n      padding: 22px 24px;\n    }\n\n    .container {\n      max-width: var(--max-width);\n      margin: 0 auto;\n    }\n\n    /* =====================\n       SIDEBAR BACKDROP\n    ====================== */\n    .sidebar-backdrop {\n      position: fixed;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n      background: rgba(0, 0, 0, 0.2);\n      backdrop-filter: blur(4px);\n      -webkit-backdrop-filter: blur(4px);\n      opacity: 0;\n      visibility: hidden;\n      transition: opacity 0.3s ease, visibility 0.3s ease;\n      z-index: 999;\n      pointer-events: none;\n    }\n\n    .sidebar-backdrop--visible {\n      opacity: 1;\n      visibility: visible;\n      pointer-events: auto;\n    }\n\n    /* =====================\n       SIDEBAR\n    ====================== */\n    .sidebar {\n      position: fixed;\n      top: 0;\n      right: 0;\n      width: 320px;\n      height: 100vh;\n      background: var(--bg);\n      border-left: 1px solid var(--line);\n      transform: translateX(100%);\n      transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n      z-index: 1000;\n      overflow-y: auto;\n      padding: 24px;\n    }\n\n    .sidebar--open {\n      transform: translateX(0);\n    }\n\n    .sidebar__title {\n      font-size: 16px;\n      font-weight: 600;\n      margin-bottom: 24px;\n      color: var(--ink);\n    }\n\n    /* Prevent body scroll when sidebar is open */\n    body.sidebar-open {\n      overflow: hidden;\n    }\n\n    .sidebar__chapter-list {\n      list-style: none;\n      margin: 0;\n      padding: 0;\n    }\n\n    .sidebar__chapter-item {\n      margin: 0 0 8px 0;\n    }\n\n    .sidebar__chapter-link {\n      display: block;\n      font-size: 14px;\n      color: var(--muted);\n      text-decoration: none;\n      padding: 8px 0;\n      transition: color 0.2s ease;\n      line-height: 1.5;\n    }\n\n    .sidebar__chapter-link:hover {\n      color: var(--ink);\n    }\n\n    .sidebar__chapter-link {\n      color: var(--ink);\n      font-weight: 500;\n    }\n\n    /* =====================\n       HEADER (Top bar with chapter indicator)\n    ====================== */\n    .header {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      padding: 10px 0;\n      border-bottom: 1px solid var(--line);\n      position: relative;\n      transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n    }\n\n    .header--shifted {\n      transform: translateX(-320px);\n    }\n\n    .brand {\n      font-size: 16px;\n      font-weight: 600;\n      cursor: pointer;\n      display: inline-block;\n    }\n\n    .nav {\n      display: flex;\n      gap: 24px;\n      align-items: center;\n      font-size: 14px;\n    }\n\n    .nav a {\n      color: #1f2937;\n    }\n\n    .linkedin {\n      display: flex;\n      flex-direction: column;\n      align-items: flex-start;\n    }\n\n    .linkedin a {\n      color: var(--link);\n    }\n\n    .linkedin span {\n      font-family: Georgia, serif;\n      font-size: 9px;\n      font-style: italic;\n      color: #999;\n    }\n\n    /* =====================\n       MAIN GRID\n    ====================== */\n    .main {\n      padding-top: 48px;\n      padding-bottom: 48px;\n      display: flex;\n      justify-content: center;\n      align-items: start;\n    }\n\n    /* =====================\n       CHAPTER READING AREA (Option 1: Magazine-style)\n    ====================== */\n    .chapter-content {\n      max-width: 768px;\n      width: 100%;\n      margin: 0 auto;\n    }\n\n    .chapter-header {\n      margin-bottom: 56px;\n      padding-bottom: 32px;\n      border-bottom: 2px solid var(--line);\n    }\n\n    .book-title {\n      font-size: 12px;\n      letter-spacing: 0.15em;\n      text-transform: uppercase;\n      color: var(--muted);\n      font-weight: 500;\n      margin-bottom: 8px;\n      opacity: 0.7;\n    }\n\n    .chapter-number {\n      font-size: 13px;\n      letter-spacing: 0.2em;\n      text-transform: uppercase;\n      color: var(--muted);\n      font-weight: 600;\n      margin-bottom: 12px;\n      display: flex;\n      align-items: center;\n      gap: 8px;\n      cursor: pointer;\n      user-select: none;\n      transition: color 0.2s ease;\n    }\n\n    .chapter-number:hover {\n      color: var(--ink);\n    }\n\n    .chapter-number__icon {\n      font-size: 10px;\n      opacity: 0.6;\n      transition: transform 0.3s ease, opacity 0.2s ease;\n    }\n\n    .chapter-number:hover .chapter-number__icon {\n      opacity: 0.8;\n    }\n\n    .chapter-number__icon--open {\n      transform: rotate(180deg);\n    }\n\n    .chapter-title {\n      font-size: 56px;\n      font-weight: 900;\n      line-height: 1.05;\n      margin: 0 0 20px 0;\n      color: var(--ink);\n      letter-spacing: -0.03em;\n    }\n\n    .chapter-subtitle {\n      font-size: 22px;\n      font-weight: 500;\n      color: var(--muted);\n      line-height: 1.4;\n      margin: 0;\n    }\n\n    .chapter-body {\n      font-size: 19px;\n      line-height: 1.8;\n      color: var(--ink);\n      max-width: none;\n      font-weight: 400;\n    }\n\n    .chapter-body p {\n      margin: 0 0 28px 0;\n    }\n\n    .chapter-body p:last-child {\n      margin-bottom: 0;\n    }\n\n    .chapter-body h2 {\n      font-size: 36px;\n      font-weight: 800;\n      line-height: 1.2;\n      margin: 56px 0 24px 0;\n      color: var(--ink);\n      letter-spacing: -0.02em;\n    }\n\n    .chapter-body h3 {\n      font-size: 26px;\n      font-weight: 700;\n      line-height: 1.3;\n      margin: 40px 0 18px 0;\n      color: var(--ink);\n      letter-spacing: -0.01em;\n    }\n\n    .chapter-body strong {\n      font-weight: 600;\n      color: var(--ink);\n    }\n\n    .chapter-body em {\n      font-style: italic;\n    }\n\n    .chapter-body ul,\n    .chapter-body ol {\n      margin: 28px 0;\n      padding-left: 36px;\n    }\n\n    .chapter-body li {\n      margin-bottom: 14px;\n      line-height: 1.75;\n    }\n\n    .chapter-body blockquote {\n      margin: 40px 0;\n      padding-left: 28px;\n      border-left: 4px solid var(--accent);\n      font-style: italic;\n      color: var(--muted);\n      font-size: 18px;\n      line-height: 1.7;\n    }\n\n    .chapter-body code {\n      font-family: ''Monaco'', ''Menlo'', ''Courier New'', monospace;\n      font-size: 0.9em;\n      background: rgba(0,0,0,0.04);\n      padding: 2px 6px;\n      border-radius: 3px;\n    }\n\n    .chapter-body pre {\n      background: rgba(0,0,0,0.04);\n      padding: 20px;\n      border-radius: 8px;\n      overflow-x: auto;\n      margin: 24px 0;\n    }\n\n    .chapter-body pre code {\n      background: none;\n      padding: 0;\n    }\n\n    /* Content shift when sidebar opens */\n    .main {\n      transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n    }\n\n    .main--shifted {\n      transform: translateX(-320px);\n    }\n\n    /* Prevent horizontal scroll */\n    body {\n      overflow-x: hidden;\n    }\n\n    .page {\n      overflow-x: hidden;\n    }\n\n    /* =====================\n       CHAPTER NAVIGATION (BOTTOM)\n    ====================== */\n    .chapter-nav-bottom {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      max-width: 768px;\n      width: 100%;\n      margin: 64px auto 0 auto;\n      padding: 24px 0;\n      border-top: 1px solid var(--line);\n    }\n\n    .chapter-nav-bottom__link {\n      display: flex;\n      align-items: center;\n      gap: 8px;\n      font-size: 14px;\n      color: var(--muted);\n      text-decoration: none;\n      transition: color 0.2s ease;\n      padding: 8px 0;\n    }\n\n    .chapter-nav-bottom__link:hover {\n      color: var(--ink);\n    }\n\n    .chapter-nav-bottom__arrow {\n      font-size: 16px;\n      opacity: 0.7;\n    }\n\n    .chapter-nav-bottom__label {\n      font-weight: 500;\n    }\n\n    .chapter-nav-bottom__link--prev {\n      margin-right: auto;\n    }\n\n    .chapter-nav-bottom__link--next {\n      margin-left: auto;\n    }\n\n    .chapter-nav-bottom__link--disabled {\n      opacity: 0.4;\n      cursor: not-allowed;\n      pointer-events: none;\n    }\n\n    .page-widget__pages {\n      max-height: 0;\n      overflow: hidden;\n      transition: max-height 0.4s cubic-bezier(0.4, 0, 0.2, 1),\n                  opacity 0.3s ease,\n                  margin-top 0.3s ease;\n      opacity: 0;\n      margin-top: 0;\n      background: rgba(255, 255, 255, 0.98);\n      backdrop-filter: blur(12px);\n      -webkit-backdrop-filter: blur(12px);\n      border: 1px solid rgba(0, 0, 0, 0.06);\n      border-radius: 12px;\n      box-shadow: 0 2px 12px rgba(0, 0, 0, 0.06);\n    }\n\n    .page-widget__pages--expanded {\n      max-height: 500px;\n      opacity: 1;\n      margin-top: 12px;\n      padding: 8px;\n    }\n\n    .page-widget__pages-list {\n      list-style: none;\n      margin: 0;\n      padding: 0;\n      display: flex;\n      flex-direction: column;\n      gap: 8px;\n      max-height: 400px;\n      overflow-y: auto;\n      padding-right: 4px;\n    }\n\n    .page-widget__pages-list::-webkit-scrollbar {\n      width: 6px;\n    }\n\n    .page-widget__pages-list::-webkit-scrollbar-track {\n      background: rgba(0, 0, 0, 0.02);\n      border-radius: 3px;\n    }\n\n    .page-widget__pages-list::-webkit-scrollbar-thumb {\n      background: rgba(0, 0, 0, 0.12);\n      border-radius: 3px;\n    }\n\n    .page-widget__pages-list::-webkit-scrollbar-thumb:hover {\n      background: rgba(0, 0, 0, 0.2);\n    }\n\n    .page-widget__page-item {\n      display: flex;\n      align-items: center;\n      gap: 10px;\n      padding: 8px 10px;\n      border-radius: 8px;\n      cursor: pointer;\n      transition: all 0.2s ease;\n      text-decoration: none;\n      color: var(--ink);\n    }\n\n    .page-widget__page-item:hover {\n      background: rgba(0, 0, 0, 0.03);\n      transform: translateX(2px);\n    }\n\n    .page-widget__page-item--current {\n      background: rgba(22, 163, 74, 0.08);\n      color: var(--accent);\n      font-weight: 500;\n    }\n\n    .page-widget__page-item--current:hover {\n      background: rgba(22, 163, 74, 0.12);\n    }\n\n    .page-widget__page-number {\n      display: inline-flex;\n      align-items: center;\n      justify-content: center;\n      width: 24px;\n      height: 24px;\n      background: rgba(0, 0, 0, 0.04);\n      border-radius: 5px;\n      font-size: 11px;\n      font-weight: 500;\n      flex-shrink: 0;\n      color: var(--muted);\n    }\n\n    .page-widget__page-item--current .page-widget__page-number {\n      background: rgba(22, 163, 74, 0.15);\n      color: var(--accent);\n    }\n\n    .page-widget__page-info {\n      flex: 1;\n      min-width: 0;\n    }\n\n    .page-widget__page-name {\n      font-size: 13px;\n      font-weight: 500;\n      line-height: 1.3;\n      margin: 0 0 2px 0;\n    }\n\n    .page-widget__page-note {\n      font-size: 11px;\n      color: var(--muted);\n      line-height: 1.3;\n      margin: 0;\n      white-space: nowrap;\n      overflow: hidden;\n      text-overflow: ellipsis;\n    }\n\n    @media (max-width: 768px) {\n      .page-widget__pages-list {\n        max-height: 300px;\n      }\n    }\n\n\n/* ===============================\n   WRAPPER\n================================ */\n.book-wrap {\n  width: 320px;\n  aspect-ratio: 2 / 3;\n  position: relative;\n}\n\n/* ===============================\n   CAST SHADOW SLAB (REAL SHADOW)\n================================ */\n.shadow-slab {\n    position: absolute;\n    position: absolute;\n    inset: 0;\n    border-radius: 22px;\n    /* background: #2a2a2a; */\n    transform: translate(-30px, 30px);\n    filter: blur(13px);\n    opacity: 0.35;\n    z-index: 0;\n    background: radial-gradient(ellipse at 15% 85%, rgba(0, 0, 0, 0.35), rgba(0, 0, 0, 0.18) 35%, transparent 65%), linear-gradient(to right, #1f1f1f 0%, #2a2a2a 45%, #3a3a3a 100%);\n}\n\n.shadow-slab-2 {\n    position: absolute;\n    inset: 0;\n    border-radius: 22px;\n    background: radial-gradient(circle at top right, #f6e6a8 0%, #e2c36b 35%, #b58a3c 70%, #7a5524 100%);\n    transform: translate(-10px, 10px);\n    filter: blur(5px);\n    opacity: 0.35;\n    z-index: 0;\n}\n\n.shadow-slab-3 {\n    position: absolute;\n    inset: 0;\n    border-radius: 22px;\n    background: #333;\n    transform: translate(0px, 0px);\n    filter: blur(11px);\n    opacity: 0.35;\n    z-index: 0;\n}\n\n.shadow-slab-4 {\n    position: absolute;\n    inset: 0;\n    border-radius: 22px;\n    background: #333;\n    transform: translate(0px, 0px);\n    filter: blur(11px);\n    opacity: 0.35;\n    z-index: 0;\n}\n\n/* ===============================\n   FRONT SLAB & SPIN HANDLE\n================================ */\n\n.front-slab {\n    position: absolute;\n    inset: 0;\n    border-radius: 22px;\n    background: linear-gradient(to right, rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.1) 3%, transparent 1%);\n    /* background: green; */\n    z-index: 3;\n    opacity: .5;\n    transform: translateZ(6px);\n    pointer-events: none;\n}\n\n.spin-handle {\n  display: none;\n  position: absolute;\n  top: 50%;\n  right: -22px;\n  width: 14px;\n  height: 48px;\n  border-radius: 999px;\n  background: rgba(0,0,0,0.25);\n  backdrop-filter: blur(4px);\n  cursor: grab;\n  z-index: 10;\n}\n\n/* ===============================\n   BOOK OBJECT (NO SHADOW)\n================================ */\n.book {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  border-radius: 22px;\n  overflow: hidden;\n  z-index: 2;\n\n  /* IMPORTANT: no box-shadow */\n  box-shadow: none;\n\n  /* transform: perspective(1200px) rotateX(0.6deg); */\n}\n\n/* ===============================\n   PAPER SURFACE (LIGHT FIELD)\n================================ */\n.book .surface {\n  position: absolute;\n  inset: 0;\n  border-radius: inherit;\n  pointer-events: none;\n  z-index: 1;\n\n  background:\n    linear-gradient(\n      to bottom left,\n      rgba(255,255,255,1) 0%,\n      rgba(250,250,250,1) 42%,\n      rgba(240,240,240,1) 100%\n    ),\n    repeating-linear-gradient(\n      0deg,\n      rgba(0,0,0,0.01),\n      rgba(0,0,0,0.01) 1px,\n      transparent 1px,\n      transparent 3px\n    );\n}\n\n/* ===============================\n   LEFT OCCLUSION (CURTAIN)\n================================ */\n.book .curtain {\n  position: absolute;\n  inset: 0;\n  border-radius: inherit;\n  pointer-events: none;\n  z-index: 2;\n\n  background:\n    linear-gradient(\n      to right,\n      rgba(0,0,0,0.20) 0%,\n      rgba(0,0,0,0.12) 8%,\n      rgba(0,0,0,0.05) 16%,\n      rgba(0,0,0,0.02) 22%,\n      rgba(0,0,0,0.00) 30%\n    );\n}\n\n/* ===============================\n   RIGHT HIGHLIGHT\n================================ */\n.book .highlight {\n  position: absolute;\n  inset: 0;\n  border-radius: inherit;\n  pointer-events: none;\n  z-index: 3;\n\n  background:\n    linear-gradient(\n      to left,\n      rgba(255,255,255,0.35) 0%,\n      rgba(255,255,255,0.18) 6%,\n      rgba(255,255,255,0.06) 14%,\n      rgba(255,255,255,0.00) 24%\n    );\n}\n\n/* ===============================\n   PAGE EDGE (THICKNESS)\n================================ */\n.book .edge {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 120px;\n  height: 100%;\n  border-radius: 22px 0 0 22px;\n  pointer-events: none;\n  z-index: 4;\n\n  background:\n    linear-gradient(\n      to right,\n      rgba(215,215,215,0.95) 0%,\n      rgba(245,245,245,0.95) 40%,\n      rgba(255,255,255,0.95) 75%\n    );\n\n  box-shadow:\n    inset -1px 0 0 rgba(0,0,0,0.05);\n}\n\n/* ===============================\n   SVG (PURE WHITE)\n================================ */\n.book svg {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  display: block;\n  z-index: 5;\n}\n\n    /* =====================\n       LEFT: BOOK COVER\n    ====================== */\n    .book-cover {\n      display: flex;\n      flex-direction: column;\n      gap: 12px;\n    }\n\n\n    /* ===============================\n       BOOK + SHADOW SYSTEM\n    =============================== */\n    .book-wrap {\n      width: 320px;\n      aspect-ratio: 2 / 3;\n      position: relative;\n    }\n\n    .shadow-slab,\n    .shadow-slab-2,\n    .shadow-slab-3,\n    .shadow-slab-4 {\n      position: absolute;\n      inset: 0;\n      border-radius: 22px;\n      z-index: 0;\n      will-change: transform, filter, opacity;\n    }\n\n    .shadow-slab {\n      background:\n        radial-gradient(ellipse at 15% 85%, rgba(0,0,0,0.35), rgba(0,0,0,0.18) 35%, transparent 65%),\n        linear-gradient(to right, #1f1f1f 0%, #2a2a2a 45%, #3a3a3a 100%);\n      filter: blur(13px);\n      opacity: 0.35;\n    }\n\n    .shadow-slab-2 {\n      background: radial-gradient(circle at top right, #f6e6a8 0%, #e2c36b 35%, #b58a3c 70%, #7a5524 100%);\n      filter: blur(6px);\n      opacity: 0.30;\n    }\n\n    .shadow-slab-3,\n    .shadow-slab-4 {\n      background: #333;\n      filter: blur(11px);\n      opacity: 0.30;\n    }\n\n    .book {\n      position: relative;\n      width: 100%;\n      height: 100%;\n      border-radius: 22px;\n      overflow: hidden;\n      z-index: 2;\n      background: #f7f4ee;\n    }\n\n    .front-slab {\n      position: absolute;\n      inset: 0;\n      border-radius: 22px;\n      background: linear-gradient(to right, rgba(0,0,0,0.4), rgba(0,0,0,0.1) 3%, transparent 10%);\n      z-index: 3;\n      pointer-events: none;\n      opacity: 0.5;\n    }\n\n\n    @media (prefers-reduced-motion: reduce) {\n      .cover-frame {\n        transition: none;\n        transform: none;\n      }\n      .cover-frame:hover {\n        --lift: 0;\n      }\n    }\n\n    .start-reading {\n      display: inline-flex;\n      align-items: center;\n      justify-content: center;\n      width: 100%;\n      padding: 12px 14px;\n      border-radius: 999px;\n\n      font-size: 11px;\n      letter-spacing: 0.16em;\n      text-transform: uppercase;\n      font-weight: 650;\n      color: rgba(34,197,94,0.92);\n      text-shadow:\n        0 0 10px rgba(34,197,94,0.22),\n        0 0 22px rgba(34,197,94,0.14);\n\n      /* graphite: dark + slightly mineral */\n      background:\n        radial-gradient(120% 140% at 20% 10%, rgba(255,255,255,0.10) 0%, rgba(255,255,255,0.00) 55%),\n        radial-gradient(140% 140% at 80% 90%, rgba(255,255,255,0.06) 0%, rgba(255,255,255,0.00) 60%),\n        linear-gradient(180deg, #141414 0%, #0a0a0a 100%);\n      border: 1px solid rgba(255,255,255,0.10);\n      box-shadow:\n        0 14px 34px rgba(0,0,0,0.22),\n        0 8px 16px rgba(0,0,0,0.18),\n        inset 0 1px 0 rgba(255,255,255,0.10),\n        inset 0 -1px 0 rgba(0,0,0,0.55);\n\n      position: relative;\n      overflow: hidden;\n      cursor: pointer;\n      user-select: none;\n      -webkit-tap-highlight-color: transparent;\n\n      transition:\n        transform 160ms cubic-bezier(0.2, 0.8, 0.2, 1),\n        box-shadow 160ms cubic-bezier(0.2, 0.8, 0.2, 1),\n        border-color 160ms cubic-bezier(0.2, 0.8, 0.2, 1);\n    }\n\n    .start-reading::before {\n      content: \"\";\n      position: absolute;\n      inset: 0;\n      pointer-events: none;\n      /* texture + sheen (very subtle) */\n      background:\n        linear-gradient(120deg, rgba(255,255,255,0.12) 0%, rgba(255,255,255,0.00) 46%),\n        repeating-linear-gradient(0deg,\n          rgba(255,255,255,0.028) 0px,\n          rgba(255,255,255,0.028) 1px,\n          rgba(0,0,0,0.00) 3px,\n          rgba(0,0,0,0.00) 6px),\n        radial-gradient(120% 90% at 50% 0%, rgba(34,197,94,0.14) 0%, rgba(34,197,94,0.00) 62%);\n      opacity: 0.75;\n    }\n\n    .start-reading:hover {\n      transform: translateY(-1px);\n      border-color: rgba(34,197,94,0.30);\n      box-shadow:\n        0 18px 42px rgba(0,0,0,0.24),\n        0 10px 18px rgba(0,0,0,0.18),\n        inset 0 1px 0 rgba(255,255,255,0.12),\n        inset 0 -1px 0 rgba(0,0,0,0.55);\n      text-shadow:\n        0 0 12px rgba(34,197,94,0.28),\n        0 0 26px rgba(34,197,94,0.18);\n    }\n\n    .start-reading:active {\n      transform: translateY(0px);\n      box-shadow:\n        0 14px 34px rgba(0,0,0,0.22),\n        0 8px 16px rgba(0,0,0,0.18),\n        inset 0 1px 0 rgba(255,255,255,0.10),\n        inset 0 -1px 0 rgba(0,0,0,0.55);\n    }\n\n    .start-reading:focus-visible {\n      outline: none;\n      box-shadow:\n        0 18px 42px rgba(0,0,0,0.24),\n        0 0 0 4px rgba(34,197,94,0.22),\n        0 0 0 1px rgba(34,197,94,0.26),\n        inset 0 1px 0 rgba(255,255,255,0.12),\n        inset 0 -1px 0 rgba(0,0,0,0.55);\n      border-color: rgba(34,197,94,0.34);\n    }\n\n    @media (prefers-reduced-motion: reduce) {\n      .start-reading {\n        transition: none;\n      }\n      .start-reading:hover {\n        transform: none;\n      }\n    }\n\n    /* =====================\n       CENTER: CONTENT\n    ====================== */\n    .content h1 {\n      font-size: 40px;\n      font-weight: 800;\n      line-height: 1.15;\n      margin: 0;\n    }\n\n    .byline {\n      font-size: 13px;\n      letter-spacing: 0.12em;\n      color: #666;\n      font-weight: 600;\n    }\n\n    .tagline {\n      font-size: 18px;\n      font-weight: 500;\n      color: #333;\n    }\n\n    .paragraph {\n      font-size: 15px;\n      color: #222;\n    }\n\n    .meta {\n      margin-top: 20px;\n      padding-top: 20px;\n      border-top: 1px solid var(--line);\n      display: grid;\n      grid-template-columns: repeat(2, 1fr);\n      gap: 12px 24px;\n      font-size: 13px;\n    }\n\n    .author {\n      margin-top: 20px;\n      padding-top: 20px;\n      border-top: 1px solid var(--line);\n      display: flex;\n      gap: 16px;\n      align-items: flex-start;\n    }\n\n    .author img {\n      width: 44px;\n      height: 44px;\n      border-radius: 50%;\n    }\n\n    /* =====================\n       RIGHT: RELATED\n    ====================== */\n    .related {\n      display: flex;\n      flex-direction: column;\n      gap: 20px;\n    }\n\n    .related-title {\n      font-size: 11px;\n      letter-spacing: 0.14em;\n      color: #666;\n      text-transform: uppercase;\n      font-weight: 600;\n    }\n\n    .related-item {\n      display: flex;\n      flex-direction: column;\n      gap: 6px;\n      cursor: pointer;\n      transition: transform 0.12s ease, box-shadow 0.12s ease;\n    }\n\n    .related-item:hover {\n      transform: translateY(-2px);\n    }\n\n    .related-thumb {\n      border-radius: 6px;\n      overflow: hidden;\n      aspect-ratio: 3 / 4;\n      box-shadow: 0 8px 24px rgba(0,0,0,0.1);\n\n      /* Gray placeholder shape */\n      background: linear-gradient(135deg, #e5e7eb 0%, #d1d5db 45%, #cbd5e1 100%);\n      border: 1px solid rgba(0,0,0,0.06);\n    }\n\n    .related-thumb img {\n      width: 100%;\n      height: 100%;\n      object-fit: cover;\n      filter: grayscale(1);\n      opacity: 0.85;\n      transition: filter 160ms ease, opacity 160ms ease;\n    }\n\n    .related-thumb .thumb-placeholder {\n      width: 100%;\n      height: 100%;\n      display: block;\n    }\n\n    .related-item a {\n      font-size: 12px;\n      font-weight: 600;\n      color: #111;\n    }\n\n    /* =====================\n       RIGHT: 13 CHAPTERS\n    ====================== */\n    .chapters {\n      display: flex;\n      flex-direction: column;\n      gap: 10px;\n    }\n\n    .chapters-title {\n      font-size: 11px;\n      letter-spacing: 0.12em;\n      color: rgba(17,17,17,0.52);\n      text-transform: uppercase;\n      font-weight: 600;\n    }\n\n    .chapters-help {\n      margin-top: -4px;\n      font-size: 11px;\n      line-height: 1.35;\n      color: rgba(17,17,17,0.42);\n    }\n\n    .chapter-list {\n      list-style: none;\n      padding: 0;\n      margin: 0;\n      display: flex;\n      flex-direction: column;\n      gap: 0;\n      border-top: 1px solid rgba(0,0,0,0.06);\n    }\n\n    .chapter-item {\n      display: grid;\n      grid-template-columns: 3ch 1fr;\n      gap: 12px;\n      align-items: start;\n      padding: 10px 0;\n      border-bottom: 1px solid rgba(0,0,0,0.06);\n    }\n\n    .chapter-item--preface .chapter-name {\n      font-weight: 760;\n      letter-spacing: -0.01em;\n      color: rgba(17,17,17,0.90);\n    }\n\n    .chapter-item--current .chapter-name {\n      color: rgba(17,17,17,0.92);\n      text-decoration: underline;\n      text-decoration-thickness: 1px;\n      text-underline-offset: 3px;\n      text-decoration-color: rgba(17,17,17,0.22);\n    }\n\n    .chapter-num {\n      width: auto;\n      height: auto;\n      border-radius: 0;\n      display: block;\n      text-align: right;\n      font-size: 11px;\n      font-weight: 650;\n      color: rgba(17,17,17,0.46);\n      font-variant-numeric: tabular-nums;\n    }\n\n    .chapter-name {\n      font-size: 12px;\n      font-weight: 600;\n      color: rgba(17,17,17,0.80);\n      line-height: 1.3;\n    }\n\n    .chapter-note {\n      margin-top: 2px;\n      font-size: 11px;\n      color: rgba(17,17,17,0.46);\n      line-height: 1.4;\n    }\n\n    /* =====================\n       RESPONSIVE\n    ====================== */\n    @media (max-width: 900px) {\n      .chapter-content {\n        max-width: 100%;\n        padding: 0 24px;\n      }\n\n      .page-widget {\n        max-width: 100%;\n        margin-left: 24px;\n        margin-right: 24px;\n      }\n\n      .chapter-title {\n        font-size: 42px;\n      }\n\n      .chapter-body {\n        font-size: 18px;\n      }\n\n      .chapter-body h2 {\n        font-size: 32px;\n      }\n\n      .chapter-body h3 {\n        font-size: 24px;\n      }\n    }\n\n    @media (max-width: 768px) {\n      .header {\n        flex-direction: column;\n        gap: 12px;\n      }\n\n      .chapter-content {\n        padding: 0 16px;\n      }\n\n      .page-widget {\n        margin-left: 16px;\n        margin-right: 16px;\n      }\n\n      .chapter-title {\n        font-size: 38px;\n      }\n\n      .chapter-body {\n        font-size: 17px;\n      }\n\n      .chapter-body h2 {\n        font-size: 30px;\n      }\n\n      .chapter-body h3 {\n        font-size: 22px;\n      }\n    }\n  </style>\n</head>\n\n<body>\n  <div class=\"page\">\n    <div class=\"container\">\n\n      <!-- SIDEBAR BACKDROP -->\n      <div class=\"sidebar-backdrop\" id=\"sidebarBackdrop\"></div>\n\n      <!-- SIDEBAR -->\n      <aside class=\"sidebar\" id=\"sidebar\">\n        <div class=\"sidebar__title\">Working Fundamentals</div>\n        <ul class=\"sidebar__chapter-list\">\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-introduction\" class=\"sidebar__chapter-link\" target=\"_blank\">Introduction</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-1-of-13-programming-fundamentals\" class=\"sidebar__chapter-link sidebar__chapter-link\" target=\"_blank\">Chapter 1 ¬∑ Programming Fundamentals</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-2-of-13-data-structures\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 2 ¬∑ Data Structures</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-3-of-13-algorithms-and-complexity\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 3 ¬∑ Algorithms & Complexity</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-4-of-13-control-and-flow\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 4 ¬∑ Control & Flow</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-5-of-13-state-and-change\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 5 ¬∑ State & Change</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-6-of-13-design-principles\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 6 ¬∑ Design Principles</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-7-of-13-architecture\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 7 ¬∑ Architecture</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-8-of-13-persistence-and-data-modeling\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 8 ¬∑ Persistence & Data Modeling</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-9-of-13-interfaces-and-apis\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 9 ¬∑ Interfaces & APIs</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"#\" class=\"sidebar__chapter-link\"> class=\"sidebar__chapter-link sidebar__chapter-link--current\">Chapter 10 ¬∑ Errors\\ \\&\\ Failure</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-11-of-13-testing\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 11 ¬∑ Testing</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-12-of-13-performance-and-scale\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 12 ¬∑ Performance & Scale</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-13-of-13-the-developers-role\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 13 ¬∑ The Developer''s Role</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-outroduction\" class=\"sidebar__chapter-link\" target=\"_blank\">Outroduction</a>\n          </li>\n        </ul>\n      </aside>\n\n      <!-- HEADER -->\n      <header class=\"header\" id=\"header\">\n        <a href=\"https://arvinjaysoncastro.com/\" class=\"brand\" target=\"_blank\">Arvin Jayson Castro</a>\n        <nav class=\"nav\">\n          <a href=\"https://arvinjaysoncastro.com/hungry-dev-mind\" target=\"_blank\">Books</a>\n          <a href=\"https://arvinjaysoncastro.com/working-systems\" target=\"_blank\">Working Systems</a>\n          <a href=\"https://arvinjaysoncastro.com/about\" target=\"_blank\">16 Years</a>\n          <div class=\"linkedin\">\n            <a href=\"https://www.linkedin.com/in/arvin-jayson-castro-7458199a/\" target=\"_blank\">linkedIn</a>\n            <span>let''s connect</span>\n          </div>\n        </nav>\n      </header>\n\n      <!-- PAGE WIDGET (TOP) - REMOVED -->\n      <div style=\"display: none;\">\n          <ol class=\"page-widget__pages-list\">\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">P</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Preface</div>\n                  <div class=\"page-widget__page-note\">Why fundamentals still decide outcomes.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item page-widget__page-item--current\">\n                <span class=\"page-widget__page-number\">1</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 1</div>\n                  <div class=\"page-widget__page-note\">Core principles and constraints.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">2</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 2</div>\n                  <div class=\"page-widget__page-note\">Boundaries, ownership, and interfaces.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">3</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 3</div>\n                  <div class=\"page-widget__page-note\">State, consistency, and failure modes.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">4</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 4</div>\n                  <div class=\"page-widget__page-note\">Abstractions that survive change.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">5</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 5</div>\n                  <div class=\"page-widget__page-note\">Simplicity as an engineering practice.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">6</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 6</div>\n                  <div class=\"page-widget__page-note\">Reliability, observability, and feedback.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">7</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 7</div>\n                  <div class=\"page-widget__page-note\">Delivery systems and decision hygiene.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">8</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 8</div>\n                  <div class=\"page-widget__page-note\">Documentation that stays useful.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">9</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 9</div>\n                  <div class=\"page-widget__page-note\">Testing strategy for predictable change.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">10</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 10</div>\n                  <div class=\"page-widget__page-note\">Pragmatic architecture for teams.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">11</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 11</div>\n                  <div class=\"page-widget__page-note\">Operational excellence without ceremony.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">12</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 12</div>\n                  <div class=\"page-widget__page-note\">Leadership, standards, and leverage.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">13</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 13</div>\n                  <div class=\"page-widget__page-note\">Making fundamentals non-negotiable.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">PS</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Postscript</div>\n                  <div class=\"page-widget__page-note\">A short operating model to carry forward.</div>\n                </div>\n              </a>\n            </li>\n          </ol>\n        </div>\n      </div>\n\n      <!-- MAIN -->\n      <main class=\"main\" id=\"main\">\n\n        <!-- CHAPTER CONTENT (Option 1: Magazine-style) -->\n        <article class=\"chapter-content\">\n          <header class=\"chapter-header\">\n            <div class=\"book-title\">Working Fundamentals</div>\n            <div class=\"chapter-number\" id=\"chapterIndicator\">\n              <span>chapter 10 of 13</span>\n              <span class=\"chapter-number__icon\" id=\"chapterIndicatorIcon\">‚ñæ</span>\n            </div>\n            <h1 class=\"chapter-title\">Errors & Failure</h1>\n            <p class=\"chapter-subtitle\">Assumptions made explicit</p>\n          </header>\n\n          <div class=\"chapter-body\">\n            <h3>What this chapter is</h3>\n\n            <p>This chapter is not about exceptions.It is not about error codes.It is not about retries, timeouts, or logs.</p>\n\n            <p>This chapter is about <strong>truth</strong>.</p>\n\n            <p>Errors exist because reality did not match your assumptions.</p>\n\n            <h2>The core truth</h2>\n\n            <p>Failure is not an accident.</p>\n\n            <p>Failure is a <strong>revealed assumption</strong>.</p>\n\n            <p>When a system fails, it is saying:</p>\n\n            <blockquote>‚ÄúI expected the world to behave differently.‚Äù</blockquote>\n\n            <p>Ignoring that message does not restore correctness.</p>\n\n            <p>üß† <strong>Mental Model</strong>Every error is an assumption becoming visible.</p>\n\n            <h2>Why failure must be designed</h2>\n\n            <p>Most systems treat failure as an afterthought.</p>\n\n            <p>They design for:</p>\n\n            <ul>\n\n            <li>the happy path</li>\n\n            </ul>\n\n            <ul>\n\n            <li>correct inputs</li>\n\n            </ul>\n\n            <ul>\n\n            <li>perfect timing</li>\n\n            </ul>\n\n            <ul>\n\n            <li>reliable dependencies</li>\n\n            </ul>\n\n            <p>Reality does not agree.</p>\n\n            <p>Failure that is not designed becomes:</p>\n\n            <ul>\n\n            <li>partial updates</li>\n\n            </ul>\n\n            <ul>\n\n            <li>silent corruption</li>\n\n            </ul>\n\n            <ul>\n\n            <li>cascading outages</li>\n\n            </ul>\n\n            <ul>\n\n            <li>data inconsistency</li>\n\n            </ul>\n\n            <p>üß† <strong>Architect‚Äôs Note</strong>The most dangerous failures are the quiet ones.</p>\n\n            <h2>Failure is a first-class path</h2>\n\n            <p>Failure is not an interruption to control flow.It is <strong>an alternate path</strong>.</p>\n\n            <p>Every failure path must answer:</p>\n\n            <ul>\n\n            <li>what stops?</li>\n\n            </ul>\n\n            <ul>\n\n            <li>what continues?</li>\n\n            </ul>\n\n            <ul>\n\n            <li>what must be undone?</li>\n\n            </ul>\n\n            <ul>\n\n            <li>what must never happen?</li>\n\n            </ul>\n\n            <p>If these answers are unclear, the design is incomplete.</p>\n\n            <h2>Partial failure is worse than total failure</h2>\n\n            <p>A total failure is visible.A partial failure lies.</p>\n\n            <p>Examples of partial failure:</p>\n\n            <ul>\n\n            <li>data written but not acknowledged</li>\n\n            </ul>\n\n            <ul>\n\n            <li>side effects triggered before validation</li>\n\n            </ul>\n\n            <ul>\n\n            <li>retries applied after irreversible changes</li>\n\n            </ul>\n\n            <p>üß† <strong>Perspective</strong>It is safer to fail loudly than to succeed incorrectly.</p>\n\n            <h2>Errors and state are inseparable</h2>\n\n            <p>Failures interacting with state are dangerous.</p>\n\n            <p>Questions you must answer:</p>\n\n            <ul>\n\n            <li>did state change?</li>\n\n            </ul>\n\n            <ul>\n\n            <li>was it complete?</li>\n\n            </ul>\n\n            <ul>\n\n            <li>can this be retried safely?</li>\n\n            </ul>\n\n            <ul>\n\n            <li>can it be rolled back?</li>\n\n            </ul>\n\n            <p>If state cannot be restored or recovered,the system accumulates damage.</p>\n\n            <p>üß† <strong>Architect‚Äôs Note</strong>Failure + state without recovery is corruption.</p>\n\n            <h2>Retrying is a design decision</h2>\n\n            <p>Retries feel safe.They are not.</p>\n\n            <p>Blind retries can:</p>\n\n            <ul>\n\n            <li>duplicate work</li>\n\n            </ul>\n\n            <ul>\n\n            <li>amplify load</li>\n\n            </ul>\n\n            <ul>\n\n            <li>worsen outages</li>\n\n            </ul>\n\n            <p>Retries must be:</p>\n\n            <ul>\n\n            <li>bounded</li>\n\n            </ul>\n\n            <ul>\n\n            <li>idempotent</li>\n\n            </ul>\n\n            <ul>\n\n            <li>intentional</li>\n\n            </ul>\n\n            <p>üß† <strong>Mental Model</strong>A retry is a promise that repeating is safe.</p>\n\n            <h2>Error handling is part of the contract</h2>\n\n            <p>Errors are not implementation details.</p>\n\n            <p>They are part of:</p>\n\n            <ul>\n\n            <li>interfaces</li>\n\n            </ul>\n\n            <ul>\n\n            <li>expectations</li>\n\n            </ul>\n\n            <ul>\n\n            <li>system behavior</li>\n\n            </ul>\n\n            <p>Consumers will build logic around:</p>\n\n            <ul>\n\n            <li>how you fail</li>\n\n            </ul>\n\n            <ul>\n\n            <li>how often you fail</li>\n\n            </ul>\n\n            <ul>\n\n            <li>how you signal failure</li>\n\n            </ul>\n\n            <p>Inconsistent error behavior creates fragile integrations.</p>\n\n            <h2>Failure domains matter</h2>\n\n            <p>Failures should be <strong>contained</strong>.</p>\n\n            <p>A failure in one area should not:</p>\n\n            <ul>\n\n            <li>bring down unrelated parts</li>\n\n            </ul>\n\n            <ul>\n\n            <li>corrupt shared state</li>\n\n            </ul>\n\n            <ul>\n\n            <li>force global recovery</li>\n\n            </ul>\n\n            <p>This is a structural problem, not a logging problem.</p>\n\n            <p>üß† <strong>Architect‚Äôs Note</strong>A system without failure boundaries will eventually fail everywhere.</p>\n\n            <h2>When failure is expected</h2>\n\n            <p>Some failures are normal:</p>\n\n            <ul>\n\n            <li>invalid input</li>\n\n            </ul>\n\n            <ul>\n\n            <li>missing data</li>\n\n            </ul>\n\n            <ul>\n\n            <li>unavailable dependencies</li>\n\n            </ul>\n\n            <ul>\n\n            <li>timeouts</li>\n\n            </ul>\n\n            <p>Treating expected failures as exceptional:</p>\n\n            <ul>\n\n            <li>clutters logs</li>\n\n            </ul>\n\n            <ul>\n\n            <li>hides real issues</li>\n\n            </ul>\n\n            <ul>\n\n            <li>increases noise</li>\n\n            </ul>\n\n            <p>üß† <strong>Perspective</strong>If failure is expected, design for it explicitly.</p>\n\n            <h2>Observability without panic</h2>\n\n            <p>Errors should be:</p>\n\n            <ul>\n\n            <li>visible</li>\n\n            </ul>\n\n            <ul>\n\n            <li>attributable</li>\n\n            </ul>\n\n            <ul>\n\n            <li>actionable</li>\n\n            </ul>\n\n            <p>They should not:</p>\n\n            <ul>\n\n            <li>overwhelm operators</li>\n\n            </ul>\n\n            <ul>\n\n            <li>trigger unnecessary escalation</li>\n\n            </ul>\n\n            <ul>\n\n            <li>obscure root causes</li>\n\n            </ul>\n\n            <p>Silence is dangerous.Noise is also dangerous.</p>\n\n            <h2>Failure teaches structure</h2>\n\n            <p>Failures reveal:</p>\n\n            <ul>\n\n            <li>hidden coupling</li>\n\n            </ul>\n\n            <ul>\n\n            <li>missing boundaries</li>\n\n            </ul>\n\n            <ul>\n\n            <li>fragile assumptions</li>\n\n            </ul>\n\n            <p>Well-designed systems learn from failure.Poorly designed ones repeat it.</p>\n\n            <h2>Minimal practice (still no code)</h2>\n\n            <p><strong>Problem:</strong>‚ÄúA process validates input, writes to storage, and notifies an external system. The notification fails.‚Äù</p>\n\n            <p>Ask:</p>\n\n            <ul>\n\n            <li>What state has already changed?</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Is retry safe?</li>\n\n            </ul>\n\n            <ul>\n\n            <li>What must be undone?</li>\n\n            </ul>\n\n            <ul>\n\n            <li>What should the system report?</li>\n\n            </ul>\n\n            <p>If the answer is ‚Äúit depends,‚Äù the design is incomplete.</p>\n\n            <h2>What beginners gain here</h2>\n\n            <ul>\n\n            <li>Respect for failure</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Fewer destructive shortcuts</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Safer mental models</li>\n\n            </ul>\n\n            <h2>What experienced developers recognize</h2>\n\n            <ul>\n\n            <li>Why outages cascade</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Why retries worsen incidents</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Why some bugs never fully disappear</li>\n\n            </ul>\n\n            <p>Failures were ignored.</p>\n\n            <h2>What this chapter deliberately avoids</h2>\n\n            <ul>\n\n            <li>Error-handling libraries</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Framework-specific patterns</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Logging tools</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Incident playbooks</li>\n\n            </ul>\n\n            <p>Those come after design.</p>\n\n            <h2>Closing</h2>\n\n            <p>Failure is not the enemy.</p>\n\n            <p>Unexamined failure is.</p>\n\n            <p>Design systems that:</p>\n\n            <ul>\n\n            <li>expect failure</li>\n\n            </ul>\n\n            <ul>\n\n            <li>expose assumptions</li>\n\n            </ul>\n\n            <ul>\n\n            <li>recover deliberately</li>\n\n            </ul>\n\n            <p>A system that fails honestlyis safer than one that pretends to succeed.</p>\n          </div>\n        </article>\n\n        <!-- RIGHT -->\n\n      </main>\n\n      <!-- CHAPTER NAVIGATION (BOTTOM) -->\n      <nav class=\"chapter-nav-bottom\" id=\"chapterNavBottom\">\n        <a href=\"#\" class=\"chapter-nav-bottom__link chapter-nav-bottom__link--prev\" id=\"prevChapter\">\n          <span class=\"chapter-nav-bottom__arrow\">‚Üê</span>\n          <span class=\"chapter-nav-bottom__label\">Previous</span>\n        </a>\n        <a href=\"#\" class=\"chapter-nav-bottom__link chapter-nav-bottom__link--next\" id=\"nextChapter\">\n          <span class=\"chapter-nav-bottom__label\">Next</span>\n          <span class=\"chapter-nav-bottom__arrow\">‚Üí</span>\n        </a>\n      </nav>\n\n      <!-- PAGE WIDGET (BOTTOM) - REMOVED -->\n      <div style=\"display: none;\">\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">P</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Preface</div>\n                  <div class=\"page-widget__page-note\">Why fundamentals still decide outcomes.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item page-widget__page-item--current\">\n                <span class=\"page-widget__page-number\">1</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 1</div>\n                  <div class=\"page-widget__page-note\">Core principles and constraints.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">2</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 2</div>\n                  <div class=\"page-widget__page-note\">Boundaries, ownership, and interfaces.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">3</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 3</div>\n                  <div class=\"page-widget__page-note\">State, consistency, and failure modes.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">4</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 4</div>\n                  <div class=\"page-widget__page-note\">Abstractions that survive change.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">5</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 5</div>\n                  <div class=\"page-widget__page-note\">Simplicity as an engineering practice.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">6</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 6</div>\n                  <div class=\"page-widget__page-note\">Reliability, observability, and feedback.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">7</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 7</div>\n                  <div class=\"page-widget__page-note\">Delivery systems and decision hygiene.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">8</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 8</div>\n                  <div class=\"page-widget__page-note\">Documentation that stays useful.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">9</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 9</div>\n                  <div class=\"page-widget__page-note\">Testing strategy for predictable change.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">10</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 10</div>\n                  <div class=\"page-widget__page-note\">Pragmatic architecture for teams.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">11</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 11</div>\n                  <div class=\"page-widget__page-note\">Operational excellence without ceremony.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">12</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 12</div>\n                  <div class=\"page-widget__page-note\">Leadership, standards, and leverage.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">13</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 13</div>\n                  <div class=\"page-widget__page-note\">Making fundamentals non-negotiable.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">PS</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Postscript</div>\n                  <div class=\"page-widget__page-note\">A short operating model to carry forward.</div>\n                </div>\n              </a>\n            </li>\n          </ol>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <!-- PAGE WIDGET JS -->\n  <!-- SIDEBAR TOGGLE JS -->\n  <script>\n  (() => {\n    const sidebar = document.getElementById(''sidebar'');\n    const backdrop = document.getElementById(''sidebarBackdrop'');\n    const indicator = document.getElementById(''chapterIndicator'');\n    const icon = document.getElementById(''chapterIndicatorIcon'');\n    const header = document.getElementById(''header'');\n    const main = document.getElementById(''main'');\n    const body = document.body;\n\n    if (!sidebar || !backdrop || !indicator || !icon || !header || !main) return;\n\n    let isOpen = false;\n    let scrollTimeout = null;\n\n    const openSidebar = () => {\n      isOpen = true;\n      sidebar.classList.add(''sidebar--open'');\n      backdrop.classList.add(''sidebar-backdrop--visible'');\n      header.classList.add(''header--shifted'');\n      main.classList.add(''main--shifted'');\n      icon.classList.add(''chapter-number__icon--open'');\n      body.classList.add(''sidebar-open'');\n    };\n\n    const closeSidebar = () => {\n      isOpen = false;\n      sidebar.classList.remove(''sidebar--open'');\n      backdrop.classList.remove(''sidebar-backdrop--visible'');\n      header.classList.remove(''header--shifted'');\n      main.classList.remove(''main--shifted'');\n      icon.classList.remove(''chapter-number__icon--open'');\n      body.classList.remove(''sidebar-open'');\n    };\n\n    // Toggle sidebar\n    indicator.addEventListener(''click'', (e) => {\n      e.stopPropagation();\n      if (isOpen) {\n        closeSidebar();\n      } else {\n        openSidebar();\n      }\n    });\n\n    // Close sidebar when clicking backdrop\n    backdrop.addEventListener(''click'', () => {\n      closeSidebar();\n    });\n\n    // Close sidebar when clicking outside\n    document.addEventListener(''click'', (e) => {\n      // Don''t close sidebar if clicking on brand link or nav links\n      const brandLink = header.querySelector(''.brand'');\n      const isClickOnLink = brandLink && brandLink.contains(e.target);\n      const isClickOnNav = header.querySelector(''.nav'') && header.querySelector(''.nav'').contains(e.target);\n      \n      if (isOpen && !sidebar.contains(e.target) && !indicator.contains(e.target) && !isClickOnLink && !isClickOnNav) {\n        closeSidebar();\n      }\n    });\n\n    // Close sidebar on scroll (debounced)\n    const handleScroll = () => {\n      if (isOpen) {\n        clearTimeout(scrollTimeout);\n        scrollTimeout = setTimeout(() => {\n          closeSidebar();\n        }, 100);\n      }\n    };\n\n    // Listen for scroll on main content\n    window.addEventListener(''scroll'', handleScroll, { passive: true });\n    \n    // Also listen for scroll attempts on body (when scroll is disabled)\n    let lastScrollTop = window.pageYOffset;\n    const handleScrollAttempt = () => {\n      if (isOpen) {\n        const currentScrollTop = window.pageYOffset;\n        if (currentScrollTop !== lastScrollTop) {\n          closeSidebar();\n        }\n        lastScrollTop = currentScrollTop;\n      }\n    };\n\n    // Prevent scroll on body when sidebar is open\n    document.addEventListener(''wheel'', (e) => {\n      if (isOpen && !sidebar.contains(e.target)) {\n        e.preventDefault();\n        closeSidebar();\n      }\n    }, { passive: false });\n\n    // Prevent touch scroll on body when sidebar is open\n    document.addEventListener(''touchmove'', (e) => {\n      if (isOpen && !sidebar.contains(e.target)) {\n        e.preventDefault();\n        closeSidebar();\n      }\n    }, { passive: false });\n  })();\n  </script>\n\n  <!-- CHAPTER NAVIGATION (BOTTOM) JS -->\n  <script>\n  (() => {\n    // Chapter list: Preface = 0, Chapter 1-13 = 1-13, Postscript = 14\n    const chapters = [\n      { id: ''preface'', title: ''Preface'', url: ''https://arvinjaysoncastro.com/working-fundamentals-introduction'' },\n      { id: ''ch1'', title: ''Chapter 1'', url: ''https://arvinjaysoncastro.com/working-fundamentals-1-of-13-programming-fundamentals'' },\n      { id: ''ch2'', title: ''Chapter 2'', url: ''https://arvinjaysoncastro.com/working-fundamentals-2-of-13-data-structures'' },\n      { id: ''ch3'', title: ''Chapter 3'', url: ''https://arvinjaysoncastro.com/working-fundamentals-3-of-13-algorithms-and-complexity'' },\n      { id: ''ch4'', title: ''Chapter 4'', url: ''https://arvinjaysoncastro.com/working-fundamentals-4-of-13-control-and-flow'' },\n      { id: ''ch5'', title: ''Chapter 5'', url: ''https://arvinjaysoncastro.com/working-fundamentals-5-of-13-state-and-change'' },\n      { id: ''ch6'', title: ''Chapter 6'', url: ''https://arvinjaysoncastro.com/working-fundamentals-6-of-13-design-principles'' },\n      { id: ''ch7'', title: ''Chapter 7'', url: ''https://arvinjaysoncastro.com/working-fundamentals-7-of-13-architecture'' },\n      { id: ''ch8'', title: ''Chapter 8'', url: ''https://arvinjaysoncastro.com/working-fundamentals-8-of-13-persistence-and-data-modeling'' },\n      { id: ''ch9'', title: ''Chapter 9'', url: ''https://arvinjaysoncastro.com/working-fundamentals-9-of-13-interfaces-and-apis'' },\n      { id: ''ch10'', title: ''Chapter 10'', url: ''https://arvinjaysoncastro.com/working-fundamentals-10-of-13-errors-and-failure'' },\n      { id: ''ch11'', title: ''Chapter 11'', url: ''https://arvinjaysoncastro.com/working-fundamentals-11-of-13-testing'' },\n      { id: ''ch12'', title: ''Chapter 12'', url: ''https://arvinjaysoncastro.com/working-fundamentals-12-of-13-performance-and-scale'' },\n      { id: ''ch13'', title: ''Chapter 13'', url: ''https://arvinjaysoncastro.com/working-fundamentals-13-of-13-the-developers-role'' },\n      { id: ''postscript'', title: ''Postscript'', url: ''https://arvinjaysoncastro.com/working-fundamentals-outroduction'' }\n    ];\n\n    const currentChapterIndex = 10; // Chapter 1 is index 1 (Preface is 0)\n    const prevLink = document.getElementById(''prevChapter'');\n    const nextLink = document.getElementById(''nextChapter'');\n\n    if (!prevLink || !nextLink) return;\n\n    // Previous chapter\n    if (currentChapterIndex > 0) {\n      const prevChapter = chapters[currentChapterIndex - 1];\n      prevLink.href = prevChapter.url;\n      prevLink.target = ''_blank'';\n      prevLink.innerHTML = `\n        <span class=\"chapter-nav-bottom__arrow\">‚Üê</span>\n        <span class=\"chapter-nav-bottom__label\">Previous: ${prevChapter.title}</span>\n      `;\n    } else {\n      // No previous chapter - show \"go back to book list\"\n      prevLink.href = ''https://arvinjaysoncastro.com/hungry-dev-mind'';\n      prevLink.target = ''_blank'';\n      prevLink.innerHTML = `\n        <span class=\"chapter-nav-bottom__arrow\">‚Üê</span>\n        <span class=\"chapter-nav-bottom__label\">Go back to book list</span>\n      `;\n    }\n\n    // Next chapter\n    if (currentChapterIndex < chapters.length - 1) {\n      const nextChapter = chapters[currentChapterIndex + 1];\n      nextLink.href = nextChapter.url;\n      nextLink.target = ''_blank'';\n      nextLink.innerHTML = `\n        <span class=\"chapter-nav-bottom__label\">Next: ${nextChapter.title}</span>\n        <span class=\"chapter-nav-bottom__arrow\">‚Üí</span>\n      `;\n    } else {\n      // No next chapter - show \"go back to book list\"\n      nextLink.href = ''https://arvinjaysoncastro.com/hungry-dev-mind'';\n      nextLink.target = ''_blank'';\n      nextLink.innerHTML = `\n        <span class=\"chapter-nav-bottom__label\">Go back to book list</span>\n        <span class=\"chapter-nav-bottom__arrow\">‚Üí</span>\n      `;\n    }\n  })();\n  </script>\n\n  <!-- OPTIONAL JS -->\n <script>\n(() => {\n  const wrap = document.querySelector(''.book-wrap'');\n  if (!wrap) return;\n\n  const slab1 = wrap.querySelector(''.shadow-slab'');\n  const slab2 = wrap.querySelector(''.shadow-slab-2'');\n  const slab3 = wrap.querySelector(''.shadow-slab-3'');\n  const slab4 = wrap.querySelector(''.shadow-slab-4'');\n  const front = wrap.querySelector(''.front-slab'');\n\n  const clamp = (v, min, max) => Math.max(min, Math.min(max, v));\n\n  let raf = 0;\n  let lx = 0; // light vector x\n  let ly = 0; // light vector y\n\n  function render() {\n    raf = 0;\n\n    // Shadow direction = opposite of light\n    const sx = -lx;\n    const sy = -ly;\n\n    const intensity = Math.abs(lx) + Math.abs(ly);\n\n    /* ---------------------------\n       SLAB 1 ‚Äî KEY CAST SHADOW\n    ---------------------------- */\n    slab1.style.transform =\n      `translate(${(sx * 38).toFixed(2)}px, ${(sy * 38).toFixed(2)}px)`;\n    slab1.style.filter =\n      `blur(${(14 + intensity * 6).toFixed(2)}px)`;\n    slab1.style.opacity =\n      (0.28 + intensity * 0.14).toFixed(2);\n\n    /* ---------------------------\n       SLAB 2 ‚Äî BOUNCE / COLOR BLEED\n    ---------------------------- */\n    slab2.style.transform =\n      `translate(${(sx * 14).toFixed(2)}px, ${(sy * 14).toFixed(2)}px)`;\n    slab2.style.filter =\n      `blur(${(6 + intensity * 4).toFixed(2)}px)`;\n    slab2.style.opacity =\n      (0.16 + intensity * 0.10).toFixed(2);\n\n    /* ---------------------------\n       SLAB 3 ‚Äî CONTACT SHADOW\n    ---------------------------- */\n    slab3.style.transform =\n      `translate(${(sx * 6).toFixed(2)}px, ${(sy * 6).toFixed(2)}px)`;\n    slab3.style.filter = `blur(9px)`;\n    slab3.style.opacity =\n      (0.24 + Math.abs(lx) * 0.06).toFixed(2);\n\n    /* ---------------------------\n       SLAB 4 ‚Äî AMBIENT DEPTH\n    ---------------------------- */\n    slab4.style.transform =\n      `translate(${(sx * 3).toFixed(2)}px, ${(sy * 3).toFixed(2)}px)`;\n    slab4.style.filter = `blur(18px)`;\n    slab4.style.opacity =\n      (0.16 + Math.abs(ly) * 0.04).toFixed(2);\n\n    /* ---------------------------\n       FRONT SLAB ‚Äî SPECULAR RESPONSE\n       (moves TOWARD light)\n    ---------------------------- */\nif (front) {\n  // Very subtle counter-parallax (NOT toward light)\n  front.style.transform =\n    `translate(${(-lx * 1.6).toFixed(2)}px, ${(-ly * 1.6).toFixed(2)}px)`;\n\n  // Opacity increases when light is grazing\n  front.style.opacity =\n    (0.34 + intensity * 0.22).toFixed(2);\n\n  // Highlight shifts OPPOSITE the light direction\n  const gx = 50 - lx * 28;\n  const gy = 50 - ly * 28;\n  front.style.backgroundPosition = `${gx}% ${gy}%`;\n}\n\n  }\n\n  function onMove(e) {\n    const r = wrap.getBoundingClientRect();\n    const cx = r.left + r.width / 2;\n    const cy = r.top + r.height / 2;\n\n    // LIGHT VECTOR (mouse = light source)\n    lx = clamp((e.clientX - cx) / (r.width / 2), -1, 1);\n    ly = clamp((e.clientY - cy) / (r.height / 2), -1, 1);\n\n    if (!raf) raf = requestAnimationFrame(render);\n  }\n\n  window.addEventListener(''mousemove'', onMove, { passive: true });\n})();\n</script>\n</body>\n</html>\n", "css": "body { font-family: system-ui; padding: 20px; }", "js": "console.log(\"Code Runner initialized\");", "imports": {"css": [], "js": []}, "entryPoint": {"type": "htmlDocument", "mountSelector": "#app", "injectMountIfMissing": true}, "settings": {"mode": "play", "viewport": {"type": "responsive", "background": "white"}, "securityPreset": "trusted", "autoRun": true, "runOnLoad": true}, "codePanel": {"isVisible": false, "isEditable": false}}}]}]}',
    '1.0.0',
    true,
    '88b62d69-6012-47ae-b45b-9ccc5f1dc87c',
    NOW(),
    NOW(),
    'public',
    NULL,
    false,
    NULL,
    'page',
    NULL,
    NULL,
    NULL,
    NULL,
    NULL,
    false,
    0,
    NULL,
    true,
    false,
    NULL,
    NULL,
    '{"id": "block-root", "style": {}, "type": "container", "children": [{"id": "temp-container", "style": {"width": "100vw", "height": "100vh"}, "type": "container", "children": [{"id": "temp-coderunner", "style": {}, "type": "codeRunner", "data": {"html": "<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n  <meta charset=\"UTF-8\" />\n  <title>Working Fundamentals ‚Äî Arvin Jayson Castro</title>\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n\n  <!-- =====================\n       GLOBAL STYLES\n  ====================== -->\n  <style>\n    :root {\n      --bg: #f7f8f8;\n      --ink: #111111;\n      --muted: #666666;\n      --line: rgba(0,0,0,0.08);\n      --accent: #16a34a;\n      --link: #3b82f6;\n      --max-width: 1200px;\n    }\n\n    * {\n      box-sizing: border-box;\n    }\n\n    body {\n      margin: 0;\n      font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, sans-serif;\n      color: var(--ink);\n      background-color: var(--bg);\n      background-image:\n        radial-gradient(980px 560px at 14% 18%, rgba(16,185,129,0.10) 0%, rgba(16,185,129,0) 60%),\n        radial-gradient(860px 540px at 86% 74%, rgba(245,158,11,0.10) 0%, rgba(245,158,11,0) 62%),\n        repeating-linear-gradient(0deg, rgba(0,0,0,0.043) 0, rgba(0,0,0,0.043) 1px, transparent 1px, transparent 46px),\n        repeating-linear-gradient(90deg, rgba(0,0,0,0.043) 0, rgba(0,0,0,0.043) 1px, transparent 1px, transparent 46px);\n      min-height: 100vh;\n    }\n\n    a {\n      color: inherit;\n      text-decoration: none;\n    }\n\n    img {\n      max-width: 100%;\n      display: block;\n    }\n\n    /* =====================\n       PAGE WRAPPER\n    ====================== */\n    .page {\n      padding: 22px 24px;\n    }\n\n    .container {\n      max-width: var(--max-width);\n      margin: 0 auto;\n    }\n\n    /* =====================\n       SIDEBAR BACKDROP\n    ====================== */\n    .sidebar-backdrop {\n      position: fixed;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n      background: rgba(0, 0, 0, 0.2);\n      backdrop-filter: blur(4px);\n      -webkit-backdrop-filter: blur(4px);\n      opacity: 0;\n      visibility: hidden;\n      transition: opacity 0.3s ease, visibility 0.3s ease;\n      z-index: 999;\n      pointer-events: none;\n    }\n\n    .sidebar-backdrop--visible {\n      opacity: 1;\n      visibility: visible;\n      pointer-events: auto;\n    }\n\n    /* =====================\n       SIDEBAR\n    ====================== */\n    .sidebar {\n      position: fixed;\n      top: 0;\n      right: 0;\n      width: 320px;\n      height: 100vh;\n      background: var(--bg);\n      border-left: 1px solid var(--line);\n      transform: translateX(100%);\n      transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n      z-index: 1000;\n      overflow-y: auto;\n      padding: 24px;\n    }\n\n    .sidebar--open {\n      transform: translateX(0);\n    }\n\n    .sidebar__title {\n      font-size: 16px;\n      font-weight: 600;\n      margin-bottom: 24px;\n      color: var(--ink);\n    }\n\n    /* Prevent body scroll when sidebar is open */\n    body.sidebar-open {\n      overflow: hidden;\n    }\n\n    .sidebar__chapter-list {\n      list-style: none;\n      margin: 0;\n      padding: 0;\n    }\n\n    .sidebar__chapter-item {\n      margin: 0 0 8px 0;\n    }\n\n    .sidebar__chapter-link {\n      display: block;\n      font-size: 14px;\n      color: var(--muted);\n      text-decoration: none;\n      padding: 8px 0;\n      transition: color 0.2s ease;\n      line-height: 1.5;\n    }\n\n    .sidebar__chapter-link:hover {\n      color: var(--ink);\n    }\n\n    .sidebar__chapter-link {\n      color: var(--ink);\n      font-weight: 500;\n    }\n\n    /* =====================\n       HEADER (Top bar with chapter indicator)\n    ====================== */\n    .header {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      padding: 10px 0;\n      border-bottom: 1px solid var(--line);\n      position: relative;\n      transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n    }\n\n    .header--shifted {\n      transform: translateX(-320px);\n    }\n\n    .brand {\n      font-size: 16px;\n      font-weight: 600;\n      cursor: pointer;\n      display: inline-block;\n    }\n\n    .nav {\n      display: flex;\n      gap: 24px;\n      align-items: center;\n      font-size: 14px;\n    }\n\n    .nav a {\n      color: #1f2937;\n    }\n\n    .linkedin {\n      display: flex;\n      flex-direction: column;\n      align-items: flex-start;\n    }\n\n    .linkedin a {\n      color: var(--link);\n    }\n\n    .linkedin span {\n      font-family: Georgia, serif;\n      font-size: 9px;\n      font-style: italic;\n      color: #999;\n    }\n\n    /* =====================\n       MAIN GRID\n    ====================== */\n    .main {\n      padding-top: 48px;\n      padding-bottom: 48px;\n      display: flex;\n      justify-content: center;\n      align-items: start;\n    }\n\n    /* =====================\n       CHAPTER READING AREA (Option 1: Magazine-style)\n    ====================== */\n    .chapter-content {\n      max-width: 768px;\n      width: 100%;\n      margin: 0 auto;\n    }\n\n    .chapter-header {\n      margin-bottom: 56px;\n      padding-bottom: 32px;\n      border-bottom: 2px solid var(--line);\n    }\n\n    .book-title {\n      font-size: 12px;\n      letter-spacing: 0.15em;\n      text-transform: uppercase;\n      color: var(--muted);\n      font-weight: 500;\n      margin-bottom: 8px;\n      opacity: 0.7;\n    }\n\n    .chapter-number {\n      font-size: 13px;\n      letter-spacing: 0.2em;\n      text-transform: uppercase;\n      color: var(--muted);\n      font-weight: 600;\n      margin-bottom: 12px;\n      display: flex;\n      align-items: center;\n      gap: 8px;\n      cursor: pointer;\n      user-select: none;\n      transition: color 0.2s ease;\n    }\n\n    .chapter-number:hover {\n      color: var(--ink);\n    }\n\n    .chapter-number__icon {\n      font-size: 10px;\n      opacity: 0.6;\n      transition: transform 0.3s ease, opacity 0.2s ease;\n    }\n\n    .chapter-number:hover .chapter-number__icon {\n      opacity: 0.8;\n    }\n\n    .chapter-number__icon--open {\n      transform: rotate(180deg);\n    }\n\n    .chapter-title {\n      font-size: 56px;\n      font-weight: 900;\n      line-height: 1.05;\n      margin: 0 0 20px 0;\n      color: var(--ink);\n      letter-spacing: -0.03em;\n    }\n\n    .chapter-subtitle {\n      font-size: 22px;\n      font-weight: 500;\n      color: var(--muted);\n      line-height: 1.4;\n      margin: 0;\n    }\n\n    .chapter-body {\n      font-size: 19px;\n      line-height: 1.8;\n      color: var(--ink);\n      max-width: none;\n      font-weight: 400;\n    }\n\n    .chapter-body p {\n      margin: 0 0 28px 0;\n    }\n\n    .chapter-body p:last-child {\n      margin-bottom: 0;\n    }\n\n    .chapter-body h2 {\n      font-size: 36px;\n      font-weight: 800;\n      line-height: 1.2;\n      margin: 56px 0 24px 0;\n      color: var(--ink);\n      letter-spacing: -0.02em;\n    }\n\n    .chapter-body h3 {\n      font-size: 26px;\n      font-weight: 700;\n      line-height: 1.3;\n      margin: 40px 0 18px 0;\n      color: var(--ink);\n      letter-spacing: -0.01em;\n    }\n\n    .chapter-body strong {\n      font-weight: 600;\n      color: var(--ink);\n    }\n\n    .chapter-body em {\n      font-style: italic;\n    }\n\n    .chapter-body ul,\n    .chapter-body ol {\n      margin: 28px 0;\n      padding-left: 36px;\n    }\n\n    .chapter-body li {\n      margin-bottom: 14px;\n      line-height: 1.75;\n    }\n\n    .chapter-body blockquote {\n      margin: 40px 0;\n      padding-left: 28px;\n      border-left: 4px solid var(--accent);\n      font-style: italic;\n      color: var(--muted);\n      font-size: 18px;\n      line-height: 1.7;\n    }\n\n    .chapter-body code {\n      font-family: ''Monaco'', ''Menlo'', ''Courier New'', monospace;\n      font-size: 0.9em;\n      background: rgba(0,0,0,0.04);\n      padding: 2px 6px;\n      border-radius: 3px;\n    }\n\n    .chapter-body pre {\n      background: rgba(0,0,0,0.04);\n      padding: 20px;\n      border-radius: 8px;\n      overflow-x: auto;\n      margin: 24px 0;\n    }\n\n    .chapter-body pre code {\n      background: none;\n      padding: 0;\n    }\n\n    /* Content shift when sidebar opens */\n    .main {\n      transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n    }\n\n    .main--shifted {\n      transform: translateX(-320px);\n    }\n\n    /* Prevent horizontal scroll */\n    body {\n      overflow-x: hidden;\n    }\n\n    .page {\n      overflow-x: hidden;\n    }\n\n    /* =====================\n       CHAPTER NAVIGATION (BOTTOM)\n    ====================== */\n    .chapter-nav-bottom {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      max-width: 768px;\n      width: 100%;\n      margin: 64px auto 0 auto;\n      padding: 24px 0;\n      border-top: 1px solid var(--line);\n    }\n\n    .chapter-nav-bottom__link {\n      display: flex;\n      align-items: center;\n      gap: 8px;\n      font-size: 14px;\n      color: var(--muted);\n      text-decoration: none;\n      transition: color 0.2s ease;\n      padding: 8px 0;\n    }\n\n    .chapter-nav-bottom__link:hover {\n      color: var(--ink);\n    }\n\n    .chapter-nav-bottom__arrow {\n      font-size: 16px;\n      opacity: 0.7;\n    }\n\n    .chapter-nav-bottom__label {\n      font-weight: 500;\n    }\n\n    .chapter-nav-bottom__link--prev {\n      margin-right: auto;\n    }\n\n    .chapter-nav-bottom__link--next {\n      margin-left: auto;\n    }\n\n    .chapter-nav-bottom__link--disabled {\n      opacity: 0.4;\n      cursor: not-allowed;\n      pointer-events: none;\n    }\n\n    .page-widget__pages {\n      max-height: 0;\n      overflow: hidden;\n      transition: max-height 0.4s cubic-bezier(0.4, 0, 0.2, 1),\n                  opacity 0.3s ease,\n                  margin-top 0.3s ease;\n      opacity: 0;\n      margin-top: 0;\n      background: rgba(255, 255, 255, 0.98);\n      backdrop-filter: blur(12px);\n      -webkit-backdrop-filter: blur(12px);\n      border: 1px solid rgba(0, 0, 0, 0.06);\n      border-radius: 12px;\n      box-shadow: 0 2px 12px rgba(0, 0, 0, 0.06);\n    }\n\n    .page-widget__pages--expanded {\n      max-height: 500px;\n      opacity: 1;\n      margin-top: 12px;\n      padding: 8px;\n    }\n\n    .page-widget__pages-list {\n      list-style: none;\n      margin: 0;\n      padding: 0;\n      display: flex;\n      flex-direction: column;\n      gap: 8px;\n      max-height: 400px;\n      overflow-y: auto;\n      padding-right: 4px;\n    }\n\n    .page-widget__pages-list::-webkit-scrollbar {\n      width: 6px;\n    }\n\n    .page-widget__pages-list::-webkit-scrollbar-track {\n      background: rgba(0, 0, 0, 0.02);\n      border-radius: 3px;\n    }\n\n    .page-widget__pages-list::-webkit-scrollbar-thumb {\n      background: rgba(0, 0, 0, 0.12);\n      border-radius: 3px;\n    }\n\n    .page-widget__pages-list::-webkit-scrollbar-thumb:hover {\n      background: rgba(0, 0, 0, 0.2);\n    }\n\n    .page-widget__page-item {\n      display: flex;\n      align-items: center;\n      gap: 10px;\n      padding: 8px 10px;\n      border-radius: 8px;\n      cursor: pointer;\n      transition: all 0.2s ease;\n      text-decoration: none;\n      color: var(--ink);\n    }\n\n    .page-widget__page-item:hover {\n      background: rgba(0, 0, 0, 0.03);\n      transform: translateX(2px);\n    }\n\n    .page-widget__page-item--current {\n      background: rgba(22, 163, 74, 0.08);\n      color: var(--accent);\n      font-weight: 500;\n    }\n\n    .page-widget__page-item--current:hover {\n      background: rgba(22, 163, 74, 0.12);\n    }\n\n    .page-widget__page-number {\n      display: inline-flex;\n      align-items: center;\n      justify-content: center;\n      width: 24px;\n      height: 24px;\n      background: rgba(0, 0, 0, 0.04);\n      border-radius: 5px;\n      font-size: 11px;\n      font-weight: 500;\n      flex-shrink: 0;\n      color: var(--muted);\n    }\n\n    .page-widget__page-item--current .page-widget__page-number {\n      background: rgba(22, 163, 74, 0.15);\n      color: var(--accent);\n    }\n\n    .page-widget__page-info {\n      flex: 1;\n      min-width: 0;\n    }\n\n    .page-widget__page-name {\n      font-size: 13px;\n      font-weight: 500;\n      line-height: 1.3;\n      margin: 0 0 2px 0;\n    }\n\n    .page-widget__page-note {\n      font-size: 11px;\n      color: var(--muted);\n      line-height: 1.3;\n      margin: 0;\n      white-space: nowrap;\n      overflow: hidden;\n      text-overflow: ellipsis;\n    }\n\n    @media (max-width: 768px) {\n      .page-widget__pages-list {\n        max-height: 300px;\n      }\n    }\n\n\n/* ===============================\n   WRAPPER\n================================ */\n.book-wrap {\n  width: 320px;\n  aspect-ratio: 2 / 3;\n  position: relative;\n}\n\n/* ===============================\n   CAST SHADOW SLAB (REAL SHADOW)\n================================ */\n.shadow-slab {\n    position: absolute;\n    position: absolute;\n    inset: 0;\n    border-radius: 22px;\n    /* background: #2a2a2a; */\n    transform: translate(-30px, 30px);\n    filter: blur(13px);\n    opacity: 0.35;\n    z-index: 0;\n    background: radial-gradient(ellipse at 15% 85%, rgba(0, 0, 0, 0.35), rgba(0, 0, 0, 0.18) 35%, transparent 65%), linear-gradient(to right, #1f1f1f 0%, #2a2a2a 45%, #3a3a3a 100%);\n}\n\n.shadow-slab-2 {\n    position: absolute;\n    inset: 0;\n    border-radius: 22px;\n    background: radial-gradient(circle at top right, #f6e6a8 0%, #e2c36b 35%, #b58a3c 70%, #7a5524 100%);\n    transform: translate(-10px, 10px);\n    filter: blur(5px);\n    opacity: 0.35;\n    z-index: 0;\n}\n\n.shadow-slab-3 {\n    position: absolute;\n    inset: 0;\n    border-radius: 22px;\n    background: #333;\n    transform: translate(0px, 0px);\n    filter: blur(11px);\n    opacity: 0.35;\n    z-index: 0;\n}\n\n.shadow-slab-4 {\n    position: absolute;\n    inset: 0;\n    border-radius: 22px;\n    background: #333;\n    transform: translate(0px, 0px);\n    filter: blur(11px);\n    opacity: 0.35;\n    z-index: 0;\n}\n\n/* ===============================\n   FRONT SLAB & SPIN HANDLE\n================================ */\n\n.front-slab {\n    position: absolute;\n    inset: 0;\n    border-radius: 22px;\n    background: linear-gradient(to right, rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.1) 3%, transparent 1%);\n    /* background: green; */\n    z-index: 3;\n    opacity: .5;\n    transform: translateZ(6px);\n    pointer-events: none;\n}\n\n.spin-handle {\n  display: none;\n  position: absolute;\n  top: 50%;\n  right: -22px;\n  width: 14px;\n  height: 48px;\n  border-radius: 999px;\n  background: rgba(0,0,0,0.25);\n  backdrop-filter: blur(4px);\n  cursor: grab;\n  z-index: 10;\n}\n\n/* ===============================\n   BOOK OBJECT (NO SHADOW)\n================================ */\n.book {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  border-radius: 22px;\n  overflow: hidden;\n  z-index: 2;\n\n  /* IMPORTANT: no box-shadow */\n  box-shadow: none;\n\n  /* transform: perspective(1200px) rotateX(0.6deg); */\n}\n\n/* ===============================\n   PAPER SURFACE (LIGHT FIELD)\n================================ */\n.book .surface {\n  position: absolute;\n  inset: 0;\n  border-radius: inherit;\n  pointer-events: none;\n  z-index: 1;\n\n  background:\n    linear-gradient(\n      to bottom left,\n      rgba(255,255,255,1) 0%,\n      rgba(250,250,250,1) 42%,\n      rgba(240,240,240,1) 100%\n    ),\n    repeating-linear-gradient(\n      0deg,\n      rgba(0,0,0,0.01),\n      rgba(0,0,0,0.01) 1px,\n      transparent 1px,\n      transparent 3px\n    );\n}\n\n/* ===============================\n   LEFT OCCLUSION (CURTAIN)\n================================ */\n.book .curtain {\n  position: absolute;\n  inset: 0;\n  border-radius: inherit;\n  pointer-events: none;\n  z-index: 2;\n\n  background:\n    linear-gradient(\n      to right,\n      rgba(0,0,0,0.20) 0%,\n      rgba(0,0,0,0.12) 8%,\n      rgba(0,0,0,0.05) 16%,\n      rgba(0,0,0,0.02) 22%,\n      rgba(0,0,0,0.00) 30%\n    );\n}\n\n/* ===============================\n   RIGHT HIGHLIGHT\n================================ */\n.book .highlight {\n  position: absolute;\n  inset: 0;\n  border-radius: inherit;\n  pointer-events: none;\n  z-index: 3;\n\n  background:\n    linear-gradient(\n      to left,\n      rgba(255,255,255,0.35) 0%,\n      rgba(255,255,255,0.18) 6%,\n      rgba(255,255,255,0.06) 14%,\n      rgba(255,255,255,0.00) 24%\n    );\n}\n\n/* ===============================\n   PAGE EDGE (THICKNESS)\n================================ */\n.book .edge {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 120px;\n  height: 100%;\n  border-radius: 22px 0 0 22px;\n  pointer-events: none;\n  z-index: 4;\n\n  background:\n    linear-gradient(\n      to right,\n      rgba(215,215,215,0.95) 0%,\n      rgba(245,245,245,0.95) 40%,\n      rgba(255,255,255,0.95) 75%\n    );\n\n  box-shadow:\n    inset -1px 0 0 rgba(0,0,0,0.05);\n}\n\n/* ===============================\n   SVG (PURE WHITE)\n================================ */\n.book svg {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  display: block;\n  z-index: 5;\n}\n\n    /* =====================\n       LEFT: BOOK COVER\n    ====================== */\n    .book-cover {\n      display: flex;\n      flex-direction: column;\n      gap: 12px;\n    }\n\n\n    /* ===============================\n       BOOK + SHADOW SYSTEM\n    =============================== */\n    .book-wrap {\n      width: 320px;\n      aspect-ratio: 2 / 3;\n      position: relative;\n    }\n\n    .shadow-slab,\n    .shadow-slab-2,\n    .shadow-slab-3,\n    .shadow-slab-4 {\n      position: absolute;\n      inset: 0;\n      border-radius: 22px;\n      z-index: 0;\n      will-change: transform, filter, opacity;\n    }\n\n    .shadow-slab {\n      background:\n        radial-gradient(ellipse at 15% 85%, rgba(0,0,0,0.35), rgba(0,0,0,0.18) 35%, transparent 65%),\n        linear-gradient(to right, #1f1f1f 0%, #2a2a2a 45%, #3a3a3a 100%);\n      filter: blur(13px);\n      opacity: 0.35;\n    }\n\n    .shadow-slab-2 {\n      background: radial-gradient(circle at top right, #f6e6a8 0%, #e2c36b 35%, #b58a3c 70%, #7a5524 100%);\n      filter: blur(6px);\n      opacity: 0.30;\n    }\n\n    .shadow-slab-3,\n    .shadow-slab-4 {\n      background: #333;\n      filter: blur(11px);\n      opacity: 0.30;\n    }\n\n    .book {\n      position: relative;\n      width: 100%;\n      height: 100%;\n      border-radius: 22px;\n      overflow: hidden;\n      z-index: 2;\n      background: #f7f4ee;\n    }\n\n    .front-slab {\n      position: absolute;\n      inset: 0;\n      border-radius: 22px;\n      background: linear-gradient(to right, rgba(0,0,0,0.4), rgba(0,0,0,0.1) 3%, transparent 10%);\n      z-index: 3;\n      pointer-events: none;\n      opacity: 0.5;\n    }\n\n\n    @media (prefers-reduced-motion: reduce) {\n      .cover-frame {\n        transition: none;\n        transform: none;\n      }\n      .cover-frame:hover {\n        --lift: 0;\n      }\n    }\n\n    .start-reading {\n      display: inline-flex;\n      align-items: center;\n      justify-content: center;\n      width: 100%;\n      padding: 12px 14px;\n      border-radius: 999px;\n\n      font-size: 11px;\n      letter-spacing: 0.16em;\n      text-transform: uppercase;\n      font-weight: 650;\n      color: rgba(34,197,94,0.92);\n      text-shadow:\n        0 0 10px rgba(34,197,94,0.22),\n        0 0 22px rgba(34,197,94,0.14);\n\n      /* graphite: dark + slightly mineral */\n      background:\n        radial-gradient(120% 140% at 20% 10%, rgba(255,255,255,0.10) 0%, rgba(255,255,255,0.00) 55%),\n        radial-gradient(140% 140% at 80% 90%, rgba(255,255,255,0.06) 0%, rgba(255,255,255,0.00) 60%),\n        linear-gradient(180deg, #141414 0%, #0a0a0a 100%);\n      border: 1px solid rgba(255,255,255,0.10);\n      box-shadow:\n        0 14px 34px rgba(0,0,0,0.22),\n        0 8px 16px rgba(0,0,0,0.18),\n        inset 0 1px 0 rgba(255,255,255,0.10),\n        inset 0 -1px 0 rgba(0,0,0,0.55);\n\n      position: relative;\n      overflow: hidden;\n      cursor: pointer;\n      user-select: none;\n      -webkit-tap-highlight-color: transparent;\n\n      transition:\n        transform 160ms cubic-bezier(0.2, 0.8, 0.2, 1),\n        box-shadow 160ms cubic-bezier(0.2, 0.8, 0.2, 1),\n        border-color 160ms cubic-bezier(0.2, 0.8, 0.2, 1);\n    }\n\n    .start-reading::before {\n      content: \"\";\n      position: absolute;\n      inset: 0;\n      pointer-events: none;\n      /* texture + sheen (very subtle) */\n      background:\n        linear-gradient(120deg, rgba(255,255,255,0.12) 0%, rgba(255,255,255,0.00) 46%),\n        repeating-linear-gradient(0deg,\n          rgba(255,255,255,0.028) 0px,\n          rgba(255,255,255,0.028) 1px,\n          rgba(0,0,0,0.00) 3px,\n          rgba(0,0,0,0.00) 6px),\n        radial-gradient(120% 90% at 50% 0%, rgba(34,197,94,0.14) 0%, rgba(34,197,94,0.00) 62%);\n      opacity: 0.75;\n    }\n\n    .start-reading:hover {\n      transform: translateY(-1px);\n      border-color: rgba(34,197,94,0.30);\n      box-shadow:\n        0 18px 42px rgba(0,0,0,0.24),\n        0 10px 18px rgba(0,0,0,0.18),\n        inset 0 1px 0 rgba(255,255,255,0.12),\n        inset 0 -1px 0 rgba(0,0,0,0.55);\n      text-shadow:\n        0 0 12px rgba(34,197,94,0.28),\n        0 0 26px rgba(34,197,94,0.18);\n    }\n\n    .start-reading:active {\n      transform: translateY(0px);\n      box-shadow:\n        0 14px 34px rgba(0,0,0,0.22),\n        0 8px 16px rgba(0,0,0,0.18),\n        inset 0 1px 0 rgba(255,255,255,0.10),\n        inset 0 -1px 0 rgba(0,0,0,0.55);\n    }\n\n    .start-reading:focus-visible {\n      outline: none;\n      box-shadow:\n        0 18px 42px rgba(0,0,0,0.24),\n        0 0 0 4px rgba(34,197,94,0.22),\n        0 0 0 1px rgba(34,197,94,0.26),\n        inset 0 1px 0 rgba(255,255,255,0.12),\n        inset 0 -1px 0 rgba(0,0,0,0.55);\n      border-color: rgba(34,197,94,0.34);\n    }\n\n    @media (prefers-reduced-motion: reduce) {\n      .start-reading {\n        transition: none;\n      }\n      .start-reading:hover {\n        transform: none;\n      }\n    }\n\n    /* =====================\n       CENTER: CONTENT\n    ====================== */\n    .content h1 {\n      font-size: 40px;\n      font-weight: 800;\n      line-height: 1.15;\n      margin: 0;\n    }\n\n    .byline {\n      font-size: 13px;\n      letter-spacing: 0.12em;\n      color: #666;\n      font-weight: 600;\n    }\n\n    .tagline {\n      font-size: 18px;\n      font-weight: 500;\n      color: #333;\n    }\n\n    .paragraph {\n      font-size: 15px;\n      color: #222;\n    }\n\n    .meta {\n      margin-top: 20px;\n      padding-top: 20px;\n      border-top: 1px solid var(--line);\n      display: grid;\n      grid-template-columns: repeat(2, 1fr);\n      gap: 12px 24px;\n      font-size: 13px;\n    }\n\n    .author {\n      margin-top: 20px;\n      padding-top: 20px;\n      border-top: 1px solid var(--line);\n      display: flex;\n      gap: 16px;\n      align-items: flex-start;\n    }\n\n    .author img {\n      width: 44px;\n      height: 44px;\n      border-radius: 50%;\n    }\n\n    /* =====================\n       RIGHT: RELATED\n    ====================== */\n    .related {\n      display: flex;\n      flex-direction: column;\n      gap: 20px;\n    }\n\n    .related-title {\n      font-size: 11px;\n      letter-spacing: 0.14em;\n      color: #666;\n      text-transform: uppercase;\n      font-weight: 600;\n    }\n\n    .related-item {\n      display: flex;\n      flex-direction: column;\n      gap: 6px;\n      cursor: pointer;\n      transition: transform 0.12s ease, box-shadow 0.12s ease;\n    }\n\n    .related-item:hover {\n      transform: translateY(-2px);\n    }\n\n    .related-thumb {\n      border-radius: 6px;\n      overflow: hidden;\n      aspect-ratio: 3 / 4;\n      box-shadow: 0 8px 24px rgba(0,0,0,0.1);\n\n      /* Gray placeholder shape */\n      background: linear-gradient(135deg, #e5e7eb 0%, #d1d5db 45%, #cbd5e1 100%);\n      border: 1px solid rgba(0,0,0,0.06);\n    }\n\n    .related-thumb img {\n      width: 100%;\n      height: 100%;\n      object-fit: cover;\n      filter: grayscale(1);\n      opacity: 0.85;\n      transition: filter 160ms ease, opacity 160ms ease;\n    }\n\n    .related-thumb .thumb-placeholder {\n      width: 100%;\n      height: 100%;\n      display: block;\n    }\n\n    .related-item a {\n      font-size: 12px;\n      font-weight: 600;\n      color: #111;\n    }\n\n    /* =====================\n       RIGHT: 13 CHAPTERS\n    ====================== */\n    .chapters {\n      display: flex;\n      flex-direction: column;\n      gap: 10px;\n    }\n\n    .chapters-title {\n      font-size: 11px;\n      letter-spacing: 0.12em;\n      color: rgba(17,17,17,0.52);\n      text-transform: uppercase;\n      font-weight: 600;\n    }\n\n    .chapters-help {\n      margin-top: -4px;\n      font-size: 11px;\n      line-height: 1.35;\n      color: rgba(17,17,17,0.42);\n    }\n\n    .chapter-list {\n      list-style: none;\n      padding: 0;\n      margin: 0;\n      display: flex;\n      flex-direction: column;\n      gap: 0;\n      border-top: 1px solid rgba(0,0,0,0.06);\n    }\n\n    .chapter-item {\n      display: grid;\n      grid-template-columns: 3ch 1fr;\n      gap: 12px;\n      align-items: start;\n      padding: 10px 0;\n      border-bottom: 1px solid rgba(0,0,0,0.06);\n    }\n\n    .chapter-item--preface .chapter-name {\n      font-weight: 760;\n      letter-spacing: -0.01em;\n      color: rgba(17,17,17,0.90);\n    }\n\n    .chapter-item--current .chapter-name {\n      color: rgba(17,17,17,0.92);\n      text-decoration: underline;\n      text-decoration-thickness: 1px;\n      text-underline-offset: 3px;\n      text-decoration-color: rgba(17,17,17,0.22);\n    }\n\n    .chapter-num {\n      width: auto;\n      height: auto;\n      border-radius: 0;\n      display: block;\n      text-align: right;\n      font-size: 11px;\n      font-weight: 650;\n      color: rgba(17,17,17,0.46);\n      font-variant-numeric: tabular-nums;\n    }\n\n    .chapter-name {\n      font-size: 12px;\n      font-weight: 600;\n      color: rgba(17,17,17,0.80);\n      line-height: 1.3;\n    }\n\n    .chapter-note {\n      margin-top: 2px;\n      font-size: 11px;\n      color: rgba(17,17,17,0.46);\n      line-height: 1.4;\n    }\n\n    /* =====================\n       RESPONSIVE\n    ====================== */\n    @media (max-width: 900px) {\n      .chapter-content {\n        max-width: 100%;\n        padding: 0 24px;\n      }\n\n      .page-widget {\n        max-width: 100%;\n        margin-left: 24px;\n        margin-right: 24px;\n      }\n\n      .chapter-title {\n        font-size: 42px;\n      }\n\n      .chapter-body {\n        font-size: 18px;\n      }\n\n      .chapter-body h2 {\n        font-size: 32px;\n      }\n\n      .chapter-body h3 {\n        font-size: 24px;\n      }\n    }\n\n    @media (max-width: 768px) {\n      .header {\n        flex-direction: column;\n        gap: 12px;\n      }\n\n      .chapter-content {\n        padding: 0 16px;\n      }\n\n      .page-widget {\n        margin-left: 16px;\n        margin-right: 16px;\n      }\n\n      .chapter-title {\n        font-size: 38px;\n      }\n\n      .chapter-body {\n        font-size: 17px;\n      }\n\n      .chapter-body h2 {\n        font-size: 30px;\n      }\n\n      .chapter-body h3 {\n        font-size: 22px;\n      }\n    }\n  </style>\n</head>\n\n<body>\n  <div class=\"page\">\n    <div class=\"container\">\n\n      <!-- SIDEBAR BACKDROP -->\n      <div class=\"sidebar-backdrop\" id=\"sidebarBackdrop\"></div>\n\n      <!-- SIDEBAR -->\n      <aside class=\"sidebar\" id=\"sidebar\">\n        <div class=\"sidebar__title\">Working Fundamentals</div>\n        <ul class=\"sidebar__chapter-list\">\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-introduction\" class=\"sidebar__chapter-link\" target=\"_blank\">Introduction</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-1-of-13-programming-fundamentals\" class=\"sidebar__chapter-link sidebar__chapter-link\" target=\"_blank\">Chapter 1 ¬∑ Programming Fundamentals</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-2-of-13-data-structures\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 2 ¬∑ Data Structures</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-3-of-13-algorithms-and-complexity\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 3 ¬∑ Algorithms & Complexity</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-4-of-13-control-and-flow\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 4 ¬∑ Control & Flow</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-5-of-13-state-and-change\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 5 ¬∑ State & Change</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-6-of-13-design-principles\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 6 ¬∑ Design Principles</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-7-of-13-architecture\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 7 ¬∑ Architecture</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-8-of-13-persistence-and-data-modeling\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 8 ¬∑ Persistence & Data Modeling</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-9-of-13-interfaces-and-apis\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 9 ¬∑ Interfaces & APIs</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"#\" class=\"sidebar__chapter-link\"> class=\"sidebar__chapter-link sidebar__chapter-link--current\">Chapter 10 ¬∑ Errors\\ \\&\\ Failure</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-11-of-13-testing\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 11 ¬∑ Testing</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-12-of-13-performance-and-scale\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 12 ¬∑ Performance & Scale</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-13-of-13-the-developers-role\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 13 ¬∑ The Developer''s Role</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-outroduction\" class=\"sidebar__chapter-link\" target=\"_blank\">Outroduction</a>\n          </li>\n        </ul>\n      </aside>\n\n      <!-- HEADER -->\n      <header class=\"header\" id=\"header\">\n        <a href=\"https://arvinjaysoncastro.com/\" class=\"brand\" target=\"_blank\">Arvin Jayson Castro</a>\n        <nav class=\"nav\">\n          <a href=\"https://arvinjaysoncastro.com/hungry-dev-mind\" target=\"_blank\">Books</a>\n          <a href=\"https://arvinjaysoncastro.com/working-systems\" target=\"_blank\">Working Systems</a>\n          <a href=\"https://arvinjaysoncastro.com/about\" target=\"_blank\">16 Years</a>\n          <div class=\"linkedin\">\n            <a href=\"https://www.linkedin.com/in/arvin-jayson-castro-7458199a/\" target=\"_blank\">linkedIn</a>\n            <span>let''s connect</span>\n          </div>\n        </nav>\n      </header>\n\n      <!-- PAGE WIDGET (TOP) - REMOVED -->\n      <div style=\"display: none;\">\n          <ol class=\"page-widget__pages-list\">\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">P</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Preface</div>\n                  <div class=\"page-widget__page-note\">Why fundamentals still decide outcomes.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item page-widget__page-item--current\">\n                <span class=\"page-widget__page-number\">1</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 1</div>\n                  <div class=\"page-widget__page-note\">Core principles and constraints.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">2</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 2</div>\n                  <div class=\"page-widget__page-note\">Boundaries, ownership, and interfaces.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">3</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 3</div>\n                  <div class=\"page-widget__page-note\">State, consistency, and failure modes.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">4</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 4</div>\n                  <div class=\"page-widget__page-note\">Abstractions that survive change.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">5</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 5</div>\n                  <div class=\"page-widget__page-note\">Simplicity as an engineering practice.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">6</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 6</div>\n                  <div class=\"page-widget__page-note\">Reliability, observability, and feedback.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">7</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 7</div>\n                  <div class=\"page-widget__page-note\">Delivery systems and decision hygiene.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">8</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 8</div>\n                  <div class=\"page-widget__page-note\">Documentation that stays useful.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">9</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 9</div>\n                  <div class=\"page-widget__page-note\">Testing strategy for predictable change.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">10</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 10</div>\n                  <div class=\"page-widget__page-note\">Pragmatic architecture for teams.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">11</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 11</div>\n                  <div class=\"page-widget__page-note\">Operational excellence without ceremony.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">12</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 12</div>\n                  <div class=\"page-widget__page-note\">Leadership, standards, and leverage.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">13</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 13</div>\n                  <div class=\"page-widget__page-note\">Making fundamentals non-negotiable.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">PS</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Postscript</div>\n                  <div class=\"page-widget__page-note\">A short operating model to carry forward.</div>\n                </div>\n              </a>\n            </li>\n          </ol>\n        </div>\n      </div>\n\n      <!-- MAIN -->\n      <main class=\"main\" id=\"main\">\n\n        <!-- CHAPTER CONTENT (Option 1: Magazine-style) -->\n        <article class=\"chapter-content\">\n          <header class=\"chapter-header\">\n            <div class=\"book-title\">Working Fundamentals</div>\n            <div class=\"chapter-number\" id=\"chapterIndicator\">\n              <span>chapter 10 of 13</span>\n              <span class=\"chapter-number__icon\" id=\"chapterIndicatorIcon\">‚ñæ</span>\n            </div>\n            <h1 class=\"chapter-title\">Errors & Failure</h1>\n            <p class=\"chapter-subtitle\">Assumptions made explicit</p>\n          </header>\n\n          <div class=\"chapter-body\">\n            <h3>What this chapter is</h3>\n\n            <p>This chapter is not about exceptions.It is not about error codes.It is not about retries, timeouts, or logs.</p>\n\n            <p>This chapter is about <strong>truth</strong>.</p>\n\n            <p>Errors exist because reality did not match your assumptions.</p>\n\n            <h2>The core truth</h2>\n\n            <p>Failure is not an accident.</p>\n\n            <p>Failure is a <strong>revealed assumption</strong>.</p>\n\n            <p>When a system fails, it is saying:</p>\n\n            <blockquote>‚ÄúI expected the world to behave differently.‚Äù</blockquote>\n\n            <p>Ignoring that message does not restore correctness.</p>\n\n            <p>üß† <strong>Mental Model</strong>Every error is an assumption becoming visible.</p>\n\n            <h2>Why failure must be designed</h2>\n\n            <p>Most systems treat failure as an afterthought.</p>\n\n            <p>They design for:</p>\n\n            <ul>\n\n            <li>the happy path</li>\n\n            </ul>\n\n            <ul>\n\n            <li>correct inputs</li>\n\n            </ul>\n\n            <ul>\n\n            <li>perfect timing</li>\n\n            </ul>\n\n            <ul>\n\n            <li>reliable dependencies</li>\n\n            </ul>\n\n            <p>Reality does not agree.</p>\n\n            <p>Failure that is not designed becomes:</p>\n\n            <ul>\n\n            <li>partial updates</li>\n\n            </ul>\n\n            <ul>\n\n            <li>silent corruption</li>\n\n            </ul>\n\n            <ul>\n\n            <li>cascading outages</li>\n\n            </ul>\n\n            <ul>\n\n            <li>data inconsistency</li>\n\n            </ul>\n\n            <p>üß† <strong>Architect‚Äôs Note</strong>The most dangerous failures are the quiet ones.</p>\n\n            <h2>Failure is a first-class path</h2>\n\n            <p>Failure is not an interruption to control flow.It is <strong>an alternate path</strong>.</p>\n\n            <p>Every failure path must answer:</p>\n\n            <ul>\n\n            <li>what stops?</li>\n\n            </ul>\n\n            <ul>\n\n            <li>what continues?</li>\n\n            </ul>\n\n            <ul>\n\n            <li>what must be undone?</li>\n\n            </ul>\n\n            <ul>\n\n            <li>what must never happen?</li>\n\n            </ul>\n\n            <p>If these answers are unclear, the design is incomplete.</p>\n\n            <h2>Partial failure is worse than total failure</h2>\n\n            <p>A total failure is visible.A partial failure lies.</p>\n\n            <p>Examples of partial failure:</p>\n\n            <ul>\n\n            <li>data written but not acknowledged</li>\n\n            </ul>\n\n            <ul>\n\n            <li>side effects triggered before validation</li>\n\n            </ul>\n\n            <ul>\n\n            <li>retries applied after irreversible changes</li>\n\n            </ul>\n\n            <p>üß† <strong>Perspective</strong>It is safer to fail loudly than to succeed incorrectly.</p>\n\n            <h2>Errors and state are inseparable</h2>\n\n            <p>Failures interacting with state are dangerous.</p>\n\n            <p>Questions you must answer:</p>\n\n            <ul>\n\n            <li>did state change?</li>\n\n            </ul>\n\n            <ul>\n\n            <li>was it complete?</li>\n\n            </ul>\n\n            <ul>\n\n            <li>can this be retried safely?</li>\n\n            </ul>\n\n            <ul>\n\n            <li>can it be rolled back?</li>\n\n            </ul>\n\n            <p>If state cannot be restored or recovered,the system accumulates damage.</p>\n\n            <p>üß† <strong>Architect‚Äôs Note</strong>Failure + state without recovery is corruption.</p>\n\n            <h2>Retrying is a design decision</h2>\n\n            <p>Retries feel safe.They are not.</p>\n\n            <p>Blind retries can:</p>\n\n            <ul>\n\n            <li>duplicate work</li>\n\n            </ul>\n\n            <ul>\n\n            <li>amplify load</li>\n\n            </ul>\n\n            <ul>\n\n            <li>worsen outages</li>\n\n            </ul>\n\n            <p>Retries must be:</p>\n\n            <ul>\n\n            <li>bounded</li>\n\n            </ul>\n\n            <ul>\n\n            <li>idempotent</li>\n\n            </ul>\n\n            <ul>\n\n            <li>intentional</li>\n\n            </ul>\n\n            <p>üß† <strong>Mental Model</strong>A retry is a promise that repeating is safe.</p>\n\n            <h2>Error handling is part of the contract</h2>\n\n            <p>Errors are not implementation details.</p>\n\n            <p>They are part of:</p>\n\n            <ul>\n\n            <li>interfaces</li>\n\n            </ul>\n\n            <ul>\n\n            <li>expectations</li>\n\n            </ul>\n\n            <ul>\n\n            <li>system behavior</li>\n\n            </ul>\n\n            <p>Consumers will build logic around:</p>\n\n            <ul>\n\n            <li>how you fail</li>\n\n            </ul>\n\n            <ul>\n\n            <li>how often you fail</li>\n\n            </ul>\n\n            <ul>\n\n            <li>how you signal failure</li>\n\n            </ul>\n\n            <p>Inconsistent error behavior creates fragile integrations.</p>\n\n            <h2>Failure domains matter</h2>\n\n            <p>Failures should be <strong>contained</strong>.</p>\n\n            <p>A failure in one area should not:</p>\n\n            <ul>\n\n            <li>bring down unrelated parts</li>\n\n            </ul>\n\n            <ul>\n\n            <li>corrupt shared state</li>\n\n            </ul>\n\n            <ul>\n\n            <li>force global recovery</li>\n\n            </ul>\n\n            <p>This is a structural problem, not a logging problem.</p>\n\n            <p>üß† <strong>Architect‚Äôs Note</strong>A system without failure boundaries will eventually fail everywhere.</p>\n\n            <h2>When failure is expected</h2>\n\n            <p>Some failures are normal:</p>\n\n            <ul>\n\n            <li>invalid input</li>\n\n            </ul>\n\n            <ul>\n\n            <li>missing data</li>\n\n            </ul>\n\n            <ul>\n\n            <li>unavailable dependencies</li>\n\n            </ul>\n\n            <ul>\n\n            <li>timeouts</li>\n\n            </ul>\n\n            <p>Treating expected failures as exceptional:</p>\n\n            <ul>\n\n            <li>clutters logs</li>\n\n            </ul>\n\n            <ul>\n\n            <li>hides real issues</li>\n\n            </ul>\n\n            <ul>\n\n            <li>increases noise</li>\n\n            </ul>\n\n            <p>üß† <strong>Perspective</strong>If failure is expected, design for it explicitly.</p>\n\n            <h2>Observability without panic</h2>\n\n            <p>Errors should be:</p>\n\n            <ul>\n\n            <li>visible</li>\n\n            </ul>\n\n            <ul>\n\n            <li>attributable</li>\n\n            </ul>\n\n            <ul>\n\n            <li>actionable</li>\n\n            </ul>\n\n            <p>They should not:</p>\n\n            <ul>\n\n            <li>overwhelm operators</li>\n\n            </ul>\n\n            <ul>\n\n            <li>trigger unnecessary escalation</li>\n\n            </ul>\n\n            <ul>\n\n            <li>obscure root causes</li>\n\n            </ul>\n\n            <p>Silence is dangerous.Noise is also dangerous.</p>\n\n            <h2>Failure teaches structure</h2>\n\n            <p>Failures reveal:</p>\n\n            <ul>\n\n            <li>hidden coupling</li>\n\n            </ul>\n\n            <ul>\n\n            <li>missing boundaries</li>\n\n            </ul>\n\n            <ul>\n\n            <li>fragile assumptions</li>\n\n            </ul>\n\n            <p>Well-designed systems learn from failure.Poorly designed ones repeat it.</p>\n\n            <h2>Minimal practice (still no code)</h2>\n\n            <p><strong>Problem:</strong>‚ÄúA process validates input, writes to storage, and notifies an external system. The notification fails.‚Äù</p>\n\n            <p>Ask:</p>\n\n            <ul>\n\n            <li>What state has already changed?</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Is retry safe?</li>\n\n            </ul>\n\n            <ul>\n\n            <li>What must be undone?</li>\n\n            </ul>\n\n            <ul>\n\n            <li>What should the system report?</li>\n\n            </ul>\n\n            <p>If the answer is ‚Äúit depends,‚Äù the design is incomplete.</p>\n\n            <h2>What beginners gain here</h2>\n\n            <ul>\n\n            <li>Respect for failure</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Fewer destructive shortcuts</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Safer mental models</li>\n\n            </ul>\n\n            <h2>What experienced developers recognize</h2>\n\n            <ul>\n\n            <li>Why outages cascade</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Why retries worsen incidents</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Why some bugs never fully disappear</li>\n\n            </ul>\n\n            <p>Failures were ignored.</p>\n\n            <h2>What this chapter deliberately avoids</h2>\n\n            <ul>\n\n            <li>Error-handling libraries</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Framework-specific patterns</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Logging tools</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Incident playbooks</li>\n\n            </ul>\n\n            <p>Those come after design.</p>\n\n            <h2>Closing</h2>\n\n            <p>Failure is not the enemy.</p>\n\n            <p>Unexamined failure is.</p>\n\n            <p>Design systems that:</p>\n\n            <ul>\n\n            <li>expect failure</li>\n\n            </ul>\n\n            <ul>\n\n            <li>expose assumptions</li>\n\n            </ul>\n\n            <ul>\n\n            <li>recover deliberately</li>\n\n            </ul>\n\n            <p>A system that fails honestlyis safer than one that pretends to succeed.</p>\n          </div>\n        </article>\n\n        <!-- RIGHT -->\n\n      </main>\n\n      <!-- CHAPTER NAVIGATION (BOTTOM) -->\n      <nav class=\"chapter-nav-bottom\" id=\"chapterNavBottom\">\n        <a href=\"#\" class=\"chapter-nav-bottom__link chapter-nav-bottom__link--prev\" id=\"prevChapter\">\n          <span class=\"chapter-nav-bottom__arrow\">‚Üê</span>\n          <span class=\"chapter-nav-bottom__label\">Previous</span>\n        </a>\n        <a href=\"#\" class=\"chapter-nav-bottom__link chapter-nav-bottom__link--next\" id=\"nextChapter\">\n          <span class=\"chapter-nav-bottom__label\">Next</span>\n          <span class=\"chapter-nav-bottom__arrow\">‚Üí</span>\n        </a>\n      </nav>\n\n      <!-- PAGE WIDGET (BOTTOM) - REMOVED -->\n      <div style=\"display: none;\">\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">P</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Preface</div>\n                  <div class=\"page-widget__page-note\">Why fundamentals still decide outcomes.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item page-widget__page-item--current\">\n                <span class=\"page-widget__page-number\">1</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 1</div>\n                  <div class=\"page-widget__page-note\">Core principles and constraints.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">2</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 2</div>\n                  <div class=\"page-widget__page-note\">Boundaries, ownership, and interfaces.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">3</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 3</div>\n                  <div class=\"page-widget__page-note\">State, consistency, and failure modes.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">4</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 4</div>\n                  <div class=\"page-widget__page-note\">Abstractions that survive change.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">5</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 5</div>\n                  <div class=\"page-widget__page-note\">Simplicity as an engineering practice.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">6</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 6</div>\n                  <div class=\"page-widget__page-note\">Reliability, observability, and feedback.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">7</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 7</div>\n                  <div class=\"page-widget__page-note\">Delivery systems and decision hygiene.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">8</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 8</div>\n                  <div class=\"page-widget__page-note\">Documentation that stays useful.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">9</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 9</div>\n                  <div class=\"page-widget__page-note\">Testing strategy for predictable change.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">10</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 10</div>\n                  <div class=\"page-widget__page-note\">Pragmatic architecture for teams.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">11</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 11</div>\n                  <div class=\"page-widget__page-note\">Operational excellence without ceremony.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">12</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 12</div>\n                  <div class=\"page-widget__page-note\">Leadership, standards, and leverage.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">13</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 13</div>\n                  <div class=\"page-widget__page-note\">Making fundamentals non-negotiable.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">PS</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Postscript</div>\n                  <div class=\"page-widget__page-note\">A short operating model to carry forward.</div>\n                </div>\n              </a>\n            </li>\n          </ol>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <!-- PAGE WIDGET JS -->\n  <!-- SIDEBAR TOGGLE JS -->\n  <script>\n  (() => {\n    const sidebar = document.getElementById(''sidebar'');\n    const backdrop = document.getElementById(''sidebarBackdrop'');\n    const indicator = document.getElementById(''chapterIndicator'');\n    const icon = document.getElementById(''chapterIndicatorIcon'');\n    const header = document.getElementById(''header'');\n    const main = document.getElementById(''main'');\n    const body = document.body;\n\n    if (!sidebar || !backdrop || !indicator || !icon || !header || !main) return;\n\n    let isOpen = false;\n    let scrollTimeout = null;\n\n    const openSidebar = () => {\n      isOpen = true;\n      sidebar.classList.add(''sidebar--open'');\n      backdrop.classList.add(''sidebar-backdrop--visible'');\n      header.classList.add(''header--shifted'');\n      main.classList.add(''main--shifted'');\n      icon.classList.add(''chapter-number__icon--open'');\n      body.classList.add(''sidebar-open'');\n    };\n\n    const closeSidebar = () => {\n      isOpen = false;\n      sidebar.classList.remove(''sidebar--open'');\n      backdrop.classList.remove(''sidebar-backdrop--visible'');\n      header.classList.remove(''header--shifted'');\n      main.classList.remove(''main--shifted'');\n      icon.classList.remove(''chapter-number__icon--open'');\n      body.classList.remove(''sidebar-open'');\n    };\n\n    // Toggle sidebar\n    indicator.addEventListener(''click'', (e) => {\n      e.stopPropagation();\n      if (isOpen) {\n        closeSidebar();\n      } else {\n        openSidebar();\n      }\n    });\n\n    // Close sidebar when clicking backdrop\n    backdrop.addEventListener(''click'', () => {\n      closeSidebar();\n    });\n\n    // Close sidebar when clicking outside\n    document.addEventListener(''click'', (e) => {\n      // Don''t close sidebar if clicking on brand link or nav links\n      const brandLink = header.querySelector(''.brand'');\n      const isClickOnLink = brandLink && brandLink.contains(e.target);\n      const isClickOnNav = header.querySelector(''.nav'') && header.querySelector(''.nav'').contains(e.target);\n      \n      if (isOpen && !sidebar.contains(e.target) && !indicator.contains(e.target) && !isClickOnLink && !isClickOnNav) {\n        closeSidebar();\n      }\n    });\n\n    // Close sidebar on scroll (debounced)\n    const handleScroll = () => {\n      if (isOpen) {\n        clearTimeout(scrollTimeout);\n        scrollTimeout = setTimeout(() => {\n          closeSidebar();\n        }, 100);\n      }\n    };\n\n    // Listen for scroll on main content\n    window.addEventListener(''scroll'', handleScroll, { passive: true });\n    \n    // Also listen for scroll attempts on body (when scroll is disabled)\n    let lastScrollTop = window.pageYOffset;\n    const handleScrollAttempt = () => {\n      if (isOpen) {\n        const currentScrollTop = window.pageYOffset;\n        if (currentScrollTop !== lastScrollTop) {\n          closeSidebar();\n        }\n        lastScrollTop = currentScrollTop;\n      }\n    };\n\n    // Prevent scroll on body when sidebar is open\n    document.addEventListener(''wheel'', (e) => {\n      if (isOpen && !sidebar.contains(e.target)) {\n        e.preventDefault();\n        closeSidebar();\n      }\n    }, { passive: false });\n\n    // Prevent touch scroll on body when sidebar is open\n    document.addEventListener(''touchmove'', (e) => {\n      if (isOpen && !sidebar.contains(e.target)) {\n        e.preventDefault();\n        closeSidebar();\n      }\n    }, { passive: false });\n  })();\n  </script>\n\n  <!-- CHAPTER NAVIGATION (BOTTOM) JS -->\n  <script>\n  (() => {\n    // Chapter list: Preface = 0, Chapter 1-13 = 1-13, Postscript = 14\n    const chapters = [\n      { id: ''preface'', title: ''Preface'', url: ''https://arvinjaysoncastro.com/working-fundamentals-introduction'' },\n      { id: ''ch1'', title: ''Chapter 1'', url: ''https://arvinjaysoncastro.com/working-fundamentals-1-of-13-programming-fundamentals'' },\n      { id: ''ch2'', title: ''Chapter 2'', url: ''https://arvinjaysoncastro.com/working-fundamentals-2-of-13-data-structures'' },\n      { id: ''ch3'', title: ''Chapter 3'', url: ''https://arvinjaysoncastro.com/working-fundamentals-3-of-13-algorithms-and-complexity'' },\n      { id: ''ch4'', title: ''Chapter 4'', url: ''https://arvinjaysoncastro.com/working-fundamentals-4-of-13-control-and-flow'' },\n      { id: ''ch5'', title: ''Chapter 5'', url: ''https://arvinjaysoncastro.com/working-fundamentals-5-of-13-state-and-change'' },\n      { id: ''ch6'', title: ''Chapter 6'', url: ''https://arvinjaysoncastro.com/working-fundamentals-6-of-13-design-principles'' },\n      { id: ''ch7'', title: ''Chapter 7'', url: ''https://arvinjaysoncastro.com/working-fundamentals-7-of-13-architecture'' },\n      { id: ''ch8'', title: ''Chapter 8'', url: ''https://arvinjaysoncastro.com/working-fundamentals-8-of-13-persistence-and-data-modeling'' },\n      { id: ''ch9'', title: ''Chapter 9'', url: ''https://arvinjaysoncastro.com/working-fundamentals-9-of-13-interfaces-and-apis'' },\n      { id: ''ch10'', title: ''Chapter 10'', url: ''https://arvinjaysoncastro.com/working-fundamentals-10-of-13-errors-and-failure'' },\n      { id: ''ch11'', title: ''Chapter 11'', url: ''https://arvinjaysoncastro.com/working-fundamentals-11-of-13-testing'' },\n      { id: ''ch12'', title: ''Chapter 12'', url: ''https://arvinjaysoncastro.com/working-fundamentals-12-of-13-performance-and-scale'' },\n      { id: ''ch13'', title: ''Chapter 13'', url: ''https://arvinjaysoncastro.com/working-fundamentals-13-of-13-the-developers-role'' },\n      { id: ''postscript'', title: ''Postscript'', url: ''https://arvinjaysoncastro.com/working-fundamentals-outroduction'' }\n    ];\n\n    const currentChapterIndex = 10; // Chapter 1 is index 1 (Preface is 0)\n    const prevLink = document.getElementById(''prevChapter'');\n    const nextLink = document.getElementById(''nextChapter'');\n\n    if (!prevLink || !nextLink) return;\n\n    // Previous chapter\n    if (currentChapterIndex > 0) {\n      const prevChapter = chapters[currentChapterIndex - 1];\n      prevLink.href = prevChapter.url;\n      prevLink.target = ''_blank'';\n      prevLink.innerHTML = `\n        <span class=\"chapter-nav-bottom__arrow\">‚Üê</span>\n        <span class=\"chapter-nav-bottom__label\">Previous: ${prevChapter.title}</span>\n      `;\n    } else {\n      // No previous chapter - show \"go back to book list\"\n      prevLink.href = ''https://arvinjaysoncastro.com/hungry-dev-mind'';\n      prevLink.target = ''_blank'';\n      prevLink.innerHTML = `\n        <span class=\"chapter-nav-bottom__arrow\">‚Üê</span>\n        <span class=\"chapter-nav-bottom__label\">Go back to book list</span>\n      `;\n    }\n\n    // Next chapter\n    if (currentChapterIndex < chapters.length - 1) {\n      const nextChapter = chapters[currentChapterIndex + 1];\n      nextLink.href = nextChapter.url;\n      nextLink.target = ''_blank'';\n      nextLink.innerHTML = `\n        <span class=\"chapter-nav-bottom__label\">Next: ${nextChapter.title}</span>\n        <span class=\"chapter-nav-bottom__arrow\">‚Üí</span>\n      `;\n    } else {\n      // No next chapter - show \"go back to book list\"\n      nextLink.href = ''https://arvinjaysoncastro.com/hungry-dev-mind'';\n      nextLink.target = ''_blank'';\n      nextLink.innerHTML = `\n        <span class=\"chapter-nav-bottom__label\">Go back to book list</span>\n        <span class=\"chapter-nav-bottom__arrow\">‚Üí</span>\n      `;\n    }\n  })();\n  </script>\n\n  <!-- OPTIONAL JS -->\n <script>\n(() => {\n  const wrap = document.querySelector(''.book-wrap'');\n  if (!wrap) return;\n\n  const slab1 = wrap.querySelector(''.shadow-slab'');\n  const slab2 = wrap.querySelector(''.shadow-slab-2'');\n  const slab3 = wrap.querySelector(''.shadow-slab-3'');\n  const slab4 = wrap.querySelector(''.shadow-slab-4'');\n  const front = wrap.querySelector(''.front-slab'');\n\n  const clamp = (v, min, max) => Math.max(min, Math.min(max, v));\n\n  let raf = 0;\n  let lx = 0; // light vector x\n  let ly = 0; // light vector y\n\n  function render() {\n    raf = 0;\n\n    // Shadow direction = opposite of light\n    const sx = -lx;\n    const sy = -ly;\n\n    const intensity = Math.abs(lx) + Math.abs(ly);\n\n    /* ---------------------------\n       SLAB 1 ‚Äî KEY CAST SHADOW\n    ---------------------------- */\n    slab1.style.transform =\n      `translate(${(sx * 38).toFixed(2)}px, ${(sy * 38).toFixed(2)}px)`;\n    slab1.style.filter =\n      `blur(${(14 + intensity * 6).toFixed(2)}px)`;\n    slab1.style.opacity =\n      (0.28 + intensity * 0.14).toFixed(2);\n\n    /* ---------------------------\n       SLAB 2 ‚Äî BOUNCE / COLOR BLEED\n    ---------------------------- */\n    slab2.style.transform =\n      `translate(${(sx * 14).toFixed(2)}px, ${(sy * 14).toFixed(2)}px)`;\n    slab2.style.filter =\n      `blur(${(6 + intensity * 4).toFixed(2)}px)`;\n    slab2.style.opacity =\n      (0.16 + intensity * 0.10).toFixed(2);\n\n    /* ---------------------------\n       SLAB 3 ‚Äî CONTACT SHADOW\n    ---------------------------- */\n    slab3.style.transform =\n      `translate(${(sx * 6).toFixed(2)}px, ${(sy * 6).toFixed(2)}px)`;\n    slab3.style.filter = `blur(9px)`;\n    slab3.style.opacity =\n      (0.24 + Math.abs(lx) * 0.06).toFixed(2);\n\n    /* ---------------------------\n       SLAB 4 ‚Äî AMBIENT DEPTH\n    ---------------------------- */\n    slab4.style.transform =\n      `translate(${(sx * 3).toFixed(2)}px, ${(sy * 3).toFixed(2)}px)`;\n    slab4.style.filter = `blur(18px)`;\n    slab4.style.opacity =\n      (0.16 + Math.abs(ly) * 0.04).toFixed(2);\n\n    /* ---------------------------\n       FRONT SLAB ‚Äî SPECULAR RESPONSE\n       (moves TOWARD light)\n    ---------------------------- */\nif (front) {\n  // Very subtle counter-parallax (NOT toward light)\n  front.style.transform =\n    `translate(${(-lx * 1.6).toFixed(2)}px, ${(-ly * 1.6).toFixed(2)}px)`;\n\n  // Opacity increases when light is grazing\n  front.style.opacity =\n    (0.34 + intensity * 0.22).toFixed(2);\n\n  // Highlight shifts OPPOSITE the light direction\n  const gx = 50 - lx * 28;\n  const gy = 50 - ly * 28;\n  front.style.backgroundPosition = `${gx}% ${gy}%`;\n}\n\n  }\n\n  function onMove(e) {\n    const r = wrap.getBoundingClientRect();\n    const cx = r.left + r.width / 2;\n    const cy = r.top + r.height / 2;\n\n    // LIGHT VECTOR (mouse = light source)\n    lx = clamp((e.clientX - cx) / (r.width / 2), -1, 1);\n    ly = clamp((e.clientY - cy) / (r.height / 2), -1, 1);\n\n    if (!raf) raf = requestAnimationFrame(render);\n  }\n\n  window.addEventListener(''mousemove'', onMove, { passive: true });\n})();\n</script>\n</body>\n</html>\n", "css": "body { font-family: system-ui; padding: 20px; }", "js": "console.log(\"Code Runner initialized\");", "imports": {"css": [], "js": []}, "entryPoint": {"type": "htmlDocument", "mountSelector": "#app", "injectMountIfMissing": true}, "settings": {"mode": "play", "viewport": {"type": "responsive", "background": "white"}, "securityPreset": "trusted", "autoRun": true, "runOnLoad": true}, "codePanel": {"isVisible": false, "isEditable": false}}}]}]}',
    NULL,
    1,
    NOW()
);


-- 11. Testing
-- Slug: working-fundamentals-11-of-13-testing
-- ID: b106caaa-2e99-4e7c-8e2c-53a6f0da61d7
-- File: ch_11.html
INSERT INTO App_Pages (
    id, org_id, name, slug, template_code, layout, layout_version, is_active,
    created_by_user_id, created_at, updated_at, visibility, description,
    is_template, template_metadata, kind, parent_id, section_tags, section_purpose,
    section_scope, palette_id, is_default_variation, variation_order, template_purpose,
    is_listed, is_org_landing_page, report, folder, layout_raw, layout_quarantine,
    layout_schema_version, layout_ingested_at
) VALUES (
    'b106caaa-2e99-4e7c-8e2c-53a6f0da61d7',
    '82c2d096-2638-4837-83c8-e8a933bb17c7',
    'Testing',
    'working-fundamentals-11-of-13-testing',
    NULL,
    '{"id": "block-root", "style": {}, "type": "container", "children": [{"id": "temp-container", "style": {"width": "100vw", "height": "100vh"}, "type": "container", "children": [{"id": "temp-coderunner", "style": {}, "type": "codeRunner", "data": {"html": "<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n  <meta charset=\"UTF-8\" />\n  <title>Working Fundamentals ‚Äî Arvin Jayson Castro</title>\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n\n  <!-- =====================\n       GLOBAL STYLES\n  ====================== -->\n  <style>\n    :root {\n      --bg: #f7f8f8;\n      --ink: #111111;\n      --muted: #666666;\n      --line: rgba(0,0,0,0.08);\n      --accent: #16a34a;\n      --link: #3b82f6;\n      --max-width: 1200px;\n    }\n\n    * {\n      box-sizing: border-box;\n    }\n\n    body {\n      margin: 0;\n      font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, sans-serif;\n      color: var(--ink);\n      background-color: var(--bg);\n      background-image:\n        radial-gradient(980px 560px at 14% 18%, rgba(16,185,129,0.10) 0%, rgba(16,185,129,0) 60%),\n        radial-gradient(860px 540px at 86% 74%, rgba(245,158,11,0.10) 0%, rgba(245,158,11,0) 62%),\n        repeating-linear-gradient(0deg, rgba(0,0,0,0.043) 0, rgba(0,0,0,0.043) 1px, transparent 1px, transparent 46px),\n        repeating-linear-gradient(90deg, rgba(0,0,0,0.043) 0, rgba(0,0,0,0.043) 1px, transparent 1px, transparent 46px);\n      min-height: 100vh;\n    }\n\n    a {\n      color: inherit;\n      text-decoration: none;\n    }\n\n    img {\n      max-width: 100%;\n      display: block;\n    }\n\n    /* =====================\n       PAGE WRAPPER\n    ====================== */\n    .page {\n      padding: 22px 24px;\n    }\n\n    .container {\n      max-width: var(--max-width);\n      margin: 0 auto;\n    }\n\n    /* =====================\n       SIDEBAR BACKDROP\n    ====================== */\n    .sidebar-backdrop {\n      position: fixed;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n      background: rgba(0, 0, 0, 0.2);\n      backdrop-filter: blur(4px);\n      -webkit-backdrop-filter: blur(4px);\n      opacity: 0;\n      visibility: hidden;\n      transition: opacity 0.3s ease, visibility 0.3s ease;\n      z-index: 999;\n      pointer-events: none;\n    }\n\n    .sidebar-backdrop--visible {\n      opacity: 1;\n      visibility: visible;\n      pointer-events: auto;\n    }\n\n    /* =====================\n       SIDEBAR\n    ====================== */\n    .sidebar {\n      position: fixed;\n      top: 0;\n      right: 0;\n      width: 320px;\n      height: 100vh;\n      background: var(--bg);\n      border-left: 1px solid var(--line);\n      transform: translateX(100%);\n      transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n      z-index: 1000;\n      overflow-y: auto;\n      padding: 24px;\n    }\n\n    .sidebar--open {\n      transform: translateX(0);\n    }\n\n    .sidebar__title {\n      font-size: 16px;\n      font-weight: 600;\n      margin-bottom: 24px;\n      color: var(--ink);\n    }\n\n    /* Prevent body scroll when sidebar is open */\n    body.sidebar-open {\n      overflow: hidden;\n    }\n\n    .sidebar__chapter-list {\n      list-style: none;\n      margin: 0;\n      padding: 0;\n    }\n\n    .sidebar__chapter-item {\n      margin: 0 0 8px 0;\n    }\n\n    .sidebar__chapter-link {\n      display: block;\n      font-size: 14px;\n      color: var(--muted);\n      text-decoration: none;\n      padding: 8px 0;\n      transition: color 0.2s ease;\n      line-height: 1.5;\n    }\n\n    .sidebar__chapter-link:hover {\n      color: var(--ink);\n    }\n\n    .sidebar__chapter-link {\n      color: var(--ink);\n      font-weight: 500;\n    }\n\n    /* =====================\n       HEADER (Top bar with chapter indicator)\n    ====================== */\n    .header {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      padding: 10px 0;\n      border-bottom: 1px solid var(--line);\n      position: relative;\n      transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n    }\n\n    .header--shifted {\n      transform: translateX(-320px);\n    }\n\n    .brand {\n      font-size: 16px;\n      font-weight: 600;\n      cursor: pointer;\n      display: inline-block;\n    }\n\n    .nav {\n      display: flex;\n      gap: 24px;\n      align-items: center;\n      font-size: 14px;\n    }\n\n    .nav a {\n      color: #1f2937;\n    }\n\n    .linkedin {\n      display: flex;\n      flex-direction: column;\n      align-items: flex-start;\n    }\n\n    .linkedin a {\n      color: var(--link);\n    }\n\n    .linkedin span {\n      font-family: Georgia, serif;\n      font-size: 9px;\n      font-style: italic;\n      color: #999;\n    }\n\n    /* =====================\n       MAIN GRID\n    ====================== */\n    .main {\n      padding-top: 48px;\n      padding-bottom: 48px;\n      display: flex;\n      justify-content: center;\n      align-items: start;\n    }\n\n    /* =====================\n       CHAPTER READING AREA (Option 1: Magazine-style)\n    ====================== */\n    .chapter-content {\n      max-width: 768px;\n      width: 100%;\n      margin: 0 auto;\n    }\n\n    .chapter-header {\n      margin-bottom: 56px;\n      padding-bottom: 32px;\n      border-bottom: 2px solid var(--line);\n    }\n\n    .book-title {\n      font-size: 12px;\n      letter-spacing: 0.15em;\n      text-transform: uppercase;\n      color: var(--muted);\n      font-weight: 500;\n      margin-bottom: 8px;\n      opacity: 0.7;\n    }\n\n    .chapter-number {\n      font-size: 13px;\n      letter-spacing: 0.2em;\n      text-transform: uppercase;\n      color: var(--muted);\n      font-weight: 600;\n      margin-bottom: 12px;\n      display: flex;\n      align-items: center;\n      gap: 8px;\n      cursor: pointer;\n      user-select: none;\n      transition: color 0.2s ease;\n    }\n\n    .chapter-number:hover {\n      color: var(--ink);\n    }\n\n    .chapter-number__icon {\n      font-size: 10px;\n      opacity: 0.6;\n      transition: transform 0.3s ease, opacity 0.2s ease;\n    }\n\n    .chapter-number:hover .chapter-number__icon {\n      opacity: 0.8;\n    }\n\n    .chapter-number__icon--open {\n      transform: rotate(180deg);\n    }\n\n    .chapter-title {\n      font-size: 56px;\n      font-weight: 900;\n      line-height: 1.05;\n      margin: 0 0 20px 0;\n      color: var(--ink);\n      letter-spacing: -0.03em;\n    }\n\n    .chapter-subtitle {\n      font-size: 22px;\n      font-weight: 500;\n      color: var(--muted);\n      line-height: 1.4;\n      margin: 0;\n    }\n\n    .chapter-body {\n      font-size: 19px;\n      line-height: 1.8;\n      color: var(--ink);\n      max-width: none;\n      font-weight: 400;\n    }\n\n    .chapter-body p {\n      margin: 0 0 28px 0;\n    }\n\n    .chapter-body p:last-child {\n      margin-bottom: 0;\n    }\n\n    .chapter-body h2 {\n      font-size: 36px;\n      font-weight: 800;\n      line-height: 1.2;\n      margin: 56px 0 24px 0;\n      color: var(--ink);\n      letter-spacing: -0.02em;\n    }\n\n    .chapter-body h3 {\n      font-size: 26px;\n      font-weight: 700;\n      line-height: 1.3;\n      margin: 40px 0 18px 0;\n      color: var(--ink);\n      letter-spacing: -0.01em;\n    }\n\n    .chapter-body strong {\n      font-weight: 600;\n      color: var(--ink);\n    }\n\n    .chapter-body em {\n      font-style: italic;\n    }\n\n    .chapter-body ul,\n    .chapter-body ol {\n      margin: 28px 0;\n      padding-left: 36px;\n    }\n\n    .chapter-body li {\n      margin-bottom: 14px;\n      line-height: 1.75;\n    }\n\n    .chapter-body blockquote {\n      margin: 40px 0;\n      padding-left: 28px;\n      border-left: 4px solid var(--accent);\n      font-style: italic;\n      color: var(--muted);\n      font-size: 18px;\n      line-height: 1.7;\n    }\n\n    .chapter-body code {\n      font-family: ''Monaco'', ''Menlo'', ''Courier New'', monospace;\n      font-size: 0.9em;\n      background: rgba(0,0,0,0.04);\n      padding: 2px 6px;\n      border-radius: 3px;\n    }\n\n    .chapter-body pre {\n      background: rgba(0,0,0,0.04);\n      padding: 20px;\n      border-radius: 8px;\n      overflow-x: auto;\n      margin: 24px 0;\n    }\n\n    .chapter-body pre code {\n      background: none;\n      padding: 0;\n    }\n\n    /* Content shift when sidebar opens */\n    .main {\n      transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n    }\n\n    .main--shifted {\n      transform: translateX(-320px);\n    }\n\n    /* Prevent horizontal scroll */\n    body {\n      overflow-x: hidden;\n    }\n\n    .page {\n      overflow-x: hidden;\n    }\n\n    /* =====================\n       CHAPTER NAVIGATION (BOTTOM)\n    ====================== */\n    .chapter-nav-bottom {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      max-width: 768px;\n      width: 100%;\n      margin: 64px auto 0 auto;\n      padding: 24px 0;\n      border-top: 1px solid var(--line);\n    }\n\n    .chapter-nav-bottom__link {\n      display: flex;\n      align-items: center;\n      gap: 8px;\n      font-size: 14px;\n      color: var(--muted);\n      text-decoration: none;\n      transition: color 0.2s ease;\n      padding: 8px 0;\n    }\n\n    .chapter-nav-bottom__link:hover {\n      color: var(--ink);\n    }\n\n    .chapter-nav-bottom__arrow {\n      font-size: 16px;\n      opacity: 0.7;\n    }\n\n    .chapter-nav-bottom__label {\n      font-weight: 500;\n    }\n\n    .chapter-nav-bottom__link--prev {\n      margin-right: auto;\n    }\n\n    .chapter-nav-bottom__link--next {\n      margin-left: auto;\n    }\n\n    .chapter-nav-bottom__link--disabled {\n      opacity: 0.4;\n      cursor: not-allowed;\n      pointer-events: none;\n    }\n\n    .page-widget__pages {\n      max-height: 0;\n      overflow: hidden;\n      transition: max-height 0.4s cubic-bezier(0.4, 0, 0.2, 1),\n                  opacity 0.3s ease,\n                  margin-top 0.3s ease;\n      opacity: 0;\n      margin-top: 0;\n      background: rgba(255, 255, 255, 0.98);\n      backdrop-filter: blur(12px);\n      -webkit-backdrop-filter: blur(12px);\n      border: 1px solid rgba(0, 0, 0, 0.06);\n      border-radius: 12px;\n      box-shadow: 0 2px 12px rgba(0, 0, 0, 0.06);\n    }\n\n    .page-widget__pages--expanded {\n      max-height: 500px;\n      opacity: 1;\n      margin-top: 12px;\n      padding: 8px;\n    }\n\n    .page-widget__pages-list {\n      list-style: none;\n      margin: 0;\n      padding: 0;\n      display: flex;\n      flex-direction: column;\n      gap: 8px;\n      max-height: 400px;\n      overflow-y: auto;\n      padding-right: 4px;\n    }\n\n    .page-widget__pages-list::-webkit-scrollbar {\n      width: 6px;\n    }\n\n    .page-widget__pages-list::-webkit-scrollbar-track {\n      background: rgba(0, 0, 0, 0.02);\n      border-radius: 3px;\n    }\n\n    .page-widget__pages-list::-webkit-scrollbar-thumb {\n      background: rgba(0, 0, 0, 0.12);\n      border-radius: 3px;\n    }\n\n    .page-widget__pages-list::-webkit-scrollbar-thumb:hover {\n      background: rgba(0, 0, 0, 0.2);\n    }\n\n    .page-widget__page-item {\n      display: flex;\n      align-items: center;\n      gap: 10px;\n      padding: 8px 10px;\n      border-radius: 8px;\n      cursor: pointer;\n      transition: all 0.2s ease;\n      text-decoration: none;\n      color: var(--ink);\n    }\n\n    .page-widget__page-item:hover {\n      background: rgba(0, 0, 0, 0.03);\n      transform: translateX(2px);\n    }\n\n    .page-widget__page-item--current {\n      background: rgba(22, 163, 74, 0.08);\n      color: var(--accent);\n      font-weight: 500;\n    }\n\n    .page-widget__page-item--current:hover {\n      background: rgba(22, 163, 74, 0.12);\n    }\n\n    .page-widget__page-number {\n      display: inline-flex;\n      align-items: center;\n      justify-content: center;\n      width: 24px;\n      height: 24px;\n      background: rgba(0, 0, 0, 0.04);\n      border-radius: 5px;\n      font-size: 11px;\n      font-weight: 500;\n      flex-shrink: 0;\n      color: var(--muted);\n    }\n\n    .page-widget__page-item--current .page-widget__page-number {\n      background: rgba(22, 163, 74, 0.15);\n      color: var(--accent);\n    }\n\n    .page-widget__page-info {\n      flex: 1;\n      min-width: 0;\n    }\n\n    .page-widget__page-name {\n      font-size: 13px;\n      font-weight: 500;\n      line-height: 1.3;\n      margin: 0 0 2px 0;\n    }\n\n    .page-widget__page-note {\n      font-size: 11px;\n      color: var(--muted);\n      line-height: 1.3;\n      margin: 0;\n      white-space: nowrap;\n      overflow: hidden;\n      text-overflow: ellipsis;\n    }\n\n    @media (max-width: 768px) {\n      .page-widget__pages-list {\n        max-height: 300px;\n      }\n    }\n\n\n/* ===============================\n   WRAPPER\n================================ */\n.book-wrap {\n  width: 320px;\n  aspect-ratio: 2 / 3;\n  position: relative;\n}\n\n/* ===============================\n   CAST SHADOW SLAB (REAL SHADOW)\n================================ */\n.shadow-slab {\n    position: absolute;\n    position: absolute;\n    inset: 0;\n    border-radius: 22px;\n    /* background: #2a2a2a; */\n    transform: translate(-30px, 30px);\n    filter: blur(13px);\n    opacity: 0.35;\n    z-index: 0;\n    background: radial-gradient(ellipse at 15% 85%, rgba(0, 0, 0, 0.35), rgba(0, 0, 0, 0.18) 35%, transparent 65%), linear-gradient(to right, #1f1f1f 0%, #2a2a2a 45%, #3a3a3a 100%);\n}\n\n.shadow-slab-2 {\n    position: absolute;\n    inset: 0;\n    border-radius: 22px;\n    background: radial-gradient(circle at top right, #f6e6a8 0%, #e2c36b 35%, #b58a3c 70%, #7a5524 100%);\n    transform: translate(-10px, 10px);\n    filter: blur(5px);\n    opacity: 0.35;\n    z-index: 0;\n}\n\n.shadow-slab-3 {\n    position: absolute;\n    inset: 0;\n    border-radius: 22px;\n    background: #333;\n    transform: translate(0px, 0px);\n    filter: blur(11px);\n    opacity: 0.35;\n    z-index: 0;\n}\n\n.shadow-slab-4 {\n    position: absolute;\n    inset: 0;\n    border-radius: 22px;\n    background: #333;\n    transform: translate(0px, 0px);\n    filter: blur(11px);\n    opacity: 0.35;\n    z-index: 0;\n}\n\n/* ===============================\n   FRONT SLAB & SPIN HANDLE\n================================ */\n\n.front-slab {\n    position: absolute;\n    inset: 0;\n    border-radius: 22px;\n    background: linear-gradient(to right, rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.1) 3%, transparent 1%);\n    /* background: green; */\n    z-index: 3;\n    opacity: .5;\n    transform: translateZ(6px);\n    pointer-events: none;\n}\n\n.spin-handle {\n  display: none;\n  position: absolute;\n  top: 50%;\n  right: -22px;\n  width: 14px;\n  height: 48px;\n  border-radius: 999px;\n  background: rgba(0,0,0,0.25);\n  backdrop-filter: blur(4px);\n  cursor: grab;\n  z-index: 10;\n}\n\n/* ===============================\n   BOOK OBJECT (NO SHADOW)\n================================ */\n.book {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  border-radius: 22px;\n  overflow: hidden;\n  z-index: 2;\n\n  /* IMPORTANT: no box-shadow */\n  box-shadow: none;\n\n  /* transform: perspective(1200px) rotateX(0.6deg); */\n}\n\n/* ===============================\n   PAPER SURFACE (LIGHT FIELD)\n================================ */\n.book .surface {\n  position: absolute;\n  inset: 0;\n  border-radius: inherit;\n  pointer-events: none;\n  z-index: 1;\n\n  background:\n    linear-gradient(\n      to bottom left,\n      rgba(255,255,255,1) 0%,\n      rgba(250,250,250,1) 42%,\n      rgba(240,240,240,1) 100%\n    ),\n    repeating-linear-gradient(\n      0deg,\n      rgba(0,0,0,0.01),\n      rgba(0,0,0,0.01) 1px,\n      transparent 1px,\n      transparent 3px\n    );\n}\n\n/* ===============================\n   LEFT OCCLUSION (CURTAIN)\n================================ */\n.book .curtain {\n  position: absolute;\n  inset: 0;\n  border-radius: inherit;\n  pointer-events: none;\n  z-index: 2;\n\n  background:\n    linear-gradient(\n      to right,\n      rgba(0,0,0,0.20) 0%,\n      rgba(0,0,0,0.12) 8%,\n      rgba(0,0,0,0.05) 16%,\n      rgba(0,0,0,0.02) 22%,\n      rgba(0,0,0,0.00) 30%\n    );\n}\n\n/* ===============================\n   RIGHT HIGHLIGHT\n================================ */\n.book .highlight {\n  position: absolute;\n  inset: 0;\n  border-radius: inherit;\n  pointer-events: none;\n  z-index: 3;\n\n  background:\n    linear-gradient(\n      to left,\n      rgba(255,255,255,0.35) 0%,\n      rgba(255,255,255,0.18) 6%,\n      rgba(255,255,255,0.06) 14%,\n      rgba(255,255,255,0.00) 24%\n    );\n}\n\n/* ===============================\n   PAGE EDGE (THICKNESS)\n================================ */\n.book .edge {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 120px;\n  height: 100%;\n  border-radius: 22px 0 0 22px;\n  pointer-events: none;\n  z-index: 4;\n\n  background:\n    linear-gradient(\n      to right,\n      rgba(215,215,215,0.95) 0%,\n      rgba(245,245,245,0.95) 40%,\n      rgba(255,255,255,0.95) 75%\n    );\n\n  box-shadow:\n    inset -1px 0 0 rgba(0,0,0,0.05);\n}\n\n/* ===============================\n   SVG (PURE WHITE)\n================================ */\n.book svg {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  display: block;\n  z-index: 5;\n}\n\n    /* =====================\n       LEFT: BOOK COVER\n    ====================== */\n    .book-cover {\n      display: flex;\n      flex-direction: column;\n      gap: 12px;\n    }\n\n\n    /* ===============================\n       BOOK + SHADOW SYSTEM\n    =============================== */\n    .book-wrap {\n      width: 320px;\n      aspect-ratio: 2 / 3;\n      position: relative;\n    }\n\n    .shadow-slab,\n    .shadow-slab-2,\n    .shadow-slab-3,\n    .shadow-slab-4 {\n      position: absolute;\n      inset: 0;\n      border-radius: 22px;\n      z-index: 0;\n      will-change: transform, filter, opacity;\n    }\n\n    .shadow-slab {\n      background:\n        radial-gradient(ellipse at 15% 85%, rgba(0,0,0,0.35), rgba(0,0,0,0.18) 35%, transparent 65%),\n        linear-gradient(to right, #1f1f1f 0%, #2a2a2a 45%, #3a3a3a 100%);\n      filter: blur(13px);\n      opacity: 0.35;\n    }\n\n    .shadow-slab-2 {\n      background: radial-gradient(circle at top right, #f6e6a8 0%, #e2c36b 35%, #b58a3c 70%, #7a5524 100%);\n      filter: blur(6px);\n      opacity: 0.30;\n    }\n\n    .shadow-slab-3,\n    .shadow-slab-4 {\n      background: #333;\n      filter: blur(11px);\n      opacity: 0.30;\n    }\n\n    .book {\n      position: relative;\n      width: 100%;\n      height: 100%;\n      border-radius: 22px;\n      overflow: hidden;\n      z-index: 2;\n      background: #f7f4ee;\n    }\n\n    .front-slab {\n      position: absolute;\n      inset: 0;\n      border-radius: 22px;\n      background: linear-gradient(to right, rgba(0,0,0,0.4), rgba(0,0,0,0.1) 3%, transparent 10%);\n      z-index: 3;\n      pointer-events: none;\n      opacity: 0.5;\n    }\n\n\n    @media (prefers-reduced-motion: reduce) {\n      .cover-frame {\n        transition: none;\n        transform: none;\n      }\n      .cover-frame:hover {\n        --lift: 0;\n      }\n    }\n\n    .start-reading {\n      display: inline-flex;\n      align-items: center;\n      justify-content: center;\n      width: 100%;\n      padding: 12px 14px;\n      border-radius: 999px;\n\n      font-size: 11px;\n      letter-spacing: 0.16em;\n      text-transform: uppercase;\n      font-weight: 650;\n      color: rgba(34,197,94,0.92);\n      text-shadow:\n        0 0 10px rgba(34,197,94,0.22),\n        0 0 22px rgba(34,197,94,0.14);\n\n      /* graphite: dark + slightly mineral */\n      background:\n        radial-gradient(120% 140% at 20% 10%, rgba(255,255,255,0.10) 0%, rgba(255,255,255,0.00) 55%),\n        radial-gradient(140% 140% at 80% 90%, rgba(255,255,255,0.06) 0%, rgba(255,255,255,0.00) 60%),\n        linear-gradient(180deg, #141414 0%, #0a0a0a 100%);\n      border: 1px solid rgba(255,255,255,0.10);\n      box-shadow:\n        0 14px 34px rgba(0,0,0,0.22),\n        0 8px 16px rgba(0,0,0,0.18),\n        inset 0 1px 0 rgba(255,255,255,0.10),\n        inset 0 -1px 0 rgba(0,0,0,0.55);\n\n      position: relative;\n      overflow: hidden;\n      cursor: pointer;\n      user-select: none;\n      -webkit-tap-highlight-color: transparent;\n\n      transition:\n        transform 160ms cubic-bezier(0.2, 0.8, 0.2, 1),\n        box-shadow 160ms cubic-bezier(0.2, 0.8, 0.2, 1),\n        border-color 160ms cubic-bezier(0.2, 0.8, 0.2, 1);\n    }\n\n    .start-reading::before {\n      content: \"\";\n      position: absolute;\n      inset: 0;\n      pointer-events: none;\n      /* texture + sheen (very subtle) */\n      background:\n        linear-gradient(120deg, rgba(255,255,255,0.12) 0%, rgba(255,255,255,0.00) 46%),\n        repeating-linear-gradient(0deg,\n          rgba(255,255,255,0.028) 0px,\n          rgba(255,255,255,0.028) 1px,\n          rgba(0,0,0,0.00) 3px,\n          rgba(0,0,0,0.00) 6px),\n        radial-gradient(120% 90% at 50% 0%, rgba(34,197,94,0.14) 0%, rgba(34,197,94,0.00) 62%);\n      opacity: 0.75;\n    }\n\n    .start-reading:hover {\n      transform: translateY(-1px);\n      border-color: rgba(34,197,94,0.30);\n      box-shadow:\n        0 18px 42px rgba(0,0,0,0.24),\n        0 10px 18px rgba(0,0,0,0.18),\n        inset 0 1px 0 rgba(255,255,255,0.12),\n        inset 0 -1px 0 rgba(0,0,0,0.55);\n      text-shadow:\n        0 0 12px rgba(34,197,94,0.28),\n        0 0 26px rgba(34,197,94,0.18);\n    }\n\n    .start-reading:active {\n      transform: translateY(0px);\n      box-shadow:\n        0 14px 34px rgba(0,0,0,0.22),\n        0 8px 16px rgba(0,0,0,0.18),\n        inset 0 1px 0 rgba(255,255,255,0.10),\n        inset 0 -1px 0 rgba(0,0,0,0.55);\n    }\n\n    .start-reading:focus-visible {\n      outline: none;\n      box-shadow:\n        0 18px 42px rgba(0,0,0,0.24),\n        0 0 0 4px rgba(34,197,94,0.22),\n        0 0 0 1px rgba(34,197,94,0.26),\n        inset 0 1px 0 rgba(255,255,255,0.12),\n        inset 0 -1px 0 rgba(0,0,0,0.55);\n      border-color: rgba(34,197,94,0.34);\n    }\n\n    @media (prefers-reduced-motion: reduce) {\n      .start-reading {\n        transition: none;\n      }\n      .start-reading:hover {\n        transform: none;\n      }\n    }\n\n    /* =====================\n       CENTER: CONTENT\n    ====================== */\n    .content h1 {\n      font-size: 40px;\n      font-weight: 800;\n      line-height: 1.15;\n      margin: 0;\n    }\n\n    .byline {\n      font-size: 13px;\n      letter-spacing: 0.12em;\n      color: #666;\n      font-weight: 600;\n    }\n\n    .tagline {\n      font-size: 18px;\n      font-weight: 500;\n      color: #333;\n    }\n\n    .paragraph {\n      font-size: 15px;\n      color: #222;\n    }\n\n    .meta {\n      margin-top: 20px;\n      padding-top: 20px;\n      border-top: 1px solid var(--line);\n      display: grid;\n      grid-template-columns: repeat(2, 1fr);\n      gap: 12px 24px;\n      font-size: 13px;\n    }\n\n    .author {\n      margin-top: 20px;\n      padding-top: 20px;\n      border-top: 1px solid var(--line);\n      display: flex;\n      gap: 16px;\n      align-items: flex-start;\n    }\n\n    .author img {\n      width: 44px;\n      height: 44px;\n      border-radius: 50%;\n    }\n\n    /* =====================\n       RIGHT: RELATED\n    ====================== */\n    .related {\n      display: flex;\n      flex-direction: column;\n      gap: 20px;\n    }\n\n    .related-title {\n      font-size: 11px;\n      letter-spacing: 0.14em;\n      color: #666;\n      text-transform: uppercase;\n      font-weight: 600;\n    }\n\n    .related-item {\n      display: flex;\n      flex-direction: column;\n      gap: 6px;\n      cursor: pointer;\n      transition: transform 0.12s ease, box-shadow 0.12s ease;\n    }\n\n    .related-item:hover {\n      transform: translateY(-2px);\n    }\n\n    .related-thumb {\n      border-radius: 6px;\n      overflow: hidden;\n      aspect-ratio: 3 / 4;\n      box-shadow: 0 8px 24px rgba(0,0,0,0.1);\n\n      /* Gray placeholder shape */\n      background: linear-gradient(135deg, #e5e7eb 0%, #d1d5db 45%, #cbd5e1 100%);\n      border: 1px solid rgba(0,0,0,0.06);\n    }\n\n    .related-thumb img {\n      width: 100%;\n      height: 100%;\n      object-fit: cover;\n      filter: grayscale(1);\n      opacity: 0.85;\n      transition: filter 160ms ease, opacity 160ms ease;\n    }\n\n    .related-thumb .thumb-placeholder {\n      width: 100%;\n      height: 100%;\n      display: block;\n    }\n\n    .related-item a {\n      font-size: 12px;\n      font-weight: 600;\n      color: #111;\n    }\n\n    /* =====================\n       RIGHT: 13 CHAPTERS\n    ====================== */\n    .chapters {\n      display: flex;\n      flex-direction: column;\n      gap: 10px;\n    }\n\n    .chapters-title {\n      font-size: 11px;\n      letter-spacing: 0.12em;\n      color: rgba(17,17,17,0.52);\n      text-transform: uppercase;\n      font-weight: 600;\n    }\n\n    .chapters-help {\n      margin-top: -4px;\n      font-size: 11px;\n      line-height: 1.35;\n      color: rgba(17,17,17,0.42);\n    }\n\n    .chapter-list {\n      list-style: none;\n      padding: 0;\n      margin: 0;\n      display: flex;\n      flex-direction: column;\n      gap: 0;\n      border-top: 1px solid rgba(0,0,0,0.06);\n    }\n\n    .chapter-item {\n      display: grid;\n      grid-template-columns: 3ch 1fr;\n      gap: 12px;\n      align-items: start;\n      padding: 10px 0;\n      border-bottom: 1px solid rgba(0,0,0,0.06);\n    }\n\n    .chapter-item--preface .chapter-name {\n      font-weight: 760;\n      letter-spacing: -0.01em;\n      color: rgba(17,17,17,0.90);\n    }\n\n    .chapter-item--current .chapter-name {\n      color: rgba(17,17,17,0.92);\n      text-decoration: underline;\n      text-decoration-thickness: 1px;\n      text-underline-offset: 3px;\n      text-decoration-color: rgba(17,17,17,0.22);\n    }\n\n    .chapter-num {\n      width: auto;\n      height: auto;\n      border-radius: 0;\n      display: block;\n      text-align: right;\n      font-size: 11px;\n      font-weight: 650;\n      color: rgba(17,17,17,0.46);\n      font-variant-numeric: tabular-nums;\n    }\n\n    .chapter-name {\n      font-size: 12px;\n      font-weight: 600;\n      color: rgba(17,17,17,0.80);\n      line-height: 1.3;\n    }\n\n    .chapter-note {\n      margin-top: 2px;\n      font-size: 11px;\n      color: rgba(17,17,17,0.46);\n      line-height: 1.4;\n    }\n\n    /* =====================\n       RESPONSIVE\n    ====================== */\n    @media (max-width: 900px) {\n      .chapter-content {\n        max-width: 100%;\n        padding: 0 24px;\n      }\n\n      .page-widget {\n        max-width: 100%;\n        margin-left: 24px;\n        margin-right: 24px;\n      }\n\n      .chapter-title {\n        font-size: 42px;\n      }\n\n      .chapter-body {\n        font-size: 18px;\n      }\n\n      .chapter-body h2 {\n        font-size: 32px;\n      }\n\n      .chapter-body h3 {\n        font-size: 24px;\n      }\n    }\n\n    @media (max-width: 768px) {\n      .header {\n        flex-direction: column;\n        gap: 12px;\n      }\n\n      .chapter-content {\n        padding: 0 16px;\n      }\n\n      .page-widget {\n        margin-left: 16px;\n        margin-right: 16px;\n      }\n\n      .chapter-title {\n        font-size: 38px;\n      }\n\n      .chapter-body {\n        font-size: 17px;\n      }\n\n      .chapter-body h2 {\n        font-size: 30px;\n      }\n\n      .chapter-body h3 {\n        font-size: 22px;\n      }\n    }\n  </style>\n</head>\n\n<body>\n  <div class=\"page\">\n    <div class=\"container\">\n\n      <!-- SIDEBAR BACKDROP -->\n      <div class=\"sidebar-backdrop\" id=\"sidebarBackdrop\"></div>\n\n      <!-- SIDEBAR -->\n      <aside class=\"sidebar\" id=\"sidebar\">\n        <div class=\"sidebar__title\">Working Fundamentals</div>\n        <ul class=\"sidebar__chapter-list\">\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-introduction\" class=\"sidebar__chapter-link\" target=\"_blank\">Introduction</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-1-of-13-programming-fundamentals\" class=\"sidebar__chapter-link sidebar__chapter-link\" target=\"_blank\">Chapter 1 ¬∑ Programming Fundamentals</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-2-of-13-data-structures\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 2 ¬∑ Data Structures</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-3-of-13-algorithms-and-complexity\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 3 ¬∑ Algorithms & Complexity</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-4-of-13-control-and-flow\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 4 ¬∑ Control & Flow</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-5-of-13-state-and-change\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 5 ¬∑ State & Change</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-6-of-13-design-principles\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 6 ¬∑ Design Principles</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-7-of-13-architecture\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 7 ¬∑ Architecture</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-8-of-13-persistence-and-data-modeling\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 8 ¬∑ Persistence & Data Modeling</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-9-of-13-interfaces-and-apis\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 9 ¬∑ Interfaces & APIs</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-10-of-13-errors-and-failure\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 10 ¬∑ Errors & Failure</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"#\" class=\"sidebar__chapter-link\"> class=\"sidebar__chapter-link sidebar__chapter-link--current\">Chapter 11 ¬∑ Testing</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-12-of-13-performance-and-scale\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 12 ¬∑ Performance & Scale</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-13-of-13-the-developers-role\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 13 ¬∑ The Developer''s Role</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-outroduction\" class=\"sidebar__chapter-link\" target=\"_blank\">Outroduction</a>\n          </li>\n        </ul>\n      </aside>\n\n      <!-- HEADER -->\n      <header class=\"header\" id=\"header\">\n        <a href=\"https://arvinjaysoncastro.com/\" class=\"brand\" target=\"_blank\">Arvin Jayson Castro</a>\n        <nav class=\"nav\">\n          <a href=\"https://arvinjaysoncastro.com/hungry-dev-mind\" target=\"_blank\">Books</a>\n          <a href=\"https://arvinjaysoncastro.com/working-systems\" target=\"_blank\">Working Systems</a>\n          <a href=\"https://arvinjaysoncastro.com/about\" target=\"_blank\">16 Years</a>\n          <div class=\"linkedin\">\n            <a href=\"https://www.linkedin.com/in/arvin-jayson-castro-7458199a/\" target=\"_blank\">linkedIn</a>\n            <span>let''s connect</span>\n          </div>\n        </nav>\n      </header>\n\n      <!-- PAGE WIDGET (TOP) - REMOVED -->\n      <div style=\"display: none;\">\n          <ol class=\"page-widget__pages-list\">\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">P</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Preface</div>\n                  <div class=\"page-widget__page-note\">Why fundamentals still decide outcomes.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item page-widget__page-item--current\">\n                <span class=\"page-widget__page-number\">1</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 1</div>\n                  <div class=\"page-widget__page-note\">Core principles and constraints.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">2</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 2</div>\n                  <div class=\"page-widget__page-note\">Boundaries, ownership, and interfaces.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">3</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 3</div>\n                  <div class=\"page-widget__page-note\">State, consistency, and failure modes.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">4</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 4</div>\n                  <div class=\"page-widget__page-note\">Abstractions that survive change.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">5</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 5</div>\n                  <div class=\"page-widget__page-note\">Simplicity as an engineering practice.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">6</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 6</div>\n                  <div class=\"page-widget__page-note\">Reliability, observability, and feedback.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">7</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 7</div>\n                  <div class=\"page-widget__page-note\">Delivery systems and decision hygiene.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">8</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 8</div>\n                  <div class=\"page-widget__page-note\">Documentation that stays useful.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">9</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 9</div>\n                  <div class=\"page-widget__page-note\">Testing strategy for predictable change.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">10</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 10</div>\n                  <div class=\"page-widget__page-note\">Pragmatic architecture for teams.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">11</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 11</div>\n                  <div class=\"page-widget__page-note\">Operational excellence without ceremony.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">12</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 12</div>\n                  <div class=\"page-widget__page-note\">Leadership, standards, and leverage.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">13</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 13</div>\n                  <div class=\"page-widget__page-note\">Making fundamentals non-negotiable.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">PS</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Postscript</div>\n                  <div class=\"page-widget__page-note\">A short operating model to carry forward.</div>\n                </div>\n              </a>\n            </li>\n          </ol>\n        </div>\n      </div>\n\n      <!-- MAIN -->\n      <main class=\"main\" id=\"main\">\n\n        <!-- CHAPTER CONTENT (Option 1: Magazine-style) -->\n        <article class=\"chapter-content\">\n          <header class=\"chapter-header\">\n            <div class=\"book-title\">Working Fundamentals</div>\n            <div class=\"chapter-number\" id=\"chapterIndicator\">\n              <span>chapter 11 of 13</span>\n              <span class=\"chapter-number__icon\" id=\"chapterIndicatorIcon\">‚ñæ</span>\n            </div>\n            <h1 class=\"chapter-title\">Testing</h1>\n            <p class=\"chapter-subtitle\">Trust through verification</p>\n          </header>\n\n          <div class=\"chapter-body\">\n            <h3>What this chapter is</h3>\n\n            <p>This chapter is not about frameworks.It is not about coverage percentages.It is not about mocks, spies, or tools.</p>\n\n            <p>This chapter is about <strong>trust</strong>.</p>\n\n            <p>Testing exists so you can change a system<strong>without fear</strong>.</p>\n\n            <h2>The core truth</h2>\n\n            <p>Tests do not prove correctness.</p>\n\n            <p>They prove <strong>stability of behavior</strong>.</p>\n\n            <p>A test says:</p>\n\n            <blockquote>‚ÄúThis must remain true, even when everything else changes.‚Äù</blockquote>\n\n            <p>üß† <strong>Mental Model</strong>Tests lock intent in place.</p>\n\n            <h2>Why testing exists at all</h2>\n\n            <p>Without tests:</p>\n\n            <ul>\n\n            <li>refactors hesitate</li>\n\n            </ul>\n\n            <ul>\n\n            <li>fear grows</li>\n\n            </ul>\n\n            <ul>\n\n            <li>changes slow</li>\n\n            </ul>\n\n            <ul>\n\n            <li>systems calcify</li>\n\n            </ul>\n\n            <p>With tests:</p>\n\n            <ul>\n\n            <li>change becomes routine</li>\n\n            </ul>\n\n            <ul>\n\n            <li>design improves</li>\n\n            </ul>\n\n            <ul>\n\n            <li>confidence replaces caution</li>\n\n            </ul>\n\n            <p>Testing is not overhead.Fear is.</p>\n\n            <h2>Tests protect behavior, not implementation</h2>\n\n            <p>The biggest testing mistake is testing <em>how</em> something works.</p>\n\n            <p>Tests should care about:</p>\n\n            <ul>\n\n            <li>inputs</li>\n\n            </ul>\n\n            <ul>\n\n            <li>outputs</li>\n\n            </ul>\n\n            <ul>\n\n            <li>side effects</li>\n\n            </ul>\n\n            <ul>\n\n            <li>invariants</li>\n\n            </ul>\n\n            <ul>\n\n            <li>failure behavior</li>\n\n            </ul>\n\n            <p>They should not care about:</p>\n\n            <ul>\n\n            <li>internal steps</li>\n\n            </ul>\n\n            <ul>\n\n            <li>helper functions</li>\n\n            </ul>\n\n            <ul>\n\n            <li>temporary structure</li>\n\n            </ul>\n\n            <p>üß† <strong>Architect‚Äôs Note</strong>Good tests survive refactors. Bad tests resist them.</p>\n\n            <h2>Invariants are the highest-value tests</h2>\n\n            <p>An invariant is something that must <strong>always</strong> be true.</p>\n\n            <p>Examples:</p>\n\n            <ul>\n\n            <li>balances never go negative</li>\n\n            </ul>\n\n            <ul>\n\n            <li>users cannot access forbidden data</li>\n\n            </ul>\n\n            <ul>\n\n            <li>state transitions are valid</li>\n\n            </ul>\n\n            <ul>\n\n            <li>identity never changes</li>\n\n            </ul>\n\n            <p>Invariants deserve tests first.</p>\n\n            <p>üß† <strong>Mental Model</strong>If an invariant breaks, the system is lying.</p>\n\n            <h2>Boundaries deserve tests</h2>\n\n            <p>Boundaries are where:</p>\n\n            <ul>\n\n            <li>assumptions meet reality</li>\n\n            </ul>\n\n            <ul>\n\n            <li>failures occur</li>\n\n            </ul>\n\n            <ul>\n\n            <li>misuse happens</li>\n\n            </ul>\n\n            <p>Test boundaries:</p>\n\n            <ul>\n\n            <li>input validation</li>\n\n            </ul>\n\n            <ul>\n\n            <li>external interfaces</li>\n\n            </ul>\n\n            <ul>\n\n            <li>persistence edges</li>\n\n            </ul>\n\n            <ul>\n\n            <li>failure paths</li>\n\n            </ul>\n\n            <p>üß† <strong>Perspective</strong>Most serious bugs enter through boundaries.</p>\n\n            <h2>Failure paths matter more than success paths</h2>\n\n            <p>Happy paths are easy.Failure paths are forgotten.</p>\n\n            <p>Testing failure paths ensures:</p>\n\n            <ul>\n\n            <li>partial failures don‚Äôt corrupt state</li>\n\n            </ul>\n\n            <ul>\n\n            <li>retries are safe</li>\n\n            </ul>\n\n            <ul>\n\n            <li>recovery is possible</li>\n\n            </ul>\n\n            <p>üß† <strong>Architect‚Äôs Note</strong>If failure isn‚Äôt tested, it isn‚Äôt designed.</p>\n\n            <h2>Tests enable design feedback</h2>\n\n            <p>Tests are not just safety nets.They are <strong>design mirrors</strong>.</p>\n\n            <p>When tests are:</p>\n\n            <ul>\n\n            <li>hard to write</li>\n\n            </ul>\n\n            <ul>\n\n            <li>fragile</li>\n\n            </ul>\n\n            <ul>\n\n            <li>overly complex</li>\n\n            </ul>\n\n            <p>‚Ä¶the design is usually the problem.</p>\n\n            <p>üß† <strong>Mental Model</strong>Difficulty testing is a signal, not an inconvenience.</p>\n\n            <h2>Unit vs integration is the wrong debate</h2>\n\n            <p>The real questions are:</p>\n\n            <ul>\n\n            <li>What behavior am I protecting?</li>\n\n            </ul>\n\n            <ul>\n\n            <li>What assumptions am I verifying?</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Where does failure hurt most?</li>\n\n            </ul>\n\n            <p>Use the smallest test that gives confidence.Use larger tests where boundaries demand it.</p>\n\n            <p>üß† <strong>Perspective</strong>Confidence, not purity, is the goal.</p>\n\n            <h2>Tests and time</h2>\n\n            <p>Systems change.Tests must change <strong>slower</strong>.</p>\n\n            <p>If every small refactor breaks tests:</p>\n\n            <ul>\n\n            <li>tests are overfitted</li>\n\n            </ul>\n\n            <ul>\n\n            <li>intent is unclear</li>\n\n            </ul>\n\n            <ul>\n\n            <li>trust erodes</li>\n\n            </ul>\n\n            <p>Tests should anchor behavior, not freeze structure.</p>\n\n            <h2>Testing and ownership</h2>\n\n            <p>Tests encode responsibility.</p>\n\n            <p>When a test fails, it should be obvious:</p>\n\n            <ul>\n\n            <li>what broke</li>\n\n            </ul>\n\n            <ul>\n\n            <li>why it matters</li>\n\n            </ul>\n\n            <ul>\n\n            <li>who owns the fix</li>\n\n            </ul>\n\n            <p>Ambiguous tests create blame.Clear tests create action.</p>\n\n            <h2>Minimal practice (still no code)</h2>\n\n            <p><strong>Problem:</strong>‚ÄúA system processes payments and updates balances.‚Äù</p>\n\n            <p>Ask:</p>\n\n            <ul>\n\n            <li>What must always be true after processing?</li>\n\n            </ul>\n\n            <ul>\n\n            <li>What must never happen?</li>\n\n            </ul>\n\n            <ul>\n\n            <li>What happens if processing is retried?</li>\n\n            </ul>\n\n            <ul>\n\n            <li>What failures are acceptable?</li>\n\n            </ul>\n\n            <p>Write tests for those answers ‚Äî not the steps.</p>\n\n            <h2>What beginners gain here</h2>\n\n            <ul>\n\n            <li>Confidence to change code</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Less fear of breaking things</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Better understanding of intent</li>\n\n            </ul>\n\n            <h2>What experienced developers recognize</h2>\n\n            <ul>\n\n            <li>Why refactors stall</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Why test suites feel brittle</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Why velocity drops over time</li>\n\n            </ul>\n\n            <p>Tests protected structure, not behavior.</p>\n\n            <h2>What this chapter deliberately avoids</h2>\n\n            <ul>\n\n            <li>Testing libraries</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Tool comparisons</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Mocking strategies</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Coverage metrics</li>\n\n            </ul>\n\n            <p>Those are secondary.</p>\n\n            <h2>Closing</h2>\n\n            <p>Testing is not about perfection.It is about <strong>permission</strong>.</p>\n\n            <p>Permission to change.Permission to refactor.Permission to improve.</p>\n\n            <p>A system without tests demands caution.A system with good tests invites progress.</p>\n          </div>\n        </article>\n\n        <!-- RIGHT -->\n\n      </main>\n\n      <!-- CHAPTER NAVIGATION (BOTTOM) -->\n      <nav class=\"chapter-nav-bottom\" id=\"chapterNavBottom\">\n        <a href=\"#\" class=\"chapter-nav-bottom__link chapter-nav-bottom__link--prev\" id=\"prevChapter\">\n          <span class=\"chapter-nav-bottom__arrow\">‚Üê</span>\n          <span class=\"chapter-nav-bottom__label\">Previous</span>\n        </a>\n        <a href=\"#\" class=\"chapter-nav-bottom__link chapter-nav-bottom__link--next\" id=\"nextChapter\">\n          <span class=\"chapter-nav-bottom__label\">Next</span>\n          <span class=\"chapter-nav-bottom__arrow\">‚Üí</span>\n        </a>\n      </nav>\n\n      <!-- PAGE WIDGET (BOTTOM) - REMOVED -->\n      <div style=\"display: none;\">\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">P</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Preface</div>\n                  <div class=\"page-widget__page-note\">Why fundamentals still decide outcomes.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item page-widget__page-item--current\">\n                <span class=\"page-widget__page-number\">1</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 1</div>\n                  <div class=\"page-widget__page-note\">Core principles and constraints.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">2</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 2</div>\n                  <div class=\"page-widget__page-note\">Boundaries, ownership, and interfaces.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">3</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 3</div>\n                  <div class=\"page-widget__page-note\">State, consistency, and failure modes.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">4</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 4</div>\n                  <div class=\"page-widget__page-note\">Abstractions that survive change.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">5</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 5</div>\n                  <div class=\"page-widget__page-note\">Simplicity as an engineering practice.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">6</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 6</div>\n                  <div class=\"page-widget__page-note\">Reliability, observability, and feedback.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">7</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 7</div>\n                  <div class=\"page-widget__page-note\">Delivery systems and decision hygiene.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">8</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 8</div>\n                  <div class=\"page-widget__page-note\">Documentation that stays useful.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">9</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 9</div>\n                  <div class=\"page-widget__page-note\">Testing strategy for predictable change.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">10</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 10</div>\n                  <div class=\"page-widget__page-note\">Pragmatic architecture for teams.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">11</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 11</div>\n                  <div class=\"page-widget__page-note\">Operational excellence without ceremony.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">12</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 12</div>\n                  <div class=\"page-widget__page-note\">Leadership, standards, and leverage.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">13</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 13</div>\n                  <div class=\"page-widget__page-note\">Making fundamentals non-negotiable.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">PS</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Postscript</div>\n                  <div class=\"page-widget__page-note\">A short operating model to carry forward.</div>\n                </div>\n              </a>\n            </li>\n          </ol>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <!-- PAGE WIDGET JS -->\n  <!-- SIDEBAR TOGGLE JS -->\n  <script>\n  (() => {\n    const sidebar = document.getElementById(''sidebar'');\n    const backdrop = document.getElementById(''sidebarBackdrop'');\n    const indicator = document.getElementById(''chapterIndicator'');\n    const icon = document.getElementById(''chapterIndicatorIcon'');\n    const header = document.getElementById(''header'');\n    const main = document.getElementById(''main'');\n    const body = document.body;\n\n    if (!sidebar || !backdrop || !indicator || !icon || !header || !main) return;\n\n    let isOpen = false;\n    let scrollTimeout = null;\n\n    const openSidebar = () => {\n      isOpen = true;\n      sidebar.classList.add(''sidebar--open'');\n      backdrop.classList.add(''sidebar-backdrop--visible'');\n      header.classList.add(''header--shifted'');\n      main.classList.add(''main--shifted'');\n      icon.classList.add(''chapter-number__icon--open'');\n      body.classList.add(''sidebar-open'');\n    };\n\n    const closeSidebar = () => {\n      isOpen = false;\n      sidebar.classList.remove(''sidebar--open'');\n      backdrop.classList.remove(''sidebar-backdrop--visible'');\n      header.classList.remove(''header--shifted'');\n      main.classList.remove(''main--shifted'');\n      icon.classList.remove(''chapter-number__icon--open'');\n      body.classList.remove(''sidebar-open'');\n    };\n\n    // Toggle sidebar\n    indicator.addEventListener(''click'', (e) => {\n      e.stopPropagation();\n      if (isOpen) {\n        closeSidebar();\n      } else {\n        openSidebar();\n      }\n    });\n\n    // Close sidebar when clicking backdrop\n    backdrop.addEventListener(''click'', () => {\n      closeSidebar();\n    });\n\n    // Close sidebar when clicking outside\n    document.addEventListener(''click'', (e) => {\n      // Don''t close sidebar if clicking on brand link or nav links\n      const brandLink = header.querySelector(''.brand'');\n      const isClickOnLink = brandLink && brandLink.contains(e.target);\n      const isClickOnNav = header.querySelector(''.nav'') && header.querySelector(''.nav'').contains(e.target);\n      \n      if (isOpen && !sidebar.contains(e.target) && !indicator.contains(e.target) && !isClickOnLink && !isClickOnNav) {\n        closeSidebar();\n      }\n    });\n\n    // Close sidebar on scroll (debounced)\n    const handleScroll = () => {\n      if (isOpen) {\n        clearTimeout(scrollTimeout);\n        scrollTimeout = setTimeout(() => {\n          closeSidebar();\n        }, 100);\n      }\n    };\n\n    // Listen for scroll on main content\n    window.addEventListener(''scroll'', handleScroll, { passive: true });\n    \n    // Also listen for scroll attempts on body (when scroll is disabled)\n    let lastScrollTop = window.pageYOffset;\n    const handleScrollAttempt = () => {\n      if (isOpen) {\n        const currentScrollTop = window.pageYOffset;\n        if (currentScrollTop !== lastScrollTop) {\n          closeSidebar();\n        }\n        lastScrollTop = currentScrollTop;\n      }\n    };\n\n    // Prevent scroll on body when sidebar is open\n    document.addEventListener(''wheel'', (e) => {\n      if (isOpen && !sidebar.contains(e.target)) {\n        e.preventDefault();\n        closeSidebar();\n      }\n    }, { passive: false });\n\n    // Prevent touch scroll on body when sidebar is open\n    document.addEventListener(''touchmove'', (e) => {\n      if (isOpen && !sidebar.contains(e.target)) {\n        e.preventDefault();\n        closeSidebar();\n      }\n    }, { passive: false });\n  })();\n  </script>\n\n  <!-- CHAPTER NAVIGATION (BOTTOM) JS -->\n  <script>\n  (() => {\n    // Chapter list: Preface = 0, Chapter 1-13 = 1-13, Postscript = 14\n    const chapters = [\n      { id: ''preface'', title: ''Preface'', url: ''https://arvinjaysoncastro.com/working-fundamentals-introduction'' },\n      { id: ''ch1'', title: ''Chapter 1'', url: ''https://arvinjaysoncastro.com/working-fundamentals-1-of-13-programming-fundamentals'' },\n      { id: ''ch2'', title: ''Chapter 2'', url: ''https://arvinjaysoncastro.com/working-fundamentals-2-of-13-data-structures'' },\n      { id: ''ch3'', title: ''Chapter 3'', url: ''https://arvinjaysoncastro.com/working-fundamentals-3-of-13-algorithms-and-complexity'' },\n      { id: ''ch4'', title: ''Chapter 4'', url: ''https://arvinjaysoncastro.com/working-fundamentals-4-of-13-control-and-flow'' },\n      { id: ''ch5'', title: ''Chapter 5'', url: ''https://arvinjaysoncastro.com/working-fundamentals-5-of-13-state-and-change'' },\n      { id: ''ch6'', title: ''Chapter 6'', url: ''https://arvinjaysoncastro.com/working-fundamentals-6-of-13-design-principles'' },\n      { id: ''ch7'', title: ''Chapter 7'', url: ''https://arvinjaysoncastro.com/working-fundamentals-7-of-13-architecture'' },\n      { id: ''ch8'', title: ''Chapter 8'', url: ''https://arvinjaysoncastro.com/working-fundamentals-8-of-13-persistence-and-data-modeling'' },\n      { id: ''ch9'', title: ''Chapter 9'', url: ''https://arvinjaysoncastro.com/working-fundamentals-9-of-13-interfaces-and-apis'' },\n      { id: ''ch10'', title: ''Chapter 10'', url: ''https://arvinjaysoncastro.com/working-fundamentals-10-of-13-errors-and-failure'' },\n      { id: ''ch11'', title: ''Chapter 11'', url: ''https://arvinjaysoncastro.com/working-fundamentals-11-of-13-testing'' },\n      { id: ''ch12'', title: ''Chapter 12'', url: ''https://arvinjaysoncastro.com/working-fundamentals-12-of-13-performance-and-scale'' },\n      { id: ''ch13'', title: ''Chapter 13'', url: ''https://arvinjaysoncastro.com/working-fundamentals-13-of-13-the-developers-role'' },\n      { id: ''postscript'', title: ''Postscript'', url: ''https://arvinjaysoncastro.com/working-fundamentals-outroduction'' }\n    ];\n\n    const currentChapterIndex = 11; // Chapter 1 is index 1 (Preface is 0)\n    const prevLink = document.getElementById(''prevChapter'');\n    const nextLink = document.getElementById(''nextChapter'');\n\n    if (!prevLink || !nextLink) return;\n\n    // Previous chapter\n    if (currentChapterIndex > 0) {\n      const prevChapter = chapters[currentChapterIndex - 1];\n      prevLink.href = prevChapter.url;\n      prevLink.target = ''_blank'';\n      prevLink.innerHTML = `\n        <span class=\"chapter-nav-bottom__arrow\">‚Üê</span>\n        <span class=\"chapter-nav-bottom__label\">Previous: ${prevChapter.title}</span>\n      `;\n    } else {\n      // No previous chapter - show \"go back to book list\"\n      prevLink.href = ''https://arvinjaysoncastro.com/hungry-dev-mind'';\n      prevLink.target = ''_blank'';\n      prevLink.innerHTML = `\n        <span class=\"chapter-nav-bottom__arrow\">‚Üê</span>\n        <span class=\"chapter-nav-bottom__label\">Go back to book list</span>\n      `;\n    }\n\n    // Next chapter\n    if (currentChapterIndex < chapters.length - 1) {\n      const nextChapter = chapters[currentChapterIndex + 1];\n      nextLink.href = nextChapter.url;\n      nextLink.target = ''_blank'';\n      nextLink.innerHTML = `\n        <span class=\"chapter-nav-bottom__label\">Next: ${nextChapter.title}</span>\n        <span class=\"chapter-nav-bottom__arrow\">‚Üí</span>\n      `;\n    } else {\n      // No next chapter - show \"go back to book list\"\n      nextLink.href = ''https://arvinjaysoncastro.com/hungry-dev-mind'';\n      nextLink.target = ''_blank'';\n      nextLink.innerHTML = `\n        <span class=\"chapter-nav-bottom__label\">Go back to book list</span>\n        <span class=\"chapter-nav-bottom__arrow\">‚Üí</span>\n      `;\n    }\n  })();\n  </script>\n\n  <!-- OPTIONAL JS -->\n <script>\n(() => {\n  const wrap = document.querySelector(''.book-wrap'');\n  if (!wrap) return;\n\n  const slab1 = wrap.querySelector(''.shadow-slab'');\n  const slab2 = wrap.querySelector(''.shadow-slab-2'');\n  const slab3 = wrap.querySelector(''.shadow-slab-3'');\n  const slab4 = wrap.querySelector(''.shadow-slab-4'');\n  const front = wrap.querySelector(''.front-slab'');\n\n  const clamp = (v, min, max) => Math.max(min, Math.min(max, v));\n\n  let raf = 0;\n  let lx = 0; // light vector x\n  let ly = 0; // light vector y\n\n  function render() {\n    raf = 0;\n\n    // Shadow direction = opposite of light\n    const sx = -lx;\n    const sy = -ly;\n\n    const intensity = Math.abs(lx) + Math.abs(ly);\n\n    /* ---------------------------\n       SLAB 1 ‚Äî KEY CAST SHADOW\n    ---------------------------- */\n    slab1.style.transform =\n      `translate(${(sx * 38).toFixed(2)}px, ${(sy * 38).toFixed(2)}px)`;\n    slab1.style.filter =\n      `blur(${(14 + intensity * 6).toFixed(2)}px)`;\n    slab1.style.opacity =\n      (0.28 + intensity * 0.14).toFixed(2);\n\n    /* ---------------------------\n       SLAB 2 ‚Äî BOUNCE / COLOR BLEED\n    ---------------------------- */\n    slab2.style.transform =\n      `translate(${(sx * 14).toFixed(2)}px, ${(sy * 14).toFixed(2)}px)`;\n    slab2.style.filter =\n      `blur(${(6 + intensity * 4).toFixed(2)}px)`;\n    slab2.style.opacity =\n      (0.16 + intensity * 0.10).toFixed(2);\n\n    /* ---------------------------\n       SLAB 3 ‚Äî CONTACT SHADOW\n    ---------------------------- */\n    slab3.style.transform =\n      `translate(${(sx * 6).toFixed(2)}px, ${(sy * 6).toFixed(2)}px)`;\n    slab3.style.filter = `blur(9px)`;\n    slab3.style.opacity =\n      (0.24 + Math.abs(lx) * 0.06).toFixed(2);\n\n    /* ---------------------------\n       SLAB 4 ‚Äî AMBIENT DEPTH\n    ---------------------------- */\n    slab4.style.transform =\n      `translate(${(sx * 3).toFixed(2)}px, ${(sy * 3).toFixed(2)}px)`;\n    slab4.style.filter = `blur(18px)`;\n    slab4.style.opacity =\n      (0.16 + Math.abs(ly) * 0.04).toFixed(2);\n\n    /* ---------------------------\n       FRONT SLAB ‚Äî SPECULAR RESPONSE\n       (moves TOWARD light)\n    ---------------------------- */\nif (front) {\n  // Very subtle counter-parallax (NOT toward light)\n  front.style.transform =\n    `translate(${(-lx * 1.6).toFixed(2)}px, ${(-ly * 1.6).toFixed(2)}px)`;\n\n  // Opacity increases when light is grazing\n  front.style.opacity =\n    (0.34 + intensity * 0.22).toFixed(2);\n\n  // Highlight shifts OPPOSITE the light direction\n  const gx = 50 - lx * 28;\n  const gy = 50 - ly * 28;\n  front.style.backgroundPosition = `${gx}% ${gy}%`;\n}\n\n  }\n\n  function onMove(e) {\n    const r = wrap.getBoundingClientRect();\n    const cx = r.left + r.width / 2;\n    const cy = r.top + r.height / 2;\n\n    // LIGHT VECTOR (mouse = light source)\n    lx = clamp((e.clientX - cx) / (r.width / 2), -1, 1);\n    ly = clamp((e.clientY - cy) / (r.height / 2), -1, 1);\n\n    if (!raf) raf = requestAnimationFrame(render);\n  }\n\n  window.addEventListener(''mousemove'', onMove, { passive: true });\n})();\n</script>\n</body>\n</html>\n", "css": "body { font-family: system-ui; padding: 20px; }", "js": "console.log(\"Code Runner initialized\");", "imports": {"css": [], "js": []}, "entryPoint": {"type": "htmlDocument", "mountSelector": "#app", "injectMountIfMissing": true}, "settings": {"mode": "play", "viewport": {"type": "responsive", "background": "white"}, "securityPreset": "trusted", "autoRun": true, "runOnLoad": true}, "codePanel": {"isVisible": false, "isEditable": false}}}]}]}',
    '1.0.0',
    true,
    '88b62d69-6012-47ae-b45b-9ccc5f1dc87c',
    NOW(),
    NOW(),
    'public',
    NULL,
    false,
    NULL,
    'page',
    NULL,
    NULL,
    NULL,
    NULL,
    NULL,
    false,
    0,
    NULL,
    true,
    false,
    NULL,
    NULL,
    '{"id": "block-root", "style": {}, "type": "container", "children": [{"id": "temp-container", "style": {"width": "100vw", "height": "100vh"}, "type": "container", "children": [{"id": "temp-coderunner", "style": {}, "type": "codeRunner", "data": {"html": "<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n  <meta charset=\"UTF-8\" />\n  <title>Working Fundamentals ‚Äî Arvin Jayson Castro</title>\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n\n  <!-- =====================\n       GLOBAL STYLES\n  ====================== -->\n  <style>\n    :root {\n      --bg: #f7f8f8;\n      --ink: #111111;\n      --muted: #666666;\n      --line: rgba(0,0,0,0.08);\n      --accent: #16a34a;\n      --link: #3b82f6;\n      --max-width: 1200px;\n    }\n\n    * {\n      box-sizing: border-box;\n    }\n\n    body {\n      margin: 0;\n      font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, sans-serif;\n      color: var(--ink);\n      background-color: var(--bg);\n      background-image:\n        radial-gradient(980px 560px at 14% 18%, rgba(16,185,129,0.10) 0%, rgba(16,185,129,0) 60%),\n        radial-gradient(860px 540px at 86% 74%, rgba(245,158,11,0.10) 0%, rgba(245,158,11,0) 62%),\n        repeating-linear-gradient(0deg, rgba(0,0,0,0.043) 0, rgba(0,0,0,0.043) 1px, transparent 1px, transparent 46px),\n        repeating-linear-gradient(90deg, rgba(0,0,0,0.043) 0, rgba(0,0,0,0.043) 1px, transparent 1px, transparent 46px);\n      min-height: 100vh;\n    }\n\n    a {\n      color: inherit;\n      text-decoration: none;\n    }\n\n    img {\n      max-width: 100%;\n      display: block;\n    }\n\n    /* =====================\n       PAGE WRAPPER\n    ====================== */\n    .page {\n      padding: 22px 24px;\n    }\n\n    .container {\n      max-width: var(--max-width);\n      margin: 0 auto;\n    }\n\n    /* =====================\n       SIDEBAR BACKDROP\n    ====================== */\n    .sidebar-backdrop {\n      position: fixed;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n      background: rgba(0, 0, 0, 0.2);\n      backdrop-filter: blur(4px);\n      -webkit-backdrop-filter: blur(4px);\n      opacity: 0;\n      visibility: hidden;\n      transition: opacity 0.3s ease, visibility 0.3s ease;\n      z-index: 999;\n      pointer-events: none;\n    }\n\n    .sidebar-backdrop--visible {\n      opacity: 1;\n      visibility: visible;\n      pointer-events: auto;\n    }\n\n    /* =====================\n       SIDEBAR\n    ====================== */\n    .sidebar {\n      position: fixed;\n      top: 0;\n      right: 0;\n      width: 320px;\n      height: 100vh;\n      background: var(--bg);\n      border-left: 1px solid var(--line);\n      transform: translateX(100%);\n      transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n      z-index: 1000;\n      overflow-y: auto;\n      padding: 24px;\n    }\n\n    .sidebar--open {\n      transform: translateX(0);\n    }\n\n    .sidebar__title {\n      font-size: 16px;\n      font-weight: 600;\n      margin-bottom: 24px;\n      color: var(--ink);\n    }\n\n    /* Prevent body scroll when sidebar is open */\n    body.sidebar-open {\n      overflow: hidden;\n    }\n\n    .sidebar__chapter-list {\n      list-style: none;\n      margin: 0;\n      padding: 0;\n    }\n\n    .sidebar__chapter-item {\n      margin: 0 0 8px 0;\n    }\n\n    .sidebar__chapter-link {\n      display: block;\n      font-size: 14px;\n      color: var(--muted);\n      text-decoration: none;\n      padding: 8px 0;\n      transition: color 0.2s ease;\n      line-height: 1.5;\n    }\n\n    .sidebar__chapter-link:hover {\n      color: var(--ink);\n    }\n\n    .sidebar__chapter-link {\n      color: var(--ink);\n      font-weight: 500;\n    }\n\n    /* =====================\n       HEADER (Top bar with chapter indicator)\n    ====================== */\n    .header {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      padding: 10px 0;\n      border-bottom: 1px solid var(--line);\n      position: relative;\n      transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n    }\n\n    .header--shifted {\n      transform: translateX(-320px);\n    }\n\n    .brand {\n      font-size: 16px;\n      font-weight: 600;\n      cursor: pointer;\n      display: inline-block;\n    }\n\n    .nav {\n      display: flex;\n      gap: 24px;\n      align-items: center;\n      font-size: 14px;\n    }\n\n    .nav a {\n      color: #1f2937;\n    }\n\n    .linkedin {\n      display: flex;\n      flex-direction: column;\n      align-items: flex-start;\n    }\n\n    .linkedin a {\n      color: var(--link);\n    }\n\n    .linkedin span {\n      font-family: Georgia, serif;\n      font-size: 9px;\n      font-style: italic;\n      color: #999;\n    }\n\n    /* =====================\n       MAIN GRID\n    ====================== */\n    .main {\n      padding-top: 48px;\n      padding-bottom: 48px;\n      display: flex;\n      justify-content: center;\n      align-items: start;\n    }\n\n    /* =====================\n       CHAPTER READING AREA (Option 1: Magazine-style)\n    ====================== */\n    .chapter-content {\n      max-width: 768px;\n      width: 100%;\n      margin: 0 auto;\n    }\n\n    .chapter-header {\n      margin-bottom: 56px;\n      padding-bottom: 32px;\n      border-bottom: 2px solid var(--line);\n    }\n\n    .book-title {\n      font-size: 12px;\n      letter-spacing: 0.15em;\n      text-transform: uppercase;\n      color: var(--muted);\n      font-weight: 500;\n      margin-bottom: 8px;\n      opacity: 0.7;\n    }\n\n    .chapter-number {\n      font-size: 13px;\n      letter-spacing: 0.2em;\n      text-transform: uppercase;\n      color: var(--muted);\n      font-weight: 600;\n      margin-bottom: 12px;\n      display: flex;\n      align-items: center;\n      gap: 8px;\n      cursor: pointer;\n      user-select: none;\n      transition: color 0.2s ease;\n    }\n\n    .chapter-number:hover {\n      color: var(--ink);\n    }\n\n    .chapter-number__icon {\n      font-size: 10px;\n      opacity: 0.6;\n      transition: transform 0.3s ease, opacity 0.2s ease;\n    }\n\n    .chapter-number:hover .chapter-number__icon {\n      opacity: 0.8;\n    }\n\n    .chapter-number__icon--open {\n      transform: rotate(180deg);\n    }\n\n    .chapter-title {\n      font-size: 56px;\n      font-weight: 900;\n      line-height: 1.05;\n      margin: 0 0 20px 0;\n      color: var(--ink);\n      letter-spacing: -0.03em;\n    }\n\n    .chapter-subtitle {\n      font-size: 22px;\n      font-weight: 500;\n      color: var(--muted);\n      line-height: 1.4;\n      margin: 0;\n    }\n\n    .chapter-body {\n      font-size: 19px;\n      line-height: 1.8;\n      color: var(--ink);\n      max-width: none;\n      font-weight: 400;\n    }\n\n    .chapter-body p {\n      margin: 0 0 28px 0;\n    }\n\n    .chapter-body p:last-child {\n      margin-bottom: 0;\n    }\n\n    .chapter-body h2 {\n      font-size: 36px;\n      font-weight: 800;\n      line-height: 1.2;\n      margin: 56px 0 24px 0;\n      color: var(--ink);\n      letter-spacing: -0.02em;\n    }\n\n    .chapter-body h3 {\n      font-size: 26px;\n      font-weight: 700;\n      line-height: 1.3;\n      margin: 40px 0 18px 0;\n      color: var(--ink);\n      letter-spacing: -0.01em;\n    }\n\n    .chapter-body strong {\n      font-weight: 600;\n      color: var(--ink);\n    }\n\n    .chapter-body em {\n      font-style: italic;\n    }\n\n    .chapter-body ul,\n    .chapter-body ol {\n      margin: 28px 0;\n      padding-left: 36px;\n    }\n\n    .chapter-body li {\n      margin-bottom: 14px;\n      line-height: 1.75;\n    }\n\n    .chapter-body blockquote {\n      margin: 40px 0;\n      padding-left: 28px;\n      border-left: 4px solid var(--accent);\n      font-style: italic;\n      color: var(--muted);\n      font-size: 18px;\n      line-height: 1.7;\n    }\n\n    .chapter-body code {\n      font-family: ''Monaco'', ''Menlo'', ''Courier New'', monospace;\n      font-size: 0.9em;\n      background: rgba(0,0,0,0.04);\n      padding: 2px 6px;\n      border-radius: 3px;\n    }\n\n    .chapter-body pre {\n      background: rgba(0,0,0,0.04);\n      padding: 20px;\n      border-radius: 8px;\n      overflow-x: auto;\n      margin: 24px 0;\n    }\n\n    .chapter-body pre code {\n      background: none;\n      padding: 0;\n    }\n\n    /* Content shift when sidebar opens */\n    .main {\n      transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n    }\n\n    .main--shifted {\n      transform: translateX(-320px);\n    }\n\n    /* Prevent horizontal scroll */\n    body {\n      overflow-x: hidden;\n    }\n\n    .page {\n      overflow-x: hidden;\n    }\n\n    /* =====================\n       CHAPTER NAVIGATION (BOTTOM)\n    ====================== */\n    .chapter-nav-bottom {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      max-width: 768px;\n      width: 100%;\n      margin: 64px auto 0 auto;\n      padding: 24px 0;\n      border-top: 1px solid var(--line);\n    }\n\n    .chapter-nav-bottom__link {\n      display: flex;\n      align-items: center;\n      gap: 8px;\n      font-size: 14px;\n      color: var(--muted);\n      text-decoration: none;\n      transition: color 0.2s ease;\n      padding: 8px 0;\n    }\n\n    .chapter-nav-bottom__link:hover {\n      color: var(--ink);\n    }\n\n    .chapter-nav-bottom__arrow {\n      font-size: 16px;\n      opacity: 0.7;\n    }\n\n    .chapter-nav-bottom__label {\n      font-weight: 500;\n    }\n\n    .chapter-nav-bottom__link--prev {\n      margin-right: auto;\n    }\n\n    .chapter-nav-bottom__link--next {\n      margin-left: auto;\n    }\n\n    .chapter-nav-bottom__link--disabled {\n      opacity: 0.4;\n      cursor: not-allowed;\n      pointer-events: none;\n    }\n\n    .page-widget__pages {\n      max-height: 0;\n      overflow: hidden;\n      transition: max-height 0.4s cubic-bezier(0.4, 0, 0.2, 1),\n                  opacity 0.3s ease,\n                  margin-top 0.3s ease;\n      opacity: 0;\n      margin-top: 0;\n      background: rgba(255, 255, 255, 0.98);\n      backdrop-filter: blur(12px);\n      -webkit-backdrop-filter: blur(12px);\n      border: 1px solid rgba(0, 0, 0, 0.06);\n      border-radius: 12px;\n      box-shadow: 0 2px 12px rgba(0, 0, 0, 0.06);\n    }\n\n    .page-widget__pages--expanded {\n      max-height: 500px;\n      opacity: 1;\n      margin-top: 12px;\n      padding: 8px;\n    }\n\n    .page-widget__pages-list {\n      list-style: none;\n      margin: 0;\n      padding: 0;\n      display: flex;\n      flex-direction: column;\n      gap: 8px;\n      max-height: 400px;\n      overflow-y: auto;\n      padding-right: 4px;\n    }\n\n    .page-widget__pages-list::-webkit-scrollbar {\n      width: 6px;\n    }\n\n    .page-widget__pages-list::-webkit-scrollbar-track {\n      background: rgba(0, 0, 0, 0.02);\n      border-radius: 3px;\n    }\n\n    .page-widget__pages-list::-webkit-scrollbar-thumb {\n      background: rgba(0, 0, 0, 0.12);\n      border-radius: 3px;\n    }\n\n    .page-widget__pages-list::-webkit-scrollbar-thumb:hover {\n      background: rgba(0, 0, 0, 0.2);\n    }\n\n    .page-widget__page-item {\n      display: flex;\n      align-items: center;\n      gap: 10px;\n      padding: 8px 10px;\n      border-radius: 8px;\n      cursor: pointer;\n      transition: all 0.2s ease;\n      text-decoration: none;\n      color: var(--ink);\n    }\n\n    .page-widget__page-item:hover {\n      background: rgba(0, 0, 0, 0.03);\n      transform: translateX(2px);\n    }\n\n    .page-widget__page-item--current {\n      background: rgba(22, 163, 74, 0.08);\n      color: var(--accent);\n      font-weight: 500;\n    }\n\n    .page-widget__page-item--current:hover {\n      background: rgba(22, 163, 74, 0.12);\n    }\n\n    .page-widget__page-number {\n      display: inline-flex;\n      align-items: center;\n      justify-content: center;\n      width: 24px;\n      height: 24px;\n      background: rgba(0, 0, 0, 0.04);\n      border-radius: 5px;\n      font-size: 11px;\n      font-weight: 500;\n      flex-shrink: 0;\n      color: var(--muted);\n    }\n\n    .page-widget__page-item--current .page-widget__page-number {\n      background: rgba(22, 163, 74, 0.15);\n      color: var(--accent);\n    }\n\n    .page-widget__page-info {\n      flex: 1;\n      min-width: 0;\n    }\n\n    .page-widget__page-name {\n      font-size: 13px;\n      font-weight: 500;\n      line-height: 1.3;\n      margin: 0 0 2px 0;\n    }\n\n    .page-widget__page-note {\n      font-size: 11px;\n      color: var(--muted);\n      line-height: 1.3;\n      margin: 0;\n      white-space: nowrap;\n      overflow: hidden;\n      text-overflow: ellipsis;\n    }\n\n    @media (max-width: 768px) {\n      .page-widget__pages-list {\n        max-height: 300px;\n      }\n    }\n\n\n/* ===============================\n   WRAPPER\n================================ */\n.book-wrap {\n  width: 320px;\n  aspect-ratio: 2 / 3;\n  position: relative;\n}\n\n/* ===============================\n   CAST SHADOW SLAB (REAL SHADOW)\n================================ */\n.shadow-slab {\n    position: absolute;\n    position: absolute;\n    inset: 0;\n    border-radius: 22px;\n    /* background: #2a2a2a; */\n    transform: translate(-30px, 30px);\n    filter: blur(13px);\n    opacity: 0.35;\n    z-index: 0;\n    background: radial-gradient(ellipse at 15% 85%, rgba(0, 0, 0, 0.35), rgba(0, 0, 0, 0.18) 35%, transparent 65%), linear-gradient(to right, #1f1f1f 0%, #2a2a2a 45%, #3a3a3a 100%);\n}\n\n.shadow-slab-2 {\n    position: absolute;\n    inset: 0;\n    border-radius: 22px;\n    background: radial-gradient(circle at top right, #f6e6a8 0%, #e2c36b 35%, #b58a3c 70%, #7a5524 100%);\n    transform: translate(-10px, 10px);\n    filter: blur(5px);\n    opacity: 0.35;\n    z-index: 0;\n}\n\n.shadow-slab-3 {\n    position: absolute;\n    inset: 0;\n    border-radius: 22px;\n    background: #333;\n    transform: translate(0px, 0px);\n    filter: blur(11px);\n    opacity: 0.35;\n    z-index: 0;\n}\n\n.shadow-slab-4 {\n    position: absolute;\n    inset: 0;\n    border-radius: 22px;\n    background: #333;\n    transform: translate(0px, 0px);\n    filter: blur(11px);\n    opacity: 0.35;\n    z-index: 0;\n}\n\n/* ===============================\n   FRONT SLAB & SPIN HANDLE\n================================ */\n\n.front-slab {\n    position: absolute;\n    inset: 0;\n    border-radius: 22px;\n    background: linear-gradient(to right, rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.1) 3%, transparent 1%);\n    /* background: green; */\n    z-index: 3;\n    opacity: .5;\n    transform: translateZ(6px);\n    pointer-events: none;\n}\n\n.spin-handle {\n  display: none;\n  position: absolute;\n  top: 50%;\n  right: -22px;\n  width: 14px;\n  height: 48px;\n  border-radius: 999px;\n  background: rgba(0,0,0,0.25);\n  backdrop-filter: blur(4px);\n  cursor: grab;\n  z-index: 10;\n}\n\n/* ===============================\n   BOOK OBJECT (NO SHADOW)\n================================ */\n.book {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  border-radius: 22px;\n  overflow: hidden;\n  z-index: 2;\n\n  /* IMPORTANT: no box-shadow */\n  box-shadow: none;\n\n  /* transform: perspective(1200px) rotateX(0.6deg); */\n}\n\n/* ===============================\n   PAPER SURFACE (LIGHT FIELD)\n================================ */\n.book .surface {\n  position: absolute;\n  inset: 0;\n  border-radius: inherit;\n  pointer-events: none;\n  z-index: 1;\n\n  background:\n    linear-gradient(\n      to bottom left,\n      rgba(255,255,255,1) 0%,\n      rgba(250,250,250,1) 42%,\n      rgba(240,240,240,1) 100%\n    ),\n    repeating-linear-gradient(\n      0deg,\n      rgba(0,0,0,0.01),\n      rgba(0,0,0,0.01) 1px,\n      transparent 1px,\n      transparent 3px\n    );\n}\n\n/* ===============================\n   LEFT OCCLUSION (CURTAIN)\n================================ */\n.book .curtain {\n  position: absolute;\n  inset: 0;\n  border-radius: inherit;\n  pointer-events: none;\n  z-index: 2;\n\n  background:\n    linear-gradient(\n      to right,\n      rgba(0,0,0,0.20) 0%,\n      rgba(0,0,0,0.12) 8%,\n      rgba(0,0,0,0.05) 16%,\n      rgba(0,0,0,0.02) 22%,\n      rgba(0,0,0,0.00) 30%\n    );\n}\n\n/* ===============================\n   RIGHT HIGHLIGHT\n================================ */\n.book .highlight {\n  position: absolute;\n  inset: 0;\n  border-radius: inherit;\n  pointer-events: none;\n  z-index: 3;\n\n  background:\n    linear-gradient(\n      to left,\n      rgba(255,255,255,0.35) 0%,\n      rgba(255,255,255,0.18) 6%,\n      rgba(255,255,255,0.06) 14%,\n      rgba(255,255,255,0.00) 24%\n    );\n}\n\n/* ===============================\n   PAGE EDGE (THICKNESS)\n================================ */\n.book .edge {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 120px;\n  height: 100%;\n  border-radius: 22px 0 0 22px;\n  pointer-events: none;\n  z-index: 4;\n\n  background:\n    linear-gradient(\n      to right,\n      rgba(215,215,215,0.95) 0%,\n      rgba(245,245,245,0.95) 40%,\n      rgba(255,255,255,0.95) 75%\n    );\n\n  box-shadow:\n    inset -1px 0 0 rgba(0,0,0,0.05);\n}\n\n/* ===============================\n   SVG (PURE WHITE)\n================================ */\n.book svg {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  display: block;\n  z-index: 5;\n}\n\n    /* =====================\n       LEFT: BOOK COVER\n    ====================== */\n    .book-cover {\n      display: flex;\n      flex-direction: column;\n      gap: 12px;\n    }\n\n\n    /* ===============================\n       BOOK + SHADOW SYSTEM\n    =============================== */\n    .book-wrap {\n      width: 320px;\n      aspect-ratio: 2 / 3;\n      position: relative;\n    }\n\n    .shadow-slab,\n    .shadow-slab-2,\n    .shadow-slab-3,\n    .shadow-slab-4 {\n      position: absolute;\n      inset: 0;\n      border-radius: 22px;\n      z-index: 0;\n      will-change: transform, filter, opacity;\n    }\n\n    .shadow-slab {\n      background:\n        radial-gradient(ellipse at 15% 85%, rgba(0,0,0,0.35), rgba(0,0,0,0.18) 35%, transparent 65%),\n        linear-gradient(to right, #1f1f1f 0%, #2a2a2a 45%, #3a3a3a 100%);\n      filter: blur(13px);\n      opacity: 0.35;\n    }\n\n    .shadow-slab-2 {\n      background: radial-gradient(circle at top right, #f6e6a8 0%, #e2c36b 35%, #b58a3c 70%, #7a5524 100%);\n      filter: blur(6px);\n      opacity: 0.30;\n    }\n\n    .shadow-slab-3,\n    .shadow-slab-4 {\n      background: #333;\n      filter: blur(11px);\n      opacity: 0.30;\n    }\n\n    .book {\n      position: relative;\n      width: 100%;\n      height: 100%;\n      border-radius: 22px;\n      overflow: hidden;\n      z-index: 2;\n      background: #f7f4ee;\n    }\n\n    .front-slab {\n      position: absolute;\n      inset: 0;\n      border-radius: 22px;\n      background: linear-gradient(to right, rgba(0,0,0,0.4), rgba(0,0,0,0.1) 3%, transparent 10%);\n      z-index: 3;\n      pointer-events: none;\n      opacity: 0.5;\n    }\n\n\n    @media (prefers-reduced-motion: reduce) {\n      .cover-frame {\n        transition: none;\n        transform: none;\n      }\n      .cover-frame:hover {\n        --lift: 0;\n      }\n    }\n\n    .start-reading {\n      display: inline-flex;\n      align-items: center;\n      justify-content: center;\n      width: 100%;\n      padding: 12px 14px;\n      border-radius: 999px;\n\n      font-size: 11px;\n      letter-spacing: 0.16em;\n      text-transform: uppercase;\n      font-weight: 650;\n      color: rgba(34,197,94,0.92);\n      text-shadow:\n        0 0 10px rgba(34,197,94,0.22),\n        0 0 22px rgba(34,197,94,0.14);\n\n      /* graphite: dark + slightly mineral */\n      background:\n        radial-gradient(120% 140% at 20% 10%, rgba(255,255,255,0.10) 0%, rgba(255,255,255,0.00) 55%),\n        radial-gradient(140% 140% at 80% 90%, rgba(255,255,255,0.06) 0%, rgba(255,255,255,0.00) 60%),\n        linear-gradient(180deg, #141414 0%, #0a0a0a 100%);\n      border: 1px solid rgba(255,255,255,0.10);\n      box-shadow:\n        0 14px 34px rgba(0,0,0,0.22),\n        0 8px 16px rgba(0,0,0,0.18),\n        inset 0 1px 0 rgba(255,255,255,0.10),\n        inset 0 -1px 0 rgba(0,0,0,0.55);\n\n      position: relative;\n      overflow: hidden;\n      cursor: pointer;\n      user-select: none;\n      -webkit-tap-highlight-color: transparent;\n\n      transition:\n        transform 160ms cubic-bezier(0.2, 0.8, 0.2, 1),\n        box-shadow 160ms cubic-bezier(0.2, 0.8, 0.2, 1),\n        border-color 160ms cubic-bezier(0.2, 0.8, 0.2, 1);\n    }\n\n    .start-reading::before {\n      content: \"\";\n      position: absolute;\n      inset: 0;\n      pointer-events: none;\n      /* texture + sheen (very subtle) */\n      background:\n        linear-gradient(120deg, rgba(255,255,255,0.12) 0%, rgba(255,255,255,0.00) 46%),\n        repeating-linear-gradient(0deg,\n          rgba(255,255,255,0.028) 0px,\n          rgba(255,255,255,0.028) 1px,\n          rgba(0,0,0,0.00) 3px,\n          rgba(0,0,0,0.00) 6px),\n        radial-gradient(120% 90% at 50% 0%, rgba(34,197,94,0.14) 0%, rgba(34,197,94,0.00) 62%);\n      opacity: 0.75;\n    }\n\n    .start-reading:hover {\n      transform: translateY(-1px);\n      border-color: rgba(34,197,94,0.30);\n      box-shadow:\n        0 18px 42px rgba(0,0,0,0.24),\n        0 10px 18px rgba(0,0,0,0.18),\n        inset 0 1px 0 rgba(255,255,255,0.12),\n        inset 0 -1px 0 rgba(0,0,0,0.55);\n      text-shadow:\n        0 0 12px rgba(34,197,94,0.28),\n        0 0 26px rgba(34,197,94,0.18);\n    }\n\n    .start-reading:active {\n      transform: translateY(0px);\n      box-shadow:\n        0 14px 34px rgba(0,0,0,0.22),\n        0 8px 16px rgba(0,0,0,0.18),\n        inset 0 1px 0 rgba(255,255,255,0.10),\n        inset 0 -1px 0 rgba(0,0,0,0.55);\n    }\n\n    .start-reading:focus-visible {\n      outline: none;\n      box-shadow:\n        0 18px 42px rgba(0,0,0,0.24),\n        0 0 0 4px rgba(34,197,94,0.22),\n        0 0 0 1px rgba(34,197,94,0.26),\n        inset 0 1px 0 rgba(255,255,255,0.12),\n        inset 0 -1px 0 rgba(0,0,0,0.55);\n      border-color: rgba(34,197,94,0.34);\n    }\n\n    @media (prefers-reduced-motion: reduce) {\n      .start-reading {\n        transition: none;\n      }\n      .start-reading:hover {\n        transform: none;\n      }\n    }\n\n    /* =====================\n       CENTER: CONTENT\n    ====================== */\n    .content h1 {\n      font-size: 40px;\n      font-weight: 800;\n      line-height: 1.15;\n      margin: 0;\n    }\n\n    .byline {\n      font-size: 13px;\n      letter-spacing: 0.12em;\n      color: #666;\n      font-weight: 600;\n    }\n\n    .tagline {\n      font-size: 18px;\n      font-weight: 500;\n      color: #333;\n    }\n\n    .paragraph {\n      font-size: 15px;\n      color: #222;\n    }\n\n    .meta {\n      margin-top: 20px;\n      padding-top: 20px;\n      border-top: 1px solid var(--line);\n      display: grid;\n      grid-template-columns: repeat(2, 1fr);\n      gap: 12px 24px;\n      font-size: 13px;\n    }\n\n    .author {\n      margin-top: 20px;\n      padding-top: 20px;\n      border-top: 1px solid var(--line);\n      display: flex;\n      gap: 16px;\n      align-items: flex-start;\n    }\n\n    .author img {\n      width: 44px;\n      height: 44px;\n      border-radius: 50%;\n    }\n\n    /* =====================\n       RIGHT: RELATED\n    ====================== */\n    .related {\n      display: flex;\n      flex-direction: column;\n      gap: 20px;\n    }\n\n    .related-title {\n      font-size: 11px;\n      letter-spacing: 0.14em;\n      color: #666;\n      text-transform: uppercase;\n      font-weight: 600;\n    }\n\n    .related-item {\n      display: flex;\n      flex-direction: column;\n      gap: 6px;\n      cursor: pointer;\n      transition: transform 0.12s ease, box-shadow 0.12s ease;\n    }\n\n    .related-item:hover {\n      transform: translateY(-2px);\n    }\n\n    .related-thumb {\n      border-radius: 6px;\n      overflow: hidden;\n      aspect-ratio: 3 / 4;\n      box-shadow: 0 8px 24px rgba(0,0,0,0.1);\n\n      /* Gray placeholder shape */\n      background: linear-gradient(135deg, #e5e7eb 0%, #d1d5db 45%, #cbd5e1 100%);\n      border: 1px solid rgba(0,0,0,0.06);\n    }\n\n    .related-thumb img {\n      width: 100%;\n      height: 100%;\n      object-fit: cover;\n      filter: grayscale(1);\n      opacity: 0.85;\n      transition: filter 160ms ease, opacity 160ms ease;\n    }\n\n    .related-thumb .thumb-placeholder {\n      width: 100%;\n      height: 100%;\n      display: block;\n    }\n\n    .related-item a {\n      font-size: 12px;\n      font-weight: 600;\n      color: #111;\n    }\n\n    /* =====================\n       RIGHT: 13 CHAPTERS\n    ====================== */\n    .chapters {\n      display: flex;\n      flex-direction: column;\n      gap: 10px;\n    }\n\n    .chapters-title {\n      font-size: 11px;\n      letter-spacing: 0.12em;\n      color: rgba(17,17,17,0.52);\n      text-transform: uppercase;\n      font-weight: 600;\n    }\n\n    .chapters-help {\n      margin-top: -4px;\n      font-size: 11px;\n      line-height: 1.35;\n      color: rgba(17,17,17,0.42);\n    }\n\n    .chapter-list {\n      list-style: none;\n      padding: 0;\n      margin: 0;\n      display: flex;\n      flex-direction: column;\n      gap: 0;\n      border-top: 1px solid rgba(0,0,0,0.06);\n    }\n\n    .chapter-item {\n      display: grid;\n      grid-template-columns: 3ch 1fr;\n      gap: 12px;\n      align-items: start;\n      padding: 10px 0;\n      border-bottom: 1px solid rgba(0,0,0,0.06);\n    }\n\n    .chapter-item--preface .chapter-name {\n      font-weight: 760;\n      letter-spacing: -0.01em;\n      color: rgba(17,17,17,0.90);\n    }\n\n    .chapter-item--current .chapter-name {\n      color: rgba(17,17,17,0.92);\n      text-decoration: underline;\n      text-decoration-thickness: 1px;\n      text-underline-offset: 3px;\n      text-decoration-color: rgba(17,17,17,0.22);\n    }\n\n    .chapter-num {\n      width: auto;\n      height: auto;\n      border-radius: 0;\n      display: block;\n      text-align: right;\n      font-size: 11px;\n      font-weight: 650;\n      color: rgba(17,17,17,0.46);\n      font-variant-numeric: tabular-nums;\n    }\n\n    .chapter-name {\n      font-size: 12px;\n      font-weight: 600;\n      color: rgba(17,17,17,0.80);\n      line-height: 1.3;\n    }\n\n    .chapter-note {\n      margin-top: 2px;\n      font-size: 11px;\n      color: rgba(17,17,17,0.46);\n      line-height: 1.4;\n    }\n\n    /* =====================\n       RESPONSIVE\n    ====================== */\n    @media (max-width: 900px) {\n      .chapter-content {\n        max-width: 100%;\n        padding: 0 24px;\n      }\n\n      .page-widget {\n        max-width: 100%;\n        margin-left: 24px;\n        margin-right: 24px;\n      }\n\n      .chapter-title {\n        font-size: 42px;\n      }\n\n      .chapter-body {\n        font-size: 18px;\n      }\n\n      .chapter-body h2 {\n        font-size: 32px;\n      }\n\n      .chapter-body h3 {\n        font-size: 24px;\n      }\n    }\n\n    @media (max-width: 768px) {\n      .header {\n        flex-direction: column;\n        gap: 12px;\n      }\n\n      .chapter-content {\n        padding: 0 16px;\n      }\n\n      .page-widget {\n        margin-left: 16px;\n        margin-right: 16px;\n      }\n\n      .chapter-title {\n        font-size: 38px;\n      }\n\n      .chapter-body {\n        font-size: 17px;\n      }\n\n      .chapter-body h2 {\n        font-size: 30px;\n      }\n\n      .chapter-body h3 {\n        font-size: 22px;\n      }\n    }\n  </style>\n</head>\n\n<body>\n  <div class=\"page\">\n    <div class=\"container\">\n\n      <!-- SIDEBAR BACKDROP -->\n      <div class=\"sidebar-backdrop\" id=\"sidebarBackdrop\"></div>\n\n      <!-- SIDEBAR -->\n      <aside class=\"sidebar\" id=\"sidebar\">\n        <div class=\"sidebar__title\">Working Fundamentals</div>\n        <ul class=\"sidebar__chapter-list\">\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-introduction\" class=\"sidebar__chapter-link\" target=\"_blank\">Introduction</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-1-of-13-programming-fundamentals\" class=\"sidebar__chapter-link sidebar__chapter-link\" target=\"_blank\">Chapter 1 ¬∑ Programming Fundamentals</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-2-of-13-data-structures\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 2 ¬∑ Data Structures</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-3-of-13-algorithms-and-complexity\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 3 ¬∑ Algorithms & Complexity</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-4-of-13-control-and-flow\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 4 ¬∑ Control & Flow</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-5-of-13-state-and-change\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 5 ¬∑ State & Change</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-6-of-13-design-principles\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 6 ¬∑ Design Principles</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-7-of-13-architecture\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 7 ¬∑ Architecture</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-8-of-13-persistence-and-data-modeling\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 8 ¬∑ Persistence & Data Modeling</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-9-of-13-interfaces-and-apis\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 9 ¬∑ Interfaces & APIs</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-10-of-13-errors-and-failure\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 10 ¬∑ Errors & Failure</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"#\" class=\"sidebar__chapter-link\"> class=\"sidebar__chapter-link sidebar__chapter-link--current\">Chapter 11 ¬∑ Testing</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-12-of-13-performance-and-scale\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 12 ¬∑ Performance & Scale</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-13-of-13-the-developers-role\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 13 ¬∑ The Developer''s Role</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-outroduction\" class=\"sidebar__chapter-link\" target=\"_blank\">Outroduction</a>\n          </li>\n        </ul>\n      </aside>\n\n      <!-- HEADER -->\n      <header class=\"header\" id=\"header\">\n        <a href=\"https://arvinjaysoncastro.com/\" class=\"brand\" target=\"_blank\">Arvin Jayson Castro</a>\n        <nav class=\"nav\">\n          <a href=\"https://arvinjaysoncastro.com/hungry-dev-mind\" target=\"_blank\">Books</a>\n          <a href=\"https://arvinjaysoncastro.com/working-systems\" target=\"_blank\">Working Systems</a>\n          <a href=\"https://arvinjaysoncastro.com/about\" target=\"_blank\">16 Years</a>\n          <div class=\"linkedin\">\n            <a href=\"https://www.linkedin.com/in/arvin-jayson-castro-7458199a/\" target=\"_blank\">linkedIn</a>\n            <span>let''s connect</span>\n          </div>\n        </nav>\n      </header>\n\n      <!-- PAGE WIDGET (TOP) - REMOVED -->\n      <div style=\"display: none;\">\n          <ol class=\"page-widget__pages-list\">\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">P</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Preface</div>\n                  <div class=\"page-widget__page-note\">Why fundamentals still decide outcomes.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item page-widget__page-item--current\">\n                <span class=\"page-widget__page-number\">1</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 1</div>\n                  <div class=\"page-widget__page-note\">Core principles and constraints.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">2</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 2</div>\n                  <div class=\"page-widget__page-note\">Boundaries, ownership, and interfaces.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">3</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 3</div>\n                  <div class=\"page-widget__page-note\">State, consistency, and failure modes.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">4</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 4</div>\n                  <div class=\"page-widget__page-note\">Abstractions that survive change.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">5</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 5</div>\n                  <div class=\"page-widget__page-note\">Simplicity as an engineering practice.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">6</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 6</div>\n                  <div class=\"page-widget__page-note\">Reliability, observability, and feedback.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">7</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 7</div>\n                  <div class=\"page-widget__page-note\">Delivery systems and decision hygiene.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">8</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 8</div>\n                  <div class=\"page-widget__page-note\">Documentation that stays useful.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">9</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 9</div>\n                  <div class=\"page-widget__page-note\">Testing strategy for predictable change.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">10</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 10</div>\n                  <div class=\"page-widget__page-note\">Pragmatic architecture for teams.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">11</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 11</div>\n                  <div class=\"page-widget__page-note\">Operational excellence without ceremony.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">12</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 12</div>\n                  <div class=\"page-widget__page-note\">Leadership, standards, and leverage.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">13</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 13</div>\n                  <div class=\"page-widget__page-note\">Making fundamentals non-negotiable.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">PS</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Postscript</div>\n                  <div class=\"page-widget__page-note\">A short operating model to carry forward.</div>\n                </div>\n              </a>\n            </li>\n          </ol>\n        </div>\n      </div>\n\n      <!-- MAIN -->\n      <main class=\"main\" id=\"main\">\n\n        <!-- CHAPTER CONTENT (Option 1: Magazine-style) -->\n        <article class=\"chapter-content\">\n          <header class=\"chapter-header\">\n            <div class=\"book-title\">Working Fundamentals</div>\n            <div class=\"chapter-number\" id=\"chapterIndicator\">\n              <span>chapter 11 of 13</span>\n              <span class=\"chapter-number__icon\" id=\"chapterIndicatorIcon\">‚ñæ</span>\n            </div>\n            <h1 class=\"chapter-title\">Testing</h1>\n            <p class=\"chapter-subtitle\">Trust through verification</p>\n          </header>\n\n          <div class=\"chapter-body\">\n            <h3>What this chapter is</h3>\n\n            <p>This chapter is not about frameworks.It is not about coverage percentages.It is not about mocks, spies, or tools.</p>\n\n            <p>This chapter is about <strong>trust</strong>.</p>\n\n            <p>Testing exists so you can change a system<strong>without fear</strong>.</p>\n\n            <h2>The core truth</h2>\n\n            <p>Tests do not prove correctness.</p>\n\n            <p>They prove <strong>stability of behavior</strong>.</p>\n\n            <p>A test says:</p>\n\n            <blockquote>‚ÄúThis must remain true, even when everything else changes.‚Äù</blockquote>\n\n            <p>üß† <strong>Mental Model</strong>Tests lock intent in place.</p>\n\n            <h2>Why testing exists at all</h2>\n\n            <p>Without tests:</p>\n\n            <ul>\n\n            <li>refactors hesitate</li>\n\n            </ul>\n\n            <ul>\n\n            <li>fear grows</li>\n\n            </ul>\n\n            <ul>\n\n            <li>changes slow</li>\n\n            </ul>\n\n            <ul>\n\n            <li>systems calcify</li>\n\n            </ul>\n\n            <p>With tests:</p>\n\n            <ul>\n\n            <li>change becomes routine</li>\n\n            </ul>\n\n            <ul>\n\n            <li>design improves</li>\n\n            </ul>\n\n            <ul>\n\n            <li>confidence replaces caution</li>\n\n            </ul>\n\n            <p>Testing is not overhead.Fear is.</p>\n\n            <h2>Tests protect behavior, not implementation</h2>\n\n            <p>The biggest testing mistake is testing <em>how</em> something works.</p>\n\n            <p>Tests should care about:</p>\n\n            <ul>\n\n            <li>inputs</li>\n\n            </ul>\n\n            <ul>\n\n            <li>outputs</li>\n\n            </ul>\n\n            <ul>\n\n            <li>side effects</li>\n\n            </ul>\n\n            <ul>\n\n            <li>invariants</li>\n\n            </ul>\n\n            <ul>\n\n            <li>failure behavior</li>\n\n            </ul>\n\n            <p>They should not care about:</p>\n\n            <ul>\n\n            <li>internal steps</li>\n\n            </ul>\n\n            <ul>\n\n            <li>helper functions</li>\n\n            </ul>\n\n            <ul>\n\n            <li>temporary structure</li>\n\n            </ul>\n\n            <p>üß† <strong>Architect‚Äôs Note</strong>Good tests survive refactors. Bad tests resist them.</p>\n\n            <h2>Invariants are the highest-value tests</h2>\n\n            <p>An invariant is something that must <strong>always</strong> be true.</p>\n\n            <p>Examples:</p>\n\n            <ul>\n\n            <li>balances never go negative</li>\n\n            </ul>\n\n            <ul>\n\n            <li>users cannot access forbidden data</li>\n\n            </ul>\n\n            <ul>\n\n            <li>state transitions are valid</li>\n\n            </ul>\n\n            <ul>\n\n            <li>identity never changes</li>\n\n            </ul>\n\n            <p>Invariants deserve tests first.</p>\n\n            <p>üß† <strong>Mental Model</strong>If an invariant breaks, the system is lying.</p>\n\n            <h2>Boundaries deserve tests</h2>\n\n            <p>Boundaries are where:</p>\n\n            <ul>\n\n            <li>assumptions meet reality</li>\n\n            </ul>\n\n            <ul>\n\n            <li>failures occur</li>\n\n            </ul>\n\n            <ul>\n\n            <li>misuse happens</li>\n\n            </ul>\n\n            <p>Test boundaries:</p>\n\n            <ul>\n\n            <li>input validation</li>\n\n            </ul>\n\n            <ul>\n\n            <li>external interfaces</li>\n\n            </ul>\n\n            <ul>\n\n            <li>persistence edges</li>\n\n            </ul>\n\n            <ul>\n\n            <li>failure paths</li>\n\n            </ul>\n\n            <p>üß† <strong>Perspective</strong>Most serious bugs enter through boundaries.</p>\n\n            <h2>Failure paths matter more than success paths</h2>\n\n            <p>Happy paths are easy.Failure paths are forgotten.</p>\n\n            <p>Testing failure paths ensures:</p>\n\n            <ul>\n\n            <li>partial failures don‚Äôt corrupt state</li>\n\n            </ul>\n\n            <ul>\n\n            <li>retries are safe</li>\n\n            </ul>\n\n            <ul>\n\n            <li>recovery is possible</li>\n\n            </ul>\n\n            <p>üß† <strong>Architect‚Äôs Note</strong>If failure isn‚Äôt tested, it isn‚Äôt designed.</p>\n\n            <h2>Tests enable design feedback</h2>\n\n            <p>Tests are not just safety nets.They are <strong>design mirrors</strong>.</p>\n\n            <p>When tests are:</p>\n\n            <ul>\n\n            <li>hard to write</li>\n\n            </ul>\n\n            <ul>\n\n            <li>fragile</li>\n\n            </ul>\n\n            <ul>\n\n            <li>overly complex</li>\n\n            </ul>\n\n            <p>‚Ä¶the design is usually the problem.</p>\n\n            <p>üß† <strong>Mental Model</strong>Difficulty testing is a signal, not an inconvenience.</p>\n\n            <h2>Unit vs integration is the wrong debate</h2>\n\n            <p>The real questions are:</p>\n\n            <ul>\n\n            <li>What behavior am I protecting?</li>\n\n            </ul>\n\n            <ul>\n\n            <li>What assumptions am I verifying?</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Where does failure hurt most?</li>\n\n            </ul>\n\n            <p>Use the smallest test that gives confidence.Use larger tests where boundaries demand it.</p>\n\n            <p>üß† <strong>Perspective</strong>Confidence, not purity, is the goal.</p>\n\n            <h2>Tests and time</h2>\n\n            <p>Systems change.Tests must change <strong>slower</strong>.</p>\n\n            <p>If every small refactor breaks tests:</p>\n\n            <ul>\n\n            <li>tests are overfitted</li>\n\n            </ul>\n\n            <ul>\n\n            <li>intent is unclear</li>\n\n            </ul>\n\n            <ul>\n\n            <li>trust erodes</li>\n\n            </ul>\n\n            <p>Tests should anchor behavior, not freeze structure.</p>\n\n            <h2>Testing and ownership</h2>\n\n            <p>Tests encode responsibility.</p>\n\n            <p>When a test fails, it should be obvious:</p>\n\n            <ul>\n\n            <li>what broke</li>\n\n            </ul>\n\n            <ul>\n\n            <li>why it matters</li>\n\n            </ul>\n\n            <ul>\n\n            <li>who owns the fix</li>\n\n            </ul>\n\n            <p>Ambiguous tests create blame.Clear tests create action.</p>\n\n            <h2>Minimal practice (still no code)</h2>\n\n            <p><strong>Problem:</strong>‚ÄúA system processes payments and updates balances.‚Äù</p>\n\n            <p>Ask:</p>\n\n            <ul>\n\n            <li>What must always be true after processing?</li>\n\n            </ul>\n\n            <ul>\n\n            <li>What must never happen?</li>\n\n            </ul>\n\n            <ul>\n\n            <li>What happens if processing is retried?</li>\n\n            </ul>\n\n            <ul>\n\n            <li>What failures are acceptable?</li>\n\n            </ul>\n\n            <p>Write tests for those answers ‚Äî not the steps.</p>\n\n            <h2>What beginners gain here</h2>\n\n            <ul>\n\n            <li>Confidence to change code</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Less fear of breaking things</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Better understanding of intent</li>\n\n            </ul>\n\n            <h2>What experienced developers recognize</h2>\n\n            <ul>\n\n            <li>Why refactors stall</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Why test suites feel brittle</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Why velocity drops over time</li>\n\n            </ul>\n\n            <p>Tests protected structure, not behavior.</p>\n\n            <h2>What this chapter deliberately avoids</h2>\n\n            <ul>\n\n            <li>Testing libraries</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Tool comparisons</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Mocking strategies</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Coverage metrics</li>\n\n            </ul>\n\n            <p>Those are secondary.</p>\n\n            <h2>Closing</h2>\n\n            <p>Testing is not about perfection.It is about <strong>permission</strong>.</p>\n\n            <p>Permission to change.Permission to refactor.Permission to improve.</p>\n\n            <p>A system without tests demands caution.A system with good tests invites progress.</p>\n          </div>\n        </article>\n\n        <!-- RIGHT -->\n\n      </main>\n\n      <!-- CHAPTER NAVIGATION (BOTTOM) -->\n      <nav class=\"chapter-nav-bottom\" id=\"chapterNavBottom\">\n        <a href=\"#\" class=\"chapter-nav-bottom__link chapter-nav-bottom__link--prev\" id=\"prevChapter\">\n          <span class=\"chapter-nav-bottom__arrow\">‚Üê</span>\n          <span class=\"chapter-nav-bottom__label\">Previous</span>\n        </a>\n        <a href=\"#\" class=\"chapter-nav-bottom__link chapter-nav-bottom__link--next\" id=\"nextChapter\">\n          <span class=\"chapter-nav-bottom__label\">Next</span>\n          <span class=\"chapter-nav-bottom__arrow\">‚Üí</span>\n        </a>\n      </nav>\n\n      <!-- PAGE WIDGET (BOTTOM) - REMOVED -->\n      <div style=\"display: none;\">\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">P</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Preface</div>\n                  <div class=\"page-widget__page-note\">Why fundamentals still decide outcomes.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item page-widget__page-item--current\">\n                <span class=\"page-widget__page-number\">1</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 1</div>\n                  <div class=\"page-widget__page-note\">Core principles and constraints.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">2</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 2</div>\n                  <div class=\"page-widget__page-note\">Boundaries, ownership, and interfaces.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">3</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 3</div>\n                  <div class=\"page-widget__page-note\">State, consistency, and failure modes.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">4</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 4</div>\n                  <div class=\"page-widget__page-note\">Abstractions that survive change.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">5</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 5</div>\n                  <div class=\"page-widget__page-note\">Simplicity as an engineering practice.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">6</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 6</div>\n                  <div class=\"page-widget__page-note\">Reliability, observability, and feedback.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">7</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 7</div>\n                  <div class=\"page-widget__page-note\">Delivery systems and decision hygiene.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">8</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 8</div>\n                  <div class=\"page-widget__page-note\">Documentation that stays useful.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">9</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 9</div>\n                  <div class=\"page-widget__page-note\">Testing strategy for predictable change.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">10</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 10</div>\n                  <div class=\"page-widget__page-note\">Pragmatic architecture for teams.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">11</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 11</div>\n                  <div class=\"page-widget__page-note\">Operational excellence without ceremony.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">12</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 12</div>\n                  <div class=\"page-widget__page-note\">Leadership, standards, and leverage.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">13</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 13</div>\n                  <div class=\"page-widget__page-note\">Making fundamentals non-negotiable.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">PS</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Postscript</div>\n                  <div class=\"page-widget__page-note\">A short operating model to carry forward.</div>\n                </div>\n              </a>\n            </li>\n          </ol>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <!-- PAGE WIDGET JS -->\n  <!-- SIDEBAR TOGGLE JS -->\n  <script>\n  (() => {\n    const sidebar = document.getElementById(''sidebar'');\n    const backdrop = document.getElementById(''sidebarBackdrop'');\n    const indicator = document.getElementById(''chapterIndicator'');\n    const icon = document.getElementById(''chapterIndicatorIcon'');\n    const header = document.getElementById(''header'');\n    const main = document.getElementById(''main'');\n    const body = document.body;\n\n    if (!sidebar || !backdrop || !indicator || !icon || !header || !main) return;\n\n    let isOpen = false;\n    let scrollTimeout = null;\n\n    const openSidebar = () => {\n      isOpen = true;\n      sidebar.classList.add(''sidebar--open'');\n      backdrop.classList.add(''sidebar-backdrop--visible'');\n      header.classList.add(''header--shifted'');\n      main.classList.add(''main--shifted'');\n      icon.classList.add(''chapter-number__icon--open'');\n      body.classList.add(''sidebar-open'');\n    };\n\n    const closeSidebar = () => {\n      isOpen = false;\n      sidebar.classList.remove(''sidebar--open'');\n      backdrop.classList.remove(''sidebar-backdrop--visible'');\n      header.classList.remove(''header--shifted'');\n      main.classList.remove(''main--shifted'');\n      icon.classList.remove(''chapter-number__icon--open'');\n      body.classList.remove(''sidebar-open'');\n    };\n\n    // Toggle sidebar\n    indicator.addEventListener(''click'', (e) => {\n      e.stopPropagation();\n      if (isOpen) {\n        closeSidebar();\n      } else {\n        openSidebar();\n      }\n    });\n\n    // Close sidebar when clicking backdrop\n    backdrop.addEventListener(''click'', () => {\n      closeSidebar();\n    });\n\n    // Close sidebar when clicking outside\n    document.addEventListener(''click'', (e) => {\n      // Don''t close sidebar if clicking on brand link or nav links\n      const brandLink = header.querySelector(''.brand'');\n      const isClickOnLink = brandLink && brandLink.contains(e.target);\n      const isClickOnNav = header.querySelector(''.nav'') && header.querySelector(''.nav'').contains(e.target);\n      \n      if (isOpen && !sidebar.contains(e.target) && !indicator.contains(e.target) && !isClickOnLink && !isClickOnNav) {\n        closeSidebar();\n      }\n    });\n\n    // Close sidebar on scroll (debounced)\n    const handleScroll = () => {\n      if (isOpen) {\n        clearTimeout(scrollTimeout);\n        scrollTimeout = setTimeout(() => {\n          closeSidebar();\n        }, 100);\n      }\n    };\n\n    // Listen for scroll on main content\n    window.addEventListener(''scroll'', handleScroll, { passive: true });\n    \n    // Also listen for scroll attempts on body (when scroll is disabled)\n    let lastScrollTop = window.pageYOffset;\n    const handleScrollAttempt = () => {\n      if (isOpen) {\n        const currentScrollTop = window.pageYOffset;\n        if (currentScrollTop !== lastScrollTop) {\n          closeSidebar();\n        }\n        lastScrollTop = currentScrollTop;\n      }\n    };\n\n    // Prevent scroll on body when sidebar is open\n    document.addEventListener(''wheel'', (e) => {\n      if (isOpen && !sidebar.contains(e.target)) {\n        e.preventDefault();\n        closeSidebar();\n      }\n    }, { passive: false });\n\n    // Prevent touch scroll on body when sidebar is open\n    document.addEventListener(''touchmove'', (e) => {\n      if (isOpen && !sidebar.contains(e.target)) {\n        e.preventDefault();\n        closeSidebar();\n      }\n    }, { passive: false });\n  })();\n  </script>\n\n  <!-- CHAPTER NAVIGATION (BOTTOM) JS -->\n  <script>\n  (() => {\n    // Chapter list: Preface = 0, Chapter 1-13 = 1-13, Postscript = 14\n    const chapters = [\n      { id: ''preface'', title: ''Preface'', url: ''https://arvinjaysoncastro.com/working-fundamentals-introduction'' },\n      { id: ''ch1'', title: ''Chapter 1'', url: ''https://arvinjaysoncastro.com/working-fundamentals-1-of-13-programming-fundamentals'' },\n      { id: ''ch2'', title: ''Chapter 2'', url: ''https://arvinjaysoncastro.com/working-fundamentals-2-of-13-data-structures'' },\n      { id: ''ch3'', title: ''Chapter 3'', url: ''https://arvinjaysoncastro.com/working-fundamentals-3-of-13-algorithms-and-complexity'' },\n      { id: ''ch4'', title: ''Chapter 4'', url: ''https://arvinjaysoncastro.com/working-fundamentals-4-of-13-control-and-flow'' },\n      { id: ''ch5'', title: ''Chapter 5'', url: ''https://arvinjaysoncastro.com/working-fundamentals-5-of-13-state-and-change'' },\n      { id: ''ch6'', title: ''Chapter 6'', url: ''https://arvinjaysoncastro.com/working-fundamentals-6-of-13-design-principles'' },\n      { id: ''ch7'', title: ''Chapter 7'', url: ''https://arvinjaysoncastro.com/working-fundamentals-7-of-13-architecture'' },\n      { id: ''ch8'', title: ''Chapter 8'', url: ''https://arvinjaysoncastro.com/working-fundamentals-8-of-13-persistence-and-data-modeling'' },\n      { id: ''ch9'', title: ''Chapter 9'', url: ''https://arvinjaysoncastro.com/working-fundamentals-9-of-13-interfaces-and-apis'' },\n      { id: ''ch10'', title: ''Chapter 10'', url: ''https://arvinjaysoncastro.com/working-fundamentals-10-of-13-errors-and-failure'' },\n      { id: ''ch11'', title: ''Chapter 11'', url: ''https://arvinjaysoncastro.com/working-fundamentals-11-of-13-testing'' },\n      { id: ''ch12'', title: ''Chapter 12'', url: ''https://arvinjaysoncastro.com/working-fundamentals-12-of-13-performance-and-scale'' },\n      { id: ''ch13'', title: ''Chapter 13'', url: ''https://arvinjaysoncastro.com/working-fundamentals-13-of-13-the-developers-role'' },\n      { id: ''postscript'', title: ''Postscript'', url: ''https://arvinjaysoncastro.com/working-fundamentals-outroduction'' }\n    ];\n\n    const currentChapterIndex = 11; // Chapter 1 is index 1 (Preface is 0)\n    const prevLink = document.getElementById(''prevChapter'');\n    const nextLink = document.getElementById(''nextChapter'');\n\n    if (!prevLink || !nextLink) return;\n\n    // Previous chapter\n    if (currentChapterIndex > 0) {\n      const prevChapter = chapters[currentChapterIndex - 1];\n      prevLink.href = prevChapter.url;\n      prevLink.target = ''_blank'';\n      prevLink.innerHTML = `\n        <span class=\"chapter-nav-bottom__arrow\">‚Üê</span>\n        <span class=\"chapter-nav-bottom__label\">Previous: ${prevChapter.title}</span>\n      `;\n    } else {\n      // No previous chapter - show \"go back to book list\"\n      prevLink.href = ''https://arvinjaysoncastro.com/hungry-dev-mind'';\n      prevLink.target = ''_blank'';\n      prevLink.innerHTML = `\n        <span class=\"chapter-nav-bottom__arrow\">‚Üê</span>\n        <span class=\"chapter-nav-bottom__label\">Go back to book list</span>\n      `;\n    }\n\n    // Next chapter\n    if (currentChapterIndex < chapters.length - 1) {\n      const nextChapter = chapters[currentChapterIndex + 1];\n      nextLink.href = nextChapter.url;\n      nextLink.target = ''_blank'';\n      nextLink.innerHTML = `\n        <span class=\"chapter-nav-bottom__label\">Next: ${nextChapter.title}</span>\n        <span class=\"chapter-nav-bottom__arrow\">‚Üí</span>\n      `;\n    } else {\n      // No next chapter - show \"go back to book list\"\n      nextLink.href = ''https://arvinjaysoncastro.com/hungry-dev-mind'';\n      nextLink.target = ''_blank'';\n      nextLink.innerHTML = `\n        <span class=\"chapter-nav-bottom__label\">Go back to book list</span>\n        <span class=\"chapter-nav-bottom__arrow\">‚Üí</span>\n      `;\n    }\n  })();\n  </script>\n\n  <!-- OPTIONAL JS -->\n <script>\n(() => {\n  const wrap = document.querySelector(''.book-wrap'');\n  if (!wrap) return;\n\n  const slab1 = wrap.querySelector(''.shadow-slab'');\n  const slab2 = wrap.querySelector(''.shadow-slab-2'');\n  const slab3 = wrap.querySelector(''.shadow-slab-3'');\n  const slab4 = wrap.querySelector(''.shadow-slab-4'');\n  const front = wrap.querySelector(''.front-slab'');\n\n  const clamp = (v, min, max) => Math.max(min, Math.min(max, v));\n\n  let raf = 0;\n  let lx = 0; // light vector x\n  let ly = 0; // light vector y\n\n  function render() {\n    raf = 0;\n\n    // Shadow direction = opposite of light\n    const sx = -lx;\n    const sy = -ly;\n\n    const intensity = Math.abs(lx) + Math.abs(ly);\n\n    /* ---------------------------\n       SLAB 1 ‚Äî KEY CAST SHADOW\n    ---------------------------- */\n    slab1.style.transform =\n      `translate(${(sx * 38).toFixed(2)}px, ${(sy * 38).toFixed(2)}px)`;\n    slab1.style.filter =\n      `blur(${(14 + intensity * 6).toFixed(2)}px)`;\n    slab1.style.opacity =\n      (0.28 + intensity * 0.14).toFixed(2);\n\n    /* ---------------------------\n       SLAB 2 ‚Äî BOUNCE / COLOR BLEED\n    ---------------------------- */\n    slab2.style.transform =\n      `translate(${(sx * 14).toFixed(2)}px, ${(sy * 14).toFixed(2)}px)`;\n    slab2.style.filter =\n      `blur(${(6 + intensity * 4).toFixed(2)}px)`;\n    slab2.style.opacity =\n      (0.16 + intensity * 0.10).toFixed(2);\n\n    /* ---------------------------\n       SLAB 3 ‚Äî CONTACT SHADOW\n    ---------------------------- */\n    slab3.style.transform =\n      `translate(${(sx * 6).toFixed(2)}px, ${(sy * 6).toFixed(2)}px)`;\n    slab3.style.filter = `blur(9px)`;\n    slab3.style.opacity =\n      (0.24 + Math.abs(lx) * 0.06).toFixed(2);\n\n    /* ---------------------------\n       SLAB 4 ‚Äî AMBIENT DEPTH\n    ---------------------------- */\n    slab4.style.transform =\n      `translate(${(sx * 3).toFixed(2)}px, ${(sy * 3).toFixed(2)}px)`;\n    slab4.style.filter = `blur(18px)`;\n    slab4.style.opacity =\n      (0.16 + Math.abs(ly) * 0.04).toFixed(2);\n\n    /* ---------------------------\n       FRONT SLAB ‚Äî SPECULAR RESPONSE\n       (moves TOWARD light)\n    ---------------------------- */\nif (front) {\n  // Very subtle counter-parallax (NOT toward light)\n  front.style.transform =\n    `translate(${(-lx * 1.6).toFixed(2)}px, ${(-ly * 1.6).toFixed(2)}px)`;\n\n  // Opacity increases when light is grazing\n  front.style.opacity =\n    (0.34 + intensity * 0.22).toFixed(2);\n\n  // Highlight shifts OPPOSITE the light direction\n  const gx = 50 - lx * 28;\n  const gy = 50 - ly * 28;\n  front.style.backgroundPosition = `${gx}% ${gy}%`;\n}\n\n  }\n\n  function onMove(e) {\n    const r = wrap.getBoundingClientRect();\n    const cx = r.left + r.width / 2;\n    const cy = r.top + r.height / 2;\n\n    // LIGHT VECTOR (mouse = light source)\n    lx = clamp((e.clientX - cx) / (r.width / 2), -1, 1);\n    ly = clamp((e.clientY - cy) / (r.height / 2), -1, 1);\n\n    if (!raf) raf = requestAnimationFrame(render);\n  }\n\n  window.addEventListener(''mousemove'', onMove, { passive: true });\n})();\n</script>\n</body>\n</html>\n", "css": "body { font-family: system-ui; padding: 20px; }", "js": "console.log(\"Code Runner initialized\");", "imports": {"css": [], "js": []}, "entryPoint": {"type": "htmlDocument", "mountSelector": "#app", "injectMountIfMissing": true}, "settings": {"mode": "play", "viewport": {"type": "responsive", "background": "white"}, "securityPreset": "trusted", "autoRun": true, "runOnLoad": true}, "codePanel": {"isVisible": false, "isEditable": false}}}]}]}',
    NULL,
    1,
    NOW()
);


-- 12. Performance & Scale
-- Slug: working-fundamentals-12-of-13-performance-and-scale
-- ID: 7ce2416b-f475-4c66-bdcf-06595fcb7d73
-- File: ch_12.html
INSERT INTO App_Pages (
    id, org_id, name, slug, template_code, layout, layout_version, is_active,
    created_by_user_id, created_at, updated_at, visibility, description,
    is_template, template_metadata, kind, parent_id, section_tags, section_purpose,
    section_scope, palette_id, is_default_variation, variation_order, template_purpose,
    is_listed, is_org_landing_page, report, folder, layout_raw, layout_quarantine,
    layout_schema_version, layout_ingested_at
) VALUES (
    '7ce2416b-f475-4c66-bdcf-06595fcb7d73',
    '82c2d096-2638-4837-83c8-e8a933bb17c7',
    'Performance & Scale',
    'working-fundamentals-12-of-13-performance-and-scale',
    NULL,
    '{"id": "block-root", "style": {}, "type": "container", "children": [{"id": "temp-container", "style": {"width": "100vw", "height": "100vh"}, "type": "container", "children": [{"id": "temp-coderunner", "style": {}, "type": "codeRunner", "data": {"html": "<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n  <meta charset=\"UTF-8\" />\n  <title>Working Fundamentals ‚Äî Arvin Jayson Castro</title>\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n\n  <!-- =====================\n       GLOBAL STYLES\n  ====================== -->\n  <style>\n    :root {\n      --bg: #f7f8f8;\n      --ink: #111111;\n      --muted: #666666;\n      --line: rgba(0,0,0,0.08);\n      --accent: #16a34a;\n      --link: #3b82f6;\n      --max-width: 1200px;\n    }\n\n    * {\n      box-sizing: border-box;\n    }\n\n    body {\n      margin: 0;\n      font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, sans-serif;\n      color: var(--ink);\n      background-color: var(--bg);\n      background-image:\n        radial-gradient(980px 560px at 14% 18%, rgba(16,185,129,0.10) 0%, rgba(16,185,129,0) 60%),\n        radial-gradient(860px 540px at 86% 74%, rgba(245,158,11,0.10) 0%, rgba(245,158,11,0) 62%),\n        repeating-linear-gradient(0deg, rgba(0,0,0,0.043) 0, rgba(0,0,0,0.043) 1px, transparent 1px, transparent 46px),\n        repeating-linear-gradient(90deg, rgba(0,0,0,0.043) 0, rgba(0,0,0,0.043) 1px, transparent 1px, transparent 46px);\n      min-height: 100vh;\n    }\n\n    a {\n      color: inherit;\n      text-decoration: none;\n    }\n\n    img {\n      max-width: 100%;\n      display: block;\n    }\n\n    /* =====================\n       PAGE WRAPPER\n    ====================== */\n    .page {\n      padding: 22px 24px;\n    }\n\n    .container {\n      max-width: var(--max-width);\n      margin: 0 auto;\n    }\n\n    /* =====================\n       SIDEBAR BACKDROP\n    ====================== */\n    .sidebar-backdrop {\n      position: fixed;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n      background: rgba(0, 0, 0, 0.2);\n      backdrop-filter: blur(4px);\n      -webkit-backdrop-filter: blur(4px);\n      opacity: 0;\n      visibility: hidden;\n      transition: opacity 0.3s ease, visibility 0.3s ease;\n      z-index: 999;\n      pointer-events: none;\n    }\n\n    .sidebar-backdrop--visible {\n      opacity: 1;\n      visibility: visible;\n      pointer-events: auto;\n    }\n\n    /* =====================\n       SIDEBAR\n    ====================== */\n    .sidebar {\n      position: fixed;\n      top: 0;\n      right: 0;\n      width: 320px;\n      height: 100vh;\n      background: var(--bg);\n      border-left: 1px solid var(--line);\n      transform: translateX(100%);\n      transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n      z-index: 1000;\n      overflow-y: auto;\n      padding: 24px;\n    }\n\n    .sidebar--open {\n      transform: translateX(0);\n    }\n\n    .sidebar__title {\n      font-size: 16px;\n      font-weight: 600;\n      margin-bottom: 24px;\n      color: var(--ink);\n    }\n\n    /* Prevent body scroll when sidebar is open */\n    body.sidebar-open {\n      overflow: hidden;\n    }\n\n    .sidebar__chapter-list {\n      list-style: none;\n      margin: 0;\n      padding: 0;\n    }\n\n    .sidebar__chapter-item {\n      margin: 0 0 8px 0;\n    }\n\n    .sidebar__chapter-link {\n      display: block;\n      font-size: 14px;\n      color: var(--muted);\n      text-decoration: none;\n      padding: 8px 0;\n      transition: color 0.2s ease;\n      line-height: 1.5;\n    }\n\n    .sidebar__chapter-link:hover {\n      color: var(--ink);\n    }\n\n    .sidebar__chapter-link {\n      color: var(--ink);\n      font-weight: 500;\n    }\n\n    /* =====================\n       HEADER (Top bar with chapter indicator)\n    ====================== */\n    .header {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      padding: 10px 0;\n      border-bottom: 1px solid var(--line);\n      position: relative;\n      transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n    }\n\n    .header--shifted {\n      transform: translateX(-320px);\n    }\n\n    .brand {\n      font-size: 16px;\n      font-weight: 600;\n      cursor: pointer;\n      display: inline-block;\n    }\n\n    .nav {\n      display: flex;\n      gap: 24px;\n      align-items: center;\n      font-size: 14px;\n    }\n\n    .nav a {\n      color: #1f2937;\n    }\n\n    .linkedin {\n      display: flex;\n      flex-direction: column;\n      align-items: flex-start;\n    }\n\n    .linkedin a {\n      color: var(--link);\n    }\n\n    .linkedin span {\n      font-family: Georgia, serif;\n      font-size: 9px;\n      font-style: italic;\n      color: #999;\n    }\n\n    /* =====================\n       MAIN GRID\n    ====================== */\n    .main {\n      padding-top: 48px;\n      padding-bottom: 48px;\n      display: flex;\n      justify-content: center;\n      align-items: start;\n    }\n\n    /* =====================\n       CHAPTER READING AREA (Option 1: Magazine-style)\n    ====================== */\n    .chapter-content {\n      max-width: 768px;\n      width: 100%;\n      margin: 0 auto;\n    }\n\n    .chapter-header {\n      margin-bottom: 56px;\n      padding-bottom: 32px;\n      border-bottom: 2px solid var(--line);\n    }\n\n    .book-title {\n      font-size: 12px;\n      letter-spacing: 0.15em;\n      text-transform: uppercase;\n      color: var(--muted);\n      font-weight: 500;\n      margin-bottom: 8px;\n      opacity: 0.7;\n    }\n\n    .chapter-number {\n      font-size: 13px;\n      letter-spacing: 0.2em;\n      text-transform: uppercase;\n      color: var(--muted);\n      font-weight: 600;\n      margin-bottom: 12px;\n      display: flex;\n      align-items: center;\n      gap: 8px;\n      cursor: pointer;\n      user-select: none;\n      transition: color 0.2s ease;\n    }\n\n    .chapter-number:hover {\n      color: var(--ink);\n    }\n\n    .chapter-number__icon {\n      font-size: 10px;\n      opacity: 0.6;\n      transition: transform 0.3s ease, opacity 0.2s ease;\n    }\n\n    .chapter-number:hover .chapter-number__icon {\n      opacity: 0.8;\n    }\n\n    .chapter-number__icon--open {\n      transform: rotate(180deg);\n    }\n\n    .chapter-title {\n      font-size: 56px;\n      font-weight: 900;\n      line-height: 1.05;\n      margin: 0 0 20px 0;\n      color: var(--ink);\n      letter-spacing: -0.03em;\n    }\n\n    .chapter-subtitle {\n      font-size: 22px;\n      font-weight: 500;\n      color: var(--muted);\n      line-height: 1.4;\n      margin: 0;\n    }\n\n    .chapter-body {\n      font-size: 19px;\n      line-height: 1.8;\n      color: var(--ink);\n      max-width: none;\n      font-weight: 400;\n    }\n\n    .chapter-body p {\n      margin: 0 0 28px 0;\n    }\n\n    .chapter-body p:last-child {\n      margin-bottom: 0;\n    }\n\n    .chapter-body h2 {\n      font-size: 36px;\n      font-weight: 800;\n      line-height: 1.2;\n      margin: 56px 0 24px 0;\n      color: var(--ink);\n      letter-spacing: -0.02em;\n    }\n\n    .chapter-body h3 {\n      font-size: 26px;\n      font-weight: 700;\n      line-height: 1.3;\n      margin: 40px 0 18px 0;\n      color: var(--ink);\n      letter-spacing: -0.01em;\n    }\n\n    .chapter-body strong {\n      font-weight: 600;\n      color: var(--ink);\n    }\n\n    .chapter-body em {\n      font-style: italic;\n    }\n\n    .chapter-body ul,\n    .chapter-body ol {\n      margin: 28px 0;\n      padding-left: 36px;\n    }\n\n    .chapter-body li {\n      margin-bottom: 14px;\n      line-height: 1.75;\n    }\n\n    .chapter-body blockquote {\n      margin: 40px 0;\n      padding-left: 28px;\n      border-left: 4px solid var(--accent);\n      font-style: italic;\n      color: var(--muted);\n      font-size: 18px;\n      line-height: 1.7;\n    }\n\n    .chapter-body code {\n      font-family: ''Monaco'', ''Menlo'', ''Courier New'', monospace;\n      font-size: 0.9em;\n      background: rgba(0,0,0,0.04);\n      padding: 2px 6px;\n      border-radius: 3px;\n    }\n\n    .chapter-body pre {\n      background: rgba(0,0,0,0.04);\n      padding: 20px;\n      border-radius: 8px;\n      overflow-x: auto;\n      margin: 24px 0;\n    }\n\n    .chapter-body pre code {\n      background: none;\n      padding: 0;\n    }\n\n    /* Content shift when sidebar opens */\n    .main {\n      transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n    }\n\n    .main--shifted {\n      transform: translateX(-320px);\n    }\n\n    /* Prevent horizontal scroll */\n    body {\n      overflow-x: hidden;\n    }\n\n    .page {\n      overflow-x: hidden;\n    }\n\n    /* =====================\n       CHAPTER NAVIGATION (BOTTOM)\n    ====================== */\n    .chapter-nav-bottom {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      max-width: 768px;\n      width: 100%;\n      margin: 64px auto 0 auto;\n      padding: 24px 0;\n      border-top: 1px solid var(--line);\n    }\n\n    .chapter-nav-bottom__link {\n      display: flex;\n      align-items: center;\n      gap: 8px;\n      font-size: 14px;\n      color: var(--muted);\n      text-decoration: none;\n      transition: color 0.2s ease;\n      padding: 8px 0;\n    }\n\n    .chapter-nav-bottom__link:hover {\n      color: var(--ink);\n    }\n\n    .chapter-nav-bottom__arrow {\n      font-size: 16px;\n      opacity: 0.7;\n    }\n\n    .chapter-nav-bottom__label {\n      font-weight: 500;\n    }\n\n    .chapter-nav-bottom__link--prev {\n      margin-right: auto;\n    }\n\n    .chapter-nav-bottom__link--next {\n      margin-left: auto;\n    }\n\n    .chapter-nav-bottom__link--disabled {\n      opacity: 0.4;\n      cursor: not-allowed;\n      pointer-events: none;\n    }\n\n    .page-widget__pages {\n      max-height: 0;\n      overflow: hidden;\n      transition: max-height 0.4s cubic-bezier(0.4, 0, 0.2, 1),\n                  opacity 0.3s ease,\n                  margin-top 0.3s ease;\n      opacity: 0;\n      margin-top: 0;\n      background: rgba(255, 255, 255, 0.98);\n      backdrop-filter: blur(12px);\n      -webkit-backdrop-filter: blur(12px);\n      border: 1px solid rgba(0, 0, 0, 0.06);\n      border-radius: 12px;\n      box-shadow: 0 2px 12px rgba(0, 0, 0, 0.06);\n    }\n\n    .page-widget__pages--expanded {\n      max-height: 500px;\n      opacity: 1;\n      margin-top: 12px;\n      padding: 8px;\n    }\n\n    .page-widget__pages-list {\n      list-style: none;\n      margin: 0;\n      padding: 0;\n      display: flex;\n      flex-direction: column;\n      gap: 8px;\n      max-height: 400px;\n      overflow-y: auto;\n      padding-right: 4px;\n    }\n\n    .page-widget__pages-list::-webkit-scrollbar {\n      width: 6px;\n    }\n\n    .page-widget__pages-list::-webkit-scrollbar-track {\n      background: rgba(0, 0, 0, 0.02);\n      border-radius: 3px;\n    }\n\n    .page-widget__pages-list::-webkit-scrollbar-thumb {\n      background: rgba(0, 0, 0, 0.12);\n      border-radius: 3px;\n    }\n\n    .page-widget__pages-list::-webkit-scrollbar-thumb:hover {\n      background: rgba(0, 0, 0, 0.2);\n    }\n\n    .page-widget__page-item {\n      display: flex;\n      align-items: center;\n      gap: 10px;\n      padding: 8px 10px;\n      border-radius: 8px;\n      cursor: pointer;\n      transition: all 0.2s ease;\n      text-decoration: none;\n      color: var(--ink);\n    }\n\n    .page-widget__page-item:hover {\n      background: rgba(0, 0, 0, 0.03);\n      transform: translateX(2px);\n    }\n\n    .page-widget__page-item--current {\n      background: rgba(22, 163, 74, 0.08);\n      color: var(--accent);\n      font-weight: 500;\n    }\n\n    .page-widget__page-item--current:hover {\n      background: rgba(22, 163, 74, 0.12);\n    }\n\n    .page-widget__page-number {\n      display: inline-flex;\n      align-items: center;\n      justify-content: center;\n      width: 24px;\n      height: 24px;\n      background: rgba(0, 0, 0, 0.04);\n      border-radius: 5px;\n      font-size: 11px;\n      font-weight: 500;\n      flex-shrink: 0;\n      color: var(--muted);\n    }\n\n    .page-widget__page-item--current .page-widget__page-number {\n      background: rgba(22, 163, 74, 0.15);\n      color: var(--accent);\n    }\n\n    .page-widget__page-info {\n      flex: 1;\n      min-width: 0;\n    }\n\n    .page-widget__page-name {\n      font-size: 13px;\n      font-weight: 500;\n      line-height: 1.3;\n      margin: 0 0 2px 0;\n    }\n\n    .page-widget__page-note {\n      font-size: 11px;\n      color: var(--muted);\n      line-height: 1.3;\n      margin: 0;\n      white-space: nowrap;\n      overflow: hidden;\n      text-overflow: ellipsis;\n    }\n\n    @media (max-width: 768px) {\n      .page-widget__pages-list {\n        max-height: 300px;\n      }\n    }\n\n\n/* ===============================\n   WRAPPER\n================================ */\n.book-wrap {\n  width: 320px;\n  aspect-ratio: 2 / 3;\n  position: relative;\n}\n\n/* ===============================\n   CAST SHADOW SLAB (REAL SHADOW)\n================================ */\n.shadow-slab {\n    position: absolute;\n    position: absolute;\n    inset: 0;\n    border-radius: 22px;\n    /* background: #2a2a2a; */\n    transform: translate(-30px, 30px);\n    filter: blur(13px);\n    opacity: 0.35;\n    z-index: 0;\n    background: radial-gradient(ellipse at 15% 85%, rgba(0, 0, 0, 0.35), rgba(0, 0, 0, 0.18) 35%, transparent 65%), linear-gradient(to right, #1f1f1f 0%, #2a2a2a 45%, #3a3a3a 100%);\n}\n\n.shadow-slab-2 {\n    position: absolute;\n    inset: 0;\n    border-radius: 22px;\n    background: radial-gradient(circle at top right, #f6e6a8 0%, #e2c36b 35%, #b58a3c 70%, #7a5524 100%);\n    transform: translate(-10px, 10px);\n    filter: blur(5px);\n    opacity: 0.35;\n    z-index: 0;\n}\n\n.shadow-slab-3 {\n    position: absolute;\n    inset: 0;\n    border-radius: 22px;\n    background: #333;\n    transform: translate(0px, 0px);\n    filter: blur(11px);\n    opacity: 0.35;\n    z-index: 0;\n}\n\n.shadow-slab-4 {\n    position: absolute;\n    inset: 0;\n    border-radius: 22px;\n    background: #333;\n    transform: translate(0px, 0px);\n    filter: blur(11px);\n    opacity: 0.35;\n    z-index: 0;\n}\n\n/* ===============================\n   FRONT SLAB & SPIN HANDLE\n================================ */\n\n.front-slab {\n    position: absolute;\n    inset: 0;\n    border-radius: 22px;\n    background: linear-gradient(to right, rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.1) 3%, transparent 1%);\n    /* background: green; */\n    z-index: 3;\n    opacity: .5;\n    transform: translateZ(6px);\n    pointer-events: none;\n}\n\n.spin-handle {\n  display: none;\n  position: absolute;\n  top: 50%;\n  right: -22px;\n  width: 14px;\n  height: 48px;\n  border-radius: 999px;\n  background: rgba(0,0,0,0.25);\n  backdrop-filter: blur(4px);\n  cursor: grab;\n  z-index: 10;\n}\n\n/* ===============================\n   BOOK OBJECT (NO SHADOW)\n================================ */\n.book {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  border-radius: 22px;\n  overflow: hidden;\n  z-index: 2;\n\n  /* IMPORTANT: no box-shadow */\n  box-shadow: none;\n\n  /* transform: perspective(1200px) rotateX(0.6deg); */\n}\n\n/* ===============================\n   PAPER SURFACE (LIGHT FIELD)\n================================ */\n.book .surface {\n  position: absolute;\n  inset: 0;\n  border-radius: inherit;\n  pointer-events: none;\n  z-index: 1;\n\n  background:\n    linear-gradient(\n      to bottom left,\n      rgba(255,255,255,1) 0%,\n      rgba(250,250,250,1) 42%,\n      rgba(240,240,240,1) 100%\n    ),\n    repeating-linear-gradient(\n      0deg,\n      rgba(0,0,0,0.01),\n      rgba(0,0,0,0.01) 1px,\n      transparent 1px,\n      transparent 3px\n    );\n}\n\n/* ===============================\n   LEFT OCCLUSION (CURTAIN)\n================================ */\n.book .curtain {\n  position: absolute;\n  inset: 0;\n  border-radius: inherit;\n  pointer-events: none;\n  z-index: 2;\n\n  background:\n    linear-gradient(\n      to right,\n      rgba(0,0,0,0.20) 0%,\n      rgba(0,0,0,0.12) 8%,\n      rgba(0,0,0,0.05) 16%,\n      rgba(0,0,0,0.02) 22%,\n      rgba(0,0,0,0.00) 30%\n    );\n}\n\n/* ===============================\n   RIGHT HIGHLIGHT\n================================ */\n.book .highlight {\n  position: absolute;\n  inset: 0;\n  border-radius: inherit;\n  pointer-events: none;\n  z-index: 3;\n\n  background:\n    linear-gradient(\n      to left,\n      rgba(255,255,255,0.35) 0%,\n      rgba(255,255,255,0.18) 6%,\n      rgba(255,255,255,0.06) 14%,\n      rgba(255,255,255,0.00) 24%\n    );\n}\n\n/* ===============================\n   PAGE EDGE (THICKNESS)\n================================ */\n.book .edge {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 120px;\n  height: 100%;\n  border-radius: 22px 0 0 22px;\n  pointer-events: none;\n  z-index: 4;\n\n  background:\n    linear-gradient(\n      to right,\n      rgba(215,215,215,0.95) 0%,\n      rgba(245,245,245,0.95) 40%,\n      rgba(255,255,255,0.95) 75%\n    );\n\n  box-shadow:\n    inset -1px 0 0 rgba(0,0,0,0.05);\n}\n\n/* ===============================\n   SVG (PURE WHITE)\n================================ */\n.book svg {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  display: block;\n  z-index: 5;\n}\n\n    /* =====================\n       LEFT: BOOK COVER\n    ====================== */\n    .book-cover {\n      display: flex;\n      flex-direction: column;\n      gap: 12px;\n    }\n\n\n    /* ===============================\n       BOOK + SHADOW SYSTEM\n    =============================== */\n    .book-wrap {\n      width: 320px;\n      aspect-ratio: 2 / 3;\n      position: relative;\n    }\n\n    .shadow-slab,\n    .shadow-slab-2,\n    .shadow-slab-3,\n    .shadow-slab-4 {\n      position: absolute;\n      inset: 0;\n      border-radius: 22px;\n      z-index: 0;\n      will-change: transform, filter, opacity;\n    }\n\n    .shadow-slab {\n      background:\n        radial-gradient(ellipse at 15% 85%, rgba(0,0,0,0.35), rgba(0,0,0,0.18) 35%, transparent 65%),\n        linear-gradient(to right, #1f1f1f 0%, #2a2a2a 45%, #3a3a3a 100%);\n      filter: blur(13px);\n      opacity: 0.35;\n    }\n\n    .shadow-slab-2 {\n      background: radial-gradient(circle at top right, #f6e6a8 0%, #e2c36b 35%, #b58a3c 70%, #7a5524 100%);\n      filter: blur(6px);\n      opacity: 0.30;\n    }\n\n    .shadow-slab-3,\n    .shadow-slab-4 {\n      background: #333;\n      filter: blur(11px);\n      opacity: 0.30;\n    }\n\n    .book {\n      position: relative;\n      width: 100%;\n      height: 100%;\n      border-radius: 22px;\n      overflow: hidden;\n      z-index: 2;\n      background: #f7f4ee;\n    }\n\n    .front-slab {\n      position: absolute;\n      inset: 0;\n      border-radius: 22px;\n      background: linear-gradient(to right, rgba(0,0,0,0.4), rgba(0,0,0,0.1) 3%, transparent 10%);\n      z-index: 3;\n      pointer-events: none;\n      opacity: 0.5;\n    }\n\n\n    @media (prefers-reduced-motion: reduce) {\n      .cover-frame {\n        transition: none;\n        transform: none;\n      }\n      .cover-frame:hover {\n        --lift: 0;\n      }\n    }\n\n    .start-reading {\n      display: inline-flex;\n      align-items: center;\n      justify-content: center;\n      width: 100%;\n      padding: 12px 14px;\n      border-radius: 999px;\n\n      font-size: 11px;\n      letter-spacing: 0.16em;\n      text-transform: uppercase;\n      font-weight: 650;\n      color: rgba(34,197,94,0.92);\n      text-shadow:\n        0 0 10px rgba(34,197,94,0.22),\n        0 0 22px rgba(34,197,94,0.14);\n\n      /* graphite: dark + slightly mineral */\n      background:\n        radial-gradient(120% 140% at 20% 10%, rgba(255,255,255,0.10) 0%, rgba(255,255,255,0.00) 55%),\n        radial-gradient(140% 140% at 80% 90%, rgba(255,255,255,0.06) 0%, rgba(255,255,255,0.00) 60%),\n        linear-gradient(180deg, #141414 0%, #0a0a0a 100%);\n      border: 1px solid rgba(255,255,255,0.10);\n      box-shadow:\n        0 14px 34px rgba(0,0,0,0.22),\n        0 8px 16px rgba(0,0,0,0.18),\n        inset 0 1px 0 rgba(255,255,255,0.10),\n        inset 0 -1px 0 rgba(0,0,0,0.55);\n\n      position: relative;\n      overflow: hidden;\n      cursor: pointer;\n      user-select: none;\n      -webkit-tap-highlight-color: transparent;\n\n      transition:\n        transform 160ms cubic-bezier(0.2, 0.8, 0.2, 1),\n        box-shadow 160ms cubic-bezier(0.2, 0.8, 0.2, 1),\n        border-color 160ms cubic-bezier(0.2, 0.8, 0.2, 1);\n    }\n\n    .start-reading::before {\n      content: \"\";\n      position: absolute;\n      inset: 0;\n      pointer-events: none;\n      /* texture + sheen (very subtle) */\n      background:\n        linear-gradient(120deg, rgba(255,255,255,0.12) 0%, rgba(255,255,255,0.00) 46%),\n        repeating-linear-gradient(0deg,\n          rgba(255,255,255,0.028) 0px,\n          rgba(255,255,255,0.028) 1px,\n          rgba(0,0,0,0.00) 3px,\n          rgba(0,0,0,0.00) 6px),\n        radial-gradient(120% 90% at 50% 0%, rgba(34,197,94,0.14) 0%, rgba(34,197,94,0.00) 62%);\n      opacity: 0.75;\n    }\n\n    .start-reading:hover {\n      transform: translateY(-1px);\n      border-color: rgba(34,197,94,0.30);\n      box-shadow:\n        0 18px 42px rgba(0,0,0,0.24),\n        0 10px 18px rgba(0,0,0,0.18),\n        inset 0 1px 0 rgba(255,255,255,0.12),\n        inset 0 -1px 0 rgba(0,0,0,0.55);\n      text-shadow:\n        0 0 12px rgba(34,197,94,0.28),\n        0 0 26px rgba(34,197,94,0.18);\n    }\n\n    .start-reading:active {\n      transform: translateY(0px);\n      box-shadow:\n        0 14px 34px rgba(0,0,0,0.22),\n        0 8px 16px rgba(0,0,0,0.18),\n        inset 0 1px 0 rgba(255,255,255,0.10),\n        inset 0 -1px 0 rgba(0,0,0,0.55);\n    }\n\n    .start-reading:focus-visible {\n      outline: none;\n      box-shadow:\n        0 18px 42px rgba(0,0,0,0.24),\n        0 0 0 4px rgba(34,197,94,0.22),\n        0 0 0 1px rgba(34,197,94,0.26),\n        inset 0 1px 0 rgba(255,255,255,0.12),\n        inset 0 -1px 0 rgba(0,0,0,0.55);\n      border-color: rgba(34,197,94,0.34);\n    }\n\n    @media (prefers-reduced-motion: reduce) {\n      .start-reading {\n        transition: none;\n      }\n      .start-reading:hover {\n        transform: none;\n      }\n    }\n\n    /* =====================\n       CENTER: CONTENT\n    ====================== */\n    .content h1 {\n      font-size: 40px;\n      font-weight: 800;\n      line-height: 1.15;\n      margin: 0;\n    }\n\n    .byline {\n      font-size: 13px;\n      letter-spacing: 0.12em;\n      color: #666;\n      font-weight: 600;\n    }\n\n    .tagline {\n      font-size: 18px;\n      font-weight: 500;\n      color: #333;\n    }\n\n    .paragraph {\n      font-size: 15px;\n      color: #222;\n    }\n\n    .meta {\n      margin-top: 20px;\n      padding-top: 20px;\n      border-top: 1px solid var(--line);\n      display: grid;\n      grid-template-columns: repeat(2, 1fr);\n      gap: 12px 24px;\n      font-size: 13px;\n    }\n\n    .author {\n      margin-top: 20px;\n      padding-top: 20px;\n      border-top: 1px solid var(--line);\n      display: flex;\n      gap: 16px;\n      align-items: flex-start;\n    }\n\n    .author img {\n      width: 44px;\n      height: 44px;\n      border-radius: 50%;\n    }\n\n    /* =====================\n       RIGHT: RELATED\n    ====================== */\n    .related {\n      display: flex;\n      flex-direction: column;\n      gap: 20px;\n    }\n\n    .related-title {\n      font-size: 11px;\n      letter-spacing: 0.14em;\n      color: #666;\n      text-transform: uppercase;\n      font-weight: 600;\n    }\n\n    .related-item {\n      display: flex;\n      flex-direction: column;\n      gap: 6px;\n      cursor: pointer;\n      transition: transform 0.12s ease, box-shadow 0.12s ease;\n    }\n\n    .related-item:hover {\n      transform: translateY(-2px);\n    }\n\n    .related-thumb {\n      border-radius: 6px;\n      overflow: hidden;\n      aspect-ratio: 3 / 4;\n      box-shadow: 0 8px 24px rgba(0,0,0,0.1);\n\n      /* Gray placeholder shape */\n      background: linear-gradient(135deg, #e5e7eb 0%, #d1d5db 45%, #cbd5e1 100%);\n      border: 1px solid rgba(0,0,0,0.06);\n    }\n\n    .related-thumb img {\n      width: 100%;\n      height: 100%;\n      object-fit: cover;\n      filter: grayscale(1);\n      opacity: 0.85;\n      transition: filter 160ms ease, opacity 160ms ease;\n    }\n\n    .related-thumb .thumb-placeholder {\n      width: 100%;\n      height: 100%;\n      display: block;\n    }\n\n    .related-item a {\n      font-size: 12px;\n      font-weight: 600;\n      color: #111;\n    }\n\n    /* =====================\n       RIGHT: 13 CHAPTERS\n    ====================== */\n    .chapters {\n      display: flex;\n      flex-direction: column;\n      gap: 10px;\n    }\n\n    .chapters-title {\n      font-size: 11px;\n      letter-spacing: 0.12em;\n      color: rgba(17,17,17,0.52);\n      text-transform: uppercase;\n      font-weight: 600;\n    }\n\n    .chapters-help {\n      margin-top: -4px;\n      font-size: 11px;\n      line-height: 1.35;\n      color: rgba(17,17,17,0.42);\n    }\n\n    .chapter-list {\n      list-style: none;\n      padding: 0;\n      margin: 0;\n      display: flex;\n      flex-direction: column;\n      gap: 0;\n      border-top: 1px solid rgba(0,0,0,0.06);\n    }\n\n    .chapter-item {\n      display: grid;\n      grid-template-columns: 3ch 1fr;\n      gap: 12px;\n      align-items: start;\n      padding: 10px 0;\n      border-bottom: 1px solid rgba(0,0,0,0.06);\n    }\n\n    .chapter-item--preface .chapter-name {\n      font-weight: 760;\n      letter-spacing: -0.01em;\n      color: rgba(17,17,17,0.90);\n    }\n\n    .chapter-item--current .chapter-name {\n      color: rgba(17,17,17,0.92);\n      text-decoration: underline;\n      text-decoration-thickness: 1px;\n      text-underline-offset: 3px;\n      text-decoration-color: rgba(17,17,17,0.22);\n    }\n\n    .chapter-num {\n      width: auto;\n      height: auto;\n      border-radius: 0;\n      display: block;\n      text-align: right;\n      font-size: 11px;\n      font-weight: 650;\n      color: rgba(17,17,17,0.46);\n      font-variant-numeric: tabular-nums;\n    }\n\n    .chapter-name {\n      font-size: 12px;\n      font-weight: 600;\n      color: rgba(17,17,17,0.80);\n      line-height: 1.3;\n    }\n\n    .chapter-note {\n      margin-top: 2px;\n      font-size: 11px;\n      color: rgba(17,17,17,0.46);\n      line-height: 1.4;\n    }\n\n    /* =====================\n       RESPONSIVE\n    ====================== */\n    @media (max-width: 900px) {\n      .chapter-content {\n        max-width: 100%;\n        padding: 0 24px;\n      }\n\n      .page-widget {\n        max-width: 100%;\n        margin-left: 24px;\n        margin-right: 24px;\n      }\n\n      .chapter-title {\n        font-size: 42px;\n      }\n\n      .chapter-body {\n        font-size: 18px;\n      }\n\n      .chapter-body h2 {\n        font-size: 32px;\n      }\n\n      .chapter-body h3 {\n        font-size: 24px;\n      }\n    }\n\n    @media (max-width: 768px) {\n      .header {\n        flex-direction: column;\n        gap: 12px;\n      }\n\n      .chapter-content {\n        padding: 0 16px;\n      }\n\n      .page-widget {\n        margin-left: 16px;\n        margin-right: 16px;\n      }\n\n      .chapter-title {\n        font-size: 38px;\n      }\n\n      .chapter-body {\n        font-size: 17px;\n      }\n\n      .chapter-body h2 {\n        font-size: 30px;\n      }\n\n      .chapter-body h3 {\n        font-size: 22px;\n      }\n    }\n  </style>\n</head>\n\n<body>\n  <div class=\"page\">\n    <div class=\"container\">\n\n      <!-- SIDEBAR BACKDROP -->\n      <div class=\"sidebar-backdrop\" id=\"sidebarBackdrop\"></div>\n\n      <!-- SIDEBAR -->\n      <aside class=\"sidebar\" id=\"sidebar\">\n        <div class=\"sidebar__title\">Working Fundamentals</div>\n        <ul class=\"sidebar__chapter-list\">\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-introduction\" class=\"sidebar__chapter-link\" target=\"_blank\">Introduction</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-1-of-13-programming-fundamentals\" class=\"sidebar__chapter-link sidebar__chapter-link\" target=\"_blank\">Chapter 1 ¬∑ Programming Fundamentals</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-2-of-13-data-structures\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 2 ¬∑ Data Structures</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-3-of-13-algorithms-and-complexity\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 3 ¬∑ Algorithms & Complexity</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-4-of-13-control-and-flow\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 4 ¬∑ Control & Flow</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-5-of-13-state-and-change\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 5 ¬∑ State & Change</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-6-of-13-design-principles\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 6 ¬∑ Design Principles</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-7-of-13-architecture\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 7 ¬∑ Architecture</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-8-of-13-persistence-and-data-modeling\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 8 ¬∑ Persistence & Data Modeling</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-9-of-13-interfaces-and-apis\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 9 ¬∑ Interfaces & APIs</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-10-of-13-errors-and-failure\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 10 ¬∑ Errors & Failure</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-11-of-13-testing\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 11 ¬∑ Testing</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"#\" class=\"sidebar__chapter-link\"> class=\"sidebar__chapter-link sidebar__chapter-link--current\">Chapter 12 ¬∑ Performance\\ \\&\\ Scale</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-13-of-13-the-developers-role\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 13 ¬∑ The Developer''s Role</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-outroduction\" class=\"sidebar__chapter-link\" target=\"_blank\">Outroduction</a>\n          </li>\n        </ul>\n      </aside>\n\n      <!-- HEADER -->\n      <header class=\"header\" id=\"header\">\n        <a href=\"https://arvinjaysoncastro.com/\" class=\"brand\" target=\"_blank\">Arvin Jayson Castro</a>\n        <nav class=\"nav\">\n          <a href=\"https://arvinjaysoncastro.com/hungry-dev-mind\" target=\"_blank\">Books</a>\n          <a href=\"https://arvinjaysoncastro.com/working-systems\" target=\"_blank\">Working Systems</a>\n          <a href=\"https://arvinjaysoncastro.com/about\" target=\"_blank\">16 Years</a>\n          <div class=\"linkedin\">\n            <a href=\"https://www.linkedin.com/in/arvin-jayson-castro-7458199a/\" target=\"_blank\">linkedIn</a>\n            <span>let''s connect</span>\n          </div>\n        </nav>\n      </header>\n\n      <!-- PAGE WIDGET (TOP) - REMOVED -->\n      <div style=\"display: none;\">\n          <ol class=\"page-widget__pages-list\">\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">P</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Preface</div>\n                  <div class=\"page-widget__page-note\">Why fundamentals still decide outcomes.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item page-widget__page-item--current\">\n                <span class=\"page-widget__page-number\">1</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 1</div>\n                  <div class=\"page-widget__page-note\">Core principles and constraints.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">2</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 2</div>\n                  <div class=\"page-widget__page-note\">Boundaries, ownership, and interfaces.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">3</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 3</div>\n                  <div class=\"page-widget__page-note\">State, consistency, and failure modes.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">4</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 4</div>\n                  <div class=\"page-widget__page-note\">Abstractions that survive change.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">5</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 5</div>\n                  <div class=\"page-widget__page-note\">Simplicity as an engineering practice.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">6</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 6</div>\n                  <div class=\"page-widget__page-note\">Reliability, observability, and feedback.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">7</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 7</div>\n                  <div class=\"page-widget__page-note\">Delivery systems and decision hygiene.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">8</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 8</div>\n                  <div class=\"page-widget__page-note\">Documentation that stays useful.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">9</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 9</div>\n                  <div class=\"page-widget__page-note\">Testing strategy for predictable change.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">10</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 10</div>\n                  <div class=\"page-widget__page-note\">Pragmatic architecture for teams.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">11</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 11</div>\n                  <div class=\"page-widget__page-note\">Operational excellence without ceremony.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">12</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 12</div>\n                  <div class=\"page-widget__page-note\">Leadership, standards, and leverage.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">13</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 13</div>\n                  <div class=\"page-widget__page-note\">Making fundamentals non-negotiable.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">PS</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Postscript</div>\n                  <div class=\"page-widget__page-note\">A short operating model to carry forward.</div>\n                </div>\n              </a>\n            </li>\n          </ol>\n        </div>\n      </div>\n\n      <!-- MAIN -->\n      <main class=\"main\" id=\"main\">\n\n        <!-- CHAPTER CONTENT (Option 1: Magazine-style) -->\n        <article class=\"chapter-content\">\n          <header class=\"chapter-header\">\n            <div class=\"book-title\">Working Fundamentals</div>\n            <div class=\"chapter-number\" id=\"chapterIndicator\">\n              <span>chapter 12 of 13</span>\n              <span class=\"chapter-number__icon\" id=\"chapterIndicatorIcon\">‚ñæ</span>\n            </div>\n            <h1 class=\"chapter-title\">Performance & Scale</h1>\n            <p class=\"chapter-subtitle\">Pressure reveals structure</p>\n          </header>\n\n          <div class=\"chapter-body\">\n            <h3>What this chapter is</h3>\n\n            <p>This chapter is not about micro-optimizations.It is not about benchmarks.It is not about clever tricks.</p>\n\n            <p>This chapter is about <strong>stress</strong>.</p>\n\n            <p>Performance problems do not appear randomly.They surface when a system is asked to do more than it was designed to do.</p>\n\n            <h2>The core truth</h2>\n\n            <p>Scale does not create problems.It <strong>reveals them</strong>.</p>\n\n            <p>What works at small scale can fail quietly.What works at large scale must be structurally sound.</p>\n\n            <p>üß† <strong>Mental Model</strong>Performance is architecture asking for attention.</p>\n\n            <h2>Why performance surprises people</h2>\n\n            <p>Most developers test systems under ideal conditions:</p>\n\n            <ul>\n\n            <li>small data</li>\n\n            </ul>\n\n            <ul>\n\n            <li>single users</li>\n\n            </ul>\n\n            <ul>\n\n            <li>sequential execution</li>\n\n            </ul>\n\n            <ul>\n\n            <li>predictable inputs</li>\n\n            </ul>\n\n            <p>Real systems face:</p>\n\n            <ul>\n\n            <li>concurrency</li>\n\n            </ul>\n\n            <ul>\n\n            <li>uneven load</li>\n\n            </ul>\n\n            <ul>\n\n            <li>partial failure</li>\n\n            </ul>\n\n            <ul>\n\n            <li>long lifetimes</li>\n\n            </ul>\n\n            <p>The surprise is not that systems slow down.The surprise is that assumptions were never questioned.</p>\n\n            <h2>Performance is about growth, not speed</h2>\n\n            <p>Speed answers:</p>\n\n            <blockquote>‚ÄúHow fast is this now?‚Äù</blockquote>\n\n            <p>Performance answers:</p>\n\n            <blockquote>‚ÄúWhat happens when this grows?‚Äù</blockquote>\n\n            <p>Growth happens in:</p>\n\n            <ul>\n\n            <li>users</li>\n\n            </ul>\n\n            <ul>\n\n            <li>data volume</li>\n\n            </ul>\n\n            <ul>\n\n            <li>requests</li>\n\n            </ul>\n\n            <ul>\n\n            <li>time</li>\n\n            </ul>\n\n            <ul>\n\n            <li>complexity</li>\n\n            </ul>\n\n            <p>üß† <strong>Perspective</strong>A fast system that collapses under growth is not performant.</p>\n\n            <h2>Bottlenecks reveal intent</h2>\n\n            <p>Every system has bottlenecks.</p>\n\n            <p>Bottlenecks tell you:</p>\n\n            <ul>\n\n            <li>where work concentrates</li>\n\n            </ul>\n\n            <ul>\n\n            <li>where structure is weak</li>\n\n            </ul>\n\n            <ul>\n\n            <li>where assumptions break</li>\n\n            </ul>\n\n            <p>Chasing bottlenecks blindly creates churn.Understanding them creates clarity.</p>\n\n            <p>üß† <strong>Architect‚Äôs Note</strong>Bottlenecks are messages, not enemies.</p>\n\n            <h2>Measure before reacting</h2>\n\n            <p>Without measurement:</p>\n\n            <ul>\n\n            <li>intuition lies</li>\n\n            </ul>\n\n            <ul>\n\n            <li>effort is wasted</li>\n\n            </ul>\n\n            <ul>\n\n            <li>fixes misfire</li>\n\n            </ul>\n\n            <p>Guessing performance problems often:</p>\n\n            <ul>\n\n            <li>optimizes the wrong thing</li>\n\n            </ul>\n\n            <ul>\n\n            <li>hides the real issue</li>\n\n            </ul>\n\n            <ul>\n\n            <li>introduces new failures</li>\n\n            </ul>\n\n            <p>Measure first.Then decide.</p>\n\n            <h2>Caching is a promise, not a shortcut</h2>\n\n            <p>Caching trades:</p>\n\n            <ul>\n\n            <li>freshness for speed</li>\n\n            </ul>\n\n            <ul>\n\n            <li>consistency for performance</li>\n\n            </ul>\n\n            <ul>\n\n            <li>simplicity for complexity</li>\n\n            </ul>\n\n            <p>Every cache must answer:</p>\n\n            <ul>\n\n            <li>when is data stale?</li>\n\n            </ul>\n\n            <ul>\n\n            <li>who invalidates it?</li>\n\n            </ul>\n\n            <ul>\n\n            <li>what happens when it‚Äôs wrong?</li>\n\n            </ul>\n\n            <p>üß† <strong>Mental Model</strong>A cache is an agreement with time.</p>\n\n            <p>Break that agreement, and bugs follow.</p>\n\n            <h2>Concurrency exposes state</h2>\n\n            <p>Concurrency does not cause bugs.It <strong>reveals unsafe state</strong>.</p>\n\n            <p>When multiple things happen at once:</p>\n\n            <ul>\n\n            <li>shared state leaks</li>\n\n            </ul>\n\n            <ul>\n\n            <li>assumptions break</li>\n\n            </ul>\n\n            <ul>\n\n            <li>race conditions appear</li>\n\n            </ul>\n\n            <p>üß† <strong>Perspective</strong>If concurrency breaks your system, state was already fragile.</p>\n\n            <h2>Performance and persistence</h2>\n\n            <p>Most performance problems involve data:</p>\n\n            <ul>\n\n            <li>too much of it</li>\n\n            </ul>\n\n            <ul>\n\n            <li>poorly structured</li>\n\n            </ul>\n\n            <ul>\n\n            <li>accessed inefficiently</li>\n\n            </ul>\n\n            <ul>\n\n            <li>fetched repeatedly</li>\n\n            </ul>\n\n            <p>This is why data modeling matters.</p>\n\n            <p>Structure first.Optimization second.</p>\n\n            <h2>When optimization is necessary</h2>\n\n            <p>Optimization becomes necessary when:</p>\n\n            <ul>\n\n            <li>growth is real</li>\n\n            </ul>\n\n            <ul>\n\n            <li>pain is measured</li>\n\n            </ul>\n\n            <ul>\n\n            <li>structure is understood</li>\n\n            </ul>\n\n            <p>At that point:</p>\n\n            <ul>\n\n            <li>remove repeated work</li>\n\n            </ul>\n\n            <ul>\n\n            <li>move work earlier or later</li>\n\n            </ul>\n\n            <ul>\n\n            <li>change structure</li>\n\n            </ul>\n\n            <ul>\n\n            <li>change boundaries</li>\n\n            </ul>\n\n            <p>Micro-optimizations rarely matter.Structural changes endure.</p>\n\n            <h2>Premature optimization revisited</h2>\n\n            <p>Optimizing early often:</p>\n\n            <ul>\n\n            <li>complicates design</li>\n\n            </ul>\n\n            <ul>\n\n            <li>hides intent</li>\n\n            </ul>\n\n            <ul>\n\n            <li>freezes bad structure</li>\n\n            </ul>\n\n            <p>üß† <strong>Architect‚Äôs Note</strong>The cost of premature optimization is paid in understanding.</p>\n\n            <h2>Scaling changes failure modes</h2>\n\n            <p>At scale:</p>\n\n            <ul>\n\n            <li>retries amplify load</li>\n\n            </ul>\n\n            <ul>\n\n            <li>slow paths dominate</li>\n\n            </ul>\n\n            <ul>\n\n            <li>rare bugs become frequent</li>\n\n            </ul>\n\n            <ul>\n\n            <li>partial failures cascade</li>\n\n            </ul>\n\n            <p>Designing for scale means:</p>\n\n            <ul>\n\n            <li>bounding failure</li>\n\n            </ul>\n\n            <ul>\n\n            <li>limiting retries</li>\n\n            </ul>\n\n            <ul>\n\n            <li>isolating damage</li>\n\n            </ul>\n\n            <h2>Minimal practice (still no code)</h2>\n\n            <p><strong>Problem:</strong>‚ÄúA feature works fine locally but slows dramatically under load.‚Äù</p>\n\n            <p>Ask:</p>\n\n            <ul>\n\n            <li>What assumptions were made about size?</li>\n\n            </ul>\n\n            <ul>\n\n            <li>What work is repeated?</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Where is state shared?</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Which boundaries are missing?</li>\n\n            </ul>\n\n            <p>If the answers are vague, performance tuning will fail.</p>\n\n            <h2>What beginners gain here</h2>\n\n            <ul>\n\n            <li>Realistic expectations</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Respect for structure</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Fewer magical fixes</li>\n\n            </ul>\n\n            <h2>What experienced developers recognize</h2>\n\n            <ul>\n\n            <li>Why optimizations don‚Äôt stick</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Why performance work feels endless</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Why fixes move problems elsewhere</li>\n\n            </ul>\n\n            <p>Structure was ignored.</p>\n\n            <h2>What this chapter deliberately avoids</h2>\n\n            <ul>\n\n            <li>Language-specific tuning</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Tool recommendations</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Benchmark strategies</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Infrastructure details</li>\n\n            </ul>\n\n            <p>Those are downstream.</p>\n\n            <h2>Closing</h2>\n\n            <p>Performance is not speed.</p>\n\n            <p>It is <strong>stability under pressure</strong>.</p>\n\n            <p>A performant system:</p>\n\n            <ul>\n\n            <li>degrades gracefully</li>\n\n            </ul>\n\n            <ul>\n\n            <li>reveals problems early</li>\n\n            </ul>\n\n            <ul>\n\n            <li>survives growth</li>\n\n            </ul>\n\n            <p>Design for pressure while calm ‚Äîbecause pressure will arrive.</p>\n          </div>\n        </article>\n\n        <!-- RIGHT -->\n\n      </main>\n\n      <!-- CHAPTER NAVIGATION (BOTTOM) -->\n      <nav class=\"chapter-nav-bottom\" id=\"chapterNavBottom\">\n        <a href=\"#\" class=\"chapter-nav-bottom__link chapter-nav-bottom__link--prev\" id=\"prevChapter\">\n          <span class=\"chapter-nav-bottom__arrow\">‚Üê</span>\n          <span class=\"chapter-nav-bottom__label\">Previous</span>\n        </a>\n        <a href=\"#\" class=\"chapter-nav-bottom__link chapter-nav-bottom__link--next\" id=\"nextChapter\">\n          <span class=\"chapter-nav-bottom__label\">Next</span>\n          <span class=\"chapter-nav-bottom__arrow\">‚Üí</span>\n        </a>\n      </nav>\n\n      <!-- PAGE WIDGET (BOTTOM) - REMOVED -->\n      <div style=\"display: none;\">\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">P</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Preface</div>\n                  <div class=\"page-widget__page-note\">Why fundamentals still decide outcomes.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item page-widget__page-item--current\">\n                <span class=\"page-widget__page-number\">1</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 1</div>\n                  <div class=\"page-widget__page-note\">Core principles and constraints.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">2</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 2</div>\n                  <div class=\"page-widget__page-note\">Boundaries, ownership, and interfaces.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">3</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 3</div>\n                  <div class=\"page-widget__page-note\">State, consistency, and failure modes.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">4</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 4</div>\n                  <div class=\"page-widget__page-note\">Abstractions that survive change.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">5</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 5</div>\n                  <div class=\"page-widget__page-note\">Simplicity as an engineering practice.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">6</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 6</div>\n                  <div class=\"page-widget__page-note\">Reliability, observability, and feedback.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">7</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 7</div>\n                  <div class=\"page-widget__page-note\">Delivery systems and decision hygiene.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">8</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 8</div>\n                  <div class=\"page-widget__page-note\">Documentation that stays useful.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">9</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 9</div>\n                  <div class=\"page-widget__page-note\">Testing strategy for predictable change.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">10</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 10</div>\n                  <div class=\"page-widget__page-note\">Pragmatic architecture for teams.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">11</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 11</div>\n                  <div class=\"page-widget__page-note\">Operational excellence without ceremony.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">12</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 12</div>\n                  <div class=\"page-widget__page-note\">Leadership, standards, and leverage.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">13</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 13</div>\n                  <div class=\"page-widget__page-note\">Making fundamentals non-negotiable.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">PS</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Postscript</div>\n                  <div class=\"page-widget__page-note\">A short operating model to carry forward.</div>\n                </div>\n              </a>\n            </li>\n          </ol>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <!-- PAGE WIDGET JS -->\n  <!-- SIDEBAR TOGGLE JS -->\n  <script>\n  (() => {\n    const sidebar = document.getElementById(''sidebar'');\n    const backdrop = document.getElementById(''sidebarBackdrop'');\n    const indicator = document.getElementById(''chapterIndicator'');\n    const icon = document.getElementById(''chapterIndicatorIcon'');\n    const header = document.getElementById(''header'');\n    const main = document.getElementById(''main'');\n    const body = document.body;\n\n    if (!sidebar || !backdrop || !indicator || !icon || !header || !main) return;\n\n    let isOpen = false;\n    let scrollTimeout = null;\n\n    const openSidebar = () => {\n      isOpen = true;\n      sidebar.classList.add(''sidebar--open'');\n      backdrop.classList.add(''sidebar-backdrop--visible'');\n      header.classList.add(''header--shifted'');\n      main.classList.add(''main--shifted'');\n      icon.classList.add(''chapter-number__icon--open'');\n      body.classList.add(''sidebar-open'');\n    };\n\n    const closeSidebar = () => {\n      isOpen = false;\n      sidebar.classList.remove(''sidebar--open'');\n      backdrop.classList.remove(''sidebar-backdrop--visible'');\n      header.classList.remove(''header--shifted'');\n      main.classList.remove(''main--shifted'');\n      icon.classList.remove(''chapter-number__icon--open'');\n      body.classList.remove(''sidebar-open'');\n    };\n\n    // Toggle sidebar\n    indicator.addEventListener(''click'', (e) => {\n      e.stopPropagation();\n      if (isOpen) {\n        closeSidebar();\n      } else {\n        openSidebar();\n      }\n    });\n\n    // Close sidebar when clicking backdrop\n    backdrop.addEventListener(''click'', () => {\n      closeSidebar();\n    });\n\n    // Close sidebar when clicking outside\n    document.addEventListener(''click'', (e) => {\n      // Don''t close sidebar if clicking on brand link or nav links\n      const brandLink = header.querySelector(''.brand'');\n      const isClickOnLink = brandLink && brandLink.contains(e.target);\n      const isClickOnNav = header.querySelector(''.nav'') && header.querySelector(''.nav'').contains(e.target);\n      \n      if (isOpen && !sidebar.contains(e.target) && !indicator.contains(e.target) && !isClickOnLink && !isClickOnNav) {\n        closeSidebar();\n      }\n    });\n\n    // Close sidebar on scroll (debounced)\n    const handleScroll = () => {\n      if (isOpen) {\n        clearTimeout(scrollTimeout);\n        scrollTimeout = setTimeout(() => {\n          closeSidebar();\n        }, 100);\n      }\n    };\n\n    // Listen for scroll on main content\n    window.addEventListener(''scroll'', handleScroll, { passive: true });\n    \n    // Also listen for scroll attempts on body (when scroll is disabled)\n    let lastScrollTop = window.pageYOffset;\n    const handleScrollAttempt = () => {\n      if (isOpen) {\n        const currentScrollTop = window.pageYOffset;\n        if (currentScrollTop !== lastScrollTop) {\n          closeSidebar();\n        }\n        lastScrollTop = currentScrollTop;\n      }\n    };\n\n    // Prevent scroll on body when sidebar is open\n    document.addEventListener(''wheel'', (e) => {\n      if (isOpen && !sidebar.contains(e.target)) {\n        e.preventDefault();\n        closeSidebar();\n      }\n    }, { passive: false });\n\n    // Prevent touch scroll on body when sidebar is open\n    document.addEventListener(''touchmove'', (e) => {\n      if (isOpen && !sidebar.contains(e.target)) {\n        e.preventDefault();\n        closeSidebar();\n      }\n    }, { passive: false });\n  })();\n  </script>\n\n  <!-- CHAPTER NAVIGATION (BOTTOM) JS -->\n  <script>\n  (() => {\n    // Chapter list: Preface = 0, Chapter 1-13 = 1-13, Postscript = 14\n    const chapters = [\n      { id: ''preface'', title: ''Preface'', url: ''https://arvinjaysoncastro.com/working-fundamentals-introduction'' },\n      { id: ''ch1'', title: ''Chapter 1'', url: ''https://arvinjaysoncastro.com/working-fundamentals-1-of-13-programming-fundamentals'' },\n      { id: ''ch2'', title: ''Chapter 2'', url: ''https://arvinjaysoncastro.com/working-fundamentals-2-of-13-data-structures'' },\n      { id: ''ch3'', title: ''Chapter 3'', url: ''https://arvinjaysoncastro.com/working-fundamentals-3-of-13-algorithms-and-complexity'' },\n      { id: ''ch4'', title: ''Chapter 4'', url: ''https://arvinjaysoncastro.com/working-fundamentals-4-of-13-control-and-flow'' },\n      { id: ''ch5'', title: ''Chapter 5'', url: ''https://arvinjaysoncastro.com/working-fundamentals-5-of-13-state-and-change'' },\n      { id: ''ch6'', title: ''Chapter 6'', url: ''https://arvinjaysoncastro.com/working-fundamentals-6-of-13-design-principles'' },\n      { id: ''ch7'', title: ''Chapter 7'', url: ''https://arvinjaysoncastro.com/working-fundamentals-7-of-13-architecture'' },\n      { id: ''ch8'', title: ''Chapter 8'', url: ''https://arvinjaysoncastro.com/working-fundamentals-8-of-13-persistence-and-data-modeling'' },\n      { id: ''ch9'', title: ''Chapter 9'', url: ''https://arvinjaysoncastro.com/working-fundamentals-9-of-13-interfaces-and-apis'' },\n      { id: ''ch10'', title: ''Chapter 10'', url: ''https://arvinjaysoncastro.com/working-fundamentals-10-of-13-errors-and-failure'' },\n      { id: ''ch11'', title: ''Chapter 11'', url: ''https://arvinjaysoncastro.com/working-fundamentals-11-of-13-testing'' },\n      { id: ''ch12'', title: ''Chapter 12'', url: ''https://arvinjaysoncastro.com/working-fundamentals-12-of-13-performance-and-scale'' },\n      { id: ''ch13'', title: ''Chapter 13'', url: ''https://arvinjaysoncastro.com/working-fundamentals-13-of-13-the-developers-role'' },\n      { id: ''postscript'', title: ''Postscript'', url: ''https://arvinjaysoncastro.com/working-fundamentals-outroduction'' }\n    ];\n\n    const currentChapterIndex = 12; // Chapter 1 is index 1 (Preface is 0)\n    const prevLink = document.getElementById(''prevChapter'');\n    const nextLink = document.getElementById(''nextChapter'');\n\n    if (!prevLink || !nextLink) return;\n\n    // Previous chapter\n    if (currentChapterIndex > 0) {\n      const prevChapter = chapters[currentChapterIndex - 1];\n      prevLink.href = prevChapter.url;\n      prevLink.target = ''_blank'';\n      prevLink.innerHTML = `\n        <span class=\"chapter-nav-bottom__arrow\">‚Üê</span>\n        <span class=\"chapter-nav-bottom__label\">Previous: ${prevChapter.title}</span>\n      `;\n    } else {\n      // No previous chapter - show \"go back to book list\"\n      prevLink.href = ''https://arvinjaysoncastro.com/hungry-dev-mind'';\n      prevLink.target = ''_blank'';\n      prevLink.innerHTML = `\n        <span class=\"chapter-nav-bottom__arrow\">‚Üê</span>\n        <span class=\"chapter-nav-bottom__label\">Go back to book list</span>\n      `;\n    }\n\n    // Next chapter\n    if (currentChapterIndex < chapters.length - 1) {\n      const nextChapter = chapters[currentChapterIndex + 1];\n      nextLink.href = nextChapter.url;\n      nextLink.target = ''_blank'';\n      nextLink.innerHTML = `\n        <span class=\"chapter-nav-bottom__label\">Next: ${nextChapter.title}</span>\n        <span class=\"chapter-nav-bottom__arrow\">‚Üí</span>\n      `;\n    } else {\n      // No next chapter - show \"go back to book list\"\n      nextLink.href = ''https://arvinjaysoncastro.com/hungry-dev-mind'';\n      nextLink.target = ''_blank'';\n      nextLink.innerHTML = `\n        <span class=\"chapter-nav-bottom__label\">Go back to book list</span>\n        <span class=\"chapter-nav-bottom__arrow\">‚Üí</span>\n      `;\n    }\n  })();\n  </script>\n\n  <!-- OPTIONAL JS -->\n <script>\n(() => {\n  const wrap = document.querySelector(''.book-wrap'');\n  if (!wrap) return;\n\n  const slab1 = wrap.querySelector(''.shadow-slab'');\n  const slab2 = wrap.querySelector(''.shadow-slab-2'');\n  const slab3 = wrap.querySelector(''.shadow-slab-3'');\n  const slab4 = wrap.querySelector(''.shadow-slab-4'');\n  const front = wrap.querySelector(''.front-slab'');\n\n  const clamp = (v, min, max) => Math.max(min, Math.min(max, v));\n\n  let raf = 0;\n  let lx = 0; // light vector x\n  let ly = 0; // light vector y\n\n  function render() {\n    raf = 0;\n\n    // Shadow direction = opposite of light\n    const sx = -lx;\n    const sy = -ly;\n\n    const intensity = Math.abs(lx) + Math.abs(ly);\n\n    /* ---------------------------\n       SLAB 1 ‚Äî KEY CAST SHADOW\n    ---------------------------- */\n    slab1.style.transform =\n      `translate(${(sx * 38).toFixed(2)}px, ${(sy * 38).toFixed(2)}px)`;\n    slab1.style.filter =\n      `blur(${(14 + intensity * 6).toFixed(2)}px)`;\n    slab1.style.opacity =\n      (0.28 + intensity * 0.14).toFixed(2);\n\n    /* ---------------------------\n       SLAB 2 ‚Äî BOUNCE / COLOR BLEED\n    ---------------------------- */\n    slab2.style.transform =\n      `translate(${(sx * 14).toFixed(2)}px, ${(sy * 14).toFixed(2)}px)`;\n    slab2.style.filter =\n      `blur(${(6 + intensity * 4).toFixed(2)}px)`;\n    slab2.style.opacity =\n      (0.16 + intensity * 0.10).toFixed(2);\n\n    /* ---------------------------\n       SLAB 3 ‚Äî CONTACT SHADOW\n    ---------------------------- */\n    slab3.style.transform =\n      `translate(${(sx * 6).toFixed(2)}px, ${(sy * 6).toFixed(2)}px)`;\n    slab3.style.filter = `blur(9px)`;\n    slab3.style.opacity =\n      (0.24 + Math.abs(lx) * 0.06).toFixed(2);\n\n    /* ---------------------------\n       SLAB 4 ‚Äî AMBIENT DEPTH\n    ---------------------------- */\n    slab4.style.transform =\n      `translate(${(sx * 3).toFixed(2)}px, ${(sy * 3).toFixed(2)}px)`;\n    slab4.style.filter = `blur(18px)`;\n    slab4.style.opacity =\n      (0.16 + Math.abs(ly) * 0.04).toFixed(2);\n\n    /* ---------------------------\n       FRONT SLAB ‚Äî SPECULAR RESPONSE\n       (moves TOWARD light)\n    ---------------------------- */\nif (front) {\n  // Very subtle counter-parallax (NOT toward light)\n  front.style.transform =\n    `translate(${(-lx * 1.6).toFixed(2)}px, ${(-ly * 1.6).toFixed(2)}px)`;\n\n  // Opacity increases when light is grazing\n  front.style.opacity =\n    (0.34 + intensity * 0.22).toFixed(2);\n\n  // Highlight shifts OPPOSITE the light direction\n  const gx = 50 - lx * 28;\n  const gy = 50 - ly * 28;\n  front.style.backgroundPosition = `${gx}% ${gy}%`;\n}\n\n  }\n\n  function onMove(e) {\n    const r = wrap.getBoundingClientRect();\n    const cx = r.left + r.width / 2;\n    const cy = r.top + r.height / 2;\n\n    // LIGHT VECTOR (mouse = light source)\n    lx = clamp((e.clientX - cx) / (r.width / 2), -1, 1);\n    ly = clamp((e.clientY - cy) / (r.height / 2), -1, 1);\n\n    if (!raf) raf = requestAnimationFrame(render);\n  }\n\n  window.addEventListener(''mousemove'', onMove, { passive: true });\n})();\n</script>\n</body>\n</html>\n", "css": "body { font-family: system-ui; padding: 20px; }", "js": "console.log(\"Code Runner initialized\");", "imports": {"css": [], "js": []}, "entryPoint": {"type": "htmlDocument", "mountSelector": "#app", "injectMountIfMissing": true}, "settings": {"mode": "play", "viewport": {"type": "responsive", "background": "white"}, "securityPreset": "trusted", "autoRun": true, "runOnLoad": true}, "codePanel": {"isVisible": false, "isEditable": false}}}]}]}',
    '1.0.0',
    true,
    '88b62d69-6012-47ae-b45b-9ccc5f1dc87c',
    NOW(),
    NOW(),
    'public',
    NULL,
    false,
    NULL,
    'page',
    NULL,
    NULL,
    NULL,
    NULL,
    NULL,
    false,
    0,
    NULL,
    true,
    false,
    NULL,
    NULL,
    '{"id": "block-root", "style": {}, "type": "container", "children": [{"id": "temp-container", "style": {"width": "100vw", "height": "100vh"}, "type": "container", "children": [{"id": "temp-coderunner", "style": {}, "type": "codeRunner", "data": {"html": "<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n  <meta charset=\"UTF-8\" />\n  <title>Working Fundamentals ‚Äî Arvin Jayson Castro</title>\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n\n  <!-- =====================\n       GLOBAL STYLES\n  ====================== -->\n  <style>\n    :root {\n      --bg: #f7f8f8;\n      --ink: #111111;\n      --muted: #666666;\n      --line: rgba(0,0,0,0.08);\n      --accent: #16a34a;\n      --link: #3b82f6;\n      --max-width: 1200px;\n    }\n\n    * {\n      box-sizing: border-box;\n    }\n\n    body {\n      margin: 0;\n      font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, sans-serif;\n      color: var(--ink);\n      background-color: var(--bg);\n      background-image:\n        radial-gradient(980px 560px at 14% 18%, rgba(16,185,129,0.10) 0%, rgba(16,185,129,0) 60%),\n        radial-gradient(860px 540px at 86% 74%, rgba(245,158,11,0.10) 0%, rgba(245,158,11,0) 62%),\n        repeating-linear-gradient(0deg, rgba(0,0,0,0.043) 0, rgba(0,0,0,0.043) 1px, transparent 1px, transparent 46px),\n        repeating-linear-gradient(90deg, rgba(0,0,0,0.043) 0, rgba(0,0,0,0.043) 1px, transparent 1px, transparent 46px);\n      min-height: 100vh;\n    }\n\n    a {\n      color: inherit;\n      text-decoration: none;\n    }\n\n    img {\n      max-width: 100%;\n      display: block;\n    }\n\n    /* =====================\n       PAGE WRAPPER\n    ====================== */\n    .page {\n      padding: 22px 24px;\n    }\n\n    .container {\n      max-width: var(--max-width);\n      margin: 0 auto;\n    }\n\n    /* =====================\n       SIDEBAR BACKDROP\n    ====================== */\n    .sidebar-backdrop {\n      position: fixed;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n      background: rgba(0, 0, 0, 0.2);\n      backdrop-filter: blur(4px);\n      -webkit-backdrop-filter: blur(4px);\n      opacity: 0;\n      visibility: hidden;\n      transition: opacity 0.3s ease, visibility 0.3s ease;\n      z-index: 999;\n      pointer-events: none;\n    }\n\n    .sidebar-backdrop--visible {\n      opacity: 1;\n      visibility: visible;\n      pointer-events: auto;\n    }\n\n    /* =====================\n       SIDEBAR\n    ====================== */\n    .sidebar {\n      position: fixed;\n      top: 0;\n      right: 0;\n      width: 320px;\n      height: 100vh;\n      background: var(--bg);\n      border-left: 1px solid var(--line);\n      transform: translateX(100%);\n      transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n      z-index: 1000;\n      overflow-y: auto;\n      padding: 24px;\n    }\n\n    .sidebar--open {\n      transform: translateX(0);\n    }\n\n    .sidebar__title {\n      font-size: 16px;\n      font-weight: 600;\n      margin-bottom: 24px;\n      color: var(--ink);\n    }\n\n    /* Prevent body scroll when sidebar is open */\n    body.sidebar-open {\n      overflow: hidden;\n    }\n\n    .sidebar__chapter-list {\n      list-style: none;\n      margin: 0;\n      padding: 0;\n    }\n\n    .sidebar__chapter-item {\n      margin: 0 0 8px 0;\n    }\n\n    .sidebar__chapter-link {\n      display: block;\n      font-size: 14px;\n      color: var(--muted);\n      text-decoration: none;\n      padding: 8px 0;\n      transition: color 0.2s ease;\n      line-height: 1.5;\n    }\n\n    .sidebar__chapter-link:hover {\n      color: var(--ink);\n    }\n\n    .sidebar__chapter-link {\n      color: var(--ink);\n      font-weight: 500;\n    }\n\n    /* =====================\n       HEADER (Top bar with chapter indicator)\n    ====================== */\n    .header {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      padding: 10px 0;\n      border-bottom: 1px solid var(--line);\n      position: relative;\n      transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n    }\n\n    .header--shifted {\n      transform: translateX(-320px);\n    }\n\n    .brand {\n      font-size: 16px;\n      font-weight: 600;\n      cursor: pointer;\n      display: inline-block;\n    }\n\n    .nav {\n      display: flex;\n      gap: 24px;\n      align-items: center;\n      font-size: 14px;\n    }\n\n    .nav a {\n      color: #1f2937;\n    }\n\n    .linkedin {\n      display: flex;\n      flex-direction: column;\n      align-items: flex-start;\n    }\n\n    .linkedin a {\n      color: var(--link);\n    }\n\n    .linkedin span {\n      font-family: Georgia, serif;\n      font-size: 9px;\n      font-style: italic;\n      color: #999;\n    }\n\n    /* =====================\n       MAIN GRID\n    ====================== */\n    .main {\n      padding-top: 48px;\n      padding-bottom: 48px;\n      display: flex;\n      justify-content: center;\n      align-items: start;\n    }\n\n    /* =====================\n       CHAPTER READING AREA (Option 1: Magazine-style)\n    ====================== */\n    .chapter-content {\n      max-width: 768px;\n      width: 100%;\n      margin: 0 auto;\n    }\n\n    .chapter-header {\n      margin-bottom: 56px;\n      padding-bottom: 32px;\n      border-bottom: 2px solid var(--line);\n    }\n\n    .book-title {\n      font-size: 12px;\n      letter-spacing: 0.15em;\n      text-transform: uppercase;\n      color: var(--muted);\n      font-weight: 500;\n      margin-bottom: 8px;\n      opacity: 0.7;\n    }\n\n    .chapter-number {\n      font-size: 13px;\n      letter-spacing: 0.2em;\n      text-transform: uppercase;\n      color: var(--muted);\n      font-weight: 600;\n      margin-bottom: 12px;\n      display: flex;\n      align-items: center;\n      gap: 8px;\n      cursor: pointer;\n      user-select: none;\n      transition: color 0.2s ease;\n    }\n\n    .chapter-number:hover {\n      color: var(--ink);\n    }\n\n    .chapter-number__icon {\n      font-size: 10px;\n      opacity: 0.6;\n      transition: transform 0.3s ease, opacity 0.2s ease;\n    }\n\n    .chapter-number:hover .chapter-number__icon {\n      opacity: 0.8;\n    }\n\n    .chapter-number__icon--open {\n      transform: rotate(180deg);\n    }\n\n    .chapter-title {\n      font-size: 56px;\n      font-weight: 900;\n      line-height: 1.05;\n      margin: 0 0 20px 0;\n      color: var(--ink);\n      letter-spacing: -0.03em;\n    }\n\n    .chapter-subtitle {\n      font-size: 22px;\n      font-weight: 500;\n      color: var(--muted);\n      line-height: 1.4;\n      margin: 0;\n    }\n\n    .chapter-body {\n      font-size: 19px;\n      line-height: 1.8;\n      color: var(--ink);\n      max-width: none;\n      font-weight: 400;\n    }\n\n    .chapter-body p {\n      margin: 0 0 28px 0;\n    }\n\n    .chapter-body p:last-child {\n      margin-bottom: 0;\n    }\n\n    .chapter-body h2 {\n      font-size: 36px;\n      font-weight: 800;\n      line-height: 1.2;\n      margin: 56px 0 24px 0;\n      color: var(--ink);\n      letter-spacing: -0.02em;\n    }\n\n    .chapter-body h3 {\n      font-size: 26px;\n      font-weight: 700;\n      line-height: 1.3;\n      margin: 40px 0 18px 0;\n      color: var(--ink);\n      letter-spacing: -0.01em;\n    }\n\n    .chapter-body strong {\n      font-weight: 600;\n      color: var(--ink);\n    }\n\n    .chapter-body em {\n      font-style: italic;\n    }\n\n    .chapter-body ul,\n    .chapter-body ol {\n      margin: 28px 0;\n      padding-left: 36px;\n    }\n\n    .chapter-body li {\n      margin-bottom: 14px;\n      line-height: 1.75;\n    }\n\n    .chapter-body blockquote {\n      margin: 40px 0;\n      padding-left: 28px;\n      border-left: 4px solid var(--accent);\n      font-style: italic;\n      color: var(--muted);\n      font-size: 18px;\n      line-height: 1.7;\n    }\n\n    .chapter-body code {\n      font-family: ''Monaco'', ''Menlo'', ''Courier New'', monospace;\n      font-size: 0.9em;\n      background: rgba(0,0,0,0.04);\n      padding: 2px 6px;\n      border-radius: 3px;\n    }\n\n    .chapter-body pre {\n      background: rgba(0,0,0,0.04);\n      padding: 20px;\n      border-radius: 8px;\n      overflow-x: auto;\n      margin: 24px 0;\n    }\n\n    .chapter-body pre code {\n      background: none;\n      padding: 0;\n    }\n\n    /* Content shift when sidebar opens */\n    .main {\n      transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n    }\n\n    .main--shifted {\n      transform: translateX(-320px);\n    }\n\n    /* Prevent horizontal scroll */\n    body {\n      overflow-x: hidden;\n    }\n\n    .page {\n      overflow-x: hidden;\n    }\n\n    /* =====================\n       CHAPTER NAVIGATION (BOTTOM)\n    ====================== */\n    .chapter-nav-bottom {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      max-width: 768px;\n      width: 100%;\n      margin: 64px auto 0 auto;\n      padding: 24px 0;\n      border-top: 1px solid var(--line);\n    }\n\n    .chapter-nav-bottom__link {\n      display: flex;\n      align-items: center;\n      gap: 8px;\n      font-size: 14px;\n      color: var(--muted);\n      text-decoration: none;\n      transition: color 0.2s ease;\n      padding: 8px 0;\n    }\n\n    .chapter-nav-bottom__link:hover {\n      color: var(--ink);\n    }\n\n    .chapter-nav-bottom__arrow {\n      font-size: 16px;\n      opacity: 0.7;\n    }\n\n    .chapter-nav-bottom__label {\n      font-weight: 500;\n    }\n\n    .chapter-nav-bottom__link--prev {\n      margin-right: auto;\n    }\n\n    .chapter-nav-bottom__link--next {\n      margin-left: auto;\n    }\n\n    .chapter-nav-bottom__link--disabled {\n      opacity: 0.4;\n      cursor: not-allowed;\n      pointer-events: none;\n    }\n\n    .page-widget__pages {\n      max-height: 0;\n      overflow: hidden;\n      transition: max-height 0.4s cubic-bezier(0.4, 0, 0.2, 1),\n                  opacity 0.3s ease,\n                  margin-top 0.3s ease;\n      opacity: 0;\n      margin-top: 0;\n      background: rgba(255, 255, 255, 0.98);\n      backdrop-filter: blur(12px);\n      -webkit-backdrop-filter: blur(12px);\n      border: 1px solid rgba(0, 0, 0, 0.06);\n      border-radius: 12px;\n      box-shadow: 0 2px 12px rgba(0, 0, 0, 0.06);\n    }\n\n    .page-widget__pages--expanded {\n      max-height: 500px;\n      opacity: 1;\n      margin-top: 12px;\n      padding: 8px;\n    }\n\n    .page-widget__pages-list {\n      list-style: none;\n      margin: 0;\n      padding: 0;\n      display: flex;\n      flex-direction: column;\n      gap: 8px;\n      max-height: 400px;\n      overflow-y: auto;\n      padding-right: 4px;\n    }\n\n    .page-widget__pages-list::-webkit-scrollbar {\n      width: 6px;\n    }\n\n    .page-widget__pages-list::-webkit-scrollbar-track {\n      background: rgba(0, 0, 0, 0.02);\n      border-radius: 3px;\n    }\n\n    .page-widget__pages-list::-webkit-scrollbar-thumb {\n      background: rgba(0, 0, 0, 0.12);\n      border-radius: 3px;\n    }\n\n    .page-widget__pages-list::-webkit-scrollbar-thumb:hover {\n      background: rgba(0, 0, 0, 0.2);\n    }\n\n    .page-widget__page-item {\n      display: flex;\n      align-items: center;\n      gap: 10px;\n      padding: 8px 10px;\n      border-radius: 8px;\n      cursor: pointer;\n      transition: all 0.2s ease;\n      text-decoration: none;\n      color: var(--ink);\n    }\n\n    .page-widget__page-item:hover {\n      background: rgba(0, 0, 0, 0.03);\n      transform: translateX(2px);\n    }\n\n    .page-widget__page-item--current {\n      background: rgba(22, 163, 74, 0.08);\n      color: var(--accent);\n      font-weight: 500;\n    }\n\n    .page-widget__page-item--current:hover {\n      background: rgba(22, 163, 74, 0.12);\n    }\n\n    .page-widget__page-number {\n      display: inline-flex;\n      align-items: center;\n      justify-content: center;\n      width: 24px;\n      height: 24px;\n      background: rgba(0, 0, 0, 0.04);\n      border-radius: 5px;\n      font-size: 11px;\n      font-weight: 500;\n      flex-shrink: 0;\n      color: var(--muted);\n    }\n\n    .page-widget__page-item--current .page-widget__page-number {\n      background: rgba(22, 163, 74, 0.15);\n      color: var(--accent);\n    }\n\n    .page-widget__page-info {\n      flex: 1;\n      min-width: 0;\n    }\n\n    .page-widget__page-name {\n      font-size: 13px;\n      font-weight: 500;\n      line-height: 1.3;\n      margin: 0 0 2px 0;\n    }\n\n    .page-widget__page-note {\n      font-size: 11px;\n      color: var(--muted);\n      line-height: 1.3;\n      margin: 0;\n      white-space: nowrap;\n      overflow: hidden;\n      text-overflow: ellipsis;\n    }\n\n    @media (max-width: 768px) {\n      .page-widget__pages-list {\n        max-height: 300px;\n      }\n    }\n\n\n/* ===============================\n   WRAPPER\n================================ */\n.book-wrap {\n  width: 320px;\n  aspect-ratio: 2 / 3;\n  position: relative;\n}\n\n/* ===============================\n   CAST SHADOW SLAB (REAL SHADOW)\n================================ */\n.shadow-slab {\n    position: absolute;\n    position: absolute;\n    inset: 0;\n    border-radius: 22px;\n    /* background: #2a2a2a; */\n    transform: translate(-30px, 30px);\n    filter: blur(13px);\n    opacity: 0.35;\n    z-index: 0;\n    background: radial-gradient(ellipse at 15% 85%, rgba(0, 0, 0, 0.35), rgba(0, 0, 0, 0.18) 35%, transparent 65%), linear-gradient(to right, #1f1f1f 0%, #2a2a2a 45%, #3a3a3a 100%);\n}\n\n.shadow-slab-2 {\n    position: absolute;\n    inset: 0;\n    border-radius: 22px;\n    background: radial-gradient(circle at top right, #f6e6a8 0%, #e2c36b 35%, #b58a3c 70%, #7a5524 100%);\n    transform: translate(-10px, 10px);\n    filter: blur(5px);\n    opacity: 0.35;\n    z-index: 0;\n}\n\n.shadow-slab-3 {\n    position: absolute;\n    inset: 0;\n    border-radius: 22px;\n    background: #333;\n    transform: translate(0px, 0px);\n    filter: blur(11px);\n    opacity: 0.35;\n    z-index: 0;\n}\n\n.shadow-slab-4 {\n    position: absolute;\n    inset: 0;\n    border-radius: 22px;\n    background: #333;\n    transform: translate(0px, 0px);\n    filter: blur(11px);\n    opacity: 0.35;\n    z-index: 0;\n}\n\n/* ===============================\n   FRONT SLAB & SPIN HANDLE\n================================ */\n\n.front-slab {\n    position: absolute;\n    inset: 0;\n    border-radius: 22px;\n    background: linear-gradient(to right, rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.1) 3%, transparent 1%);\n    /* background: green; */\n    z-index: 3;\n    opacity: .5;\n    transform: translateZ(6px);\n    pointer-events: none;\n}\n\n.spin-handle {\n  display: none;\n  position: absolute;\n  top: 50%;\n  right: -22px;\n  width: 14px;\n  height: 48px;\n  border-radius: 999px;\n  background: rgba(0,0,0,0.25);\n  backdrop-filter: blur(4px);\n  cursor: grab;\n  z-index: 10;\n}\n\n/* ===============================\n   BOOK OBJECT (NO SHADOW)\n================================ */\n.book {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  border-radius: 22px;\n  overflow: hidden;\n  z-index: 2;\n\n  /* IMPORTANT: no box-shadow */\n  box-shadow: none;\n\n  /* transform: perspective(1200px) rotateX(0.6deg); */\n}\n\n/* ===============================\n   PAPER SURFACE (LIGHT FIELD)\n================================ */\n.book .surface {\n  position: absolute;\n  inset: 0;\n  border-radius: inherit;\n  pointer-events: none;\n  z-index: 1;\n\n  background:\n    linear-gradient(\n      to bottom left,\n      rgba(255,255,255,1) 0%,\n      rgba(250,250,250,1) 42%,\n      rgba(240,240,240,1) 100%\n    ),\n    repeating-linear-gradient(\n      0deg,\n      rgba(0,0,0,0.01),\n      rgba(0,0,0,0.01) 1px,\n      transparent 1px,\n      transparent 3px\n    );\n}\n\n/* ===============================\n   LEFT OCCLUSION (CURTAIN)\n================================ */\n.book .curtain {\n  position: absolute;\n  inset: 0;\n  border-radius: inherit;\n  pointer-events: none;\n  z-index: 2;\n\n  background:\n    linear-gradient(\n      to right,\n      rgba(0,0,0,0.20) 0%,\n      rgba(0,0,0,0.12) 8%,\n      rgba(0,0,0,0.05) 16%,\n      rgba(0,0,0,0.02) 22%,\n      rgba(0,0,0,0.00) 30%\n    );\n}\n\n/* ===============================\n   RIGHT HIGHLIGHT\n================================ */\n.book .highlight {\n  position: absolute;\n  inset: 0;\n  border-radius: inherit;\n  pointer-events: none;\n  z-index: 3;\n\n  background:\n    linear-gradient(\n      to left,\n      rgba(255,255,255,0.35) 0%,\n      rgba(255,255,255,0.18) 6%,\n      rgba(255,255,255,0.06) 14%,\n      rgba(255,255,255,0.00) 24%\n    );\n}\n\n/* ===============================\n   PAGE EDGE (THICKNESS)\n================================ */\n.book .edge {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 120px;\n  height: 100%;\n  border-radius: 22px 0 0 22px;\n  pointer-events: none;\n  z-index: 4;\n\n  background:\n    linear-gradient(\n      to right,\n      rgba(215,215,215,0.95) 0%,\n      rgba(245,245,245,0.95) 40%,\n      rgba(255,255,255,0.95) 75%\n    );\n\n  box-shadow:\n    inset -1px 0 0 rgba(0,0,0,0.05);\n}\n\n/* ===============================\n   SVG (PURE WHITE)\n================================ */\n.book svg {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  display: block;\n  z-index: 5;\n}\n\n    /* =====================\n       LEFT: BOOK COVER\n    ====================== */\n    .book-cover {\n      display: flex;\n      flex-direction: column;\n      gap: 12px;\n    }\n\n\n    /* ===============================\n       BOOK + SHADOW SYSTEM\n    =============================== */\n    .book-wrap {\n      width: 320px;\n      aspect-ratio: 2 / 3;\n      position: relative;\n    }\n\n    .shadow-slab,\n    .shadow-slab-2,\n    .shadow-slab-3,\n    .shadow-slab-4 {\n      position: absolute;\n      inset: 0;\n      border-radius: 22px;\n      z-index: 0;\n      will-change: transform, filter, opacity;\n    }\n\n    .shadow-slab {\n      background:\n        radial-gradient(ellipse at 15% 85%, rgba(0,0,0,0.35), rgba(0,0,0,0.18) 35%, transparent 65%),\n        linear-gradient(to right, #1f1f1f 0%, #2a2a2a 45%, #3a3a3a 100%);\n      filter: blur(13px);\n      opacity: 0.35;\n    }\n\n    .shadow-slab-2 {\n      background: radial-gradient(circle at top right, #f6e6a8 0%, #e2c36b 35%, #b58a3c 70%, #7a5524 100%);\n      filter: blur(6px);\n      opacity: 0.30;\n    }\n\n    .shadow-slab-3,\n    .shadow-slab-4 {\n      background: #333;\n      filter: blur(11px);\n      opacity: 0.30;\n    }\n\n    .book {\n      position: relative;\n      width: 100%;\n      height: 100%;\n      border-radius: 22px;\n      overflow: hidden;\n      z-index: 2;\n      background: #f7f4ee;\n    }\n\n    .front-slab {\n      position: absolute;\n      inset: 0;\n      border-radius: 22px;\n      background: linear-gradient(to right, rgba(0,0,0,0.4), rgba(0,0,0,0.1) 3%, transparent 10%);\n      z-index: 3;\n      pointer-events: none;\n      opacity: 0.5;\n    }\n\n\n    @media (prefers-reduced-motion: reduce) {\n      .cover-frame {\n        transition: none;\n        transform: none;\n      }\n      .cover-frame:hover {\n        --lift: 0;\n      }\n    }\n\n    .start-reading {\n      display: inline-flex;\n      align-items: center;\n      justify-content: center;\n      width: 100%;\n      padding: 12px 14px;\n      border-radius: 999px;\n\n      font-size: 11px;\n      letter-spacing: 0.16em;\n      text-transform: uppercase;\n      font-weight: 650;\n      color: rgba(34,197,94,0.92);\n      text-shadow:\n        0 0 10px rgba(34,197,94,0.22),\n        0 0 22px rgba(34,197,94,0.14);\n\n      /* graphite: dark + slightly mineral */\n      background:\n        radial-gradient(120% 140% at 20% 10%, rgba(255,255,255,0.10) 0%, rgba(255,255,255,0.00) 55%),\n        radial-gradient(140% 140% at 80% 90%, rgba(255,255,255,0.06) 0%, rgba(255,255,255,0.00) 60%),\n        linear-gradient(180deg, #141414 0%, #0a0a0a 100%);\n      border: 1px solid rgba(255,255,255,0.10);\n      box-shadow:\n        0 14px 34px rgba(0,0,0,0.22),\n        0 8px 16px rgba(0,0,0,0.18),\n        inset 0 1px 0 rgba(255,255,255,0.10),\n        inset 0 -1px 0 rgba(0,0,0,0.55);\n\n      position: relative;\n      overflow: hidden;\n      cursor: pointer;\n      user-select: none;\n      -webkit-tap-highlight-color: transparent;\n\n      transition:\n        transform 160ms cubic-bezier(0.2, 0.8, 0.2, 1),\n        box-shadow 160ms cubic-bezier(0.2, 0.8, 0.2, 1),\n        border-color 160ms cubic-bezier(0.2, 0.8, 0.2, 1);\n    }\n\n    .start-reading::before {\n      content: \"\";\n      position: absolute;\n      inset: 0;\n      pointer-events: none;\n      /* texture + sheen (very subtle) */\n      background:\n        linear-gradient(120deg, rgba(255,255,255,0.12) 0%, rgba(255,255,255,0.00) 46%),\n        repeating-linear-gradient(0deg,\n          rgba(255,255,255,0.028) 0px,\n          rgba(255,255,255,0.028) 1px,\n          rgba(0,0,0,0.00) 3px,\n          rgba(0,0,0,0.00) 6px),\n        radial-gradient(120% 90% at 50% 0%, rgba(34,197,94,0.14) 0%, rgba(34,197,94,0.00) 62%);\n      opacity: 0.75;\n    }\n\n    .start-reading:hover {\n      transform: translateY(-1px);\n      border-color: rgba(34,197,94,0.30);\n      box-shadow:\n        0 18px 42px rgba(0,0,0,0.24),\n        0 10px 18px rgba(0,0,0,0.18),\n        inset 0 1px 0 rgba(255,255,255,0.12),\n        inset 0 -1px 0 rgba(0,0,0,0.55);\n      text-shadow:\n        0 0 12px rgba(34,197,94,0.28),\n        0 0 26px rgba(34,197,94,0.18);\n    }\n\n    .start-reading:active {\n      transform: translateY(0px);\n      box-shadow:\n        0 14px 34px rgba(0,0,0,0.22),\n        0 8px 16px rgba(0,0,0,0.18),\n        inset 0 1px 0 rgba(255,255,255,0.10),\n        inset 0 -1px 0 rgba(0,0,0,0.55);\n    }\n\n    .start-reading:focus-visible {\n      outline: none;\n      box-shadow:\n        0 18px 42px rgba(0,0,0,0.24),\n        0 0 0 4px rgba(34,197,94,0.22),\n        0 0 0 1px rgba(34,197,94,0.26),\n        inset 0 1px 0 rgba(255,255,255,0.12),\n        inset 0 -1px 0 rgba(0,0,0,0.55);\n      border-color: rgba(34,197,94,0.34);\n    }\n\n    @media (prefers-reduced-motion: reduce) {\n      .start-reading {\n        transition: none;\n      }\n      .start-reading:hover {\n        transform: none;\n      }\n    }\n\n    /* =====================\n       CENTER: CONTENT\n    ====================== */\n    .content h1 {\n      font-size: 40px;\n      font-weight: 800;\n      line-height: 1.15;\n      margin: 0;\n    }\n\n    .byline {\n      font-size: 13px;\n      letter-spacing: 0.12em;\n      color: #666;\n      font-weight: 600;\n    }\n\n    .tagline {\n      font-size: 18px;\n      font-weight: 500;\n      color: #333;\n    }\n\n    .paragraph {\n      font-size: 15px;\n      color: #222;\n    }\n\n    .meta {\n      margin-top: 20px;\n      padding-top: 20px;\n      border-top: 1px solid var(--line);\n      display: grid;\n      grid-template-columns: repeat(2, 1fr);\n      gap: 12px 24px;\n      font-size: 13px;\n    }\n\n    .author {\n      margin-top: 20px;\n      padding-top: 20px;\n      border-top: 1px solid var(--line);\n      display: flex;\n      gap: 16px;\n      align-items: flex-start;\n    }\n\n    .author img {\n      width: 44px;\n      height: 44px;\n      border-radius: 50%;\n    }\n\n    /* =====================\n       RIGHT: RELATED\n    ====================== */\n    .related {\n      display: flex;\n      flex-direction: column;\n      gap: 20px;\n    }\n\n    .related-title {\n      font-size: 11px;\n      letter-spacing: 0.14em;\n      color: #666;\n      text-transform: uppercase;\n      font-weight: 600;\n    }\n\n    .related-item {\n      display: flex;\n      flex-direction: column;\n      gap: 6px;\n      cursor: pointer;\n      transition: transform 0.12s ease, box-shadow 0.12s ease;\n    }\n\n    .related-item:hover {\n      transform: translateY(-2px);\n    }\n\n    .related-thumb {\n      border-radius: 6px;\n      overflow: hidden;\n      aspect-ratio: 3 / 4;\n      box-shadow: 0 8px 24px rgba(0,0,0,0.1);\n\n      /* Gray placeholder shape */\n      background: linear-gradient(135deg, #e5e7eb 0%, #d1d5db 45%, #cbd5e1 100%);\n      border: 1px solid rgba(0,0,0,0.06);\n    }\n\n    .related-thumb img {\n      width: 100%;\n      height: 100%;\n      object-fit: cover;\n      filter: grayscale(1);\n      opacity: 0.85;\n      transition: filter 160ms ease, opacity 160ms ease;\n    }\n\n    .related-thumb .thumb-placeholder {\n      width: 100%;\n      height: 100%;\n      display: block;\n    }\n\n    .related-item a {\n      font-size: 12px;\n      font-weight: 600;\n      color: #111;\n    }\n\n    /* =====================\n       RIGHT: 13 CHAPTERS\n    ====================== */\n    .chapters {\n      display: flex;\n      flex-direction: column;\n      gap: 10px;\n    }\n\n    .chapters-title {\n      font-size: 11px;\n      letter-spacing: 0.12em;\n      color: rgba(17,17,17,0.52);\n      text-transform: uppercase;\n      font-weight: 600;\n    }\n\n    .chapters-help {\n      margin-top: -4px;\n      font-size: 11px;\n      line-height: 1.35;\n      color: rgba(17,17,17,0.42);\n    }\n\n    .chapter-list {\n      list-style: none;\n      padding: 0;\n      margin: 0;\n      display: flex;\n      flex-direction: column;\n      gap: 0;\n      border-top: 1px solid rgba(0,0,0,0.06);\n    }\n\n    .chapter-item {\n      display: grid;\n      grid-template-columns: 3ch 1fr;\n      gap: 12px;\n      align-items: start;\n      padding: 10px 0;\n      border-bottom: 1px solid rgba(0,0,0,0.06);\n    }\n\n    .chapter-item--preface .chapter-name {\n      font-weight: 760;\n      letter-spacing: -0.01em;\n      color: rgba(17,17,17,0.90);\n    }\n\n    .chapter-item--current .chapter-name {\n      color: rgba(17,17,17,0.92);\n      text-decoration: underline;\n      text-decoration-thickness: 1px;\n      text-underline-offset: 3px;\n      text-decoration-color: rgba(17,17,17,0.22);\n    }\n\n    .chapter-num {\n      width: auto;\n      height: auto;\n      border-radius: 0;\n      display: block;\n      text-align: right;\n      font-size: 11px;\n      font-weight: 650;\n      color: rgba(17,17,17,0.46);\n      font-variant-numeric: tabular-nums;\n    }\n\n    .chapter-name {\n      font-size: 12px;\n      font-weight: 600;\n      color: rgba(17,17,17,0.80);\n      line-height: 1.3;\n    }\n\n    .chapter-note {\n      margin-top: 2px;\n      font-size: 11px;\n      color: rgba(17,17,17,0.46);\n      line-height: 1.4;\n    }\n\n    /* =====================\n       RESPONSIVE\n    ====================== */\n    @media (max-width: 900px) {\n      .chapter-content {\n        max-width: 100%;\n        padding: 0 24px;\n      }\n\n      .page-widget {\n        max-width: 100%;\n        margin-left: 24px;\n        margin-right: 24px;\n      }\n\n      .chapter-title {\n        font-size: 42px;\n      }\n\n      .chapter-body {\n        font-size: 18px;\n      }\n\n      .chapter-body h2 {\n        font-size: 32px;\n      }\n\n      .chapter-body h3 {\n        font-size: 24px;\n      }\n    }\n\n    @media (max-width: 768px) {\n      .header {\n        flex-direction: column;\n        gap: 12px;\n      }\n\n      .chapter-content {\n        padding: 0 16px;\n      }\n\n      .page-widget {\n        margin-left: 16px;\n        margin-right: 16px;\n      }\n\n      .chapter-title {\n        font-size: 38px;\n      }\n\n      .chapter-body {\n        font-size: 17px;\n      }\n\n      .chapter-body h2 {\n        font-size: 30px;\n      }\n\n      .chapter-body h3 {\n        font-size: 22px;\n      }\n    }\n  </style>\n</head>\n\n<body>\n  <div class=\"page\">\n    <div class=\"container\">\n\n      <!-- SIDEBAR BACKDROP -->\n      <div class=\"sidebar-backdrop\" id=\"sidebarBackdrop\"></div>\n\n      <!-- SIDEBAR -->\n      <aside class=\"sidebar\" id=\"sidebar\">\n        <div class=\"sidebar__title\">Working Fundamentals</div>\n        <ul class=\"sidebar__chapter-list\">\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-introduction\" class=\"sidebar__chapter-link\" target=\"_blank\">Introduction</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-1-of-13-programming-fundamentals\" class=\"sidebar__chapter-link sidebar__chapter-link\" target=\"_blank\">Chapter 1 ¬∑ Programming Fundamentals</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-2-of-13-data-structures\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 2 ¬∑ Data Structures</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-3-of-13-algorithms-and-complexity\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 3 ¬∑ Algorithms & Complexity</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-4-of-13-control-and-flow\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 4 ¬∑ Control & Flow</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-5-of-13-state-and-change\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 5 ¬∑ State & Change</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-6-of-13-design-principles\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 6 ¬∑ Design Principles</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-7-of-13-architecture\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 7 ¬∑ Architecture</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-8-of-13-persistence-and-data-modeling\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 8 ¬∑ Persistence & Data Modeling</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-9-of-13-interfaces-and-apis\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 9 ¬∑ Interfaces & APIs</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-10-of-13-errors-and-failure\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 10 ¬∑ Errors & Failure</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-11-of-13-testing\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 11 ¬∑ Testing</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"#\" class=\"sidebar__chapter-link\"> class=\"sidebar__chapter-link sidebar__chapter-link--current\">Chapter 12 ¬∑ Performance\\ \\&\\ Scale</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-13-of-13-the-developers-role\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 13 ¬∑ The Developer''s Role</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-outroduction\" class=\"sidebar__chapter-link\" target=\"_blank\">Outroduction</a>\n          </li>\n        </ul>\n      </aside>\n\n      <!-- HEADER -->\n      <header class=\"header\" id=\"header\">\n        <a href=\"https://arvinjaysoncastro.com/\" class=\"brand\" target=\"_blank\">Arvin Jayson Castro</a>\n        <nav class=\"nav\">\n          <a href=\"https://arvinjaysoncastro.com/hungry-dev-mind\" target=\"_blank\">Books</a>\n          <a href=\"https://arvinjaysoncastro.com/working-systems\" target=\"_blank\">Working Systems</a>\n          <a href=\"https://arvinjaysoncastro.com/about\" target=\"_blank\">16 Years</a>\n          <div class=\"linkedin\">\n            <a href=\"https://www.linkedin.com/in/arvin-jayson-castro-7458199a/\" target=\"_blank\">linkedIn</a>\n            <span>let''s connect</span>\n          </div>\n        </nav>\n      </header>\n\n      <!-- PAGE WIDGET (TOP) - REMOVED -->\n      <div style=\"display: none;\">\n          <ol class=\"page-widget__pages-list\">\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">P</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Preface</div>\n                  <div class=\"page-widget__page-note\">Why fundamentals still decide outcomes.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item page-widget__page-item--current\">\n                <span class=\"page-widget__page-number\">1</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 1</div>\n                  <div class=\"page-widget__page-note\">Core principles and constraints.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">2</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 2</div>\n                  <div class=\"page-widget__page-note\">Boundaries, ownership, and interfaces.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">3</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 3</div>\n                  <div class=\"page-widget__page-note\">State, consistency, and failure modes.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">4</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 4</div>\n                  <div class=\"page-widget__page-note\">Abstractions that survive change.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">5</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 5</div>\n                  <div class=\"page-widget__page-note\">Simplicity as an engineering practice.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">6</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 6</div>\n                  <div class=\"page-widget__page-note\">Reliability, observability, and feedback.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">7</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 7</div>\n                  <div class=\"page-widget__page-note\">Delivery systems and decision hygiene.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">8</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 8</div>\n                  <div class=\"page-widget__page-note\">Documentation that stays useful.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">9</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 9</div>\n                  <div class=\"page-widget__page-note\">Testing strategy for predictable change.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">10</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 10</div>\n                  <div class=\"page-widget__page-note\">Pragmatic architecture for teams.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">11</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 11</div>\n                  <div class=\"page-widget__page-note\">Operational excellence without ceremony.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">12</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 12</div>\n                  <div class=\"page-widget__page-note\">Leadership, standards, and leverage.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">13</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 13</div>\n                  <div class=\"page-widget__page-note\">Making fundamentals non-negotiable.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">PS</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Postscript</div>\n                  <div class=\"page-widget__page-note\">A short operating model to carry forward.</div>\n                </div>\n              </a>\n            </li>\n          </ol>\n        </div>\n      </div>\n\n      <!-- MAIN -->\n      <main class=\"main\" id=\"main\">\n\n        <!-- CHAPTER CONTENT (Option 1: Magazine-style) -->\n        <article class=\"chapter-content\">\n          <header class=\"chapter-header\">\n            <div class=\"book-title\">Working Fundamentals</div>\n            <div class=\"chapter-number\" id=\"chapterIndicator\">\n              <span>chapter 12 of 13</span>\n              <span class=\"chapter-number__icon\" id=\"chapterIndicatorIcon\">‚ñæ</span>\n            </div>\n            <h1 class=\"chapter-title\">Performance & Scale</h1>\n            <p class=\"chapter-subtitle\">Pressure reveals structure</p>\n          </header>\n\n          <div class=\"chapter-body\">\n            <h3>What this chapter is</h3>\n\n            <p>This chapter is not about micro-optimizations.It is not about benchmarks.It is not about clever tricks.</p>\n\n            <p>This chapter is about <strong>stress</strong>.</p>\n\n            <p>Performance problems do not appear randomly.They surface when a system is asked to do more than it was designed to do.</p>\n\n            <h2>The core truth</h2>\n\n            <p>Scale does not create problems.It <strong>reveals them</strong>.</p>\n\n            <p>What works at small scale can fail quietly.What works at large scale must be structurally sound.</p>\n\n            <p>üß† <strong>Mental Model</strong>Performance is architecture asking for attention.</p>\n\n            <h2>Why performance surprises people</h2>\n\n            <p>Most developers test systems under ideal conditions:</p>\n\n            <ul>\n\n            <li>small data</li>\n\n            </ul>\n\n            <ul>\n\n            <li>single users</li>\n\n            </ul>\n\n            <ul>\n\n            <li>sequential execution</li>\n\n            </ul>\n\n            <ul>\n\n            <li>predictable inputs</li>\n\n            </ul>\n\n            <p>Real systems face:</p>\n\n            <ul>\n\n            <li>concurrency</li>\n\n            </ul>\n\n            <ul>\n\n            <li>uneven load</li>\n\n            </ul>\n\n            <ul>\n\n            <li>partial failure</li>\n\n            </ul>\n\n            <ul>\n\n            <li>long lifetimes</li>\n\n            </ul>\n\n            <p>The surprise is not that systems slow down.The surprise is that assumptions were never questioned.</p>\n\n            <h2>Performance is about growth, not speed</h2>\n\n            <p>Speed answers:</p>\n\n            <blockquote>‚ÄúHow fast is this now?‚Äù</blockquote>\n\n            <p>Performance answers:</p>\n\n            <blockquote>‚ÄúWhat happens when this grows?‚Äù</blockquote>\n\n            <p>Growth happens in:</p>\n\n            <ul>\n\n            <li>users</li>\n\n            </ul>\n\n            <ul>\n\n            <li>data volume</li>\n\n            </ul>\n\n            <ul>\n\n            <li>requests</li>\n\n            </ul>\n\n            <ul>\n\n            <li>time</li>\n\n            </ul>\n\n            <ul>\n\n            <li>complexity</li>\n\n            </ul>\n\n            <p>üß† <strong>Perspective</strong>A fast system that collapses under growth is not performant.</p>\n\n            <h2>Bottlenecks reveal intent</h2>\n\n            <p>Every system has bottlenecks.</p>\n\n            <p>Bottlenecks tell you:</p>\n\n            <ul>\n\n            <li>where work concentrates</li>\n\n            </ul>\n\n            <ul>\n\n            <li>where structure is weak</li>\n\n            </ul>\n\n            <ul>\n\n            <li>where assumptions break</li>\n\n            </ul>\n\n            <p>Chasing bottlenecks blindly creates churn.Understanding them creates clarity.</p>\n\n            <p>üß† <strong>Architect‚Äôs Note</strong>Bottlenecks are messages, not enemies.</p>\n\n            <h2>Measure before reacting</h2>\n\n            <p>Without measurement:</p>\n\n            <ul>\n\n            <li>intuition lies</li>\n\n            </ul>\n\n            <ul>\n\n            <li>effort is wasted</li>\n\n            </ul>\n\n            <ul>\n\n            <li>fixes misfire</li>\n\n            </ul>\n\n            <p>Guessing performance problems often:</p>\n\n            <ul>\n\n            <li>optimizes the wrong thing</li>\n\n            </ul>\n\n            <ul>\n\n            <li>hides the real issue</li>\n\n            </ul>\n\n            <ul>\n\n            <li>introduces new failures</li>\n\n            </ul>\n\n            <p>Measure first.Then decide.</p>\n\n            <h2>Caching is a promise, not a shortcut</h2>\n\n            <p>Caching trades:</p>\n\n            <ul>\n\n            <li>freshness for speed</li>\n\n            </ul>\n\n            <ul>\n\n            <li>consistency for performance</li>\n\n            </ul>\n\n            <ul>\n\n            <li>simplicity for complexity</li>\n\n            </ul>\n\n            <p>Every cache must answer:</p>\n\n            <ul>\n\n            <li>when is data stale?</li>\n\n            </ul>\n\n            <ul>\n\n            <li>who invalidates it?</li>\n\n            </ul>\n\n            <ul>\n\n            <li>what happens when it‚Äôs wrong?</li>\n\n            </ul>\n\n            <p>üß† <strong>Mental Model</strong>A cache is an agreement with time.</p>\n\n            <p>Break that agreement, and bugs follow.</p>\n\n            <h2>Concurrency exposes state</h2>\n\n            <p>Concurrency does not cause bugs.It <strong>reveals unsafe state</strong>.</p>\n\n            <p>When multiple things happen at once:</p>\n\n            <ul>\n\n            <li>shared state leaks</li>\n\n            </ul>\n\n            <ul>\n\n            <li>assumptions break</li>\n\n            </ul>\n\n            <ul>\n\n            <li>race conditions appear</li>\n\n            </ul>\n\n            <p>üß† <strong>Perspective</strong>If concurrency breaks your system, state was already fragile.</p>\n\n            <h2>Performance and persistence</h2>\n\n            <p>Most performance problems involve data:</p>\n\n            <ul>\n\n            <li>too much of it</li>\n\n            </ul>\n\n            <ul>\n\n            <li>poorly structured</li>\n\n            </ul>\n\n            <ul>\n\n            <li>accessed inefficiently</li>\n\n            </ul>\n\n            <ul>\n\n            <li>fetched repeatedly</li>\n\n            </ul>\n\n            <p>This is why data modeling matters.</p>\n\n            <p>Structure first.Optimization second.</p>\n\n            <h2>When optimization is necessary</h2>\n\n            <p>Optimization becomes necessary when:</p>\n\n            <ul>\n\n            <li>growth is real</li>\n\n            </ul>\n\n            <ul>\n\n            <li>pain is measured</li>\n\n            </ul>\n\n            <ul>\n\n            <li>structure is understood</li>\n\n            </ul>\n\n            <p>At that point:</p>\n\n            <ul>\n\n            <li>remove repeated work</li>\n\n            </ul>\n\n            <ul>\n\n            <li>move work earlier or later</li>\n\n            </ul>\n\n            <ul>\n\n            <li>change structure</li>\n\n            </ul>\n\n            <ul>\n\n            <li>change boundaries</li>\n\n            </ul>\n\n            <p>Micro-optimizations rarely matter.Structural changes endure.</p>\n\n            <h2>Premature optimization revisited</h2>\n\n            <p>Optimizing early often:</p>\n\n            <ul>\n\n            <li>complicates design</li>\n\n            </ul>\n\n            <ul>\n\n            <li>hides intent</li>\n\n            </ul>\n\n            <ul>\n\n            <li>freezes bad structure</li>\n\n            </ul>\n\n            <p>üß† <strong>Architect‚Äôs Note</strong>The cost of premature optimization is paid in understanding.</p>\n\n            <h2>Scaling changes failure modes</h2>\n\n            <p>At scale:</p>\n\n            <ul>\n\n            <li>retries amplify load</li>\n\n            </ul>\n\n            <ul>\n\n            <li>slow paths dominate</li>\n\n            </ul>\n\n            <ul>\n\n            <li>rare bugs become frequent</li>\n\n            </ul>\n\n            <ul>\n\n            <li>partial failures cascade</li>\n\n            </ul>\n\n            <p>Designing for scale means:</p>\n\n            <ul>\n\n            <li>bounding failure</li>\n\n            </ul>\n\n            <ul>\n\n            <li>limiting retries</li>\n\n            </ul>\n\n            <ul>\n\n            <li>isolating damage</li>\n\n            </ul>\n\n            <h2>Minimal practice (still no code)</h2>\n\n            <p><strong>Problem:</strong>‚ÄúA feature works fine locally but slows dramatically under load.‚Äù</p>\n\n            <p>Ask:</p>\n\n            <ul>\n\n            <li>What assumptions were made about size?</li>\n\n            </ul>\n\n            <ul>\n\n            <li>What work is repeated?</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Where is state shared?</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Which boundaries are missing?</li>\n\n            </ul>\n\n            <p>If the answers are vague, performance tuning will fail.</p>\n\n            <h2>What beginners gain here</h2>\n\n            <ul>\n\n            <li>Realistic expectations</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Respect for structure</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Fewer magical fixes</li>\n\n            </ul>\n\n            <h2>What experienced developers recognize</h2>\n\n            <ul>\n\n            <li>Why optimizations don‚Äôt stick</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Why performance work feels endless</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Why fixes move problems elsewhere</li>\n\n            </ul>\n\n            <p>Structure was ignored.</p>\n\n            <h2>What this chapter deliberately avoids</h2>\n\n            <ul>\n\n            <li>Language-specific tuning</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Tool recommendations</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Benchmark strategies</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Infrastructure details</li>\n\n            </ul>\n\n            <p>Those are downstream.</p>\n\n            <h2>Closing</h2>\n\n            <p>Performance is not speed.</p>\n\n            <p>It is <strong>stability under pressure</strong>.</p>\n\n            <p>A performant system:</p>\n\n            <ul>\n\n            <li>degrades gracefully</li>\n\n            </ul>\n\n            <ul>\n\n            <li>reveals problems early</li>\n\n            </ul>\n\n            <ul>\n\n            <li>survives growth</li>\n\n            </ul>\n\n            <p>Design for pressure while calm ‚Äîbecause pressure will arrive.</p>\n          </div>\n        </article>\n\n        <!-- RIGHT -->\n\n      </main>\n\n      <!-- CHAPTER NAVIGATION (BOTTOM) -->\n      <nav class=\"chapter-nav-bottom\" id=\"chapterNavBottom\">\n        <a href=\"#\" class=\"chapter-nav-bottom__link chapter-nav-bottom__link--prev\" id=\"prevChapter\">\n          <span class=\"chapter-nav-bottom__arrow\">‚Üê</span>\n          <span class=\"chapter-nav-bottom__label\">Previous</span>\n        </a>\n        <a href=\"#\" class=\"chapter-nav-bottom__link chapter-nav-bottom__link--next\" id=\"nextChapter\">\n          <span class=\"chapter-nav-bottom__label\">Next</span>\n          <span class=\"chapter-nav-bottom__arrow\">‚Üí</span>\n        </a>\n      </nav>\n\n      <!-- PAGE WIDGET (BOTTOM) - REMOVED -->\n      <div style=\"display: none;\">\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">P</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Preface</div>\n                  <div class=\"page-widget__page-note\">Why fundamentals still decide outcomes.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item page-widget__page-item--current\">\n                <span class=\"page-widget__page-number\">1</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 1</div>\n                  <div class=\"page-widget__page-note\">Core principles and constraints.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">2</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 2</div>\n                  <div class=\"page-widget__page-note\">Boundaries, ownership, and interfaces.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">3</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 3</div>\n                  <div class=\"page-widget__page-note\">State, consistency, and failure modes.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">4</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 4</div>\n                  <div class=\"page-widget__page-note\">Abstractions that survive change.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">5</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 5</div>\n                  <div class=\"page-widget__page-note\">Simplicity as an engineering practice.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">6</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 6</div>\n                  <div class=\"page-widget__page-note\">Reliability, observability, and feedback.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">7</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 7</div>\n                  <div class=\"page-widget__page-note\">Delivery systems and decision hygiene.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">8</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 8</div>\n                  <div class=\"page-widget__page-note\">Documentation that stays useful.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">9</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 9</div>\n                  <div class=\"page-widget__page-note\">Testing strategy for predictable change.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">10</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 10</div>\n                  <div class=\"page-widget__page-note\">Pragmatic architecture for teams.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">11</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 11</div>\n                  <div class=\"page-widget__page-note\">Operational excellence without ceremony.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">12</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 12</div>\n                  <div class=\"page-widget__page-note\">Leadership, standards, and leverage.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">13</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 13</div>\n                  <div class=\"page-widget__page-note\">Making fundamentals non-negotiable.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">PS</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Postscript</div>\n                  <div class=\"page-widget__page-note\">A short operating model to carry forward.</div>\n                </div>\n              </a>\n            </li>\n          </ol>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <!-- PAGE WIDGET JS -->\n  <!-- SIDEBAR TOGGLE JS -->\n  <script>\n  (() => {\n    const sidebar = document.getElementById(''sidebar'');\n    const backdrop = document.getElementById(''sidebarBackdrop'');\n    const indicator = document.getElementById(''chapterIndicator'');\n    const icon = document.getElementById(''chapterIndicatorIcon'');\n    const header = document.getElementById(''header'');\n    const main = document.getElementById(''main'');\n    const body = document.body;\n\n    if (!sidebar || !backdrop || !indicator || !icon || !header || !main) return;\n\n    let isOpen = false;\n    let scrollTimeout = null;\n\n    const openSidebar = () => {\n      isOpen = true;\n      sidebar.classList.add(''sidebar--open'');\n      backdrop.classList.add(''sidebar-backdrop--visible'');\n      header.classList.add(''header--shifted'');\n      main.classList.add(''main--shifted'');\n      icon.classList.add(''chapter-number__icon--open'');\n      body.classList.add(''sidebar-open'');\n    };\n\n    const closeSidebar = () => {\n      isOpen = false;\n      sidebar.classList.remove(''sidebar--open'');\n      backdrop.classList.remove(''sidebar-backdrop--visible'');\n      header.classList.remove(''header--shifted'');\n      main.classList.remove(''main--shifted'');\n      icon.classList.remove(''chapter-number__icon--open'');\n      body.classList.remove(''sidebar-open'');\n    };\n\n    // Toggle sidebar\n    indicator.addEventListener(''click'', (e) => {\n      e.stopPropagation();\n      if (isOpen) {\n        closeSidebar();\n      } else {\n        openSidebar();\n      }\n    });\n\n    // Close sidebar when clicking backdrop\n    backdrop.addEventListener(''click'', () => {\n      closeSidebar();\n    });\n\n    // Close sidebar when clicking outside\n    document.addEventListener(''click'', (e) => {\n      // Don''t close sidebar if clicking on brand link or nav links\n      const brandLink = header.querySelector(''.brand'');\n      const isClickOnLink = brandLink && brandLink.contains(e.target);\n      const isClickOnNav = header.querySelector(''.nav'') && header.querySelector(''.nav'').contains(e.target);\n      \n      if (isOpen && !sidebar.contains(e.target) && !indicator.contains(e.target) && !isClickOnLink && !isClickOnNav) {\n        closeSidebar();\n      }\n    });\n\n    // Close sidebar on scroll (debounced)\n    const handleScroll = () => {\n      if (isOpen) {\n        clearTimeout(scrollTimeout);\n        scrollTimeout = setTimeout(() => {\n          closeSidebar();\n        }, 100);\n      }\n    };\n\n    // Listen for scroll on main content\n    window.addEventListener(''scroll'', handleScroll, { passive: true });\n    \n    // Also listen for scroll attempts on body (when scroll is disabled)\n    let lastScrollTop = window.pageYOffset;\n    const handleScrollAttempt = () => {\n      if (isOpen) {\n        const currentScrollTop = window.pageYOffset;\n        if (currentScrollTop !== lastScrollTop) {\n          closeSidebar();\n        }\n        lastScrollTop = currentScrollTop;\n      }\n    };\n\n    // Prevent scroll on body when sidebar is open\n    document.addEventListener(''wheel'', (e) => {\n      if (isOpen && !sidebar.contains(e.target)) {\n        e.preventDefault();\n        closeSidebar();\n      }\n    }, { passive: false });\n\n    // Prevent touch scroll on body when sidebar is open\n    document.addEventListener(''touchmove'', (e) => {\n      if (isOpen && !sidebar.contains(e.target)) {\n        e.preventDefault();\n        closeSidebar();\n      }\n    }, { passive: false });\n  })();\n  </script>\n\n  <!-- CHAPTER NAVIGATION (BOTTOM) JS -->\n  <script>\n  (() => {\n    // Chapter list: Preface = 0, Chapter 1-13 = 1-13, Postscript = 14\n    const chapters = [\n      { id: ''preface'', title: ''Preface'', url: ''https://arvinjaysoncastro.com/working-fundamentals-introduction'' },\n      { id: ''ch1'', title: ''Chapter 1'', url: ''https://arvinjaysoncastro.com/working-fundamentals-1-of-13-programming-fundamentals'' },\n      { id: ''ch2'', title: ''Chapter 2'', url: ''https://arvinjaysoncastro.com/working-fundamentals-2-of-13-data-structures'' },\n      { id: ''ch3'', title: ''Chapter 3'', url: ''https://arvinjaysoncastro.com/working-fundamentals-3-of-13-algorithms-and-complexity'' },\n      { id: ''ch4'', title: ''Chapter 4'', url: ''https://arvinjaysoncastro.com/working-fundamentals-4-of-13-control-and-flow'' },\n      { id: ''ch5'', title: ''Chapter 5'', url: ''https://arvinjaysoncastro.com/working-fundamentals-5-of-13-state-and-change'' },\n      { id: ''ch6'', title: ''Chapter 6'', url: ''https://arvinjaysoncastro.com/working-fundamentals-6-of-13-design-principles'' },\n      { id: ''ch7'', title: ''Chapter 7'', url: ''https://arvinjaysoncastro.com/working-fundamentals-7-of-13-architecture'' },\n      { id: ''ch8'', title: ''Chapter 8'', url: ''https://arvinjaysoncastro.com/working-fundamentals-8-of-13-persistence-and-data-modeling'' },\n      { id: ''ch9'', title: ''Chapter 9'', url: ''https://arvinjaysoncastro.com/working-fundamentals-9-of-13-interfaces-and-apis'' },\n      { id: ''ch10'', title: ''Chapter 10'', url: ''https://arvinjaysoncastro.com/working-fundamentals-10-of-13-errors-and-failure'' },\n      { id: ''ch11'', title: ''Chapter 11'', url: ''https://arvinjaysoncastro.com/working-fundamentals-11-of-13-testing'' },\n      { id: ''ch12'', title: ''Chapter 12'', url: ''https://arvinjaysoncastro.com/working-fundamentals-12-of-13-performance-and-scale'' },\n      { id: ''ch13'', title: ''Chapter 13'', url: ''https://arvinjaysoncastro.com/working-fundamentals-13-of-13-the-developers-role'' },\n      { id: ''postscript'', title: ''Postscript'', url: ''https://arvinjaysoncastro.com/working-fundamentals-outroduction'' }\n    ];\n\n    const currentChapterIndex = 12; // Chapter 1 is index 1 (Preface is 0)\n    const prevLink = document.getElementById(''prevChapter'');\n    const nextLink = document.getElementById(''nextChapter'');\n\n    if (!prevLink || !nextLink) return;\n\n    // Previous chapter\n    if (currentChapterIndex > 0) {\n      const prevChapter = chapters[currentChapterIndex - 1];\n      prevLink.href = prevChapter.url;\n      prevLink.target = ''_blank'';\n      prevLink.innerHTML = `\n        <span class=\"chapter-nav-bottom__arrow\">‚Üê</span>\n        <span class=\"chapter-nav-bottom__label\">Previous: ${prevChapter.title}</span>\n      `;\n    } else {\n      // No previous chapter - show \"go back to book list\"\n      prevLink.href = ''https://arvinjaysoncastro.com/hungry-dev-mind'';\n      prevLink.target = ''_blank'';\n      prevLink.innerHTML = `\n        <span class=\"chapter-nav-bottom__arrow\">‚Üê</span>\n        <span class=\"chapter-nav-bottom__label\">Go back to book list</span>\n      `;\n    }\n\n    // Next chapter\n    if (currentChapterIndex < chapters.length - 1) {\n      const nextChapter = chapters[currentChapterIndex + 1];\n      nextLink.href = nextChapter.url;\n      nextLink.target = ''_blank'';\n      nextLink.innerHTML = `\n        <span class=\"chapter-nav-bottom__label\">Next: ${nextChapter.title}</span>\n        <span class=\"chapter-nav-bottom__arrow\">‚Üí</span>\n      `;\n    } else {\n      // No next chapter - show \"go back to book list\"\n      nextLink.href = ''https://arvinjaysoncastro.com/hungry-dev-mind'';\n      nextLink.target = ''_blank'';\n      nextLink.innerHTML = `\n        <span class=\"chapter-nav-bottom__label\">Go back to book list</span>\n        <span class=\"chapter-nav-bottom__arrow\">‚Üí</span>\n      `;\n    }\n  })();\n  </script>\n\n  <!-- OPTIONAL JS -->\n <script>\n(() => {\n  const wrap = document.querySelector(''.book-wrap'');\n  if (!wrap) return;\n\n  const slab1 = wrap.querySelector(''.shadow-slab'');\n  const slab2 = wrap.querySelector(''.shadow-slab-2'');\n  const slab3 = wrap.querySelector(''.shadow-slab-3'');\n  const slab4 = wrap.querySelector(''.shadow-slab-4'');\n  const front = wrap.querySelector(''.front-slab'');\n\n  const clamp = (v, min, max) => Math.max(min, Math.min(max, v));\n\n  let raf = 0;\n  let lx = 0; // light vector x\n  let ly = 0; // light vector y\n\n  function render() {\n    raf = 0;\n\n    // Shadow direction = opposite of light\n    const sx = -lx;\n    const sy = -ly;\n\n    const intensity = Math.abs(lx) + Math.abs(ly);\n\n    /* ---------------------------\n       SLAB 1 ‚Äî KEY CAST SHADOW\n    ---------------------------- */\n    slab1.style.transform =\n      `translate(${(sx * 38).toFixed(2)}px, ${(sy * 38).toFixed(2)}px)`;\n    slab1.style.filter =\n      `blur(${(14 + intensity * 6).toFixed(2)}px)`;\n    slab1.style.opacity =\n      (0.28 + intensity * 0.14).toFixed(2);\n\n    /* ---------------------------\n       SLAB 2 ‚Äî BOUNCE / COLOR BLEED\n    ---------------------------- */\n    slab2.style.transform =\n      `translate(${(sx * 14).toFixed(2)}px, ${(sy * 14).toFixed(2)}px)`;\n    slab2.style.filter =\n      `blur(${(6 + intensity * 4).toFixed(2)}px)`;\n    slab2.style.opacity =\n      (0.16 + intensity * 0.10).toFixed(2);\n\n    /* ---------------------------\n       SLAB 3 ‚Äî CONTACT SHADOW\n    ---------------------------- */\n    slab3.style.transform =\n      `translate(${(sx * 6).toFixed(2)}px, ${(sy * 6).toFixed(2)}px)`;\n    slab3.style.filter = `blur(9px)`;\n    slab3.style.opacity =\n      (0.24 + Math.abs(lx) * 0.06).toFixed(2);\n\n    /* ---------------------------\n       SLAB 4 ‚Äî AMBIENT DEPTH\n    ---------------------------- */\n    slab4.style.transform =\n      `translate(${(sx * 3).toFixed(2)}px, ${(sy * 3).toFixed(2)}px)`;\n    slab4.style.filter = `blur(18px)`;\n    slab4.style.opacity =\n      (0.16 + Math.abs(ly) * 0.04).toFixed(2);\n\n    /* ---------------------------\n       FRONT SLAB ‚Äî SPECULAR RESPONSE\n       (moves TOWARD light)\n    ---------------------------- */\nif (front) {\n  // Very subtle counter-parallax (NOT toward light)\n  front.style.transform =\n    `translate(${(-lx * 1.6).toFixed(2)}px, ${(-ly * 1.6).toFixed(2)}px)`;\n\n  // Opacity increases when light is grazing\n  front.style.opacity =\n    (0.34 + intensity * 0.22).toFixed(2);\n\n  // Highlight shifts OPPOSITE the light direction\n  const gx = 50 - lx * 28;\n  const gy = 50 - ly * 28;\n  front.style.backgroundPosition = `${gx}% ${gy}%`;\n}\n\n  }\n\n  function onMove(e) {\n    const r = wrap.getBoundingClientRect();\n    const cx = r.left + r.width / 2;\n    const cy = r.top + r.height / 2;\n\n    // LIGHT VECTOR (mouse = light source)\n    lx = clamp((e.clientX - cx) / (r.width / 2), -1, 1);\n    ly = clamp((e.clientY - cy) / (r.height / 2), -1, 1);\n\n    if (!raf) raf = requestAnimationFrame(render);\n  }\n\n  window.addEventListener(''mousemove'', onMove, { passive: true });\n})();\n</script>\n</body>\n</html>\n", "css": "body { font-family: system-ui; padding: 20px; }", "js": "console.log(\"Code Runner initialized\");", "imports": {"css": [], "js": []}, "entryPoint": {"type": "htmlDocument", "mountSelector": "#app", "injectMountIfMissing": true}, "settings": {"mode": "play", "viewport": {"type": "responsive", "background": "white"}, "securityPreset": "trusted", "autoRun": true, "runOnLoad": true}, "codePanel": {"isVisible": false, "isEditable": false}}}]}]}',
    NULL,
    1,
    NOW()
);


-- 13. The Developer's Role
-- Slug: working-fundamentals-13-of-13-the-developers-role
-- ID: 15ceaeec-b500-4f9b-a00d-930476ba3c1c
-- File: ch_13.html
INSERT INTO App_Pages (
    id, org_id, name, slug, template_code, layout, layout_version, is_active,
    created_by_user_id, created_at, updated_at, visibility, description,
    is_template, template_metadata, kind, parent_id, section_tags, section_purpose,
    section_scope, palette_id, is_default_variation, variation_order, template_purpose,
    is_listed, is_org_landing_page, report, folder, layout_raw, layout_quarantine,
    layout_schema_version, layout_ingested_at
) VALUES (
    '15ceaeec-b500-4f9b-a00d-930476ba3c1c',
    '82c2d096-2638-4837-83c8-e8a933bb17c7',
    'The Developer''s Role',
    'working-fundamentals-13-of-13-the-developers-role',
    NULL,
    '{"id": "block-root", "style": {}, "type": "container", "children": [{"id": "temp-container", "style": {"width": "100vw", "height": "100vh"}, "type": "container", "children": [{"id": "temp-coderunner", "style": {}, "type": "codeRunner", "data": {"html": "<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n  <meta charset=\"UTF-8\" />\n  <title>Working Fundamentals ‚Äî Arvin Jayson Castro</title>\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n\n  <!-- =====================\n       GLOBAL STYLES\n  ====================== -->\n  <style>\n    :root {\n      --bg: #f7f8f8;\n      --ink: #111111;\n      --muted: #666666;\n      --line: rgba(0,0,0,0.08);\n      --accent: #16a34a;\n      --link: #3b82f6;\n      --max-width: 1200px;\n    }\n\n    * {\n      box-sizing: border-box;\n    }\n\n    body {\n      margin: 0;\n      font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, sans-serif;\n      color: var(--ink);\n      background-color: var(--bg);\n      background-image:\n        radial-gradient(980px 560px at 14% 18%, rgba(16,185,129,0.10) 0%, rgba(16,185,129,0) 60%),\n        radial-gradient(860px 540px at 86% 74%, rgba(245,158,11,0.10) 0%, rgba(245,158,11,0) 62%),\n        repeating-linear-gradient(0deg, rgba(0,0,0,0.043) 0, rgba(0,0,0,0.043) 1px, transparent 1px, transparent 46px),\n        repeating-linear-gradient(90deg, rgba(0,0,0,0.043) 0, rgba(0,0,0,0.043) 1px, transparent 1px, transparent 46px);\n      min-height: 100vh;\n    }\n\n    a {\n      color: inherit;\n      text-decoration: none;\n    }\n\n    img {\n      max-width: 100%;\n      display: block;\n    }\n\n    /* =====================\n       PAGE WRAPPER\n    ====================== */\n    .page {\n      padding: 22px 24px;\n    }\n\n    .container {\n      max-width: var(--max-width);\n      margin: 0 auto;\n    }\n\n    /* =====================\n       SIDEBAR BACKDROP\n    ====================== */\n    .sidebar-backdrop {\n      position: fixed;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n      background: rgba(0, 0, 0, 0.2);\n      backdrop-filter: blur(4px);\n      -webkit-backdrop-filter: blur(4px);\n      opacity: 0;\n      visibility: hidden;\n      transition: opacity 0.3s ease, visibility 0.3s ease;\n      z-index: 999;\n      pointer-events: none;\n    }\n\n    .sidebar-backdrop--visible {\n      opacity: 1;\n      visibility: visible;\n      pointer-events: auto;\n    }\n\n    /* =====================\n       SIDEBAR\n    ====================== */\n    .sidebar {\n      position: fixed;\n      top: 0;\n      right: 0;\n      width: 320px;\n      height: 100vh;\n      background: var(--bg);\n      border-left: 1px solid var(--line);\n      transform: translateX(100%);\n      transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n      z-index: 1000;\n      overflow-y: auto;\n      padding: 24px;\n    }\n\n    .sidebar--open {\n      transform: translateX(0);\n    }\n\n    .sidebar__title {\n      font-size: 16px;\n      font-weight: 600;\n      margin-bottom: 24px;\n      color: var(--ink);\n    }\n\n    /* Prevent body scroll when sidebar is open */\n    body.sidebar-open {\n      overflow: hidden;\n    }\n\n    .sidebar__chapter-list {\n      list-style: none;\n      margin: 0;\n      padding: 0;\n    }\n\n    .sidebar__chapter-item {\n      margin: 0 0 8px 0;\n    }\n\n    .sidebar__chapter-link {\n      display: block;\n      font-size: 14px;\n      color: var(--muted);\n      text-decoration: none;\n      padding: 8px 0;\n      transition: color 0.2s ease;\n      line-height: 1.5;\n    }\n\n    .sidebar__chapter-link:hover {\n      color: var(--ink);\n    }\n\n    .sidebar__chapter-link {\n      color: var(--ink);\n      font-weight: 500;\n    }\n\n    /* =====================\n       HEADER (Top bar with chapter indicator)\n    ====================== */\n    .header {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      padding: 10px 0;\n      border-bottom: 1px solid var(--line);\n      position: relative;\n      transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n    }\n\n    .header--shifted {\n      transform: translateX(-320px);\n    }\n\n    .brand {\n      font-size: 16px;\n      font-weight: 600;\n      cursor: pointer;\n      display: inline-block;\n    }\n\n    .nav {\n      display: flex;\n      gap: 24px;\n      align-items: center;\n      font-size: 14px;\n    }\n\n    .nav a {\n      color: #1f2937;\n    }\n\n    .linkedin {\n      display: flex;\n      flex-direction: column;\n      align-items: flex-start;\n    }\n\n    .linkedin a {\n      color: var(--link);\n    }\n\n    .linkedin span {\n      font-family: Georgia, serif;\n      font-size: 9px;\n      font-style: italic;\n      color: #999;\n    }\n\n    /* =====================\n       MAIN GRID\n    ====================== */\n    .main {\n      padding-top: 48px;\n      padding-bottom: 48px;\n      display: flex;\n      justify-content: center;\n      align-items: start;\n    }\n\n    /* =====================\n       CHAPTER READING AREA (Option 1: Magazine-style)\n    ====================== */\n    .chapter-content {\n      max-width: 768px;\n      width: 100%;\n      margin: 0 auto;\n    }\n\n    .chapter-header {\n      margin-bottom: 56px;\n      padding-bottom: 32px;\n      border-bottom: 2px solid var(--line);\n    }\n\n    .book-title {\n      font-size: 12px;\n      letter-spacing: 0.15em;\n      text-transform: uppercase;\n      color: var(--muted);\n      font-weight: 500;\n      margin-bottom: 8px;\n      opacity: 0.7;\n    }\n\n    .chapter-number {\n      font-size: 13px;\n      letter-spacing: 0.2em;\n      text-transform: uppercase;\n      color: var(--muted);\n      font-weight: 600;\n      margin-bottom: 12px;\n      display: flex;\n      align-items: center;\n      gap: 8px;\n      cursor: pointer;\n      user-select: none;\n      transition: color 0.2s ease;\n    }\n\n    .chapter-number:hover {\n      color: var(--ink);\n    }\n\n    .chapter-number__icon {\n      font-size: 10px;\n      opacity: 0.6;\n      transition: transform 0.3s ease, opacity 0.2s ease;\n    }\n\n    .chapter-number:hover .chapter-number__icon {\n      opacity: 0.8;\n    }\n\n    .chapter-number__icon--open {\n      transform: rotate(180deg);\n    }\n\n    .chapter-title {\n      font-size: 56px;\n      font-weight: 900;\n      line-height: 1.05;\n      margin: 0 0 20px 0;\n      color: var(--ink);\n      letter-spacing: -0.03em;\n    }\n\n    .chapter-subtitle {\n      font-size: 22px;\n      font-weight: 500;\n      color: var(--muted);\n      line-height: 1.4;\n      margin: 0;\n    }\n\n    .chapter-body {\n      font-size: 19px;\n      line-height: 1.8;\n      color: var(--ink);\n      max-width: none;\n      font-weight: 400;\n    }\n\n    .chapter-body p {\n      margin: 0 0 28px 0;\n    }\n\n    .chapter-body p:last-child {\n      margin-bottom: 0;\n    }\n\n    .chapter-body h2 {\n      font-size: 36px;\n      font-weight: 800;\n      line-height: 1.2;\n      margin: 56px 0 24px 0;\n      color: var(--ink);\n      letter-spacing: -0.02em;\n    }\n\n    .chapter-body h3 {\n      font-size: 26px;\n      font-weight: 700;\n      line-height: 1.3;\n      margin: 40px 0 18px 0;\n      color: var(--ink);\n      letter-spacing: -0.01em;\n    }\n\n    .chapter-body strong {\n      font-weight: 600;\n      color: var(--ink);\n    }\n\n    .chapter-body em {\n      font-style: italic;\n    }\n\n    .chapter-body ul,\n    .chapter-body ol {\n      margin: 28px 0;\n      padding-left: 36px;\n    }\n\n    .chapter-body li {\n      margin-bottom: 14px;\n      line-height: 1.75;\n    }\n\n    .chapter-body blockquote {\n      margin: 40px 0;\n      padding-left: 28px;\n      border-left: 4px solid var(--accent);\n      font-style: italic;\n      color: var(--muted);\n      font-size: 18px;\n      line-height: 1.7;\n    }\n\n    .chapter-body code {\n      font-family: ''Monaco'', ''Menlo'', ''Courier New'', monospace;\n      font-size: 0.9em;\n      background: rgba(0,0,0,0.04);\n      padding: 2px 6px;\n      border-radius: 3px;\n    }\n\n    .chapter-body pre {\n      background: rgba(0,0,0,0.04);\n      padding: 20px;\n      border-radius: 8px;\n      overflow-x: auto;\n      margin: 24px 0;\n    }\n\n    .chapter-body pre code {\n      background: none;\n      padding: 0;\n    }\n\n    /* Content shift when sidebar opens */\n    .main {\n      transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n    }\n\n    .main--shifted {\n      transform: translateX(-320px);\n    }\n\n    /* Prevent horizontal scroll */\n    body {\n      overflow-x: hidden;\n    }\n\n    .page {\n      overflow-x: hidden;\n    }\n\n    /* =====================\n       CHAPTER NAVIGATION (BOTTOM)\n    ====================== */\n    .chapter-nav-bottom {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      max-width: 768px;\n      width: 100%;\n      margin: 64px auto 0 auto;\n      padding: 24px 0;\n      border-top: 1px solid var(--line);\n    }\n\n    .chapter-nav-bottom__link {\n      display: flex;\n      align-items: center;\n      gap: 8px;\n      font-size: 14px;\n      color: var(--muted);\n      text-decoration: none;\n      transition: color 0.2s ease;\n      padding: 8px 0;\n    }\n\n    .chapter-nav-bottom__link:hover {\n      color: var(--ink);\n    }\n\n    .chapter-nav-bottom__arrow {\n      font-size: 16px;\n      opacity: 0.7;\n    }\n\n    .chapter-nav-bottom__label {\n      font-weight: 500;\n    }\n\n    .chapter-nav-bottom__link--prev {\n      margin-right: auto;\n    }\n\n    .chapter-nav-bottom__link--next {\n      margin-left: auto;\n    }\n\n    .chapter-nav-bottom__link--disabled {\n      opacity: 0.4;\n      cursor: not-allowed;\n      pointer-events: none;\n    }\n\n    .page-widget__pages {\n      max-height: 0;\n      overflow: hidden;\n      transition: max-height 0.4s cubic-bezier(0.4, 0, 0.2, 1),\n                  opacity 0.3s ease,\n                  margin-top 0.3s ease;\n      opacity: 0;\n      margin-top: 0;\n      background: rgba(255, 255, 255, 0.98);\n      backdrop-filter: blur(12px);\n      -webkit-backdrop-filter: blur(12px);\n      border: 1px solid rgba(0, 0, 0, 0.06);\n      border-radius: 12px;\n      box-shadow: 0 2px 12px rgba(0, 0, 0, 0.06);\n    }\n\n    .page-widget__pages--expanded {\n      max-height: 500px;\n      opacity: 1;\n      margin-top: 12px;\n      padding: 8px;\n    }\n\n    .page-widget__pages-list {\n      list-style: none;\n      margin: 0;\n      padding: 0;\n      display: flex;\n      flex-direction: column;\n      gap: 8px;\n      max-height: 400px;\n      overflow-y: auto;\n      padding-right: 4px;\n    }\n\n    .page-widget__pages-list::-webkit-scrollbar {\n      width: 6px;\n    }\n\n    .page-widget__pages-list::-webkit-scrollbar-track {\n      background: rgba(0, 0, 0, 0.02);\n      border-radius: 3px;\n    }\n\n    .page-widget__pages-list::-webkit-scrollbar-thumb {\n      background: rgba(0, 0, 0, 0.12);\n      border-radius: 3px;\n    }\n\n    .page-widget__pages-list::-webkit-scrollbar-thumb:hover {\n      background: rgba(0, 0, 0, 0.2);\n    }\n\n    .page-widget__page-item {\n      display: flex;\n      align-items: center;\n      gap: 10px;\n      padding: 8px 10px;\n      border-radius: 8px;\n      cursor: pointer;\n      transition: all 0.2s ease;\n      text-decoration: none;\n      color: var(--ink);\n    }\n\n    .page-widget__page-item:hover {\n      background: rgba(0, 0, 0, 0.03);\n      transform: translateX(2px);\n    }\n\n    .page-widget__page-item--current {\n      background: rgba(22, 163, 74, 0.08);\n      color: var(--accent);\n      font-weight: 500;\n    }\n\n    .page-widget__page-item--current:hover {\n      background: rgba(22, 163, 74, 0.12);\n    }\n\n    .page-widget__page-number {\n      display: inline-flex;\n      align-items: center;\n      justify-content: center;\n      width: 24px;\n      height: 24px;\n      background: rgba(0, 0, 0, 0.04);\n      border-radius: 5px;\n      font-size: 11px;\n      font-weight: 500;\n      flex-shrink: 0;\n      color: var(--muted);\n    }\n\n    .page-widget__page-item--current .page-widget__page-number {\n      background: rgba(22, 163, 74, 0.15);\n      color: var(--accent);\n    }\n\n    .page-widget__page-info {\n      flex: 1;\n      min-width: 0;\n    }\n\n    .page-widget__page-name {\n      font-size: 13px;\n      font-weight: 500;\n      line-height: 1.3;\n      margin: 0 0 2px 0;\n    }\n\n    .page-widget__page-note {\n      font-size: 11px;\n      color: var(--muted);\n      line-height: 1.3;\n      margin: 0;\n      white-space: nowrap;\n      overflow: hidden;\n      text-overflow: ellipsis;\n    }\n\n    @media (max-width: 768px) {\n      .page-widget__pages-list {\n        max-height: 300px;\n      }\n    }\n\n\n/* ===============================\n   WRAPPER\n================================ */\n.book-wrap {\n  width: 320px;\n  aspect-ratio: 2 / 3;\n  position: relative;\n}\n\n/* ===============================\n   CAST SHADOW SLAB (REAL SHADOW)\n================================ */\n.shadow-slab {\n    position: absolute;\n    position: absolute;\n    inset: 0;\n    border-radius: 22px;\n    /* background: #2a2a2a; */\n    transform: translate(-30px, 30px);\n    filter: blur(13px);\n    opacity: 0.35;\n    z-index: 0;\n    background: radial-gradient(ellipse at 15% 85%, rgba(0, 0, 0, 0.35), rgba(0, 0, 0, 0.18) 35%, transparent 65%), linear-gradient(to right, #1f1f1f 0%, #2a2a2a 45%, #3a3a3a 100%);\n}\n\n.shadow-slab-2 {\n    position: absolute;\n    inset: 0;\n    border-radius: 22px;\n    background: radial-gradient(circle at top right, #f6e6a8 0%, #e2c36b 35%, #b58a3c 70%, #7a5524 100%);\n    transform: translate(-10px, 10px);\n    filter: blur(5px);\n    opacity: 0.35;\n    z-index: 0;\n}\n\n.shadow-slab-3 {\n    position: absolute;\n    inset: 0;\n    border-radius: 22px;\n    background: #333;\n    transform: translate(0px, 0px);\n    filter: blur(11px);\n    opacity: 0.35;\n    z-index: 0;\n}\n\n.shadow-slab-4 {\n    position: absolute;\n    inset: 0;\n    border-radius: 22px;\n    background: #333;\n    transform: translate(0px, 0px);\n    filter: blur(11px);\n    opacity: 0.35;\n    z-index: 0;\n}\n\n/* ===============================\n   FRONT SLAB & SPIN HANDLE\n================================ */\n\n.front-slab {\n    position: absolute;\n    inset: 0;\n    border-radius: 22px;\n    background: linear-gradient(to right, rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.1) 3%, transparent 1%);\n    /* background: green; */\n    z-index: 3;\n    opacity: .5;\n    transform: translateZ(6px);\n    pointer-events: none;\n}\n\n.spin-handle {\n  display: none;\n  position: absolute;\n  top: 50%;\n  right: -22px;\n  width: 14px;\n  height: 48px;\n  border-radius: 999px;\n  background: rgba(0,0,0,0.25);\n  backdrop-filter: blur(4px);\n  cursor: grab;\n  z-index: 10;\n}\n\n/* ===============================\n   BOOK OBJECT (NO SHADOW)\n================================ */\n.book {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  border-radius: 22px;\n  overflow: hidden;\n  z-index: 2;\n\n  /* IMPORTANT: no box-shadow */\n  box-shadow: none;\n\n  /* transform: perspective(1200px) rotateX(0.6deg); */\n}\n\n/* ===============================\n   PAPER SURFACE (LIGHT FIELD)\n================================ */\n.book .surface {\n  position: absolute;\n  inset: 0;\n  border-radius: inherit;\n  pointer-events: none;\n  z-index: 1;\n\n  background:\n    linear-gradient(\n      to bottom left,\n      rgba(255,255,255,1) 0%,\n      rgba(250,250,250,1) 42%,\n      rgba(240,240,240,1) 100%\n    ),\n    repeating-linear-gradient(\n      0deg,\n      rgba(0,0,0,0.01),\n      rgba(0,0,0,0.01) 1px,\n      transparent 1px,\n      transparent 3px\n    );\n}\n\n/* ===============================\n   LEFT OCCLUSION (CURTAIN)\n================================ */\n.book .curtain {\n  position: absolute;\n  inset: 0;\n  border-radius: inherit;\n  pointer-events: none;\n  z-index: 2;\n\n  background:\n    linear-gradient(\n      to right,\n      rgba(0,0,0,0.20) 0%,\n      rgba(0,0,0,0.12) 8%,\n      rgba(0,0,0,0.05) 16%,\n      rgba(0,0,0,0.02) 22%,\n      rgba(0,0,0,0.00) 30%\n    );\n}\n\n/* ===============================\n   RIGHT HIGHLIGHT\n================================ */\n.book .highlight {\n  position: absolute;\n  inset: 0;\n  border-radius: inherit;\n  pointer-events: none;\n  z-index: 3;\n\n  background:\n    linear-gradient(\n      to left,\n      rgba(255,255,255,0.35) 0%,\n      rgba(255,255,255,0.18) 6%,\n      rgba(255,255,255,0.06) 14%,\n      rgba(255,255,255,0.00) 24%\n    );\n}\n\n/* ===============================\n   PAGE EDGE (THICKNESS)\n================================ */\n.book .edge {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 120px;\n  height: 100%;\n  border-radius: 22px 0 0 22px;\n  pointer-events: none;\n  z-index: 4;\n\n  background:\n    linear-gradient(\n      to right,\n      rgba(215,215,215,0.95) 0%,\n      rgba(245,245,245,0.95) 40%,\n      rgba(255,255,255,0.95) 75%\n    );\n\n  box-shadow:\n    inset -1px 0 0 rgba(0,0,0,0.05);\n}\n\n/* ===============================\n   SVG (PURE WHITE)\n================================ */\n.book svg {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  display: block;\n  z-index: 5;\n}\n\n    /* =====================\n       LEFT: BOOK COVER\n    ====================== */\n    .book-cover {\n      display: flex;\n      flex-direction: column;\n      gap: 12px;\n    }\n\n\n    /* ===============================\n       BOOK + SHADOW SYSTEM\n    =============================== */\n    .book-wrap {\n      width: 320px;\n      aspect-ratio: 2 / 3;\n      position: relative;\n    }\n\n    .shadow-slab,\n    .shadow-slab-2,\n    .shadow-slab-3,\n    .shadow-slab-4 {\n      position: absolute;\n      inset: 0;\n      border-radius: 22px;\n      z-index: 0;\n      will-change: transform, filter, opacity;\n    }\n\n    .shadow-slab {\n      background:\n        radial-gradient(ellipse at 15% 85%, rgba(0,0,0,0.35), rgba(0,0,0,0.18) 35%, transparent 65%),\n        linear-gradient(to right, #1f1f1f 0%, #2a2a2a 45%, #3a3a3a 100%);\n      filter: blur(13px);\n      opacity: 0.35;\n    }\n\n    .shadow-slab-2 {\n      background: radial-gradient(circle at top right, #f6e6a8 0%, #e2c36b 35%, #b58a3c 70%, #7a5524 100%);\n      filter: blur(6px);\n      opacity: 0.30;\n    }\n\n    .shadow-slab-3,\n    .shadow-slab-4 {\n      background: #333;\n      filter: blur(11px);\n      opacity: 0.30;\n    }\n\n    .book {\n      position: relative;\n      width: 100%;\n      height: 100%;\n      border-radius: 22px;\n      overflow: hidden;\n      z-index: 2;\n      background: #f7f4ee;\n    }\n\n    .front-slab {\n      position: absolute;\n      inset: 0;\n      border-radius: 22px;\n      background: linear-gradient(to right, rgba(0,0,0,0.4), rgba(0,0,0,0.1) 3%, transparent 10%);\n      z-index: 3;\n      pointer-events: none;\n      opacity: 0.5;\n    }\n\n\n    @media (prefers-reduced-motion: reduce) {\n      .cover-frame {\n        transition: none;\n        transform: none;\n      }\n      .cover-frame:hover {\n        --lift: 0;\n      }\n    }\n\n    .start-reading {\n      display: inline-flex;\n      align-items: center;\n      justify-content: center;\n      width: 100%;\n      padding: 12px 14px;\n      border-radius: 999px;\n\n      font-size: 11px;\n      letter-spacing: 0.16em;\n      text-transform: uppercase;\n      font-weight: 650;\n      color: rgba(34,197,94,0.92);\n      text-shadow:\n        0 0 10px rgba(34,197,94,0.22),\n        0 0 22px rgba(34,197,94,0.14);\n\n      /* graphite: dark + slightly mineral */\n      background:\n        radial-gradient(120% 140% at 20% 10%, rgba(255,255,255,0.10) 0%, rgba(255,255,255,0.00) 55%),\n        radial-gradient(140% 140% at 80% 90%, rgba(255,255,255,0.06) 0%, rgba(255,255,255,0.00) 60%),\n        linear-gradient(180deg, #141414 0%, #0a0a0a 100%);\n      border: 1px solid rgba(255,255,255,0.10);\n      box-shadow:\n        0 14px 34px rgba(0,0,0,0.22),\n        0 8px 16px rgba(0,0,0,0.18),\n        inset 0 1px 0 rgba(255,255,255,0.10),\n        inset 0 -1px 0 rgba(0,0,0,0.55);\n\n      position: relative;\n      overflow: hidden;\n      cursor: pointer;\n      user-select: none;\n      -webkit-tap-highlight-color: transparent;\n\n      transition:\n        transform 160ms cubic-bezier(0.2, 0.8, 0.2, 1),\n        box-shadow 160ms cubic-bezier(0.2, 0.8, 0.2, 1),\n        border-color 160ms cubic-bezier(0.2, 0.8, 0.2, 1);\n    }\n\n    .start-reading::before {\n      content: \"\";\n      position: absolute;\n      inset: 0;\n      pointer-events: none;\n      /* texture + sheen (very subtle) */\n      background:\n        linear-gradient(120deg, rgba(255,255,255,0.12) 0%, rgba(255,255,255,0.00) 46%),\n        repeating-linear-gradient(0deg,\n          rgba(255,255,255,0.028) 0px,\n          rgba(255,255,255,0.028) 1px,\n          rgba(0,0,0,0.00) 3px,\n          rgba(0,0,0,0.00) 6px),\n        radial-gradient(120% 90% at 50% 0%, rgba(34,197,94,0.14) 0%, rgba(34,197,94,0.00) 62%);\n      opacity: 0.75;\n    }\n\n    .start-reading:hover {\n      transform: translateY(-1px);\n      border-color: rgba(34,197,94,0.30);\n      box-shadow:\n        0 18px 42px rgba(0,0,0,0.24),\n        0 10px 18px rgba(0,0,0,0.18),\n        inset 0 1px 0 rgba(255,255,255,0.12),\n        inset 0 -1px 0 rgba(0,0,0,0.55);\n      text-shadow:\n        0 0 12px rgba(34,197,94,0.28),\n        0 0 26px rgba(34,197,94,0.18);\n    }\n\n    .start-reading:active {\n      transform: translateY(0px);\n      box-shadow:\n        0 14px 34px rgba(0,0,0,0.22),\n        0 8px 16px rgba(0,0,0,0.18),\n        inset 0 1px 0 rgba(255,255,255,0.10),\n        inset 0 -1px 0 rgba(0,0,0,0.55);\n    }\n\n    .start-reading:focus-visible {\n      outline: none;\n      box-shadow:\n        0 18px 42px rgba(0,0,0,0.24),\n        0 0 0 4px rgba(34,197,94,0.22),\n        0 0 0 1px rgba(34,197,94,0.26),\n        inset 0 1px 0 rgba(255,255,255,0.12),\n        inset 0 -1px 0 rgba(0,0,0,0.55);\n      border-color: rgba(34,197,94,0.34);\n    }\n\n    @media (prefers-reduced-motion: reduce) {\n      .start-reading {\n        transition: none;\n      }\n      .start-reading:hover {\n        transform: none;\n      }\n    }\n\n    /* =====================\n       CENTER: CONTENT\n    ====================== */\n    .content h1 {\n      font-size: 40px;\n      font-weight: 800;\n      line-height: 1.15;\n      margin: 0;\n    }\n\n    .byline {\n      font-size: 13px;\n      letter-spacing: 0.12em;\n      color: #666;\n      font-weight: 600;\n    }\n\n    .tagline {\n      font-size: 18px;\n      font-weight: 500;\n      color: #333;\n    }\n\n    .paragraph {\n      font-size: 15px;\n      color: #222;\n    }\n\n    .meta {\n      margin-top: 20px;\n      padding-top: 20px;\n      border-top: 1px solid var(--line);\n      display: grid;\n      grid-template-columns: repeat(2, 1fr);\n      gap: 12px 24px;\n      font-size: 13px;\n    }\n\n    .author {\n      margin-top: 20px;\n      padding-top: 20px;\n      border-top: 1px solid var(--line);\n      display: flex;\n      gap: 16px;\n      align-items: flex-start;\n    }\n\n    .author img {\n      width: 44px;\n      height: 44px;\n      border-radius: 50%;\n    }\n\n    /* =====================\n       RIGHT: RELATED\n    ====================== */\n    .related {\n      display: flex;\n      flex-direction: column;\n      gap: 20px;\n    }\n\n    .related-title {\n      font-size: 11px;\n      letter-spacing: 0.14em;\n      color: #666;\n      text-transform: uppercase;\n      font-weight: 600;\n    }\n\n    .related-item {\n      display: flex;\n      flex-direction: column;\n      gap: 6px;\n      cursor: pointer;\n      transition: transform 0.12s ease, box-shadow 0.12s ease;\n    }\n\n    .related-item:hover {\n      transform: translateY(-2px);\n    }\n\n    .related-thumb {\n      border-radius: 6px;\n      overflow: hidden;\n      aspect-ratio: 3 / 4;\n      box-shadow: 0 8px 24px rgba(0,0,0,0.1);\n\n      /* Gray placeholder shape */\n      background: linear-gradient(135deg, #e5e7eb 0%, #d1d5db 45%, #cbd5e1 100%);\n      border: 1px solid rgba(0,0,0,0.06);\n    }\n\n    .related-thumb img {\n      width: 100%;\n      height: 100%;\n      object-fit: cover;\n      filter: grayscale(1);\n      opacity: 0.85;\n      transition: filter 160ms ease, opacity 160ms ease;\n    }\n\n    .related-thumb .thumb-placeholder {\n      width: 100%;\n      height: 100%;\n      display: block;\n    }\n\n    .related-item a {\n      font-size: 12px;\n      font-weight: 600;\n      color: #111;\n    }\n\n    /* =====================\n       RIGHT: 13 CHAPTERS\n    ====================== */\n    .chapters {\n      display: flex;\n      flex-direction: column;\n      gap: 10px;\n    }\n\n    .chapters-title {\n      font-size: 11px;\n      letter-spacing: 0.12em;\n      color: rgba(17,17,17,0.52);\n      text-transform: uppercase;\n      font-weight: 600;\n    }\n\n    .chapters-help {\n      margin-top: -4px;\n      font-size: 11px;\n      line-height: 1.35;\n      color: rgba(17,17,17,0.42);\n    }\n\n    .chapter-list {\n      list-style: none;\n      padding: 0;\n      margin: 0;\n      display: flex;\n      flex-direction: column;\n      gap: 0;\n      border-top: 1px solid rgba(0,0,0,0.06);\n    }\n\n    .chapter-item {\n      display: grid;\n      grid-template-columns: 3ch 1fr;\n      gap: 12px;\n      align-items: start;\n      padding: 10px 0;\n      border-bottom: 1px solid rgba(0,0,0,0.06);\n    }\n\n    .chapter-item--preface .chapter-name {\n      font-weight: 760;\n      letter-spacing: -0.01em;\n      color: rgba(17,17,17,0.90);\n    }\n\n    .chapter-item--current .chapter-name {\n      color: rgba(17,17,17,0.92);\n      text-decoration: underline;\n      text-decoration-thickness: 1px;\n      text-underline-offset: 3px;\n      text-decoration-color: rgba(17,17,17,0.22);\n    }\n\n    .chapter-num {\n      width: auto;\n      height: auto;\n      border-radius: 0;\n      display: block;\n      text-align: right;\n      font-size: 11px;\n      font-weight: 650;\n      color: rgba(17,17,17,0.46);\n      font-variant-numeric: tabular-nums;\n    }\n\n    .chapter-name {\n      font-size: 12px;\n      font-weight: 600;\n      color: rgba(17,17,17,0.80);\n      line-height: 1.3;\n    }\n\n    .chapter-note {\n      margin-top: 2px;\n      font-size: 11px;\n      color: rgba(17,17,17,0.46);\n      line-height: 1.4;\n    }\n\n    /* =====================\n       RESPONSIVE\n    ====================== */\n    @media (max-width: 900px) {\n      .chapter-content {\n        max-width: 100%;\n        padding: 0 24px;\n      }\n\n      .page-widget {\n        max-width: 100%;\n        margin-left: 24px;\n        margin-right: 24px;\n      }\n\n      .chapter-title {\n        font-size: 42px;\n      }\n\n      .chapter-body {\n        font-size: 18px;\n      }\n\n      .chapter-body h2 {\n        font-size: 32px;\n      }\n\n      .chapter-body h3 {\n        font-size: 24px;\n      }\n    }\n\n    @media (max-width: 768px) {\n      .header {\n        flex-direction: column;\n        gap: 12px;\n      }\n\n      .chapter-content {\n        padding: 0 16px;\n      }\n\n      .page-widget {\n        margin-left: 16px;\n        margin-right: 16px;\n      }\n\n      .chapter-title {\n        font-size: 38px;\n      }\n\n      .chapter-body {\n        font-size: 17px;\n      }\n\n      .chapter-body h2 {\n        font-size: 30px;\n      }\n\n      .chapter-body h3 {\n        font-size: 22px;\n      }\n    }\n  </style>\n</head>\n\n<body>\n  <div class=\"page\">\n    <div class=\"container\">\n\n      <!-- SIDEBAR BACKDROP -->\n      <div class=\"sidebar-backdrop\" id=\"sidebarBackdrop\"></div>\n\n      <!-- SIDEBAR -->\n      <aside class=\"sidebar\" id=\"sidebar\">\n        <div class=\"sidebar__title\">Working Fundamentals</div>\n        <ul class=\"sidebar__chapter-list\">\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-introduction\" class=\"sidebar__chapter-link\" target=\"_blank\">Introduction</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-1-of-13-programming-fundamentals\" class=\"sidebar__chapter-link sidebar__chapter-link\" target=\"_blank\">Chapter 1 ¬∑ Programming Fundamentals</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-2-of-13-data-structures\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 2 ¬∑ Data Structures</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-3-of-13-algorithms-and-complexity\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 3 ¬∑ Algorithms & Complexity</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-4-of-13-control-and-flow\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 4 ¬∑ Control & Flow</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-5-of-13-state-and-change\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 5 ¬∑ State & Change</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-6-of-13-design-principles\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 6 ¬∑ Design Principles</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-7-of-13-architecture\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 7 ¬∑ Architecture</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-8-of-13-persistence-and-data-modeling\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 8 ¬∑ Persistence & Data Modeling</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-9-of-13-interfaces-and-apis\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 9 ¬∑ Interfaces & APIs</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-10-of-13-errors-and-failure\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 10 ¬∑ Errors & Failure</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-11-of-13-testing\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 11 ¬∑ Testing</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-12-of-13-performance-and-scale\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 12 ¬∑ Performance & Scale</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"#\" class=\"sidebar__chapter-link\"> class=\"sidebar__chapter-link sidebar__chapter-link--current\">Chapter 13 ¬∑ The\\ Developer‚Äôs\\ Role</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-outroduction\" class=\"sidebar__chapter-link\" target=\"_blank\">Outroduction</a>\n          </li>\n        </ul>\n      </aside>\n\n      <!-- HEADER -->\n      <header class=\"header\" id=\"header\">\n        <a href=\"https://arvinjaysoncastro.com/\" class=\"brand\" target=\"_blank\">Arvin Jayson Castro</a>\n        <nav class=\"nav\">\n          <a href=\"https://arvinjaysoncastro.com/hungry-dev-mind\" target=\"_blank\">Books</a>\n          <a href=\"https://arvinjaysoncastro.com/working-systems\" target=\"_blank\">Working Systems</a>\n          <a href=\"https://arvinjaysoncastro.com/about\" target=\"_blank\">16 Years</a>\n          <div class=\"linkedin\">\n            <a href=\"https://www.linkedin.com/in/arvin-jayson-castro-7458199a/\" target=\"_blank\">linkedIn</a>\n            <span>let''s connect</span>\n          </div>\n        </nav>\n      </header>\n\n      <!-- PAGE WIDGET (TOP) - REMOVED -->\n      <div style=\"display: none;\">\n          <ol class=\"page-widget__pages-list\">\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">P</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Preface</div>\n                  <div class=\"page-widget__page-note\">Why fundamentals still decide outcomes.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item page-widget__page-item--current\">\n                <span class=\"page-widget__page-number\">1</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 1</div>\n                  <div class=\"page-widget__page-note\">Core principles and constraints.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">2</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 2</div>\n                  <div class=\"page-widget__page-note\">Boundaries, ownership, and interfaces.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">3</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 3</div>\n                  <div class=\"page-widget__page-note\">State, consistency, and failure modes.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">4</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 4</div>\n                  <div class=\"page-widget__page-note\">Abstractions that survive change.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">5</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 5</div>\n                  <div class=\"page-widget__page-note\">Simplicity as an engineering practice.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">6</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 6</div>\n                  <div class=\"page-widget__page-note\">Reliability, observability, and feedback.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">7</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 7</div>\n                  <div class=\"page-widget__page-note\">Delivery systems and decision hygiene.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">8</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 8</div>\n                  <div class=\"page-widget__page-note\">Documentation that stays useful.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">9</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 9</div>\n                  <div class=\"page-widget__page-note\">Testing strategy for predictable change.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">10</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 10</div>\n                  <div class=\"page-widget__page-note\">Pragmatic architecture for teams.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">11</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 11</div>\n                  <div class=\"page-widget__page-note\">Operational excellence without ceremony.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">12</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 12</div>\n                  <div class=\"page-widget__page-note\">Leadership, standards, and leverage.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">13</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 13</div>\n                  <div class=\"page-widget__page-note\">Making fundamentals non-negotiable.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">PS</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Postscript</div>\n                  <div class=\"page-widget__page-note\">A short operating model to carry forward.</div>\n                </div>\n              </a>\n            </li>\n          </ol>\n        </div>\n      </div>\n\n      <!-- MAIN -->\n      <main class=\"main\" id=\"main\">\n\n        <!-- CHAPTER CONTENT (Option 1: Magazine-style) -->\n        <article class=\"chapter-content\">\n          <header class=\"chapter-header\">\n            <div class=\"book-title\">Working Fundamentals</div>\n            <div class=\"chapter-number\" id=\"chapterIndicator\">\n              <span>chapter 13 of 13</span>\n              <span class=\"chapter-number__icon\" id=\"chapterIndicatorIcon\">‚ñæ</span>\n            </div>\n            <h1 class=\"chapter-title\">The Developer‚Äôs Role</h1>\n            <p class=\"chapter-subtitle\">Judgment, responsibility, longevity</p>\n          </header>\n\n          <div class=\"chapter-body\">\n            <h3>What this chapter is</h3>\n\n            <p>This chapter is not career advice.It is not a pep talk.It is not a manifesto.</p>\n\n            <p>This chapter defines <strong>what the role actually is</strong>.</p>\n\n            <p>Not what it looks like.Not what it is marketed as.What it <strong>demands</strong>.</p>\n\n            <h2>The core truth</h2>\n\n            <p>A developer is not paid to write code.</p>\n\n            <p>A developer is trusted to shape <strong>behavior</strong>that affects:</p>\n\n            <ul>\n\n            <li>systems</li>\n\n            </ul>\n\n            <ul>\n\n            <li>teams</li>\n\n            </ul>\n\n            <ul>\n\n            <li>organizations</li>\n\n            </ul>\n\n            <ul>\n\n            <li>people</li>\n\n            </ul>\n\n            <p>Code is just the medium.</p>\n\n            <p>üß† <strong>Mental Model</strong>Every line of code is a decision with consequences.</p>\n\n            <h2>Skill is temporary. Judgment compounds.</h2>\n\n            <p>Languages change.Frameworks expire.Tools rotate.</p>\n\n            <p>Judgment accumulates.</p>\n\n            <p>Judgment is:</p>\n\n            <ul>\n\n            <li>knowing when <em>not</em> to add</li>\n\n            </ul>\n\n            <ul>\n\n            <li>knowing when to stop</li>\n\n            </ul>\n\n            <ul>\n\n            <li>knowing what to protect</li>\n\n            </ul>\n\n            <ul>\n\n            <li>knowing what must not change</li>\n\n            </ul>\n\n            <p>üß† <strong>Perspective</strong>Senior developers are not faster typists.They are slower decision-makers.</p>\n\n            <h2>Responsibility outlives authorship</h2>\n\n            <p>You may leave a project.The system remains.</p>\n\n            <p>Someone else will inherit:</p>\n\n            <ul>\n\n            <li>your boundaries</li>\n\n            </ul>\n\n            <ul>\n\n            <li>your shortcuts</li>\n\n            </ul>\n\n            <ul>\n\n            <li>your assumptions</li>\n\n            </ul>\n\n            <ul>\n\n            <li>your clarity‚Äîor confusion</li>\n\n            </ul>\n\n            <p>That person will pay for what you leave behind.</p>\n\n            <p>üß† <strong>Mental Model</strong>You are always coding for someone you will never meet.</p>\n\n            <h2>The quiet power of restraint</h2>\n\n            <p>Most damage is done by:</p>\n\n            <ul>\n\n            <li>unnecessary abstraction</li>\n\n            </ul>\n\n            <ul>\n\n            <li>premature optimization</li>\n\n            </ul>\n\n            <ul>\n\n            <li>unneeded flexibility</li>\n\n            </ul>\n\n            <ul>\n\n            <li>cleverness without justification</li>\n\n            </ul>\n\n            <p>Restraint looks like:</p>\n\n            <ul>\n\n            <li>fewer features</li>\n\n            </ul>\n\n            <ul>\n\n            <li>smaller interfaces</li>\n\n            </ul>\n\n            <ul>\n\n            <li>boring solutions</li>\n\n            </ul>\n\n            <ul>\n\n            <li>explicit tradeoffs</li>\n\n            </ul>\n\n            <p>üß† <strong>Architect‚Äôs Note</strong>What you choose <em>not</em> to build matters more over time.</p>\n\n            <h2>Ownership is not authority</h2>\n\n            <p>Ownership is not control.</p>\n\n            <p>Ownership means:</p>\n\n            <ul>\n\n            <li>you understand the consequences</li>\n\n            </ul>\n\n            <ul>\n\n            <li>you accept accountability</li>\n\n            </ul>\n\n            <ul>\n\n            <li>you fix what you break</li>\n\n            </ul>\n\n            <ul>\n\n            <li>you defend what matters</li>\n\n            </ul>\n\n            <p>Authority fades.Ownership persists.</p>\n\n            <h2>You are a steward of complexity</h2>\n\n            <p>Complexity cannot be eliminated.It can only be:</p>\n\n            <ul>\n\n            <li>shaped</li>\n\n            </ul>\n\n            <ul>\n\n            <li>contained</li>\n\n            </ul>\n\n            <ul>\n\n            <li>deferred</li>\n\n            </ul>\n\n            <ul>\n\n            <li>revealed</li>\n\n            </ul>\n\n            <p>Your role is not to erase complexity,but to <strong>prevent it from spreading blindly</strong>.</p>\n\n            <p>üß† <strong>Mental Model</strong>Unmanaged complexity becomes suffering.</p>\n\n            <h2>Teaching through structure</h2>\n\n            <p>The best developers teach without documentation.</p>\n\n            <p>They teach through:</p>\n\n            <ul>\n\n            <li>clear boundaries</li>\n\n            </ul>\n\n            <ul>\n\n            <li>honest interfaces</li>\n\n            </ul>\n\n            <ul>\n\n            <li>predictable behavior</li>\n\n            </ul>\n\n            <ul>\n\n            <li>readable decisions</li>\n\n            </ul>\n\n            <p>The system explains itself.</p>\n\n            <p>üß† <strong>Perspective</strong>If a system requires constant explanation, it is unfinished.</p>\n\n            <h2>Ethics in engineering (quiet, but real)</h2>\n\n            <p>Engineering choices affect:</p>\n\n            <ul>\n\n            <li>privacy</li>\n\n            </ul>\n\n            <ul>\n\n            <li>safety</li>\n\n            </ul>\n\n            <ul>\n\n            <li>reliability</li>\n\n            </ul>\n\n            <ul>\n\n            <li>livelihoods</li>\n\n            </ul>\n\n            <p>Most ethical failures are not malicious.They are <strong>careless</strong>.</p>\n\n            <p>Ethics is attention applied consistently.</p>\n\n            <h2>Legacy is unavoidable</h2>\n\n            <p>Whether you want it or not,you leave a legacy.</p>\n\n            <p>It might be:</p>\n\n            <ul>\n\n            <li>a system people trust</li>\n\n            </ul>\n\n            <ul>\n\n            <li>a system people fear</li>\n\n            </ul>\n\n            <ul>\n\n            <li>a system people avoid</li>\n\n            </ul>\n\n            <p>Legacy is not size.It is <strong>impact over time</strong>.</p>\n\n            <h2>Minimal practice (the last one)</h2>\n\n            <p><strong>Question:</strong>‚ÄúIf I leave this system today, what assumptions am I forcing on the next person?‚Äù</p>\n\n            <p>If you cannot answer clearly,the work is incomplete.</p>\n\n            <h2>What beginners gain here</h2>\n\n            <ul>\n\n            <li>A sense of responsibility</li>\n\n            </ul>\n\n            <ul>\n\n            <li>A reason to slow down</li>\n\n            </ul>\n\n            <ul>\n\n            <li>A higher standard</li>\n\n            </ul>\n\n            <h2>What experienced developers recognize</h2>\n\n            <ul>\n\n            <li>Why some work feels meaningful</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Why some projects feel heavy</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Why craftsmanship matters</li>\n\n            </ul>\n\n            <p>They have lived the consequences.</p>\n\n            <h2>What this chapter deliberately avoids</h2>\n\n            <ul>\n\n            <li>Titles</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Career ladders</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Compensation advice</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Personal branding</li>\n\n            </ul>\n\n            <p>Those are external.</p>\n\n            <h2>Final Closing (the book‚Äôs spine)</h2>\n\n            <p>Good software is not clever.It is not impressive.It is not fast.</p>\n\n            <p>It <strong>holds</strong>.</p>\n\n            <p>It holds under:</p>\n\n            <ul>\n\n            <li>change</li>\n\n            </ul>\n\n            <ul>\n\n            <li>pressure</li>\n\n            </ul>\n\n            <ul>\n\n            <li>time</li>\n\n            </ul>\n\n            <ul>\n\n            <li>unfamiliar hands</li>\n\n            </ul>\n\n            <p>That is the standard.</p>\n\n            <p>If you build toward that,your work will outlast you ‚Äîand that is enough.</p>\n          </div>\n        </article>\n\n        <!-- RIGHT -->\n\n      </main>\n\n      <!-- CHAPTER NAVIGATION (BOTTOM) -->\n      <nav class=\"chapter-nav-bottom\" id=\"chapterNavBottom\">\n        <a href=\"#\" class=\"chapter-nav-bottom__link chapter-nav-bottom__link--prev\" id=\"prevChapter\">\n          <span class=\"chapter-nav-bottom__arrow\">‚Üê</span>\n          <span class=\"chapter-nav-bottom__label\">Previous</span>\n        </a>\n        <a href=\"#\" class=\"chapter-nav-bottom__link chapter-nav-bottom__link--next\" id=\"nextChapter\">\n          <span class=\"chapter-nav-bottom__label\">Next</span>\n          <span class=\"chapter-nav-bottom__arrow\">‚Üí</span>\n        </a>\n      </nav>\n\n      <!-- PAGE WIDGET (BOTTOM) - REMOVED -->\n      <div style=\"display: none;\">\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">P</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Preface</div>\n                  <div class=\"page-widget__page-note\">Why fundamentals still decide outcomes.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item page-widget__page-item--current\">\n                <span class=\"page-widget__page-number\">1</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 1</div>\n                  <div class=\"page-widget__page-note\">Core principles and constraints.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">2</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 2</div>\n                  <div class=\"page-widget__page-note\">Boundaries, ownership, and interfaces.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">3</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 3</div>\n                  <div class=\"page-widget__page-note\">State, consistency, and failure modes.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">4</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 4</div>\n                  <div class=\"page-widget__page-note\">Abstractions that survive change.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">5</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 5</div>\n                  <div class=\"page-widget__page-note\">Simplicity as an engineering practice.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">6</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 6</div>\n                  <div class=\"page-widget__page-note\">Reliability, observability, and feedback.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">7</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 7</div>\n                  <div class=\"page-widget__page-note\">Delivery systems and decision hygiene.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">8</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 8</div>\n                  <div class=\"page-widget__page-note\">Documentation that stays useful.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">9</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 9</div>\n                  <div class=\"page-widget__page-note\">Testing strategy for predictable change.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">10</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 10</div>\n                  <div class=\"page-widget__page-note\">Pragmatic architecture for teams.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">11</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 11</div>\n                  <div class=\"page-widget__page-note\">Operational excellence without ceremony.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">12</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 12</div>\n                  <div class=\"page-widget__page-note\">Leadership, standards, and leverage.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">13</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 13</div>\n                  <div class=\"page-widget__page-note\">Making fundamentals non-negotiable.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">PS</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Postscript</div>\n                  <div class=\"page-widget__page-note\">A short operating model to carry forward.</div>\n                </div>\n              </a>\n            </li>\n          </ol>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <!-- PAGE WIDGET JS -->\n  <!-- SIDEBAR TOGGLE JS -->\n  <script>\n  (() => {\n    const sidebar = document.getElementById(''sidebar'');\n    const backdrop = document.getElementById(''sidebarBackdrop'');\n    const indicator = document.getElementById(''chapterIndicator'');\n    const icon = document.getElementById(''chapterIndicatorIcon'');\n    const header = document.getElementById(''header'');\n    const main = document.getElementById(''main'');\n    const body = document.body;\n\n    if (!sidebar || !backdrop || !indicator || !icon || !header || !main) return;\n\n    let isOpen = false;\n    let scrollTimeout = null;\n\n    const openSidebar = () => {\n      isOpen = true;\n      sidebar.classList.add(''sidebar--open'');\n      backdrop.classList.add(''sidebar-backdrop--visible'');\n      header.classList.add(''header--shifted'');\n      main.classList.add(''main--shifted'');\n      icon.classList.add(''chapter-number__icon--open'');\n      body.classList.add(''sidebar-open'');\n    };\n\n    const closeSidebar = () => {\n      isOpen = false;\n      sidebar.classList.remove(''sidebar--open'');\n      backdrop.classList.remove(''sidebar-backdrop--visible'');\n      header.classList.remove(''header--shifted'');\n      main.classList.remove(''main--shifted'');\n      icon.classList.remove(''chapter-number__icon--open'');\n      body.classList.remove(''sidebar-open'');\n    };\n\n    // Toggle sidebar\n    indicator.addEventListener(''click'', (e) => {\n      e.stopPropagation();\n      if (isOpen) {\n        closeSidebar();\n      } else {\n        openSidebar();\n      }\n    });\n\n    // Close sidebar when clicking backdrop\n    backdrop.addEventListener(''click'', () => {\n      closeSidebar();\n    });\n\n    // Close sidebar when clicking outside\n    document.addEventListener(''click'', (e) => {\n      // Don''t close sidebar if clicking on brand link or nav links\n      const brandLink = header.querySelector(''.brand'');\n      const isClickOnLink = brandLink && brandLink.contains(e.target);\n      const isClickOnNav = header.querySelector(''.nav'') && header.querySelector(''.nav'').contains(e.target);\n      \n      if (isOpen && !sidebar.contains(e.target) && !indicator.contains(e.target) && !isClickOnLink && !isClickOnNav) {\n        closeSidebar();\n      }\n    });\n\n    // Close sidebar on scroll (debounced)\n    const handleScroll = () => {\n      if (isOpen) {\n        clearTimeout(scrollTimeout);\n        scrollTimeout = setTimeout(() => {\n          closeSidebar();\n        }, 100);\n      }\n    };\n\n    // Listen for scroll on main content\n    window.addEventListener(''scroll'', handleScroll, { passive: true });\n    \n    // Also listen for scroll attempts on body (when scroll is disabled)\n    let lastScrollTop = window.pageYOffset;\n    const handleScrollAttempt = () => {\n      if (isOpen) {\n        const currentScrollTop = window.pageYOffset;\n        if (currentScrollTop !== lastScrollTop) {\n          closeSidebar();\n        }\n        lastScrollTop = currentScrollTop;\n      }\n    };\n\n    // Prevent scroll on body when sidebar is open\n    document.addEventListener(''wheel'', (e) => {\n      if (isOpen && !sidebar.contains(e.target)) {\n        e.preventDefault();\n        closeSidebar();\n      }\n    }, { passive: false });\n\n    // Prevent touch scroll on body when sidebar is open\n    document.addEventListener(''touchmove'', (e) => {\n      if (isOpen && !sidebar.contains(e.target)) {\n        e.preventDefault();\n        closeSidebar();\n      }\n    }, { passive: false });\n  })();\n  </script>\n\n  <!-- CHAPTER NAVIGATION (BOTTOM) JS -->\n  <script>\n  (() => {\n    // Chapter list: Preface = 0, Chapter 1-13 = 1-13, Postscript = 14\n    const chapters = [\n      { id: ''preface'', title: ''Preface'', url: ''https://arvinjaysoncastro.com/working-fundamentals-introduction'' },\n      { id: ''ch1'', title: ''Chapter 1'', url: ''https://arvinjaysoncastro.com/working-fundamentals-1-of-13-programming-fundamentals'' },\n      { id: ''ch2'', title: ''Chapter 2'', url: ''https://arvinjaysoncastro.com/working-fundamentals-2-of-13-data-structures'' },\n      { id: ''ch3'', title: ''Chapter 3'', url: ''https://arvinjaysoncastro.com/working-fundamentals-3-of-13-algorithms-and-complexity'' },\n      { id: ''ch4'', title: ''Chapter 4'', url: ''https://arvinjaysoncastro.com/working-fundamentals-4-of-13-control-and-flow'' },\n      { id: ''ch5'', title: ''Chapter 5'', url: ''https://arvinjaysoncastro.com/working-fundamentals-5-of-13-state-and-change'' },\n      { id: ''ch6'', title: ''Chapter 6'', url: ''https://arvinjaysoncastro.com/working-fundamentals-6-of-13-design-principles'' },\n      { id: ''ch7'', title: ''Chapter 7'', url: ''https://arvinjaysoncastro.com/working-fundamentals-7-of-13-architecture'' },\n      { id: ''ch8'', title: ''Chapter 8'', url: ''https://arvinjaysoncastro.com/working-fundamentals-8-of-13-persistence-and-data-modeling'' },\n      { id: ''ch9'', title: ''Chapter 9'', url: ''https://arvinjaysoncastro.com/working-fundamentals-9-of-13-interfaces-and-apis'' },\n      { id: ''ch10'', title: ''Chapter 10'', url: ''https://arvinjaysoncastro.com/working-fundamentals-10-of-13-errors-and-failure'' },\n      { id: ''ch11'', title: ''Chapter 11'', url: ''https://arvinjaysoncastro.com/working-fundamentals-11-of-13-testing'' },\n      { id: ''ch12'', title: ''Chapter 12'', url: ''https://arvinjaysoncastro.com/working-fundamentals-12-of-13-performance-and-scale'' },\n      { id: ''ch13'', title: ''Chapter 13'', url: ''https://arvinjaysoncastro.com/working-fundamentals-13-of-13-the-developers-role'' },\n      { id: ''postscript'', title: ''Postscript'', url: ''https://arvinjaysoncastro.com/working-fundamentals-outroduction'' }\n    ];\n\n    const currentChapterIndex = 13; // Chapter 1 is index 1 (Preface is 0)\n    const prevLink = document.getElementById(''prevChapter'');\n    const nextLink = document.getElementById(''nextChapter'');\n\n    if (!prevLink || !nextLink) return;\n\n    // Previous chapter\n    if (currentChapterIndex > 0) {\n      const prevChapter = chapters[currentChapterIndex - 1];\n      prevLink.href = prevChapter.url;\n      prevLink.target = ''_blank'';\n      prevLink.innerHTML = `\n        <span class=\"chapter-nav-bottom__arrow\">‚Üê</span>\n        <span class=\"chapter-nav-bottom__label\">Previous: ${prevChapter.title}</span>\n      `;\n    } else {\n      // No previous chapter - show \"go back to book list\"\n      prevLink.href = ''https://arvinjaysoncastro.com/hungry-dev-mind'';\n      prevLink.target = ''_blank'';\n      prevLink.innerHTML = `\n        <span class=\"chapter-nav-bottom__arrow\">‚Üê</span>\n        <span class=\"chapter-nav-bottom__label\">Go back to book list</span>\n      `;\n    }\n\n    // Next chapter\n    if (currentChapterIndex < chapters.length - 1) {\n      const nextChapter = chapters[currentChapterIndex + 1];\n      nextLink.href = nextChapter.url;\n      nextLink.target = ''_blank'';\n      nextLink.innerHTML = `\n        <span class=\"chapter-nav-bottom__label\">Next: ${nextChapter.title}</span>\n        <span class=\"chapter-nav-bottom__arrow\">‚Üí</span>\n      `;\n    } else {\n      // No next chapter - show \"go back to book list\"\n      nextLink.href = ''https://arvinjaysoncastro.com/hungry-dev-mind'';\n      nextLink.target = ''_blank'';\n      nextLink.innerHTML = `\n        <span class=\"chapter-nav-bottom__label\">Go back to book list</span>\n        <span class=\"chapter-nav-bottom__arrow\">‚Üí</span>\n      `;\n    }\n  })();\n  </script>\n\n  <!-- OPTIONAL JS -->\n <script>\n(() => {\n  const wrap = document.querySelector(''.book-wrap'');\n  if (!wrap) return;\n\n  const slab1 = wrap.querySelector(''.shadow-slab'');\n  const slab2 = wrap.querySelector(''.shadow-slab-2'');\n  const slab3 = wrap.querySelector(''.shadow-slab-3'');\n  const slab4 = wrap.querySelector(''.shadow-slab-4'');\n  const front = wrap.querySelector(''.front-slab'');\n\n  const clamp = (v, min, max) => Math.max(min, Math.min(max, v));\n\n  let raf = 0;\n  let lx = 0; // light vector x\n  let ly = 0; // light vector y\n\n  function render() {\n    raf = 0;\n\n    // Shadow direction = opposite of light\n    const sx = -lx;\n    const sy = -ly;\n\n    const intensity = Math.abs(lx) + Math.abs(ly);\n\n    /* ---------------------------\n       SLAB 1 ‚Äî KEY CAST SHADOW\n    ---------------------------- */\n    slab1.style.transform =\n      `translate(${(sx * 38).toFixed(2)}px, ${(sy * 38).toFixed(2)}px)`;\n    slab1.style.filter =\n      `blur(${(14 + intensity * 6).toFixed(2)}px)`;\n    slab1.style.opacity =\n      (0.28 + intensity * 0.14).toFixed(2);\n\n    /* ---------------------------\n       SLAB 2 ‚Äî BOUNCE / COLOR BLEED\n    ---------------------------- */\n    slab2.style.transform =\n      `translate(${(sx * 14).toFixed(2)}px, ${(sy * 14).toFixed(2)}px)`;\n    slab2.style.filter =\n      `blur(${(6 + intensity * 4).toFixed(2)}px)`;\n    slab2.style.opacity =\n      (0.16 + intensity * 0.10).toFixed(2);\n\n    /* ---------------------------\n       SLAB 3 ‚Äî CONTACT SHADOW\n    ---------------------------- */\n    slab3.style.transform =\n      `translate(${(sx * 6).toFixed(2)}px, ${(sy * 6).toFixed(2)}px)`;\n    slab3.style.filter = `blur(9px)`;\n    slab3.style.opacity =\n      (0.24 + Math.abs(lx) * 0.06).toFixed(2);\n\n    /* ---------------------------\n       SLAB 4 ‚Äî AMBIENT DEPTH\n    ---------------------------- */\n    slab4.style.transform =\n      `translate(${(sx * 3).toFixed(2)}px, ${(sy * 3).toFixed(2)}px)`;\n    slab4.style.filter = `blur(18px)`;\n    slab4.style.opacity =\n      (0.16 + Math.abs(ly) * 0.04).toFixed(2);\n\n    /* ---------------------------\n       FRONT SLAB ‚Äî SPECULAR RESPONSE\n       (moves TOWARD light)\n    ---------------------------- */\nif (front) {\n  // Very subtle counter-parallax (NOT toward light)\n  front.style.transform =\n    `translate(${(-lx * 1.6).toFixed(2)}px, ${(-ly * 1.6).toFixed(2)}px)`;\n\n  // Opacity increases when light is grazing\n  front.style.opacity =\n    (0.34 + intensity * 0.22).toFixed(2);\n\n  // Highlight shifts OPPOSITE the light direction\n  const gx = 50 - lx * 28;\n  const gy = 50 - ly * 28;\n  front.style.backgroundPosition = `${gx}% ${gy}%`;\n}\n\n  }\n\n  function onMove(e) {\n    const r = wrap.getBoundingClientRect();\n    const cx = r.left + r.width / 2;\n    const cy = r.top + r.height / 2;\n\n    // LIGHT VECTOR (mouse = light source)\n    lx = clamp((e.clientX - cx) / (r.width / 2), -1, 1);\n    ly = clamp((e.clientY - cy) / (r.height / 2), -1, 1);\n\n    if (!raf) raf = requestAnimationFrame(render);\n  }\n\n  window.addEventListener(''mousemove'', onMove, { passive: true });\n})();\n</script>\n</body>\n</html>\n", "css": "body { font-family: system-ui; padding: 20px; }", "js": "console.log(\"Code Runner initialized\");", "imports": {"css": [], "js": []}, "entryPoint": {"type": "htmlDocument", "mountSelector": "#app", "injectMountIfMissing": true}, "settings": {"mode": "play", "viewport": {"type": "responsive", "background": "white"}, "securityPreset": "trusted", "autoRun": true, "runOnLoad": true}, "codePanel": {"isVisible": false, "isEditable": false}}}]}]}',
    '1.0.0',
    true,
    '88b62d69-6012-47ae-b45b-9ccc5f1dc87c',
    NOW(),
    NOW(),
    'public',
    NULL,
    false,
    NULL,
    'page',
    NULL,
    NULL,
    NULL,
    NULL,
    NULL,
    false,
    0,
    NULL,
    true,
    false,
    NULL,
    NULL,
    '{"id": "block-root", "style": {}, "type": "container", "children": [{"id": "temp-container", "style": {"width": "100vw", "height": "100vh"}, "type": "container", "children": [{"id": "temp-coderunner", "style": {}, "type": "codeRunner", "data": {"html": "<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n  <meta charset=\"UTF-8\" />\n  <title>Working Fundamentals ‚Äî Arvin Jayson Castro</title>\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n\n  <!-- =====================\n       GLOBAL STYLES\n  ====================== -->\n  <style>\n    :root {\n      --bg: #f7f8f8;\n      --ink: #111111;\n      --muted: #666666;\n      --line: rgba(0,0,0,0.08);\n      --accent: #16a34a;\n      --link: #3b82f6;\n      --max-width: 1200px;\n    }\n\n    * {\n      box-sizing: border-box;\n    }\n\n    body {\n      margin: 0;\n      font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, sans-serif;\n      color: var(--ink);\n      background-color: var(--bg);\n      background-image:\n        radial-gradient(980px 560px at 14% 18%, rgba(16,185,129,0.10) 0%, rgba(16,185,129,0) 60%),\n        radial-gradient(860px 540px at 86% 74%, rgba(245,158,11,0.10) 0%, rgba(245,158,11,0) 62%),\n        repeating-linear-gradient(0deg, rgba(0,0,0,0.043) 0, rgba(0,0,0,0.043) 1px, transparent 1px, transparent 46px),\n        repeating-linear-gradient(90deg, rgba(0,0,0,0.043) 0, rgba(0,0,0,0.043) 1px, transparent 1px, transparent 46px);\n      min-height: 100vh;\n    }\n\n    a {\n      color: inherit;\n      text-decoration: none;\n    }\n\n    img {\n      max-width: 100%;\n      display: block;\n    }\n\n    /* =====================\n       PAGE WRAPPER\n    ====================== */\n    .page {\n      padding: 22px 24px;\n    }\n\n    .container {\n      max-width: var(--max-width);\n      margin: 0 auto;\n    }\n\n    /* =====================\n       SIDEBAR BACKDROP\n    ====================== */\n    .sidebar-backdrop {\n      position: fixed;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n      background: rgba(0, 0, 0, 0.2);\n      backdrop-filter: blur(4px);\n      -webkit-backdrop-filter: blur(4px);\n      opacity: 0;\n      visibility: hidden;\n      transition: opacity 0.3s ease, visibility 0.3s ease;\n      z-index: 999;\n      pointer-events: none;\n    }\n\n    .sidebar-backdrop--visible {\n      opacity: 1;\n      visibility: visible;\n      pointer-events: auto;\n    }\n\n    /* =====================\n       SIDEBAR\n    ====================== */\n    .sidebar {\n      position: fixed;\n      top: 0;\n      right: 0;\n      width: 320px;\n      height: 100vh;\n      background: var(--bg);\n      border-left: 1px solid var(--line);\n      transform: translateX(100%);\n      transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n      z-index: 1000;\n      overflow-y: auto;\n      padding: 24px;\n    }\n\n    .sidebar--open {\n      transform: translateX(0);\n    }\n\n    .sidebar__title {\n      font-size: 16px;\n      font-weight: 600;\n      margin-bottom: 24px;\n      color: var(--ink);\n    }\n\n    /* Prevent body scroll when sidebar is open */\n    body.sidebar-open {\n      overflow: hidden;\n    }\n\n    .sidebar__chapter-list {\n      list-style: none;\n      margin: 0;\n      padding: 0;\n    }\n\n    .sidebar__chapter-item {\n      margin: 0 0 8px 0;\n    }\n\n    .sidebar__chapter-link {\n      display: block;\n      font-size: 14px;\n      color: var(--muted);\n      text-decoration: none;\n      padding: 8px 0;\n      transition: color 0.2s ease;\n      line-height: 1.5;\n    }\n\n    .sidebar__chapter-link:hover {\n      color: var(--ink);\n    }\n\n    .sidebar__chapter-link {\n      color: var(--ink);\n      font-weight: 500;\n    }\n\n    /* =====================\n       HEADER (Top bar with chapter indicator)\n    ====================== */\n    .header {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      padding: 10px 0;\n      border-bottom: 1px solid var(--line);\n      position: relative;\n      transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n    }\n\n    .header--shifted {\n      transform: translateX(-320px);\n    }\n\n    .brand {\n      font-size: 16px;\n      font-weight: 600;\n      cursor: pointer;\n      display: inline-block;\n    }\n\n    .nav {\n      display: flex;\n      gap: 24px;\n      align-items: center;\n      font-size: 14px;\n    }\n\n    .nav a {\n      color: #1f2937;\n    }\n\n    .linkedin {\n      display: flex;\n      flex-direction: column;\n      align-items: flex-start;\n    }\n\n    .linkedin a {\n      color: var(--link);\n    }\n\n    .linkedin span {\n      font-family: Georgia, serif;\n      font-size: 9px;\n      font-style: italic;\n      color: #999;\n    }\n\n    /* =====================\n       MAIN GRID\n    ====================== */\n    .main {\n      padding-top: 48px;\n      padding-bottom: 48px;\n      display: flex;\n      justify-content: center;\n      align-items: start;\n    }\n\n    /* =====================\n       CHAPTER READING AREA (Option 1: Magazine-style)\n    ====================== */\n    .chapter-content {\n      max-width: 768px;\n      width: 100%;\n      margin: 0 auto;\n    }\n\n    .chapter-header {\n      margin-bottom: 56px;\n      padding-bottom: 32px;\n      border-bottom: 2px solid var(--line);\n    }\n\n    .book-title {\n      font-size: 12px;\n      letter-spacing: 0.15em;\n      text-transform: uppercase;\n      color: var(--muted);\n      font-weight: 500;\n      margin-bottom: 8px;\n      opacity: 0.7;\n    }\n\n    .chapter-number {\n      font-size: 13px;\n      letter-spacing: 0.2em;\n      text-transform: uppercase;\n      color: var(--muted);\n      font-weight: 600;\n      margin-bottom: 12px;\n      display: flex;\n      align-items: center;\n      gap: 8px;\n      cursor: pointer;\n      user-select: none;\n      transition: color 0.2s ease;\n    }\n\n    .chapter-number:hover {\n      color: var(--ink);\n    }\n\n    .chapter-number__icon {\n      font-size: 10px;\n      opacity: 0.6;\n      transition: transform 0.3s ease, opacity 0.2s ease;\n    }\n\n    .chapter-number:hover .chapter-number__icon {\n      opacity: 0.8;\n    }\n\n    .chapter-number__icon--open {\n      transform: rotate(180deg);\n    }\n\n    .chapter-title {\n      font-size: 56px;\n      font-weight: 900;\n      line-height: 1.05;\n      margin: 0 0 20px 0;\n      color: var(--ink);\n      letter-spacing: -0.03em;\n    }\n\n    .chapter-subtitle {\n      font-size: 22px;\n      font-weight: 500;\n      color: var(--muted);\n      line-height: 1.4;\n      margin: 0;\n    }\n\n    .chapter-body {\n      font-size: 19px;\n      line-height: 1.8;\n      color: var(--ink);\n      max-width: none;\n      font-weight: 400;\n    }\n\n    .chapter-body p {\n      margin: 0 0 28px 0;\n    }\n\n    .chapter-body p:last-child {\n      margin-bottom: 0;\n    }\n\n    .chapter-body h2 {\n      font-size: 36px;\n      font-weight: 800;\n      line-height: 1.2;\n      margin: 56px 0 24px 0;\n      color: var(--ink);\n      letter-spacing: -0.02em;\n    }\n\n    .chapter-body h3 {\n      font-size: 26px;\n      font-weight: 700;\n      line-height: 1.3;\n      margin: 40px 0 18px 0;\n      color: var(--ink);\n      letter-spacing: -0.01em;\n    }\n\n    .chapter-body strong {\n      font-weight: 600;\n      color: var(--ink);\n    }\n\n    .chapter-body em {\n      font-style: italic;\n    }\n\n    .chapter-body ul,\n    .chapter-body ol {\n      margin: 28px 0;\n      padding-left: 36px;\n    }\n\n    .chapter-body li {\n      margin-bottom: 14px;\n      line-height: 1.75;\n    }\n\n    .chapter-body blockquote {\n      margin: 40px 0;\n      padding-left: 28px;\n      border-left: 4px solid var(--accent);\n      font-style: italic;\n      color: var(--muted);\n      font-size: 18px;\n      line-height: 1.7;\n    }\n\n    .chapter-body code {\n      font-family: ''Monaco'', ''Menlo'', ''Courier New'', monospace;\n      font-size: 0.9em;\n      background: rgba(0,0,0,0.04);\n      padding: 2px 6px;\n      border-radius: 3px;\n    }\n\n    .chapter-body pre {\n      background: rgba(0,0,0,0.04);\n      padding: 20px;\n      border-radius: 8px;\n      overflow-x: auto;\n      margin: 24px 0;\n    }\n\n    .chapter-body pre code {\n      background: none;\n      padding: 0;\n    }\n\n    /* Content shift when sidebar opens */\n    .main {\n      transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n    }\n\n    .main--shifted {\n      transform: translateX(-320px);\n    }\n\n    /* Prevent horizontal scroll */\n    body {\n      overflow-x: hidden;\n    }\n\n    .page {\n      overflow-x: hidden;\n    }\n\n    /* =====================\n       CHAPTER NAVIGATION (BOTTOM)\n    ====================== */\n    .chapter-nav-bottom {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      max-width: 768px;\n      width: 100%;\n      margin: 64px auto 0 auto;\n      padding: 24px 0;\n      border-top: 1px solid var(--line);\n    }\n\n    .chapter-nav-bottom__link {\n      display: flex;\n      align-items: center;\n      gap: 8px;\n      font-size: 14px;\n      color: var(--muted);\n      text-decoration: none;\n      transition: color 0.2s ease;\n      padding: 8px 0;\n    }\n\n    .chapter-nav-bottom__link:hover {\n      color: var(--ink);\n    }\n\n    .chapter-nav-bottom__arrow {\n      font-size: 16px;\n      opacity: 0.7;\n    }\n\n    .chapter-nav-bottom__label {\n      font-weight: 500;\n    }\n\n    .chapter-nav-bottom__link--prev {\n      margin-right: auto;\n    }\n\n    .chapter-nav-bottom__link--next {\n      margin-left: auto;\n    }\n\n    .chapter-nav-bottom__link--disabled {\n      opacity: 0.4;\n      cursor: not-allowed;\n      pointer-events: none;\n    }\n\n    .page-widget__pages {\n      max-height: 0;\n      overflow: hidden;\n      transition: max-height 0.4s cubic-bezier(0.4, 0, 0.2, 1),\n                  opacity 0.3s ease,\n                  margin-top 0.3s ease;\n      opacity: 0;\n      margin-top: 0;\n      background: rgba(255, 255, 255, 0.98);\n      backdrop-filter: blur(12px);\n      -webkit-backdrop-filter: blur(12px);\n      border: 1px solid rgba(0, 0, 0, 0.06);\n      border-radius: 12px;\n      box-shadow: 0 2px 12px rgba(0, 0, 0, 0.06);\n    }\n\n    .page-widget__pages--expanded {\n      max-height: 500px;\n      opacity: 1;\n      margin-top: 12px;\n      padding: 8px;\n    }\n\n    .page-widget__pages-list {\n      list-style: none;\n      margin: 0;\n      padding: 0;\n      display: flex;\n      flex-direction: column;\n      gap: 8px;\n      max-height: 400px;\n      overflow-y: auto;\n      padding-right: 4px;\n    }\n\n    .page-widget__pages-list::-webkit-scrollbar {\n      width: 6px;\n    }\n\n    .page-widget__pages-list::-webkit-scrollbar-track {\n      background: rgba(0, 0, 0, 0.02);\n      border-radius: 3px;\n    }\n\n    .page-widget__pages-list::-webkit-scrollbar-thumb {\n      background: rgba(0, 0, 0, 0.12);\n      border-radius: 3px;\n    }\n\n    .page-widget__pages-list::-webkit-scrollbar-thumb:hover {\n      background: rgba(0, 0, 0, 0.2);\n    }\n\n    .page-widget__page-item {\n      display: flex;\n      align-items: center;\n      gap: 10px;\n      padding: 8px 10px;\n      border-radius: 8px;\n      cursor: pointer;\n      transition: all 0.2s ease;\n      text-decoration: none;\n      color: var(--ink);\n    }\n\n    .page-widget__page-item:hover {\n      background: rgba(0, 0, 0, 0.03);\n      transform: translateX(2px);\n    }\n\n    .page-widget__page-item--current {\n      background: rgba(22, 163, 74, 0.08);\n      color: var(--accent);\n      font-weight: 500;\n    }\n\n    .page-widget__page-item--current:hover {\n      background: rgba(22, 163, 74, 0.12);\n    }\n\n    .page-widget__page-number {\n      display: inline-flex;\n      align-items: center;\n      justify-content: center;\n      width: 24px;\n      height: 24px;\n      background: rgba(0, 0, 0, 0.04);\n      border-radius: 5px;\n      font-size: 11px;\n      font-weight: 500;\n      flex-shrink: 0;\n      color: var(--muted);\n    }\n\n    .page-widget__page-item--current .page-widget__page-number {\n      background: rgba(22, 163, 74, 0.15);\n      color: var(--accent);\n    }\n\n    .page-widget__page-info {\n      flex: 1;\n      min-width: 0;\n    }\n\n    .page-widget__page-name {\n      font-size: 13px;\n      font-weight: 500;\n      line-height: 1.3;\n      margin: 0 0 2px 0;\n    }\n\n    .page-widget__page-note {\n      font-size: 11px;\n      color: var(--muted);\n      line-height: 1.3;\n      margin: 0;\n      white-space: nowrap;\n      overflow: hidden;\n      text-overflow: ellipsis;\n    }\n\n    @media (max-width: 768px) {\n      .page-widget__pages-list {\n        max-height: 300px;\n      }\n    }\n\n\n/* ===============================\n   WRAPPER\n================================ */\n.book-wrap {\n  width: 320px;\n  aspect-ratio: 2 / 3;\n  position: relative;\n}\n\n/* ===============================\n   CAST SHADOW SLAB (REAL SHADOW)\n================================ */\n.shadow-slab {\n    position: absolute;\n    position: absolute;\n    inset: 0;\n    border-radius: 22px;\n    /* background: #2a2a2a; */\n    transform: translate(-30px, 30px);\n    filter: blur(13px);\n    opacity: 0.35;\n    z-index: 0;\n    background: radial-gradient(ellipse at 15% 85%, rgba(0, 0, 0, 0.35), rgba(0, 0, 0, 0.18) 35%, transparent 65%), linear-gradient(to right, #1f1f1f 0%, #2a2a2a 45%, #3a3a3a 100%);\n}\n\n.shadow-slab-2 {\n    position: absolute;\n    inset: 0;\n    border-radius: 22px;\n    background: radial-gradient(circle at top right, #f6e6a8 0%, #e2c36b 35%, #b58a3c 70%, #7a5524 100%);\n    transform: translate(-10px, 10px);\n    filter: blur(5px);\n    opacity: 0.35;\n    z-index: 0;\n}\n\n.shadow-slab-3 {\n    position: absolute;\n    inset: 0;\n    border-radius: 22px;\n    background: #333;\n    transform: translate(0px, 0px);\n    filter: blur(11px);\n    opacity: 0.35;\n    z-index: 0;\n}\n\n.shadow-slab-4 {\n    position: absolute;\n    inset: 0;\n    border-radius: 22px;\n    background: #333;\n    transform: translate(0px, 0px);\n    filter: blur(11px);\n    opacity: 0.35;\n    z-index: 0;\n}\n\n/* ===============================\n   FRONT SLAB & SPIN HANDLE\n================================ */\n\n.front-slab {\n    position: absolute;\n    inset: 0;\n    border-radius: 22px;\n    background: linear-gradient(to right, rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.1) 3%, transparent 1%);\n    /* background: green; */\n    z-index: 3;\n    opacity: .5;\n    transform: translateZ(6px);\n    pointer-events: none;\n}\n\n.spin-handle {\n  display: none;\n  position: absolute;\n  top: 50%;\n  right: -22px;\n  width: 14px;\n  height: 48px;\n  border-radius: 999px;\n  background: rgba(0,0,0,0.25);\n  backdrop-filter: blur(4px);\n  cursor: grab;\n  z-index: 10;\n}\n\n/* ===============================\n   BOOK OBJECT (NO SHADOW)\n================================ */\n.book {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  border-radius: 22px;\n  overflow: hidden;\n  z-index: 2;\n\n  /* IMPORTANT: no box-shadow */\n  box-shadow: none;\n\n  /* transform: perspective(1200px) rotateX(0.6deg); */\n}\n\n/* ===============================\n   PAPER SURFACE (LIGHT FIELD)\n================================ */\n.book .surface {\n  position: absolute;\n  inset: 0;\n  border-radius: inherit;\n  pointer-events: none;\n  z-index: 1;\n\n  background:\n    linear-gradient(\n      to bottom left,\n      rgba(255,255,255,1) 0%,\n      rgba(250,250,250,1) 42%,\n      rgba(240,240,240,1) 100%\n    ),\n    repeating-linear-gradient(\n      0deg,\n      rgba(0,0,0,0.01),\n      rgba(0,0,0,0.01) 1px,\n      transparent 1px,\n      transparent 3px\n    );\n}\n\n/* ===============================\n   LEFT OCCLUSION (CURTAIN)\n================================ */\n.book .curtain {\n  position: absolute;\n  inset: 0;\n  border-radius: inherit;\n  pointer-events: none;\n  z-index: 2;\n\n  background:\n    linear-gradient(\n      to right,\n      rgba(0,0,0,0.20) 0%,\n      rgba(0,0,0,0.12) 8%,\n      rgba(0,0,0,0.05) 16%,\n      rgba(0,0,0,0.02) 22%,\n      rgba(0,0,0,0.00) 30%\n    );\n}\n\n/* ===============================\n   RIGHT HIGHLIGHT\n================================ */\n.book .highlight {\n  position: absolute;\n  inset: 0;\n  border-radius: inherit;\n  pointer-events: none;\n  z-index: 3;\n\n  background:\n    linear-gradient(\n      to left,\n      rgba(255,255,255,0.35) 0%,\n      rgba(255,255,255,0.18) 6%,\n      rgba(255,255,255,0.06) 14%,\n      rgba(255,255,255,0.00) 24%\n    );\n}\n\n/* ===============================\n   PAGE EDGE (THICKNESS)\n================================ */\n.book .edge {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 120px;\n  height: 100%;\n  border-radius: 22px 0 0 22px;\n  pointer-events: none;\n  z-index: 4;\n\n  background:\n    linear-gradient(\n      to right,\n      rgba(215,215,215,0.95) 0%,\n      rgba(245,245,245,0.95) 40%,\n      rgba(255,255,255,0.95) 75%\n    );\n\n  box-shadow:\n    inset -1px 0 0 rgba(0,0,0,0.05);\n}\n\n/* ===============================\n   SVG (PURE WHITE)\n================================ */\n.book svg {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  display: block;\n  z-index: 5;\n}\n\n    /* =====================\n       LEFT: BOOK COVER\n    ====================== */\n    .book-cover {\n      display: flex;\n      flex-direction: column;\n      gap: 12px;\n    }\n\n\n    /* ===============================\n       BOOK + SHADOW SYSTEM\n    =============================== */\n    .book-wrap {\n      width: 320px;\n      aspect-ratio: 2 / 3;\n      position: relative;\n    }\n\n    .shadow-slab,\n    .shadow-slab-2,\n    .shadow-slab-3,\n    .shadow-slab-4 {\n      position: absolute;\n      inset: 0;\n      border-radius: 22px;\n      z-index: 0;\n      will-change: transform, filter, opacity;\n    }\n\n    .shadow-slab {\n      background:\n        radial-gradient(ellipse at 15% 85%, rgba(0,0,0,0.35), rgba(0,0,0,0.18) 35%, transparent 65%),\n        linear-gradient(to right, #1f1f1f 0%, #2a2a2a 45%, #3a3a3a 100%);\n      filter: blur(13px);\n      opacity: 0.35;\n    }\n\n    .shadow-slab-2 {\n      background: radial-gradient(circle at top right, #f6e6a8 0%, #e2c36b 35%, #b58a3c 70%, #7a5524 100%);\n      filter: blur(6px);\n      opacity: 0.30;\n    }\n\n    .shadow-slab-3,\n    .shadow-slab-4 {\n      background: #333;\n      filter: blur(11px);\n      opacity: 0.30;\n    }\n\n    .book {\n      position: relative;\n      width: 100%;\n      height: 100%;\n      border-radius: 22px;\n      overflow: hidden;\n      z-index: 2;\n      background: #f7f4ee;\n    }\n\n    .front-slab {\n      position: absolute;\n      inset: 0;\n      border-radius: 22px;\n      background: linear-gradient(to right, rgba(0,0,0,0.4), rgba(0,0,0,0.1) 3%, transparent 10%);\n      z-index: 3;\n      pointer-events: none;\n      opacity: 0.5;\n    }\n\n\n    @media (prefers-reduced-motion: reduce) {\n      .cover-frame {\n        transition: none;\n        transform: none;\n      }\n      .cover-frame:hover {\n        --lift: 0;\n      }\n    }\n\n    .start-reading {\n      display: inline-flex;\n      align-items: center;\n      justify-content: center;\n      width: 100%;\n      padding: 12px 14px;\n      border-radius: 999px;\n\n      font-size: 11px;\n      letter-spacing: 0.16em;\n      text-transform: uppercase;\n      font-weight: 650;\n      color: rgba(34,197,94,0.92);\n      text-shadow:\n        0 0 10px rgba(34,197,94,0.22),\n        0 0 22px rgba(34,197,94,0.14);\n\n      /* graphite: dark + slightly mineral */\n      background:\n        radial-gradient(120% 140% at 20% 10%, rgba(255,255,255,0.10) 0%, rgba(255,255,255,0.00) 55%),\n        radial-gradient(140% 140% at 80% 90%, rgba(255,255,255,0.06) 0%, rgba(255,255,255,0.00) 60%),\n        linear-gradient(180deg, #141414 0%, #0a0a0a 100%);\n      border: 1px solid rgba(255,255,255,0.10);\n      box-shadow:\n        0 14px 34px rgba(0,0,0,0.22),\n        0 8px 16px rgba(0,0,0,0.18),\n        inset 0 1px 0 rgba(255,255,255,0.10),\n        inset 0 -1px 0 rgba(0,0,0,0.55);\n\n      position: relative;\n      overflow: hidden;\n      cursor: pointer;\n      user-select: none;\n      -webkit-tap-highlight-color: transparent;\n\n      transition:\n        transform 160ms cubic-bezier(0.2, 0.8, 0.2, 1),\n        box-shadow 160ms cubic-bezier(0.2, 0.8, 0.2, 1),\n        border-color 160ms cubic-bezier(0.2, 0.8, 0.2, 1);\n    }\n\n    .start-reading::before {\n      content: \"\";\n      position: absolute;\n      inset: 0;\n      pointer-events: none;\n      /* texture + sheen (very subtle) */\n      background:\n        linear-gradient(120deg, rgba(255,255,255,0.12) 0%, rgba(255,255,255,0.00) 46%),\n        repeating-linear-gradient(0deg,\n          rgba(255,255,255,0.028) 0px,\n          rgba(255,255,255,0.028) 1px,\n          rgba(0,0,0,0.00) 3px,\n          rgba(0,0,0,0.00) 6px),\n        radial-gradient(120% 90% at 50% 0%, rgba(34,197,94,0.14) 0%, rgba(34,197,94,0.00) 62%);\n      opacity: 0.75;\n    }\n\n    .start-reading:hover {\n      transform: translateY(-1px);\n      border-color: rgba(34,197,94,0.30);\n      box-shadow:\n        0 18px 42px rgba(0,0,0,0.24),\n        0 10px 18px rgba(0,0,0,0.18),\n        inset 0 1px 0 rgba(255,255,255,0.12),\n        inset 0 -1px 0 rgba(0,0,0,0.55);\n      text-shadow:\n        0 0 12px rgba(34,197,94,0.28),\n        0 0 26px rgba(34,197,94,0.18);\n    }\n\n    .start-reading:active {\n      transform: translateY(0px);\n      box-shadow:\n        0 14px 34px rgba(0,0,0,0.22),\n        0 8px 16px rgba(0,0,0,0.18),\n        inset 0 1px 0 rgba(255,255,255,0.10),\n        inset 0 -1px 0 rgba(0,0,0,0.55);\n    }\n\n    .start-reading:focus-visible {\n      outline: none;\n      box-shadow:\n        0 18px 42px rgba(0,0,0,0.24),\n        0 0 0 4px rgba(34,197,94,0.22),\n        0 0 0 1px rgba(34,197,94,0.26),\n        inset 0 1px 0 rgba(255,255,255,0.12),\n        inset 0 -1px 0 rgba(0,0,0,0.55);\n      border-color: rgba(34,197,94,0.34);\n    }\n\n    @media (prefers-reduced-motion: reduce) {\n      .start-reading {\n        transition: none;\n      }\n      .start-reading:hover {\n        transform: none;\n      }\n    }\n\n    /* =====================\n       CENTER: CONTENT\n    ====================== */\n    .content h1 {\n      font-size: 40px;\n      font-weight: 800;\n      line-height: 1.15;\n      margin: 0;\n    }\n\n    .byline {\n      font-size: 13px;\n      letter-spacing: 0.12em;\n      color: #666;\n      font-weight: 600;\n    }\n\n    .tagline {\n      font-size: 18px;\n      font-weight: 500;\n      color: #333;\n    }\n\n    .paragraph {\n      font-size: 15px;\n      color: #222;\n    }\n\n    .meta {\n      margin-top: 20px;\n      padding-top: 20px;\n      border-top: 1px solid var(--line);\n      display: grid;\n      grid-template-columns: repeat(2, 1fr);\n      gap: 12px 24px;\n      font-size: 13px;\n    }\n\n    .author {\n      margin-top: 20px;\n      padding-top: 20px;\n      border-top: 1px solid var(--line);\n      display: flex;\n      gap: 16px;\n      align-items: flex-start;\n    }\n\n    .author img {\n      width: 44px;\n      height: 44px;\n      border-radius: 50%;\n    }\n\n    /* =====================\n       RIGHT: RELATED\n    ====================== */\n    .related {\n      display: flex;\n      flex-direction: column;\n      gap: 20px;\n    }\n\n    .related-title {\n      font-size: 11px;\n      letter-spacing: 0.14em;\n      color: #666;\n      text-transform: uppercase;\n      font-weight: 600;\n    }\n\n    .related-item {\n      display: flex;\n      flex-direction: column;\n      gap: 6px;\n      cursor: pointer;\n      transition: transform 0.12s ease, box-shadow 0.12s ease;\n    }\n\n    .related-item:hover {\n      transform: translateY(-2px);\n    }\n\n    .related-thumb {\n      border-radius: 6px;\n      overflow: hidden;\n      aspect-ratio: 3 / 4;\n      box-shadow: 0 8px 24px rgba(0,0,0,0.1);\n\n      /* Gray placeholder shape */\n      background: linear-gradient(135deg, #e5e7eb 0%, #d1d5db 45%, #cbd5e1 100%);\n      border: 1px solid rgba(0,0,0,0.06);\n    }\n\n    .related-thumb img {\n      width: 100%;\n      height: 100%;\n      object-fit: cover;\n      filter: grayscale(1);\n      opacity: 0.85;\n      transition: filter 160ms ease, opacity 160ms ease;\n    }\n\n    .related-thumb .thumb-placeholder {\n      width: 100%;\n      height: 100%;\n      display: block;\n    }\n\n    .related-item a {\n      font-size: 12px;\n      font-weight: 600;\n      color: #111;\n    }\n\n    /* =====================\n       RIGHT: 13 CHAPTERS\n    ====================== */\n    .chapters {\n      display: flex;\n      flex-direction: column;\n      gap: 10px;\n    }\n\n    .chapters-title {\n      font-size: 11px;\n      letter-spacing: 0.12em;\n      color: rgba(17,17,17,0.52);\n      text-transform: uppercase;\n      font-weight: 600;\n    }\n\n    .chapters-help {\n      margin-top: -4px;\n      font-size: 11px;\n      line-height: 1.35;\n      color: rgba(17,17,17,0.42);\n    }\n\n    .chapter-list {\n      list-style: none;\n      padding: 0;\n      margin: 0;\n      display: flex;\n      flex-direction: column;\n      gap: 0;\n      border-top: 1px solid rgba(0,0,0,0.06);\n    }\n\n    .chapter-item {\n      display: grid;\n      grid-template-columns: 3ch 1fr;\n      gap: 12px;\n      align-items: start;\n      padding: 10px 0;\n      border-bottom: 1px solid rgba(0,0,0,0.06);\n    }\n\n    .chapter-item--preface .chapter-name {\n      font-weight: 760;\n      letter-spacing: -0.01em;\n      color: rgba(17,17,17,0.90);\n    }\n\n    .chapter-item--current .chapter-name {\n      color: rgba(17,17,17,0.92);\n      text-decoration: underline;\n      text-decoration-thickness: 1px;\n      text-underline-offset: 3px;\n      text-decoration-color: rgba(17,17,17,0.22);\n    }\n\n    .chapter-num {\n      width: auto;\n      height: auto;\n      border-radius: 0;\n      display: block;\n      text-align: right;\n      font-size: 11px;\n      font-weight: 650;\n      color: rgba(17,17,17,0.46);\n      font-variant-numeric: tabular-nums;\n    }\n\n    .chapter-name {\n      font-size: 12px;\n      font-weight: 600;\n      color: rgba(17,17,17,0.80);\n      line-height: 1.3;\n    }\n\n    .chapter-note {\n      margin-top: 2px;\n      font-size: 11px;\n      color: rgba(17,17,17,0.46);\n      line-height: 1.4;\n    }\n\n    /* =====================\n       RESPONSIVE\n    ====================== */\n    @media (max-width: 900px) {\n      .chapter-content {\n        max-width: 100%;\n        padding: 0 24px;\n      }\n\n      .page-widget {\n        max-width: 100%;\n        margin-left: 24px;\n        margin-right: 24px;\n      }\n\n      .chapter-title {\n        font-size: 42px;\n      }\n\n      .chapter-body {\n        font-size: 18px;\n      }\n\n      .chapter-body h2 {\n        font-size: 32px;\n      }\n\n      .chapter-body h3 {\n        font-size: 24px;\n      }\n    }\n\n    @media (max-width: 768px) {\n      .header {\n        flex-direction: column;\n        gap: 12px;\n      }\n\n      .chapter-content {\n        padding: 0 16px;\n      }\n\n      .page-widget {\n        margin-left: 16px;\n        margin-right: 16px;\n      }\n\n      .chapter-title {\n        font-size: 38px;\n      }\n\n      .chapter-body {\n        font-size: 17px;\n      }\n\n      .chapter-body h2 {\n        font-size: 30px;\n      }\n\n      .chapter-body h3 {\n        font-size: 22px;\n      }\n    }\n  </style>\n</head>\n\n<body>\n  <div class=\"page\">\n    <div class=\"container\">\n\n      <!-- SIDEBAR BACKDROP -->\n      <div class=\"sidebar-backdrop\" id=\"sidebarBackdrop\"></div>\n\n      <!-- SIDEBAR -->\n      <aside class=\"sidebar\" id=\"sidebar\">\n        <div class=\"sidebar__title\">Working Fundamentals</div>\n        <ul class=\"sidebar__chapter-list\">\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-introduction\" class=\"sidebar__chapter-link\" target=\"_blank\">Introduction</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-1-of-13-programming-fundamentals\" class=\"sidebar__chapter-link sidebar__chapter-link\" target=\"_blank\">Chapter 1 ¬∑ Programming Fundamentals</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-2-of-13-data-structures\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 2 ¬∑ Data Structures</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-3-of-13-algorithms-and-complexity\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 3 ¬∑ Algorithms & Complexity</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-4-of-13-control-and-flow\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 4 ¬∑ Control & Flow</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-5-of-13-state-and-change\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 5 ¬∑ State & Change</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-6-of-13-design-principles\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 6 ¬∑ Design Principles</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-7-of-13-architecture\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 7 ¬∑ Architecture</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-8-of-13-persistence-and-data-modeling\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 8 ¬∑ Persistence & Data Modeling</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-9-of-13-interfaces-and-apis\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 9 ¬∑ Interfaces & APIs</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-10-of-13-errors-and-failure\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 10 ¬∑ Errors & Failure</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-11-of-13-testing\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 11 ¬∑ Testing</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-12-of-13-performance-and-scale\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 12 ¬∑ Performance & Scale</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"#\" class=\"sidebar__chapter-link\"> class=\"sidebar__chapter-link sidebar__chapter-link--current\">Chapter 13 ¬∑ The\\ Developer‚Äôs\\ Role</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-outroduction\" class=\"sidebar__chapter-link\" target=\"_blank\">Outroduction</a>\n          </li>\n        </ul>\n      </aside>\n\n      <!-- HEADER -->\n      <header class=\"header\" id=\"header\">\n        <a href=\"https://arvinjaysoncastro.com/\" class=\"brand\" target=\"_blank\">Arvin Jayson Castro</a>\n        <nav class=\"nav\">\n          <a href=\"https://arvinjaysoncastro.com/hungry-dev-mind\" target=\"_blank\">Books</a>\n          <a href=\"https://arvinjaysoncastro.com/working-systems\" target=\"_blank\">Working Systems</a>\n          <a href=\"https://arvinjaysoncastro.com/about\" target=\"_blank\">16 Years</a>\n          <div class=\"linkedin\">\n            <a href=\"https://www.linkedin.com/in/arvin-jayson-castro-7458199a/\" target=\"_blank\">linkedIn</a>\n            <span>let''s connect</span>\n          </div>\n        </nav>\n      </header>\n\n      <!-- PAGE WIDGET (TOP) - REMOVED -->\n      <div style=\"display: none;\">\n          <ol class=\"page-widget__pages-list\">\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">P</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Preface</div>\n                  <div class=\"page-widget__page-note\">Why fundamentals still decide outcomes.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item page-widget__page-item--current\">\n                <span class=\"page-widget__page-number\">1</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 1</div>\n                  <div class=\"page-widget__page-note\">Core principles and constraints.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">2</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 2</div>\n                  <div class=\"page-widget__page-note\">Boundaries, ownership, and interfaces.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">3</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 3</div>\n                  <div class=\"page-widget__page-note\">State, consistency, and failure modes.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">4</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 4</div>\n                  <div class=\"page-widget__page-note\">Abstractions that survive change.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">5</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 5</div>\n                  <div class=\"page-widget__page-note\">Simplicity as an engineering practice.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">6</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 6</div>\n                  <div class=\"page-widget__page-note\">Reliability, observability, and feedback.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">7</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 7</div>\n                  <div class=\"page-widget__page-note\">Delivery systems and decision hygiene.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">8</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 8</div>\n                  <div class=\"page-widget__page-note\">Documentation that stays useful.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">9</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 9</div>\n                  <div class=\"page-widget__page-note\">Testing strategy for predictable change.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">10</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 10</div>\n                  <div class=\"page-widget__page-note\">Pragmatic architecture for teams.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">11</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 11</div>\n                  <div class=\"page-widget__page-note\">Operational excellence without ceremony.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">12</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 12</div>\n                  <div class=\"page-widget__page-note\">Leadership, standards, and leverage.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">13</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 13</div>\n                  <div class=\"page-widget__page-note\">Making fundamentals non-negotiable.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">PS</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Postscript</div>\n                  <div class=\"page-widget__page-note\">A short operating model to carry forward.</div>\n                </div>\n              </a>\n            </li>\n          </ol>\n        </div>\n      </div>\n\n      <!-- MAIN -->\n      <main class=\"main\" id=\"main\">\n\n        <!-- CHAPTER CONTENT (Option 1: Magazine-style) -->\n        <article class=\"chapter-content\">\n          <header class=\"chapter-header\">\n            <div class=\"book-title\">Working Fundamentals</div>\n            <div class=\"chapter-number\" id=\"chapterIndicator\">\n              <span>chapter 13 of 13</span>\n              <span class=\"chapter-number__icon\" id=\"chapterIndicatorIcon\">‚ñæ</span>\n            </div>\n            <h1 class=\"chapter-title\">The Developer‚Äôs Role</h1>\n            <p class=\"chapter-subtitle\">Judgment, responsibility, longevity</p>\n          </header>\n\n          <div class=\"chapter-body\">\n            <h3>What this chapter is</h3>\n\n            <p>This chapter is not career advice.It is not a pep talk.It is not a manifesto.</p>\n\n            <p>This chapter defines <strong>what the role actually is</strong>.</p>\n\n            <p>Not what it looks like.Not what it is marketed as.What it <strong>demands</strong>.</p>\n\n            <h2>The core truth</h2>\n\n            <p>A developer is not paid to write code.</p>\n\n            <p>A developer is trusted to shape <strong>behavior</strong>that affects:</p>\n\n            <ul>\n\n            <li>systems</li>\n\n            </ul>\n\n            <ul>\n\n            <li>teams</li>\n\n            </ul>\n\n            <ul>\n\n            <li>organizations</li>\n\n            </ul>\n\n            <ul>\n\n            <li>people</li>\n\n            </ul>\n\n            <p>Code is just the medium.</p>\n\n            <p>üß† <strong>Mental Model</strong>Every line of code is a decision with consequences.</p>\n\n            <h2>Skill is temporary. Judgment compounds.</h2>\n\n            <p>Languages change.Frameworks expire.Tools rotate.</p>\n\n            <p>Judgment accumulates.</p>\n\n            <p>Judgment is:</p>\n\n            <ul>\n\n            <li>knowing when <em>not</em> to add</li>\n\n            </ul>\n\n            <ul>\n\n            <li>knowing when to stop</li>\n\n            </ul>\n\n            <ul>\n\n            <li>knowing what to protect</li>\n\n            </ul>\n\n            <ul>\n\n            <li>knowing what must not change</li>\n\n            </ul>\n\n            <p>üß† <strong>Perspective</strong>Senior developers are not faster typists.They are slower decision-makers.</p>\n\n            <h2>Responsibility outlives authorship</h2>\n\n            <p>You may leave a project.The system remains.</p>\n\n            <p>Someone else will inherit:</p>\n\n            <ul>\n\n            <li>your boundaries</li>\n\n            </ul>\n\n            <ul>\n\n            <li>your shortcuts</li>\n\n            </ul>\n\n            <ul>\n\n            <li>your assumptions</li>\n\n            </ul>\n\n            <ul>\n\n            <li>your clarity‚Äîor confusion</li>\n\n            </ul>\n\n            <p>That person will pay for what you leave behind.</p>\n\n            <p>üß† <strong>Mental Model</strong>You are always coding for someone you will never meet.</p>\n\n            <h2>The quiet power of restraint</h2>\n\n            <p>Most damage is done by:</p>\n\n            <ul>\n\n            <li>unnecessary abstraction</li>\n\n            </ul>\n\n            <ul>\n\n            <li>premature optimization</li>\n\n            </ul>\n\n            <ul>\n\n            <li>unneeded flexibility</li>\n\n            </ul>\n\n            <ul>\n\n            <li>cleverness without justification</li>\n\n            </ul>\n\n            <p>Restraint looks like:</p>\n\n            <ul>\n\n            <li>fewer features</li>\n\n            </ul>\n\n            <ul>\n\n            <li>smaller interfaces</li>\n\n            </ul>\n\n            <ul>\n\n            <li>boring solutions</li>\n\n            </ul>\n\n            <ul>\n\n            <li>explicit tradeoffs</li>\n\n            </ul>\n\n            <p>üß† <strong>Architect‚Äôs Note</strong>What you choose <em>not</em> to build matters more over time.</p>\n\n            <h2>Ownership is not authority</h2>\n\n            <p>Ownership is not control.</p>\n\n            <p>Ownership means:</p>\n\n            <ul>\n\n            <li>you understand the consequences</li>\n\n            </ul>\n\n            <ul>\n\n            <li>you accept accountability</li>\n\n            </ul>\n\n            <ul>\n\n            <li>you fix what you break</li>\n\n            </ul>\n\n            <ul>\n\n            <li>you defend what matters</li>\n\n            </ul>\n\n            <p>Authority fades.Ownership persists.</p>\n\n            <h2>You are a steward of complexity</h2>\n\n            <p>Complexity cannot be eliminated.It can only be:</p>\n\n            <ul>\n\n            <li>shaped</li>\n\n            </ul>\n\n            <ul>\n\n            <li>contained</li>\n\n            </ul>\n\n            <ul>\n\n            <li>deferred</li>\n\n            </ul>\n\n            <ul>\n\n            <li>revealed</li>\n\n            </ul>\n\n            <p>Your role is not to erase complexity,but to <strong>prevent it from spreading blindly</strong>.</p>\n\n            <p>üß† <strong>Mental Model</strong>Unmanaged complexity becomes suffering.</p>\n\n            <h2>Teaching through structure</h2>\n\n            <p>The best developers teach without documentation.</p>\n\n            <p>They teach through:</p>\n\n            <ul>\n\n            <li>clear boundaries</li>\n\n            </ul>\n\n            <ul>\n\n            <li>honest interfaces</li>\n\n            </ul>\n\n            <ul>\n\n            <li>predictable behavior</li>\n\n            </ul>\n\n            <ul>\n\n            <li>readable decisions</li>\n\n            </ul>\n\n            <p>The system explains itself.</p>\n\n            <p>üß† <strong>Perspective</strong>If a system requires constant explanation, it is unfinished.</p>\n\n            <h2>Ethics in engineering (quiet, but real)</h2>\n\n            <p>Engineering choices affect:</p>\n\n            <ul>\n\n            <li>privacy</li>\n\n            </ul>\n\n            <ul>\n\n            <li>safety</li>\n\n            </ul>\n\n            <ul>\n\n            <li>reliability</li>\n\n            </ul>\n\n            <ul>\n\n            <li>livelihoods</li>\n\n            </ul>\n\n            <p>Most ethical failures are not malicious.They are <strong>careless</strong>.</p>\n\n            <p>Ethics is attention applied consistently.</p>\n\n            <h2>Legacy is unavoidable</h2>\n\n            <p>Whether you want it or not,you leave a legacy.</p>\n\n            <p>It might be:</p>\n\n            <ul>\n\n            <li>a system people trust</li>\n\n            </ul>\n\n            <ul>\n\n            <li>a system people fear</li>\n\n            </ul>\n\n            <ul>\n\n            <li>a system people avoid</li>\n\n            </ul>\n\n            <p>Legacy is not size.It is <strong>impact over time</strong>.</p>\n\n            <h2>Minimal practice (the last one)</h2>\n\n            <p><strong>Question:</strong>‚ÄúIf I leave this system today, what assumptions am I forcing on the next person?‚Äù</p>\n\n            <p>If you cannot answer clearly,the work is incomplete.</p>\n\n            <h2>What beginners gain here</h2>\n\n            <ul>\n\n            <li>A sense of responsibility</li>\n\n            </ul>\n\n            <ul>\n\n            <li>A reason to slow down</li>\n\n            </ul>\n\n            <ul>\n\n            <li>A higher standard</li>\n\n            </ul>\n\n            <h2>What experienced developers recognize</h2>\n\n            <ul>\n\n            <li>Why some work feels meaningful</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Why some projects feel heavy</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Why craftsmanship matters</li>\n\n            </ul>\n\n            <p>They have lived the consequences.</p>\n\n            <h2>What this chapter deliberately avoids</h2>\n\n            <ul>\n\n            <li>Titles</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Career ladders</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Compensation advice</li>\n\n            </ul>\n\n            <ul>\n\n            <li>Personal branding</li>\n\n            </ul>\n\n            <p>Those are external.</p>\n\n            <h2>Final Closing (the book‚Äôs spine)</h2>\n\n            <p>Good software is not clever.It is not impressive.It is not fast.</p>\n\n            <p>It <strong>holds</strong>.</p>\n\n            <p>It holds under:</p>\n\n            <ul>\n\n            <li>change</li>\n\n            </ul>\n\n            <ul>\n\n            <li>pressure</li>\n\n            </ul>\n\n            <ul>\n\n            <li>time</li>\n\n            </ul>\n\n            <ul>\n\n            <li>unfamiliar hands</li>\n\n            </ul>\n\n            <p>That is the standard.</p>\n\n            <p>If you build toward that,your work will outlast you ‚Äîand that is enough.</p>\n          </div>\n        </article>\n\n        <!-- RIGHT -->\n\n      </main>\n\n      <!-- CHAPTER NAVIGATION (BOTTOM) -->\n      <nav class=\"chapter-nav-bottom\" id=\"chapterNavBottom\">\n        <a href=\"#\" class=\"chapter-nav-bottom__link chapter-nav-bottom__link--prev\" id=\"prevChapter\">\n          <span class=\"chapter-nav-bottom__arrow\">‚Üê</span>\n          <span class=\"chapter-nav-bottom__label\">Previous</span>\n        </a>\n        <a href=\"#\" class=\"chapter-nav-bottom__link chapter-nav-bottom__link--next\" id=\"nextChapter\">\n          <span class=\"chapter-nav-bottom__label\">Next</span>\n          <span class=\"chapter-nav-bottom__arrow\">‚Üí</span>\n        </a>\n      </nav>\n\n      <!-- PAGE WIDGET (BOTTOM) - REMOVED -->\n      <div style=\"display: none;\">\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">P</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Preface</div>\n                  <div class=\"page-widget__page-note\">Why fundamentals still decide outcomes.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item page-widget__page-item--current\">\n                <span class=\"page-widget__page-number\">1</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 1</div>\n                  <div class=\"page-widget__page-note\">Core principles and constraints.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">2</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 2</div>\n                  <div class=\"page-widget__page-note\">Boundaries, ownership, and interfaces.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">3</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 3</div>\n                  <div class=\"page-widget__page-note\">State, consistency, and failure modes.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">4</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 4</div>\n                  <div class=\"page-widget__page-note\">Abstractions that survive change.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">5</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 5</div>\n                  <div class=\"page-widget__page-note\">Simplicity as an engineering practice.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">6</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 6</div>\n                  <div class=\"page-widget__page-note\">Reliability, observability, and feedback.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">7</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 7</div>\n                  <div class=\"page-widget__page-note\">Delivery systems and decision hygiene.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">8</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 8</div>\n                  <div class=\"page-widget__page-note\">Documentation that stays useful.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">9</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 9</div>\n                  <div class=\"page-widget__page-note\">Testing strategy for predictable change.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">10</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 10</div>\n                  <div class=\"page-widget__page-note\">Pragmatic architecture for teams.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">11</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 11</div>\n                  <div class=\"page-widget__page-note\">Operational excellence without ceremony.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">12</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 12</div>\n                  <div class=\"page-widget__page-note\">Leadership, standards, and leverage.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">13</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 13</div>\n                  <div class=\"page-widget__page-note\">Making fundamentals non-negotiable.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">PS</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Postscript</div>\n                  <div class=\"page-widget__page-note\">A short operating model to carry forward.</div>\n                </div>\n              </a>\n            </li>\n          </ol>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <!-- PAGE WIDGET JS -->\n  <!-- SIDEBAR TOGGLE JS -->\n  <script>\n  (() => {\n    const sidebar = document.getElementById(''sidebar'');\n    const backdrop = document.getElementById(''sidebarBackdrop'');\n    const indicator = document.getElementById(''chapterIndicator'');\n    const icon = document.getElementById(''chapterIndicatorIcon'');\n    const header = document.getElementById(''header'');\n    const main = document.getElementById(''main'');\n    const body = document.body;\n\n    if (!sidebar || !backdrop || !indicator || !icon || !header || !main) return;\n\n    let isOpen = false;\n    let scrollTimeout = null;\n\n    const openSidebar = () => {\n      isOpen = true;\n      sidebar.classList.add(''sidebar--open'');\n      backdrop.classList.add(''sidebar-backdrop--visible'');\n      header.classList.add(''header--shifted'');\n      main.classList.add(''main--shifted'');\n      icon.classList.add(''chapter-number__icon--open'');\n      body.classList.add(''sidebar-open'');\n    };\n\n    const closeSidebar = () => {\n      isOpen = false;\n      sidebar.classList.remove(''sidebar--open'');\n      backdrop.classList.remove(''sidebar-backdrop--visible'');\n      header.classList.remove(''header--shifted'');\n      main.classList.remove(''main--shifted'');\n      icon.classList.remove(''chapter-number__icon--open'');\n      body.classList.remove(''sidebar-open'');\n    };\n\n    // Toggle sidebar\n    indicator.addEventListener(''click'', (e) => {\n      e.stopPropagation();\n      if (isOpen) {\n        closeSidebar();\n      } else {\n        openSidebar();\n      }\n    });\n\n    // Close sidebar when clicking backdrop\n    backdrop.addEventListener(''click'', () => {\n      closeSidebar();\n    });\n\n    // Close sidebar when clicking outside\n    document.addEventListener(''click'', (e) => {\n      // Don''t close sidebar if clicking on brand link or nav links\n      const brandLink = header.querySelector(''.brand'');\n      const isClickOnLink = brandLink && brandLink.contains(e.target);\n      const isClickOnNav = header.querySelector(''.nav'') && header.querySelector(''.nav'').contains(e.target);\n      \n      if (isOpen && !sidebar.contains(e.target) && !indicator.contains(e.target) && !isClickOnLink && !isClickOnNav) {\n        closeSidebar();\n      }\n    });\n\n    // Close sidebar on scroll (debounced)\n    const handleScroll = () => {\n      if (isOpen) {\n        clearTimeout(scrollTimeout);\n        scrollTimeout = setTimeout(() => {\n          closeSidebar();\n        }, 100);\n      }\n    };\n\n    // Listen for scroll on main content\n    window.addEventListener(''scroll'', handleScroll, { passive: true });\n    \n    // Also listen for scroll attempts on body (when scroll is disabled)\n    let lastScrollTop = window.pageYOffset;\n    const handleScrollAttempt = () => {\n      if (isOpen) {\n        const currentScrollTop = window.pageYOffset;\n        if (currentScrollTop !== lastScrollTop) {\n          closeSidebar();\n        }\n        lastScrollTop = currentScrollTop;\n      }\n    };\n\n    // Prevent scroll on body when sidebar is open\n    document.addEventListener(''wheel'', (e) => {\n      if (isOpen && !sidebar.contains(e.target)) {\n        e.preventDefault();\n        closeSidebar();\n      }\n    }, { passive: false });\n\n    // Prevent touch scroll on body when sidebar is open\n    document.addEventListener(''touchmove'', (e) => {\n      if (isOpen && !sidebar.contains(e.target)) {\n        e.preventDefault();\n        closeSidebar();\n      }\n    }, { passive: false });\n  })();\n  </script>\n\n  <!-- CHAPTER NAVIGATION (BOTTOM) JS -->\n  <script>\n  (() => {\n    // Chapter list: Preface = 0, Chapter 1-13 = 1-13, Postscript = 14\n    const chapters = [\n      { id: ''preface'', title: ''Preface'', url: ''https://arvinjaysoncastro.com/working-fundamentals-introduction'' },\n      { id: ''ch1'', title: ''Chapter 1'', url: ''https://arvinjaysoncastro.com/working-fundamentals-1-of-13-programming-fundamentals'' },\n      { id: ''ch2'', title: ''Chapter 2'', url: ''https://arvinjaysoncastro.com/working-fundamentals-2-of-13-data-structures'' },\n      { id: ''ch3'', title: ''Chapter 3'', url: ''https://arvinjaysoncastro.com/working-fundamentals-3-of-13-algorithms-and-complexity'' },\n      { id: ''ch4'', title: ''Chapter 4'', url: ''https://arvinjaysoncastro.com/working-fundamentals-4-of-13-control-and-flow'' },\n      { id: ''ch5'', title: ''Chapter 5'', url: ''https://arvinjaysoncastro.com/working-fundamentals-5-of-13-state-and-change'' },\n      { id: ''ch6'', title: ''Chapter 6'', url: ''https://arvinjaysoncastro.com/working-fundamentals-6-of-13-design-principles'' },\n      { id: ''ch7'', title: ''Chapter 7'', url: ''https://arvinjaysoncastro.com/working-fundamentals-7-of-13-architecture'' },\n      { id: ''ch8'', title: ''Chapter 8'', url: ''https://arvinjaysoncastro.com/working-fundamentals-8-of-13-persistence-and-data-modeling'' },\n      { id: ''ch9'', title: ''Chapter 9'', url: ''https://arvinjaysoncastro.com/working-fundamentals-9-of-13-interfaces-and-apis'' },\n      { id: ''ch10'', title: ''Chapter 10'', url: ''https://arvinjaysoncastro.com/working-fundamentals-10-of-13-errors-and-failure'' },\n      { id: ''ch11'', title: ''Chapter 11'', url: ''https://arvinjaysoncastro.com/working-fundamentals-11-of-13-testing'' },\n      { id: ''ch12'', title: ''Chapter 12'', url: ''https://arvinjaysoncastro.com/working-fundamentals-12-of-13-performance-and-scale'' },\n      { id: ''ch13'', title: ''Chapter 13'', url: ''https://arvinjaysoncastro.com/working-fundamentals-13-of-13-the-developers-role'' },\n      { id: ''postscript'', title: ''Postscript'', url: ''https://arvinjaysoncastro.com/working-fundamentals-outroduction'' }\n    ];\n\n    const currentChapterIndex = 13; // Chapter 1 is index 1 (Preface is 0)\n    const prevLink = document.getElementById(''prevChapter'');\n    const nextLink = document.getElementById(''nextChapter'');\n\n    if (!prevLink || !nextLink) return;\n\n    // Previous chapter\n    if (currentChapterIndex > 0) {\n      const prevChapter = chapters[currentChapterIndex - 1];\n      prevLink.href = prevChapter.url;\n      prevLink.target = ''_blank'';\n      prevLink.innerHTML = `\n        <span class=\"chapter-nav-bottom__arrow\">‚Üê</span>\n        <span class=\"chapter-nav-bottom__label\">Previous: ${prevChapter.title}</span>\n      `;\n    } else {\n      // No previous chapter - show \"go back to book list\"\n      prevLink.href = ''https://arvinjaysoncastro.com/hungry-dev-mind'';\n      prevLink.target = ''_blank'';\n      prevLink.innerHTML = `\n        <span class=\"chapter-nav-bottom__arrow\">‚Üê</span>\n        <span class=\"chapter-nav-bottom__label\">Go back to book list</span>\n      `;\n    }\n\n    // Next chapter\n    if (currentChapterIndex < chapters.length - 1) {\n      const nextChapter = chapters[currentChapterIndex + 1];\n      nextLink.href = nextChapter.url;\n      nextLink.target = ''_blank'';\n      nextLink.innerHTML = `\n        <span class=\"chapter-nav-bottom__label\">Next: ${nextChapter.title}</span>\n        <span class=\"chapter-nav-bottom__arrow\">‚Üí</span>\n      `;\n    } else {\n      // No next chapter - show \"go back to book list\"\n      nextLink.href = ''https://arvinjaysoncastro.com/hungry-dev-mind'';\n      nextLink.target = ''_blank'';\n      nextLink.innerHTML = `\n        <span class=\"chapter-nav-bottom__label\">Go back to book list</span>\n        <span class=\"chapter-nav-bottom__arrow\">‚Üí</span>\n      `;\n    }\n  })();\n  </script>\n\n  <!-- OPTIONAL JS -->\n <script>\n(() => {\n  const wrap = document.querySelector(''.book-wrap'');\n  if (!wrap) return;\n\n  const slab1 = wrap.querySelector(''.shadow-slab'');\n  const slab2 = wrap.querySelector(''.shadow-slab-2'');\n  const slab3 = wrap.querySelector(''.shadow-slab-3'');\n  const slab4 = wrap.querySelector(''.shadow-slab-4'');\n  const front = wrap.querySelector(''.front-slab'');\n\n  const clamp = (v, min, max) => Math.max(min, Math.min(max, v));\n\n  let raf = 0;\n  let lx = 0; // light vector x\n  let ly = 0; // light vector y\n\n  function render() {\n    raf = 0;\n\n    // Shadow direction = opposite of light\n    const sx = -lx;\n    const sy = -ly;\n\n    const intensity = Math.abs(lx) + Math.abs(ly);\n\n    /* ---------------------------\n       SLAB 1 ‚Äî KEY CAST SHADOW\n    ---------------------------- */\n    slab1.style.transform =\n      `translate(${(sx * 38).toFixed(2)}px, ${(sy * 38).toFixed(2)}px)`;\n    slab1.style.filter =\n      `blur(${(14 + intensity * 6).toFixed(2)}px)`;\n    slab1.style.opacity =\n      (0.28 + intensity * 0.14).toFixed(2);\n\n    /* ---------------------------\n       SLAB 2 ‚Äî BOUNCE / COLOR BLEED\n    ---------------------------- */\n    slab2.style.transform =\n      `translate(${(sx * 14).toFixed(2)}px, ${(sy * 14).toFixed(2)}px)`;\n    slab2.style.filter =\n      `blur(${(6 + intensity * 4).toFixed(2)}px)`;\n    slab2.style.opacity =\n      (0.16 + intensity * 0.10).toFixed(2);\n\n    /* ---------------------------\n       SLAB 3 ‚Äî CONTACT SHADOW\n    ---------------------------- */\n    slab3.style.transform =\n      `translate(${(sx * 6).toFixed(2)}px, ${(sy * 6).toFixed(2)}px)`;\n    slab3.style.filter = `blur(9px)`;\n    slab3.style.opacity =\n      (0.24 + Math.abs(lx) * 0.06).toFixed(2);\n\n    /* ---------------------------\n       SLAB 4 ‚Äî AMBIENT DEPTH\n    ---------------------------- */\n    slab4.style.transform =\n      `translate(${(sx * 3).toFixed(2)}px, ${(sy * 3).toFixed(2)}px)`;\n    slab4.style.filter = `blur(18px)`;\n    slab4.style.opacity =\n      (0.16 + Math.abs(ly) * 0.04).toFixed(2);\n\n    /* ---------------------------\n       FRONT SLAB ‚Äî SPECULAR RESPONSE\n       (moves TOWARD light)\n    ---------------------------- */\nif (front) {\n  // Very subtle counter-parallax (NOT toward light)\n  front.style.transform =\n    `translate(${(-lx * 1.6).toFixed(2)}px, ${(-ly * 1.6).toFixed(2)}px)`;\n\n  // Opacity increases when light is grazing\n  front.style.opacity =\n    (0.34 + intensity * 0.22).toFixed(2);\n\n  // Highlight shifts OPPOSITE the light direction\n  const gx = 50 - lx * 28;\n  const gy = 50 - ly * 28;\n  front.style.backgroundPosition = `${gx}% ${gy}%`;\n}\n\n  }\n\n  function onMove(e) {\n    const r = wrap.getBoundingClientRect();\n    const cx = r.left + r.width / 2;\n    const cy = r.top + r.height / 2;\n\n    // LIGHT VECTOR (mouse = light source)\n    lx = clamp((e.clientX - cx) / (r.width / 2), -1, 1);\n    ly = clamp((e.clientY - cy) / (r.height / 2), -1, 1);\n\n    if (!raf) raf = requestAnimationFrame(render);\n  }\n\n  window.addEventListener(''mousemove'', onMove, { passive: true });\n})();\n</script>\n</body>\n</html>\n", "css": "body { font-family: system-ui; padding: 20px; }", "js": "console.log(\"Code Runner initialized\");", "imports": {"css": [], "js": []}, "entryPoint": {"type": "htmlDocument", "mountSelector": "#app", "injectMountIfMissing": true}, "settings": {"mode": "play", "viewport": {"type": "responsive", "background": "white"}, "securityPreset": "trusted", "autoRun": true, "runOnLoad": true}, "codePanel": {"isVisible": false, "isEditable": false}}}]}]}',
    NULL,
    1,
    NOW()
);


-- 14. Outroduction
-- Slug: working-fundamentals-outroduction
-- ID: c273066b-d2e8-4ddb-8520-21368f6d25b6
-- File: outroduction.html
INSERT INTO App_Pages (
    id, org_id, name, slug, template_code, layout, layout_version, is_active,
    created_by_user_id, created_at, updated_at, visibility, description,
    is_template, template_metadata, kind, parent_id, section_tags, section_purpose,
    section_scope, palette_id, is_default_variation, variation_order, template_purpose,
    is_listed, is_org_landing_page, report, folder, layout_raw, layout_quarantine,
    layout_schema_version, layout_ingested_at
) VALUES (
    'c273066b-d2e8-4ddb-8520-21368f6d25b6',
    '82c2d096-2638-4837-83c8-e8a933bb17c7',
    'Outroduction',
    'working-fundamentals-outroduction',
    NULL,
    '{"id": "block-root", "style": {}, "type": "container", "children": [{"id": "temp-container", "style": {"width": "100vw", "height": "100vh"}, "type": "container", "children": [{"id": "temp-coderunner", "style": {}, "type": "codeRunner", "data": {"html": "<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n  <meta charset=\"UTF-8\" />\n  <title>Working Fundamentals ‚Äî Arvin Jayson Castro</title>\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n\n  <!-- =====================\n       GLOBAL STYLES\n  ====================== -->\n  <style>\n    :root {\n      --bg: #f7f8f8;\n      --ink: #111111;\n      --muted: #666666;\n      --line: rgba(0,0,0,0.08);\n      --accent: #16a34a;\n      --link: #3b82f6;\n      --max-width: 1200px;\n    }\n\n    * {\n      box-sizing: border-box;\n    }\n\n    body {\n      margin: 0;\n      font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, sans-serif;\n      color: var(--ink);\n      background-color: var(--bg);\n      background-image:\n        radial-gradient(980px 560px at 14% 18%, rgba(16,185,129,0.10) 0%, rgba(16,185,129,0) 60%),\n        radial-gradient(860px 540px at 86% 74%, rgba(245,158,11,0.10) 0%, rgba(245,158,11,0) 62%),\n        repeating-linear-gradient(0deg, rgba(0,0,0,0.043) 0, rgba(0,0,0,0.043) 1px, transparent 1px, transparent 46px),\n        repeating-linear-gradient(90deg, rgba(0,0,0,0.043) 0, rgba(0,0,0,0.043) 1px, transparent 1px, transparent 46px);\n      min-height: 100vh;\n    }\n\n    a {\n      color: inherit;\n      text-decoration: none;\n    }\n\n    img {\n      max-width: 100%;\n      display: block;\n    }\n\n    /* =====================\n       PAGE WRAPPER\n    ====================== */\n    .page {\n      padding: 22px 24px;\n    }\n\n    .container {\n      max-width: var(--max-width);\n      margin: 0 auto;\n    }\n\n    /* =====================\n       SIDEBAR BACKDROP\n    ====================== */\n    .sidebar-backdrop {\n      position: fixed;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n      background: rgba(0, 0, 0, 0.2);\n      backdrop-filter: blur(4px);\n      -webkit-backdrop-filter: blur(4px);\n      opacity: 0;\n      visibility: hidden;\n      transition: opacity 0.3s ease, visibility 0.3s ease;\n      z-index: 999;\n      pointer-events: none;\n    }\n\n    .sidebar-backdrop--visible {\n      opacity: 1;\n      visibility: visible;\n      pointer-events: auto;\n    }\n\n    /* =====================\n       SIDEBAR\n    ====================== */\n    .sidebar {\n      position: fixed;\n      top: 0;\n      right: 0;\n      width: 320px;\n      height: 100vh;\n      background: var(--bg);\n      border-left: 1px solid var(--line);\n      transform: translateX(100%);\n      transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n      z-index: 1000;\n      overflow-y: auto;\n      padding: 24px;\n    }\n\n    .sidebar--open {\n      transform: translateX(0);\n    }\n\n    .sidebar__title {\n      font-size: 16px;\n      font-weight: 600;\n      margin-bottom: 24px;\n      color: var(--ink);\n    }\n\n    /* Prevent body scroll when sidebar is open */\n    body.sidebar-open {\n      overflow: hidden;\n    }\n\n    .sidebar__chapter-list {\n      list-style: none;\n      margin: 0;\n      padding: 0;\n    }\n\n    .sidebar__chapter-item {\n      margin: 0 0 8px 0;\n    }\n\n    .sidebar__chapter-link {\n      display: block;\n      font-size: 14px;\n      color: var(--muted);\n      text-decoration: none;\n      padding: 8px 0;\n      transition: color 0.2s ease;\n      line-height: 1.5;\n    }\n\n    .sidebar__chapter-link:hover {\n      color: var(--ink);\n    }\n\n    .sidebar__chapter-link--current {\n      color: var(--ink);\n      font-weight: 500;\n    }\n\n    /* =====================\n       HEADER (Top bar with chapter indicator)\n    ====================== */\n    .header {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      padding: 10px 0;\n      border-bottom: 1px solid var(--line);\n      position: relative;\n      transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n    }\n\n    .header--shifted {\n      transform: translateX(-320px);\n    }\n\n    .brand {\n      font-size: 16px;\n      font-weight: 600;\n      cursor: pointer;\n      display: inline-block;\n    }\n\n    .nav {\n      display: flex;\n      gap: 24px;\n      align-items: center;\n      font-size: 14px;\n    }\n\n    .nav a {\n      color: #1f2937;\n    }\n\n    .linkedin {\n      display: flex;\n      flex-direction: column;\n      align-items: flex-start;\n    }\n\n    .linkedin a {\n      color: var(--link);\n    }\n\n    .linkedin span {\n      font-family: Georgia, serif;\n      font-size: 9px;\n      font-style: italic;\n      color: #999;\n    }\n\n    /* =====================\n       MAIN GRID\n    ====================== */\n    .main {\n      padding-top: 48px;\n      padding-bottom: 48px;\n      display: flex;\n      justify-content: center;\n      align-items: start;\n    }\n\n    /* =====================\n       CHAPTER READING AREA (Option 1: Magazine-style)\n    ====================== */\n    .chapter-content {\n      max-width: 768px;\n      width: 100%;\n      margin: 0 auto;\n    }\n\n    .chapter-header {\n      margin-bottom: 56px;\n      padding-bottom: 32px;\n      border-bottom: 2px solid var(--line);\n    }\n\n    .book-title {\n      font-size: 12px;\n      letter-spacing: 0.15em;\n      text-transform: uppercase;\n      color: var(--muted);\n      font-weight: 500;\n      margin-bottom: 8px;\n      opacity: 0.7;\n    }\n\n    .chapter-number {\n      font-size: 13px;\n      letter-spacing: 0.2em;\n      text-transform: uppercase;\n      color: var(--muted);\n      font-weight: 600;\n      margin-bottom: 12px;\n      display: flex;\n      align-items: center;\n      gap: 8px;\n      cursor: pointer;\n      user-select: none;\n      transition: color 0.2s ease;\n    }\n\n    .chapter-number:hover {\n      color: var(--ink);\n    }\n\n    .chapter-number__icon {\n      font-size: 10px;\n      opacity: 0.6;\n      transition: transform 0.3s ease, opacity 0.2s ease;\n    }\n\n    .chapter-number:hover .chapter-number__icon {\n      opacity: 0.8;\n    }\n\n    .chapter-number__icon--open {\n      transform: rotate(180deg);\n    }\n\n    .chapter-title {\n      font-size: 56px;\n      font-weight: 900;\n      line-height: 1.05;\n      margin: 0 0 20px 0;\n      color: var(--ink);\n      letter-spacing: -0.03em;\n    }\n\n    .chapter-subtitle {\n      font-size: 22px;\n      font-weight: 500;\n      color: var(--muted);\n      line-height: 1.4;\n      margin: 0;\n    }\n\n    .chapter-body {\n      font-size: 19px;\n      line-height: 1.8;\n      color: var(--ink);\n      max-width: none;\n      font-weight: 400;\n    }\n\n    .chapter-body p {\n      margin: 0 0 28px 0;\n    }\n\n    .chapter-body p:last-child {\n      margin-bottom: 0;\n    }\n\n    .chapter-body h2 {\n      font-size: 36px;\n      font-weight: 800;\n      line-height: 1.2;\n      margin: 56px 0 24px 0;\n      color: var(--ink);\n      letter-spacing: -0.02em;\n    }\n\n    .chapter-body h3 {\n      font-size: 26px;\n      font-weight: 700;\n      line-height: 1.3;\n      margin: 40px 0 18px 0;\n      color: var(--ink);\n      letter-spacing: -0.01em;\n    }\n\n    .chapter-body strong {\n      font-weight: 600;\n      color: var(--ink);\n    }\n\n    .chapter-body em {\n      font-style: italic;\n    }\n\n    .chapter-body ul,\n    .chapter-body ol {\n      margin: 28px 0;\n      padding-left: 36px;\n    }\n\n    .chapter-body li {\n      margin-bottom: 14px;\n      line-height: 1.75;\n    }\n\n    .chapter-body blockquote {\n      margin: 40px 0;\n      padding-left: 28px;\n      border-left: 4px solid var(--accent);\n      font-style: italic;\n      color: var(--muted);\n      font-size: 18px;\n      line-height: 1.7;\n    }\n\n    .chapter-body code {\n      font-family: ''Monaco'', ''Menlo'', ''Courier New'', monospace;\n      font-size: 0.9em;\n      background: rgba(0,0,0,0.04);\n      padding: 2px 6px;\n      border-radius: 3px;\n    }\n\n    .chapter-body pre {\n      background: rgba(0,0,0,0.04);\n      padding: 20px;\n      border-radius: 8px;\n      overflow-x: auto;\n      margin: 24px 0;\n    }\n\n    .chapter-body pre code {\n      background: none;\n      padding: 0;\n    }\n\n    /* Content shift when sidebar opens */\n    .main {\n      transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n    }\n\n    .main--shifted {\n      transform: translateX(-320px);\n    }\n\n    /* Prevent horizontal scroll */\n    body {\n      overflow-x: hidden;\n    }\n\n    .page {\n      overflow-x: hidden;\n    }\n\n    /* =====================\n       CHAPTER NAVIGATION (BOTTOM)\n    ====================== */\n    .chapter-nav-bottom {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      max-width: 768px;\n      width: 100%;\n      margin: 64px auto 0 auto;\n      padding: 24px 0;\n      border-top: 1px solid var(--line);\n    }\n\n    .chapter-nav-bottom__link {\n      display: flex;\n      align-items: center;\n      gap: 8px;\n      font-size: 14px;\n      color: var(--muted);\n      text-decoration: none;\n      transition: color 0.2s ease;\n      padding: 8px 0;\n    }\n\n    .chapter-nav-bottom__link:hover {\n      color: var(--ink);\n    }\n\n    .chapter-nav-bottom__arrow {\n      font-size: 16px;\n      opacity: 0.7;\n    }\n\n    .chapter-nav-bottom__label {\n      font-weight: 500;\n    }\n\n    .chapter-nav-bottom__link--prev {\n      margin-right: auto;\n    }\n\n    .chapter-nav-bottom__link--next {\n      margin-left: auto;\n    }\n\n    .chapter-nav-bottom__link--disabled {\n      opacity: 0.4;\n      cursor: not-allowed;\n      pointer-events: none;\n    }\n\n    .page-widget__pages {\n      max-height: 0;\n      overflow: hidden;\n      transition: max-height 0.4s cubic-bezier(0.4, 0, 0.2, 1),\n                  opacity 0.3s ease,\n                  margin-top 0.3s ease;\n      opacity: 0;\n      margin-top: 0;\n      background: rgba(255, 255, 255, 0.98);\n      backdrop-filter: blur(12px);\n      -webkit-backdrop-filter: blur(12px);\n      border: 1px solid rgba(0, 0, 0, 0.06);\n      border-radius: 12px;\n      box-shadow: 0 2px 12px rgba(0, 0, 0, 0.06);\n    }\n\n    .page-widget__pages--expanded {\n      max-height: 500px;\n      opacity: 1;\n      margin-top: 12px;\n      padding: 8px;\n    }\n\n    .page-widget__pages-list {\n      list-style: none;\n      margin: 0;\n      padding: 0;\n      display: flex;\n      flex-direction: column;\n      gap: 8px;\n      max-height: 400px;\n      overflow-y: auto;\n      padding-right: 4px;\n    }\n\n    .page-widget__pages-list::-webkit-scrollbar {\n      width: 6px;\n    }\n\n    .page-widget__pages-list::-webkit-scrollbar-track {\n      background: rgba(0, 0, 0, 0.02);\n      border-radius: 3px;\n    }\n\n    .page-widget__pages-list::-webkit-scrollbar-thumb {\n      background: rgba(0, 0, 0, 0.12);\n      border-radius: 3px;\n    }\n\n    .page-widget__pages-list::-webkit-scrollbar-thumb:hover {\n      background: rgba(0, 0, 0, 0.2);\n    }\n\n    .page-widget__page-item {\n      display: flex;\n      align-items: center;\n      gap: 10px;\n      padding: 8px 10px;\n      border-radius: 8px;\n      cursor: pointer;\n      transition: all 0.2s ease;\n      text-decoration: none;\n      color: var(--ink);\n    }\n\n    .page-widget__page-item:hover {\n      background: rgba(0, 0, 0, 0.03);\n      transform: translateX(2px);\n    }\n\n    .page-widget__page-item--current {\n      background: rgba(22, 163, 74, 0.08);\n      color: var(--accent);\n      font-weight: 500;\n    }\n\n    .page-widget__page-item--current:hover {\n      background: rgba(22, 163, 74, 0.12);\n    }\n\n    .page-widget__page-number {\n      display: inline-flex;\n      align-items: center;\n      justify-content: center;\n      width: 24px;\n      height: 24px;\n      background: rgba(0, 0, 0, 0.04);\n      border-radius: 5px;\n      font-size: 11px;\n      font-weight: 500;\n      flex-shrink: 0;\n      color: var(--muted);\n    }\n\n    .page-widget__page-item--current .page-widget__page-number {\n      background: rgba(22, 163, 74, 0.15);\n      color: var(--accent);\n    }\n\n    .page-widget__page-info {\n      flex: 1;\n      min-width: 0;\n    }\n\n    .page-widget__page-name {\n      font-size: 13px;\n      font-weight: 500;\n      line-height: 1.3;\n      margin: 0 0 2px 0;\n    }\n\n    .page-widget__page-note {\n      font-size: 11px;\n      color: var(--muted);\n      line-height: 1.3;\n      margin: 0;\n      white-space: nowrap;\n      overflow: hidden;\n      text-overflow: ellipsis;\n    }\n\n    @media (max-width: 768px) {\n      .page-widget__pages-list {\n        max-height: 300px;\n      }\n    }\n\n\n/* ===============================\n   WRAPPER\n================================ */\n.book-wrap {\n  width: 320px;\n  aspect-ratio: 2 / 3;\n  position: relative;\n}\n\n/* ===============================\n   CAST SHADOW SLAB (REAL SHADOW)\n================================ */\n.shadow-slab {\n    position: absolute;\n    position: absolute;\n    inset: 0;\n    border-radius: 22px;\n    /* background: #2a2a2a; */\n    transform: translate(-30px, 30px);\n    filter: blur(13px);\n    opacity: 0.35;\n    z-index: 0;\n    background: radial-gradient(ellipse at 15% 85%, rgba(0, 0, 0, 0.35), rgba(0, 0, 0, 0.18) 35%, transparent 65%), linear-gradient(to right, #1f1f1f 0%, #2a2a2a 45%, #3a3a3a 100%);\n}\n\n.shadow-slab-2 {\n    position: absolute;\n    inset: 0;\n    border-radius: 22px;\n    background: radial-gradient(circle at top right, #f6e6a8 0%, #e2c36b 35%, #b58a3c 70%, #7a5524 100%);\n    transform: translate(-10px, 10px);\n    filter: blur(5px);\n    opacity: 0.35;\n    z-index: 0;\n}\n\n.shadow-slab-3 {\n    position: absolute;\n    inset: 0;\n    border-radius: 22px;\n    background: #333;\n    transform: translate(0px, 0px);\n    filter: blur(11px);\n    opacity: 0.35;\n    z-index: 0;\n}\n\n.shadow-slab-4 {\n    position: absolute;\n    inset: 0;\n    border-radius: 22px;\n    background: #333;\n    transform: translate(0px, 0px);\n    filter: blur(11px);\n    opacity: 0.35;\n    z-index: 0;\n}\n\n/* ===============================\n   FRONT SLAB & SPIN HANDLE\n================================ */\n\n.front-slab {\n    position: absolute;\n    inset: 0;\n    border-radius: 22px;\n    background: linear-gradient(to right, rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.1) 3%, transparent 1%);\n    /* background: green; */\n    z-index: 3;\n    opacity: .5;\n    transform: translateZ(6px);\n    pointer-events: none;\n}\n\n.spin-handle {\n  display: none;\n  position: absolute;\n  top: 50%;\n  right: -22px;\n  width: 14px;\n  height: 48px;\n  border-radius: 999px;\n  background: rgba(0,0,0,0.25);\n  backdrop-filter: blur(4px);\n  cursor: grab;\n  z-index: 10;\n}\n\n/* ===============================\n   BOOK OBJECT (NO SHADOW)\n================================ */\n.book {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  border-radius: 22px;\n  overflow: hidden;\n  z-index: 2;\n\n  /* IMPORTANT: no box-shadow */\n  box-shadow: none;\n\n  /* transform: perspective(1200px) rotateX(0.6deg); */\n}\n\n/* ===============================\n   PAPER SURFACE (LIGHT FIELD)\n================================ */\n.book .surface {\n  position: absolute;\n  inset: 0;\n  border-radius: inherit;\n  pointer-events: none;\n  z-index: 1;\n\n  background:\n    linear-gradient(\n      to bottom left,\n      rgba(255,255,255,1) 0%,\n      rgba(250,250,250,1) 42%,\n      rgba(240,240,240,1) 100%\n    ),\n    repeating-linear-gradient(\n      0deg,\n      rgba(0,0,0,0.01),\n      rgba(0,0,0,0.01) 1px,\n      transparent 1px,\n      transparent 3px\n    );\n}\n\n/* ===============================\n   LEFT OCCLUSION (CURTAIN)\n================================ */\n.book .curtain {\n  position: absolute;\n  inset: 0;\n  border-radius: inherit;\n  pointer-events: none;\n  z-index: 2;\n\n  background:\n    linear-gradient(\n      to right,\n      rgba(0,0,0,0.20) 0%,\n      rgba(0,0,0,0.12) 8%,\n      rgba(0,0,0,0.05) 16%,\n      rgba(0,0,0,0.02) 22%,\n      rgba(0,0,0,0.00) 30%\n    );\n}\n\n/* ===============================\n   RIGHT HIGHLIGHT\n================================ */\n.book .highlight {\n  position: absolute;\n  inset: 0;\n  border-radius: inherit;\n  pointer-events: none;\n  z-index: 3;\n\n  background:\n    linear-gradient(\n      to left,\n      rgba(255,255,255,0.35) 0%,\n      rgba(255,255,255,0.18) 6%,\n      rgba(255,255,255,0.06) 14%,\n      rgba(255,255,255,0.00) 24%\n    );\n}\n\n/* ===============================\n   PAGE EDGE (THICKNESS)\n================================ */\n.book .edge {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 120px;\n  height: 100%;\n  border-radius: 22px 0 0 22px;\n  pointer-events: none;\n  z-index: 4;\n\n  background:\n    linear-gradient(\n      to right,\n      rgba(215,215,215,0.95) 0%,\n      rgba(245,245,245,0.95) 40%,\n      rgba(255,255,255,0.95) 75%\n    );\n\n  box-shadow:\n    inset -1px 0 0 rgba(0,0,0,0.05);\n}\n\n/* ===============================\n   SVG (PURE WHITE)\n================================ */\n.book svg {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  display: block;\n  z-index: 5;\n}\n\n    /* =====================\n       LEFT: BOOK COVER\n    ====================== */\n    .book-cover {\n      display: flex;\n      flex-direction: column;\n      gap: 12px;\n    }\n\n\n    /* ===============================\n       BOOK + SHADOW SYSTEM\n    =============================== */\n    .book-wrap {\n      width: 320px;\n      aspect-ratio: 2 / 3;\n      position: relative;\n    }\n\n    .shadow-slab,\n    .shadow-slab-2,\n    .shadow-slab-3,\n    .shadow-slab-4 {\n      position: absolute;\n      inset: 0;\n      border-radius: 22px;\n      z-index: 0;\n      will-change: transform, filter, opacity;\n    }\n\n    .shadow-slab {\n      background:\n        radial-gradient(ellipse at 15% 85%, rgba(0,0,0,0.35), rgba(0,0,0,0.18) 35%, transparent 65%),\n        linear-gradient(to right, #1f1f1f 0%, #2a2a2a 45%, #3a3a3a 100%);\n      filter: blur(13px);\n      opacity: 0.35;\n    }\n\n    .shadow-slab-2 {\n      background: radial-gradient(circle at top right, #f6e6a8 0%, #e2c36b 35%, #b58a3c 70%, #7a5524 100%);\n      filter: blur(6px);\n      opacity: 0.30;\n    }\n\n    .shadow-slab-3,\n    .shadow-slab-4 {\n      background: #333;\n      filter: blur(11px);\n      opacity: 0.30;\n    }\n\n    .book {\n      position: relative;\n      width: 100%;\n      height: 100%;\n      border-radius: 22px;\n      overflow: hidden;\n      z-index: 2;\n      background: #f7f4ee;\n    }\n\n    .front-slab {\n      position: absolute;\n      inset: 0;\n      border-radius: 22px;\n      background: linear-gradient(to right, rgba(0,0,0,0.4), rgba(0,0,0,0.1) 3%, transparent 10%);\n      z-index: 3;\n      pointer-events: none;\n      opacity: 0.5;\n    }\n\n\n    @media (prefers-reduced-motion: reduce) {\n      .cover-frame {\n        transition: none;\n        transform: none;\n      }\n      .cover-frame:hover {\n        --lift: 0;\n      }\n    }\n\n    .start-reading {\n      display: inline-flex;\n      align-items: center;\n      justify-content: center;\n      width: 100%;\n      padding: 12px 14px;\n      border-radius: 999px;\n\n      font-size: 11px;\n      letter-spacing: 0.16em;\n      text-transform: uppercase;\n      font-weight: 650;\n      color: rgba(34,197,94,0.92);\n      text-shadow:\n        0 0 10px rgba(34,197,94,0.22),\n        0 0 22px rgba(34,197,94,0.14);\n\n      /* graphite: dark + slightly mineral */\n      background:\n        radial-gradient(120% 140% at 20% 10%, rgba(255,255,255,0.10) 0%, rgba(255,255,255,0.00) 55%),\n        radial-gradient(140% 140% at 80% 90%, rgba(255,255,255,0.06) 0%, rgba(255,255,255,0.00) 60%),\n        linear-gradient(180deg, #141414 0%, #0a0a0a 100%);\n      border: 1px solid rgba(255,255,255,0.10);\n      box-shadow:\n        0 14px 34px rgba(0,0,0,0.22),\n        0 8px 16px rgba(0,0,0,0.18),\n        inset 0 1px 0 rgba(255,255,255,0.10),\n        inset 0 -1px 0 rgba(0,0,0,0.55);\n\n      position: relative;\n      overflow: hidden;\n      cursor: pointer;\n      user-select: none;\n      -webkit-tap-highlight-color: transparent;\n\n      transition:\n        transform 160ms cubic-bezier(0.2, 0.8, 0.2, 1),\n        box-shadow 160ms cubic-bezier(0.2, 0.8, 0.2, 1),\n        border-color 160ms cubic-bezier(0.2, 0.8, 0.2, 1);\n    }\n\n    .start-reading::before {\n      content: \"\";\n      position: absolute;\n      inset: 0;\n      pointer-events: none;\n      /* texture + sheen (very subtle) */\n      background:\n        linear-gradient(120deg, rgba(255,255,255,0.12) 0%, rgba(255,255,255,0.00) 46%),\n        repeating-linear-gradient(0deg,\n          rgba(255,255,255,0.028) 0px,\n          rgba(255,255,255,0.028) 1px,\n          rgba(0,0,0,0.00) 3px,\n          rgba(0,0,0,0.00) 6px),\n        radial-gradient(120% 90% at 50% 0%, rgba(34,197,94,0.14) 0%, rgba(34,197,94,0.00) 62%);\n      opacity: 0.75;\n    }\n\n    .start-reading:hover {\n      transform: translateY(-1px);\n      border-color: rgba(34,197,94,0.30);\n      box-shadow:\n        0 18px 42px rgba(0,0,0,0.24),\n        0 10px 18px rgba(0,0,0,0.18),\n        inset 0 1px 0 rgba(255,255,255,0.12),\n        inset 0 -1px 0 rgba(0,0,0,0.55);\n      text-shadow:\n        0 0 12px rgba(34,197,94,0.28),\n        0 0 26px rgba(34,197,94,0.18);\n    }\n\n    .start-reading:active {\n      transform: translateY(0px);\n      box-shadow:\n        0 14px 34px rgba(0,0,0,0.22),\n        0 8px 16px rgba(0,0,0,0.18),\n        inset 0 1px 0 rgba(255,255,255,0.10),\n        inset 0 -1px 0 rgba(0,0,0,0.55);\n    }\n\n    .start-reading:focus-visible {\n      outline: none;\n      box-shadow:\n        0 18px 42px rgba(0,0,0,0.24),\n        0 0 0 4px rgba(34,197,94,0.22),\n        0 0 0 1px rgba(34,197,94,0.26),\n        inset 0 1px 0 rgba(255,255,255,0.12),\n        inset 0 -1px 0 rgba(0,0,0,0.55);\n      border-color: rgba(34,197,94,0.34);\n    }\n\n    @media (prefers-reduced-motion: reduce) {\n      .start-reading {\n        transition: none;\n      }\n      .start-reading:hover {\n        transform: none;\n      }\n    }\n\n    /* =====================\n       CENTER: CONTENT\n    ====================== */\n    .content h1 {\n      font-size: 40px;\n      font-weight: 800;\n      line-height: 1.15;\n      margin: 0;\n    }\n\n    .byline {\n      font-size: 13px;\n      letter-spacing: 0.12em;\n      color: #666;\n      font-weight: 600;\n    }\n\n    .tagline {\n      font-size: 18px;\n      font-weight: 500;\n      color: #333;\n    }\n\n    .paragraph {\n      font-size: 15px;\n      color: #222;\n    }\n\n    .meta {\n      margin-top: 20px;\n      padding-top: 20px;\n      border-top: 1px solid var(--line);\n      display: grid;\n      grid-template-columns: repeat(2, 1fr);\n      gap: 12px 24px;\n      font-size: 13px;\n    }\n\n    .author {\n      margin-top: 20px;\n      padding-top: 20px;\n      border-top: 1px solid var(--line);\n      display: flex;\n      gap: 16px;\n      align-items: flex-start;\n    }\n\n    .author img {\n      width: 44px;\n      height: 44px;\n      border-radius: 50%;\n    }\n\n    /* =====================\n       RIGHT: RELATED\n    ====================== */\n    .related {\n      display: flex;\n      flex-direction: column;\n      gap: 20px;\n    }\n\n    .related-title {\n      font-size: 11px;\n      letter-spacing: 0.14em;\n      color: #666;\n      text-transform: uppercase;\n      font-weight: 600;\n    }\n\n    .related-item {\n      display: flex;\n      flex-direction: column;\n      gap: 6px;\n      cursor: pointer;\n      transition: transform 0.12s ease, box-shadow 0.12s ease;\n    }\n\n    .related-item:hover {\n      transform: translateY(-2px);\n    }\n\n    .related-thumb {\n      border-radius: 6px;\n      overflow: hidden;\n      aspect-ratio: 3 / 4;\n      box-shadow: 0 8px 24px rgba(0,0,0,0.1);\n\n      /* Gray placeholder shape */\n      background: linear-gradient(135deg, #e5e7eb 0%, #d1d5db 45%, #cbd5e1 100%);\n      border: 1px solid rgba(0,0,0,0.06);\n    }\n\n    .related-thumb img {\n      width: 100%;\n      height: 100%;\n      object-fit: cover;\n      filter: grayscale(1);\n      opacity: 0.85;\n      transition: filter 160ms ease, opacity 160ms ease;\n    }\n\n    .related-thumb .thumb-placeholder {\n      width: 100%;\n      height: 100%;\n      display: block;\n    }\n\n    .related-item a {\n      font-size: 12px;\n      font-weight: 600;\n      color: #111;\n    }\n\n    /* =====================\n       RIGHT: 13 CHAPTERS\n    ====================== */\n    .chapters {\n      display: flex;\n      flex-direction: column;\n      gap: 10px;\n    }\n\n    .chapters-title {\n      font-size: 11px;\n      letter-spacing: 0.12em;\n      color: rgba(17,17,17,0.52);\n      text-transform: uppercase;\n      font-weight: 600;\n    }\n\n    .chapters-help {\n      margin-top: -4px;\n      font-size: 11px;\n      line-height: 1.35;\n      color: rgba(17,17,17,0.42);\n    }\n\n    .chapter-list {\n      list-style: none;\n      padding: 0;\n      margin: 0;\n      display: flex;\n      flex-direction: column;\n      gap: 0;\n      border-top: 1px solid rgba(0,0,0,0.06);\n    }\n\n    .chapter-item {\n      display: grid;\n      grid-template-columns: 3ch 1fr;\n      gap: 12px;\n      align-items: start;\n      padding: 10px 0;\n      border-bottom: 1px solid rgba(0,0,0,0.06);\n    }\n\n    .chapter-item--preface .chapter-name {\n      font-weight: 760;\n      letter-spacing: -0.01em;\n      color: rgba(17,17,17,0.90);\n    }\n\n    .chapter-item--current .chapter-name {\n      color: rgba(17,17,17,0.92);\n      text-decoration: underline;\n      text-decoration-thickness: 1px;\n      text-underline-offset: 3px;\n      text-decoration-color: rgba(17,17,17,0.22);\n    }\n\n    .chapter-num {\n      width: auto;\n      height: auto;\n      border-radius: 0;\n      display: block;\n      text-align: right;\n      font-size: 11px;\n      font-weight: 650;\n      color: rgba(17,17,17,0.46);\n      font-variant-numeric: tabular-nums;\n    }\n\n    .chapter-name {\n      font-size: 12px;\n      font-weight: 600;\n      color: rgba(17,17,17,0.80);\n      line-height: 1.3;\n    }\n\n    .chapter-note {\n      margin-top: 2px;\n      font-size: 11px;\n      color: rgba(17,17,17,0.46);\n      line-height: 1.4;\n    }\n\n    /* =====================\n       RESPONSIVE\n    ====================== */\n    @media (max-width: 900px) {\n      .chapter-content {\n        max-width: 100%;\n        padding: 0 24px;\n      }\n\n      .page-widget {\n        max-width: 100%;\n        margin-left: 24px;\n        margin-right: 24px;\n      }\n\n      .chapter-title {\n        font-size: 42px;\n      }\n\n      .chapter-body {\n        font-size: 18px;\n      }\n\n      .chapter-body h2 {\n        font-size: 32px;\n      }\n\n      .chapter-body h3 {\n        font-size: 24px;\n      }\n    }\n\n    @media (max-width: 768px) {\n      .header {\n        flex-direction: column;\n        gap: 12px;\n      }\n\n      .chapter-content {\n        padding: 0 16px;\n      }\n\n      .page-widget {\n        margin-left: 16px;\n        margin-right: 16px;\n      }\n\n      .chapter-title {\n        font-size: 38px;\n      }\n\n      .chapter-body {\n        font-size: 17px;\n      }\n\n      .chapter-body h2 {\n        font-size: 30px;\n      }\n\n      .chapter-body h3 {\n        font-size: 22px;\n      }\n    }\n  </style>\n</head>\n\n<body>\n  <div class=\"page\">\n    <div class=\"container\">\n\n      <!-- SIDEBAR BACKDROP -->\n      <div class=\"sidebar-backdrop\" id=\"sidebarBackdrop\"></div>\n\n      <!-- SIDEBAR -->\n      <aside class=\"sidebar\" id=\"sidebar\">\n        <div class=\"sidebar__title\">Working Fundamentals</div>\n        <ul class=\"sidebar__chapter-list\">\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-introduction\" class=\"sidebar__chapter-link\" target=\"_blank\">Introduction</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-1-of-13-programming-fundamentals\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 1 ¬∑ Programming Fundamentals</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-2-of-13-data-structures\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 2 ¬∑ Data Structures</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-3-of-13-algorithms-and-complexity\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 3 ¬∑ Algorithms & Complexity</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-4-of-13-control-and-flow\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 4 ¬∑ Control & Flow</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-5-of-13-state-and-change\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 5 ¬∑ State & Change</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-6-of-13-design-principles\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 6 ¬∑ Design Principles</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-7-of-13-architecture\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 7 ¬∑ Architecture</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-8-of-13-persistence-and-data-modeling\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 8 ¬∑ Persistence & Data Modeling</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-9-of-13-interfaces-and-apis\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 9 ¬∑ Interfaces & APIs</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-10-of-13-errors-and-failure\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 10 ¬∑ Errors & Failure</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-11-of-13-testing\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 11 ¬∑ Testing</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-12-of-13-performance-and-scale\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 12 ¬∑ Performance & Scale</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-13-of-13-the-developers-role\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 13 ¬∑ The Developer''s Role</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-outroduction\" class=\"sidebar__chapter-link sidebar__chapter-link--current\" target=\"_blank\">Outroduction</a>\n          </li>\n        </ul>\n      </aside>\n\n      <!-- HEADER -->\n      <header class=\"header\" id=\"header\">\n        <a href=\"https://arvinjaysoncastro.com/\" class=\"brand\" target=\"_blank\">Arvin Jayson Castro</a>\n        <nav class=\"nav\">\n          <a href=\"https://arvinjaysoncastro.com/hungry-dev-mind\" target=\"_blank\">Books</a>\n          <a href=\"https://arvinjaysoncastro.com/working-systems\" target=\"_blank\">Working Systems</a>\n          <a href=\"https://arvinjaysoncastro.com/about\" target=\"_blank\">16 Years</a>\n          <div class=\"linkedin\">\n            <a href=\"https://www.linkedin.com/in/arvin-jayson-castro-7458199a/\" target=\"_blank\">linkedIn</a>\n            <span>let''s connect</span>\n          </div>\n        </nav>\n      </header>\n\n      <!-- PAGE WIDGET (TOP) - REMOVED -->\n      <div style=\"display: none;\">\n          <ol class=\"page-widget__pages-list\">\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">P</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Preface</div>\n                  <div class=\"page-widget__page-note\">Why fundamentals still decide outcomes.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item page-widget__page-item--current\">\n                <span class=\"page-widget__page-number\">1</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 1</div>\n                  <div class=\"page-widget__page-note\">Core principles and constraints.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">2</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 2</div>\n                  <div class=\"page-widget__page-note\">Boundaries, ownership, and interfaces.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">3</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 3</div>\n                  <div class=\"page-widget__page-note\">State, consistency, and failure modes.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">4</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 4</div>\n                  <div class=\"page-widget__page-note\">Abstractions that survive change.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">5</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 5</div>\n                  <div class=\"page-widget__page-note\">Simplicity as an engineering practice.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">6</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 6</div>\n                  <div class=\"page-widget__page-note\">Reliability, observability, and feedback.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">7</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 7</div>\n                  <div class=\"page-widget__page-note\">Delivery systems and decision hygiene.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">8</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 8</div>\n                  <div class=\"page-widget__page-note\">Documentation that stays useful.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">9</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 9</div>\n                  <div class=\"page-widget__page-note\">Testing strategy for predictable change.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">10</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 10</div>\n                  <div class=\"page-widget__page-note\">Pragmatic architecture for teams.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">11</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 11</div>\n                  <div class=\"page-widget__page-note\">Operational excellence without ceremony.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">12</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 12</div>\n                  <div class=\"page-widget__page-note\">Leadership, standards, and leverage.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">13</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 13</div>\n                  <div class=\"page-widget__page-note\">Making fundamentals non-negotiable.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">PS</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Postscript</div>\n                  <div class=\"page-widget__page-note\">A short operating model to carry forward.</div>\n                </div>\n              </a>\n            </li>\n          </ol>\n        </div>\n      </div>\n\n      <!-- MAIN -->\n      <main class=\"main\" id=\"main\">\n\n        <!-- CHAPTER CONTENT (Option 1: Magazine-style) -->\n        <article class=\"chapter-content\">\n          <header class=\"chapter-header\">\n            <div class=\"book-title\">Working Fundamentals</div>\n            <h1 class=\"chapter-title\">Outroduction</h1>\n          </header>\n\n          <div class=\"chapter-body\">\n            <p>\n              <em>Outroduction content will be added here.</em>\n            </p>\n          </div>\n\n            <p>\n              This chapter defines the <strong>minimum thinking system</strong> required to make software behave predictably.\n            </p>\n\n            <p>\n              If you understand this chapter, you can learn any programming language faster. If you skip it, every abstraction you learn later will feel fragile.\n            </p>\n\n            <h2>The core truth</h2>\n\n            <p>\n              Every program‚Äîregardless of language, framework, or scale‚Äîreduces to the same shape:\n            </p>\n\n            <p>\n              <strong>Input ‚Üí Transform ‚Üí Output</strong>\n            </p>\n\n            <p>\n              This is not a metaphor. This is the invariant.\n            </p>\n\n            <p>\n              Languages change. Frameworks change. Paradigms evolve.\n            </p>\n\n            <p>\n              This shape does not.\n            </p>\n\n            <h2>Why fundamentals matter (beyond beginners)</h2>\n\n            <p>\n              Most bugs are not caused by advanced concepts. They are caused by <strong>unclear fundamentals</strong> hidden under abstraction.\n            </p>\n\n            <p>\n              Unclear fundamentals lead to:\n            </p>\n\n            <ul>\n              <li>unpredictable behavior</li>\n              <li>defensive code</li>\n              <li>excessive logging</li>\n              <li>unnecessary complexity</li>\n              <li>fragile refactors</li>\n            </ul>\n\n            <p>\n              Strong fundamentals produce:\n            </p>\n\n            <ul>\n              <li>calm code</li>\n              <li>obvious flow</li>\n              <li>fewer surprises</li>\n              <li>easier collaboration</li>\n              <li>long-term stability</li>\n            </ul>\n\n            <p>\n              This chapter is about <strong>preventing drift</strong>.\n            </p>\n\n            <h2>The six fundamentals (the complete set)</h2>\n\n            <p>\n              Everything you write in code belongs to <strong>one of these six</strong>. If you cannot name which one, the system is already weakening.\n            </p>\n\n            <h3>1. Data</h3>\n\n            <p>\n              <strong>What exists</strong>\n            </p>\n\n            <p>\n              Data is the raw material of a program. Numbers, text, flags, collections, objects.\n            </p>\n\n            <p>\n              Data does nothing by itself. It only exists.\n            </p>\n\n            <p>\n              üß† <strong>Mental Model</strong> Data is passive. Behavior comes later.\n            </p>\n\n            <p>\n              ‚ö†Ô∏è <strong>Common Drift</strong> When developers confuse data with behavior, logic spreads uncontrollably.\n            </p>\n\n            <h3>2. Variables</h3>\n\n            <p>\n              <strong>What names data</strong>\n            </p>\n\n            <p>\n              Variables do not store values. They <strong>point to values</strong>.\n            </p>\n\n            <p>\n              Naming is not cosmetic‚Äîit is structural.\n            </p>\n\n            <p>\n              A good variable name:\n            </p>\n\n            <ul>\n              <li>communicates intent</li>\n              <li>limits misuse</li>\n              <li>reduces comments</li>\n            </ul>\n\n            <p>\n              üß† <strong>Perspective</strong> Poor naming is the earliest form of technical debt.\n            </p>\n\n            <h3>3. Control Flow</h3>\n\n            <p>\n              <strong>What decides what happens</strong>\n            </p>\n\n            <p>\n              Control flow determines:\n            </p>\n\n            <ul>\n              <li>when something runs</li>\n              <li>if something runs</li>\n              <li>how often it runs</li>\n              <li>when it stops</li>\n            </ul>\n\n            <p>\n              Conditionals and loops are not logic. They are <strong>traffic signals</strong>.\n            </p>\n\n            <p>\n              üß† <strong>Mental Model</strong> Control flow answers: <em>\"What path does execution take?\"</em>\n            </p>\n\n            <p>\n              ‚ö†Ô∏è <strong>Common Drift</strong> Nested conditionals are a symptom of unclear rules.\n            </p>\n\n            <h3>4. Functions</h3>\n\n            <p>\n              <strong>What transforms input into output</strong>\n            </p>\n\n            <p>\n              A function is a <strong>boundary</strong>.\n            </p>\n\n            <p>\n              It should answer four questions clearly:\n            </p>\n\n            <ol>\n              <li>What does it take in?</li>\n              <li>What does it return?</li>\n              <li>What rules does it apply?</li>\n              <li>What can go wrong?</li>\n            </ol>\n\n            <p>\n              If a function cannot be explained in one sentence, it is doing too much.\n            </p>\n\n            <p>\n              üß† <strong>Architect''s Note</strong> Good systems are collections of small, honest transformations.\n            </p>\n\n            <h3>5. State & Mutability</h3>\n\n            <p>\n              <strong>What changes over time</strong>\n            </p>\n\n            <p>\n              State is data that can change. Mutability is <em>how</em> it changes.\n            </p>\n\n            <p>\n              Not all data should be mutable. Not all changes should be allowed.\n            </p>\n\n            <p>\n              üß† <strong>Mental Model</strong> The more things that can change, the harder the system is to reason about.\n            </p>\n\n            <p>\n              ‚ö†Ô∏è <strong>Common Drift</strong> Hidden state is responsible for most \"impossible\" bugs.\n            </p>\n\n            <h3>6. Errors</h3>\n\n            <p>\n              <strong>What happens when assumptions break</strong>\n            </p>\n\n            <p>\n              Errors are not edge cases. They are <strong>alternate paths</strong>.\n            </p>\n\n            <p>\n              Every system operates on assumptions:\n            </p>\n\n            <ul>\n              <li>input format</li>\n              <li>timing</li>\n              <li>availability</li>\n              <li>correctness</li>\n            </ul>\n\n            <p>\n              When assumptions fail, errors appear.\n            </p>\n\n            <p>\n              üß† <strong>Perspective</strong> Unhandled errors are silent contracts you didn''t realize you made.\n            </p>\n\n            <h2>How these fundamentals work together</h2>\n\n            <p>\n              A stable program follows this rhythm:\n            </p>\n\n            <ol>\n              <li>Accept input (data)</li>\n              <li>Name it (variables)</li>\n              <li>Choose a path (control flow)</li>\n              <li>Transform it (functions)</li>\n              <li>Update what must change (state)</li>\n              <li>Handle what can fail (errors)</li>\n              <li>Produce output</li>\n            </ol>\n\n            <p>\n              When systems fail, one of these steps is unclear.\n            </p>\n\n            <h2>Minimal practice (no code yet)</h2>\n\n            <p>\n              <strong>Problem (in plain language):</strong> \"Given a list of numbers, return only the even ones, then double them.\"\n            </p>\n\n            <p>\n              Before writing code, answer:\n            </p>\n\n            <ul>\n              <li>What is the input?</li>\n              <li>What is the output?</li>\n              <li>Where is the decision?</li>\n              <li>Where is the transformation?</li>\n              <li>What could go wrong?</li>\n            </ul>\n\n            <p>\n              If you can answer these clearly, implementation is mechanical.\n            </p>\n\n            <p>\n              üß† <strong>Architect''s Note</strong> If you cannot describe behavior in words, code will not save you.\n            </p>\n\n            <h2>What beginners gain here</h2>\n\n            <ul>\n              <li>A stable mental foundation</li>\n              <li>Confidence reading unfamiliar code</li>\n              <li>Reduced dependence on memorization</li>\n            </ul>\n\n            <h2>What experienced developers recognize</h2>\n\n            <ul>\n              <li>Why certain bugs keep returning</li>\n              <li>Why refactors feel risky</li>\n              <li>Why some codebases feel heavy despite \"best practices\"</li>\n            </ul>\n\n            <p>\n              This chapter gives names to intuitions you already had.\n            </p>\n\n            <h2>What this chapter deliberately avoids</h2>\n\n            <ul>\n              <li>Language syntax</li>\n              <li>Framework examples</li>\n              <li>Tooling</li>\n              <li>Patterns</li>\n              <li>Optimization</li>\n            </ul>\n\n            <p>\n              Those come later.\n            </p>\n\n            <p>\n              Foundations come first.\n            </p>\n\n            <h2>Closing</h2>\n\n            <p>\n              Programming fundamentals are not about skill level. They are about <strong>predictability</strong>.\n            </p>\n\n            <p>\n              Predictable systems scale. Predictable systems survive refactors. Predictable systems can be trusted.\n            </p>\n\n            <p>\n              This chapter is not mastery. It is the ground.\n            </p>\n          </div>\n        </article>\n\n        <!-- RIGHT -->\n\n      </main>\n\n      <!-- CHAPTER NAVIGATION (BOTTOM) -->\n      <nav class=\"chapter-nav-bottom\" id=\"chapterNavBottom\">\n        <a href=\"#\" class=\"chapter-nav-bottom__link chapter-nav-bottom__link--prev\" id=\"prevChapter\">\n          <span class=\"chapter-nav-bottom__arrow\">‚Üê</span>\n          <span class=\"chapter-nav-bottom__label\">Previous</span>\n        </a>\n        <a href=\"#\" class=\"chapter-nav-bottom__link chapter-nav-bottom__link--next\" id=\"nextChapter\">\n          <span class=\"chapter-nav-bottom__label\">Next</span>\n          <span class=\"chapter-nav-bottom__arrow\">‚Üí</span>\n        </a>\n      </nav>\n\n      <!-- PAGE WIDGET (BOTTOM) - REMOVED -->\n      <div style=\"display: none;\">\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">P</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Preface</div>\n                  <div class=\"page-widget__page-note\">Why fundamentals still decide outcomes.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item page-widget__page-item--current\">\n                <span class=\"page-widget__page-number\">1</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 1</div>\n                  <div class=\"page-widget__page-note\">Core principles and constraints.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">2</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 2</div>\n                  <div class=\"page-widget__page-note\">Boundaries, ownership, and interfaces.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">3</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 3</div>\n                  <div class=\"page-widget__page-note\">State, consistency, and failure modes.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">4</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 4</div>\n                  <div class=\"page-widget__page-note\">Abstractions that survive change.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">5</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 5</div>\n                  <div class=\"page-widget__page-note\">Simplicity as an engineering practice.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">6</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 6</div>\n                  <div class=\"page-widget__page-note\">Reliability, observability, and feedback.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">7</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 7</div>\n                  <div class=\"page-widget__page-note\">Delivery systems and decision hygiene.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">8</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 8</div>\n                  <div class=\"page-widget__page-note\">Documentation that stays useful.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">9</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 9</div>\n                  <div class=\"page-widget__page-note\">Testing strategy for predictable change.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">10</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 10</div>\n                  <div class=\"page-widget__page-note\">Pragmatic architecture for teams.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">11</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 11</div>\n                  <div class=\"page-widget__page-note\">Operational excellence without ceremony.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">12</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 12</div>\n                  <div class=\"page-widget__page-note\">Leadership, standards, and leverage.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">13</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 13</div>\n                  <div class=\"page-widget__page-note\">Making fundamentals non-negotiable.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">PS</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Postscript</div>\n                  <div class=\"page-widget__page-note\">A short operating model to carry forward.</div>\n                </div>\n              </a>\n            </li>\n          </ol>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <!-- PAGE WIDGET JS -->\n  <!-- SIDEBAR TOGGLE JS -->\n  <script>\n  (() => {\n    const sidebar = document.getElementById(''sidebar'');\n    const backdrop = document.getElementById(''sidebarBackdrop'');\n    const indicator = document.getElementById(''chapterIndicator'');\n    const icon = document.getElementById(''chapterIndicatorIcon'');\n    const header = document.getElementById(''header'');\n    const main = document.getElementById(''main'');\n    const body = document.body;\n\n    if (!sidebar || !backdrop || !indicator || !icon || !header || !main) return;\n\n    let isOpen = false;\n    let scrollTimeout = null;\n\n    const openSidebar = () => {\n      isOpen = true;\n      sidebar.classList.add(''sidebar--open'');\n      backdrop.classList.add(''sidebar-backdrop--visible'');\n      header.classList.add(''header--shifted'');\n      main.classList.add(''main--shifted'');\n      icon.classList.add(''chapter-number__icon--open'');\n      body.classList.add(''sidebar-open'');\n    };\n\n    const closeSidebar = () => {\n      isOpen = false;\n      sidebar.classList.remove(''sidebar--open'');\n      backdrop.classList.remove(''sidebar-backdrop--visible'');\n      header.classList.remove(''header--shifted'');\n      main.classList.remove(''main--shifted'');\n      icon.classList.remove(''chapter-number__icon--open'');\n      body.classList.remove(''sidebar-open'');\n    };\n\n    // Toggle sidebar\n    indicator.addEventListener(''click'', (e) => {\n      e.stopPropagation();\n      if (isOpen) {\n        closeSidebar();\n      } else {\n        openSidebar();\n      }\n    });\n\n    // Close sidebar when clicking backdrop\n    backdrop.addEventListener(''click'', () => {\n      closeSidebar();\n    });\n\n    // Close sidebar when clicking outside\n    document.addEventListener(''click'', (e) => {\n      // Don''t close sidebar if clicking on brand link or nav links\n      const brandLink = header.querySelector(''.brand'');\n      const isClickOnLink = brandLink && brandLink.contains(e.target);\n      const isClickOnNav = header.querySelector(''.nav'') && header.querySelector(''.nav'').contains(e.target);\n      \n      if (isOpen && !sidebar.contains(e.target) && !indicator.contains(e.target) && !isClickOnLink && !isClickOnNav) {\n        closeSidebar();\n      }\n    });\n\n    // Close sidebar on scroll (debounced)\n    const handleScroll = () => {\n      if (isOpen) {\n        clearTimeout(scrollTimeout);\n        scrollTimeout = setTimeout(() => {\n          closeSidebar();\n        }, 100);\n      }\n    };\n\n    // Listen for scroll on main content\n    window.addEventListener(''scroll'', handleScroll, { passive: true });\n    \n    // Also listen for scroll attempts on body (when scroll is disabled)\n    let lastScrollTop = window.pageYOffset;\n    const handleScrollAttempt = () => {\n      if (isOpen) {\n        const currentScrollTop = window.pageYOffset;\n        if (currentScrollTop !== lastScrollTop) {\n          closeSidebar();\n        }\n        lastScrollTop = currentScrollTop;\n      }\n    };\n\n    // Prevent scroll on body when sidebar is open\n    document.addEventListener(''wheel'', (e) => {\n      if (isOpen && !sidebar.contains(e.target)) {\n        e.preventDefault();\n        closeSidebar();\n      }\n    }, { passive: false });\n\n    // Prevent touch scroll on body when sidebar is open\n    document.addEventListener(''touchmove'', (e) => {\n      if (isOpen && !sidebar.contains(e.target)) {\n        e.preventDefault();\n        closeSidebar();\n      }\n    }, { passive: false });\n  })();\n  </script>\n\n  <!-- CHAPTER NAVIGATION (BOTTOM) JS -->\n  <script>\n  (() => {\n    // Chapter list: Introduction = 0, Chapter 1-13 = 1-13, Outroduction = 14\n    const chapters = [\n      { id: ''intro'', title: ''Introduction'', url: ''https://arvinjaysoncastro.com/working-fundamentals-introduction'' },\n      { id: ''ch1'', title: ''Chapter 1'', url: ''https://arvinjaysoncastro.com/working-fundamentals-1-of-13-programming-fundamentals'' },\n      { id: ''ch2'', title: ''Chapter 2'', url: ''https://arvinjaysoncastro.com/working-fundamentals-2-of-13-data-structures'' },\n      { id: ''ch3'', title: ''Chapter 3'', url: ''https://arvinjaysoncastro.com/working-fundamentals-3-of-13-algorithms-and-complexity'' },\n      { id: ''ch4'', title: ''Chapter 4'', url: ''https://arvinjaysoncastro.com/working-fundamentals-4-of-13-control-and-flow'' },\n      { id: ''ch5'', title: ''Chapter 5'', url: ''https://arvinjaysoncastro.com/working-fundamentals-5-of-13-state-and-change'' },\n      { id: ''ch6'', title: ''Chapter 6'', url: ''https://arvinjaysoncastro.com/working-fundamentals-6-of-13-design-principles'' },\n      { id: ''ch7'', title: ''Chapter 7'', url: ''https://arvinjaysoncastro.com/working-fundamentals-7-of-13-architecture'' },\n      { id: ''ch8'', title: ''Chapter 8'', url: ''https://arvinjaysoncastro.com/working-fundamentals-8-of-13-persistence-and-data-modeling'' },\n      { id: ''ch9'', title: ''Chapter 9'', url: ''https://arvinjaysoncastro.com/working-fundamentals-9-of-13-interfaces-and-apis'' },\n      { id: ''ch10'', title: ''Chapter 10'', url: ''https://arvinjaysoncastro.com/working-fundamentals-10-of-13-errors-and-failure'' },\n      { id: ''ch11'', title: ''Chapter 11'', url: ''https://arvinjaysoncastro.com/working-fundamentals-11-of-13-testing'' },\n      { id: ''ch12'', title: ''Chapter 12'', url: ''https://arvinjaysoncastro.com/working-fundamentals-12-of-13-performance-and-scale'' },\n      { id: ''ch13'', title: ''Chapter 13'', url: ''https://arvinjaysoncastro.com/working-fundamentals-13-of-13-the-developers-role'' },\n      { id: ''outro'', title: ''Outroduction'', url: ''https://arvinjaysoncastro.com/working-fundamentals-outroduction'' }\n    ];\n\n    const currentChapterIndex = 13; // Outroduction (after all chapters)\n    const prevLink = document.getElementById(''prevChapter'');\n    const nextLink = document.getElementById(''nextChapter'');\n\n    if (!prevLink || !nextLink) return;\n\n    // Previous chapter (Chapter 13)\n    if (currentChapterIndex > 0) {\n      const prevChapter = chapters[currentChapterIndex - 1];\n      prevLink.href = prevChapter.url;\n      prevLink.target = ''_blank'';\n      prevLink.innerHTML = `\n        <span class=\"chapter-nav-bottom__arrow\">‚Üê</span>\n        <span class=\"chapter-nav-bottom__label\">Previous: ${prevChapter.title}</span>\n      `;\n    }\n\n    // Next chapter (Outroduction has no next - show \"go back to book list\")\n    nextLink.href = ''/books'';\n    nextLink.innerHTML = `\n      <span class=\"chapter-nav-bottom__label\">Go back to book list</span>\n      <span class=\"chapter-nav-bottom__arrow\">‚Üí</span>\n    `;\n  })();\n  </script>\n\n  <!-- OPTIONAL JS -->\n <script>\n(() => {\n  const wrap = document.querySelector(''.book-wrap'');\n  if (!wrap) return;\n\n  const slab1 = wrap.querySelector(''.shadow-slab'');\n  const slab2 = wrap.querySelector(''.shadow-slab-2'');\n  const slab3 = wrap.querySelector(''.shadow-slab-3'');\n  const slab4 = wrap.querySelector(''.shadow-slab-4'');\n  const front = wrap.querySelector(''.front-slab'');\n\n  const clamp = (v, min, max) => Math.max(min, Math.min(max, v));\n\n  let raf = 0;\n  let lx = 0; // light vector x\n  let ly = 0; // light vector y\n\n  function render() {\n    raf = 0;\n\n    // Shadow direction = opposite of light\n    const sx = -lx;\n    const sy = -ly;\n\n    const intensity = Math.abs(lx) + Math.abs(ly);\n\n    /* ---------------------------\n       SLAB 1 ‚Äî KEY CAST SHADOW\n    ---------------------------- */\n    slab1.style.transform =\n      `translate(${(sx * 38).toFixed(2)}px, ${(sy * 38).toFixed(2)}px)`;\n    slab1.style.filter =\n      `blur(${(14 + intensity * 6).toFixed(2)}px)`;\n    slab1.style.opacity =\n      (0.28 + intensity * 0.14).toFixed(2);\n\n    /* ---------------------------\n       SLAB 2 ‚Äî BOUNCE / COLOR BLEED\n    ---------------------------- */\n    slab2.style.transform =\n      `translate(${(sx * 14).toFixed(2)}px, ${(sy * 14).toFixed(2)}px)`;\n    slab2.style.filter =\n      `blur(${(6 + intensity * 4).toFixed(2)}px)`;\n    slab2.style.opacity =\n      (0.16 + intensity * 0.10).toFixed(2);\n\n    /* ---------------------------\n       SLAB 3 ‚Äî CONTACT SHADOW\n    ---------------------------- */\n    slab3.style.transform =\n      `translate(${(sx * 6).toFixed(2)}px, ${(sy * 6).toFixed(2)}px)`;\n    slab3.style.filter = `blur(9px)`;\n    slab3.style.opacity =\n      (0.24 + Math.abs(lx) * 0.06).toFixed(2);\n\n    /* ---------------------------\n       SLAB 4 ‚Äî AMBIENT DEPTH\n    ---------------------------- */\n    slab4.style.transform =\n      `translate(${(sx * 3).toFixed(2)}px, ${(sy * 3).toFixed(2)}px)`;\n    slab4.style.filter = `blur(18px)`;\n    slab4.style.opacity =\n      (0.16 + Math.abs(ly) * 0.04).toFixed(2);\n\n    /* ---------------------------\n       FRONT SLAB ‚Äî SPECULAR RESPONSE\n       (moves TOWARD light)\n    ---------------------------- */\nif (front) {\n  // Very subtle counter-parallax (NOT toward light)\n  front.style.transform =\n    `translate(${(-lx * 1.6).toFixed(2)}px, ${(-ly * 1.6).toFixed(2)}px)`;\n\n  // Opacity increases when light is grazing\n  front.style.opacity =\n    (0.34 + intensity * 0.22).toFixed(2);\n\n  // Highlight shifts OPPOSITE the light direction\n  const gx = 50 - lx * 28;\n  const gy = 50 - ly * 28;\n  front.style.backgroundPosition = `${gx}% ${gy}%`;\n}\n\n  }\n\n  function onMove(e) {\n    const r = wrap.getBoundingClientRect();\n    const cx = r.left + r.width / 2;\n    const cy = r.top + r.height / 2;\n\n    // LIGHT VECTOR (mouse = light source)\n    lx = clamp((e.clientX - cx) / (r.width / 2), -1, 1);\n    ly = clamp((e.clientY - cy) / (r.height / 2), -1, 1);\n\n    if (!raf) raf = requestAnimationFrame(render);\n  }\n\n  window.addEventListener(''mousemove'', onMove, { passive: true });\n})();\n</script>\n</body>\n</html>\n", "css": "body { font-family: system-ui; padding: 20px; }", "js": "console.log(\"Code Runner initialized\");", "imports": {"css": [], "js": []}, "entryPoint": {"type": "htmlDocument", "mountSelector": "#app", "injectMountIfMissing": true}, "settings": {"mode": "play", "viewport": {"type": "responsive", "background": "white"}, "securityPreset": "trusted", "autoRun": true, "runOnLoad": true}, "codePanel": {"isVisible": false, "isEditable": false}}}]}]}',
    '1.0.0',
    true,
    '88b62d69-6012-47ae-b45b-9ccc5f1dc87c',
    NOW(),
    NOW(),
    'public',
    NULL,
    false,
    NULL,
    'page',
    NULL,
    NULL,
    NULL,
    NULL,
    NULL,
    false,
    0,
    NULL,
    true,
    false,
    NULL,
    NULL,
    '{"id": "block-root", "style": {}, "type": "container", "children": [{"id": "temp-container", "style": {"width": "100vw", "height": "100vh"}, "type": "container", "children": [{"id": "temp-coderunner", "style": {}, "type": "codeRunner", "data": {"html": "<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n  <meta charset=\"UTF-8\" />\n  <title>Working Fundamentals ‚Äî Arvin Jayson Castro</title>\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n\n  <!-- =====================\n       GLOBAL STYLES\n  ====================== -->\n  <style>\n    :root {\n      --bg: #f7f8f8;\n      --ink: #111111;\n      --muted: #666666;\n      --line: rgba(0,0,0,0.08);\n      --accent: #16a34a;\n      --link: #3b82f6;\n      --max-width: 1200px;\n    }\n\n    * {\n      box-sizing: border-box;\n    }\n\n    body {\n      margin: 0;\n      font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, sans-serif;\n      color: var(--ink);\n      background-color: var(--bg);\n      background-image:\n        radial-gradient(980px 560px at 14% 18%, rgba(16,185,129,0.10) 0%, rgba(16,185,129,0) 60%),\n        radial-gradient(860px 540px at 86% 74%, rgba(245,158,11,0.10) 0%, rgba(245,158,11,0) 62%),\n        repeating-linear-gradient(0deg, rgba(0,0,0,0.043) 0, rgba(0,0,0,0.043) 1px, transparent 1px, transparent 46px),\n        repeating-linear-gradient(90deg, rgba(0,0,0,0.043) 0, rgba(0,0,0,0.043) 1px, transparent 1px, transparent 46px);\n      min-height: 100vh;\n    }\n\n    a {\n      color: inherit;\n      text-decoration: none;\n    }\n\n    img {\n      max-width: 100%;\n      display: block;\n    }\n\n    /* =====================\n       PAGE WRAPPER\n    ====================== */\n    .page {\n      padding: 22px 24px;\n    }\n\n    .container {\n      max-width: var(--max-width);\n      margin: 0 auto;\n    }\n\n    /* =====================\n       SIDEBAR BACKDROP\n    ====================== */\n    .sidebar-backdrop {\n      position: fixed;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n      background: rgba(0, 0, 0, 0.2);\n      backdrop-filter: blur(4px);\n      -webkit-backdrop-filter: blur(4px);\n      opacity: 0;\n      visibility: hidden;\n      transition: opacity 0.3s ease, visibility 0.3s ease;\n      z-index: 999;\n      pointer-events: none;\n    }\n\n    .sidebar-backdrop--visible {\n      opacity: 1;\n      visibility: visible;\n      pointer-events: auto;\n    }\n\n    /* =====================\n       SIDEBAR\n    ====================== */\n    .sidebar {\n      position: fixed;\n      top: 0;\n      right: 0;\n      width: 320px;\n      height: 100vh;\n      background: var(--bg);\n      border-left: 1px solid var(--line);\n      transform: translateX(100%);\n      transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n      z-index: 1000;\n      overflow-y: auto;\n      padding: 24px;\n    }\n\n    .sidebar--open {\n      transform: translateX(0);\n    }\n\n    .sidebar__title {\n      font-size: 16px;\n      font-weight: 600;\n      margin-bottom: 24px;\n      color: var(--ink);\n    }\n\n    /* Prevent body scroll when sidebar is open */\n    body.sidebar-open {\n      overflow: hidden;\n    }\n\n    .sidebar__chapter-list {\n      list-style: none;\n      margin: 0;\n      padding: 0;\n    }\n\n    .sidebar__chapter-item {\n      margin: 0 0 8px 0;\n    }\n\n    .sidebar__chapter-link {\n      display: block;\n      font-size: 14px;\n      color: var(--muted);\n      text-decoration: none;\n      padding: 8px 0;\n      transition: color 0.2s ease;\n      line-height: 1.5;\n    }\n\n    .sidebar__chapter-link:hover {\n      color: var(--ink);\n    }\n\n    .sidebar__chapter-link--current {\n      color: var(--ink);\n      font-weight: 500;\n    }\n\n    /* =====================\n       HEADER (Top bar with chapter indicator)\n    ====================== */\n    .header {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      padding: 10px 0;\n      border-bottom: 1px solid var(--line);\n      position: relative;\n      transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n    }\n\n    .header--shifted {\n      transform: translateX(-320px);\n    }\n\n    .brand {\n      font-size: 16px;\n      font-weight: 600;\n      cursor: pointer;\n      display: inline-block;\n    }\n\n    .nav {\n      display: flex;\n      gap: 24px;\n      align-items: center;\n      font-size: 14px;\n    }\n\n    .nav a {\n      color: #1f2937;\n    }\n\n    .linkedin {\n      display: flex;\n      flex-direction: column;\n      align-items: flex-start;\n    }\n\n    .linkedin a {\n      color: var(--link);\n    }\n\n    .linkedin span {\n      font-family: Georgia, serif;\n      font-size: 9px;\n      font-style: italic;\n      color: #999;\n    }\n\n    /* =====================\n       MAIN GRID\n    ====================== */\n    .main {\n      padding-top: 48px;\n      padding-bottom: 48px;\n      display: flex;\n      justify-content: center;\n      align-items: start;\n    }\n\n    /* =====================\n       CHAPTER READING AREA (Option 1: Magazine-style)\n    ====================== */\n    .chapter-content {\n      max-width: 768px;\n      width: 100%;\n      margin: 0 auto;\n    }\n\n    .chapter-header {\n      margin-bottom: 56px;\n      padding-bottom: 32px;\n      border-bottom: 2px solid var(--line);\n    }\n\n    .book-title {\n      font-size: 12px;\n      letter-spacing: 0.15em;\n      text-transform: uppercase;\n      color: var(--muted);\n      font-weight: 500;\n      margin-bottom: 8px;\n      opacity: 0.7;\n    }\n\n    .chapter-number {\n      font-size: 13px;\n      letter-spacing: 0.2em;\n      text-transform: uppercase;\n      color: var(--muted);\n      font-weight: 600;\n      margin-bottom: 12px;\n      display: flex;\n      align-items: center;\n      gap: 8px;\n      cursor: pointer;\n      user-select: none;\n      transition: color 0.2s ease;\n    }\n\n    .chapter-number:hover {\n      color: var(--ink);\n    }\n\n    .chapter-number__icon {\n      font-size: 10px;\n      opacity: 0.6;\n      transition: transform 0.3s ease, opacity 0.2s ease;\n    }\n\n    .chapter-number:hover .chapter-number__icon {\n      opacity: 0.8;\n    }\n\n    .chapter-number__icon--open {\n      transform: rotate(180deg);\n    }\n\n    .chapter-title {\n      font-size: 56px;\n      font-weight: 900;\n      line-height: 1.05;\n      margin: 0 0 20px 0;\n      color: var(--ink);\n      letter-spacing: -0.03em;\n    }\n\n    .chapter-subtitle {\n      font-size: 22px;\n      font-weight: 500;\n      color: var(--muted);\n      line-height: 1.4;\n      margin: 0;\n    }\n\n    .chapter-body {\n      font-size: 19px;\n      line-height: 1.8;\n      color: var(--ink);\n      max-width: none;\n      font-weight: 400;\n    }\n\n    .chapter-body p {\n      margin: 0 0 28px 0;\n    }\n\n    .chapter-body p:last-child {\n      margin-bottom: 0;\n    }\n\n    .chapter-body h2 {\n      font-size: 36px;\n      font-weight: 800;\n      line-height: 1.2;\n      margin: 56px 0 24px 0;\n      color: var(--ink);\n      letter-spacing: -0.02em;\n    }\n\n    .chapter-body h3 {\n      font-size: 26px;\n      font-weight: 700;\n      line-height: 1.3;\n      margin: 40px 0 18px 0;\n      color: var(--ink);\n      letter-spacing: -0.01em;\n    }\n\n    .chapter-body strong {\n      font-weight: 600;\n      color: var(--ink);\n    }\n\n    .chapter-body em {\n      font-style: italic;\n    }\n\n    .chapter-body ul,\n    .chapter-body ol {\n      margin: 28px 0;\n      padding-left: 36px;\n    }\n\n    .chapter-body li {\n      margin-bottom: 14px;\n      line-height: 1.75;\n    }\n\n    .chapter-body blockquote {\n      margin: 40px 0;\n      padding-left: 28px;\n      border-left: 4px solid var(--accent);\n      font-style: italic;\n      color: var(--muted);\n      font-size: 18px;\n      line-height: 1.7;\n    }\n\n    .chapter-body code {\n      font-family: ''Monaco'', ''Menlo'', ''Courier New'', monospace;\n      font-size: 0.9em;\n      background: rgba(0,0,0,0.04);\n      padding: 2px 6px;\n      border-radius: 3px;\n    }\n\n    .chapter-body pre {\n      background: rgba(0,0,0,0.04);\n      padding: 20px;\n      border-radius: 8px;\n      overflow-x: auto;\n      margin: 24px 0;\n    }\n\n    .chapter-body pre code {\n      background: none;\n      padding: 0;\n    }\n\n    /* Content shift when sidebar opens */\n    .main {\n      transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n    }\n\n    .main--shifted {\n      transform: translateX(-320px);\n    }\n\n    /* Prevent horizontal scroll */\n    body {\n      overflow-x: hidden;\n    }\n\n    .page {\n      overflow-x: hidden;\n    }\n\n    /* =====================\n       CHAPTER NAVIGATION (BOTTOM)\n    ====================== */\n    .chapter-nav-bottom {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      max-width: 768px;\n      width: 100%;\n      margin: 64px auto 0 auto;\n      padding: 24px 0;\n      border-top: 1px solid var(--line);\n    }\n\n    .chapter-nav-bottom__link {\n      display: flex;\n      align-items: center;\n      gap: 8px;\n      font-size: 14px;\n      color: var(--muted);\n      text-decoration: none;\n      transition: color 0.2s ease;\n      padding: 8px 0;\n    }\n\n    .chapter-nav-bottom__link:hover {\n      color: var(--ink);\n    }\n\n    .chapter-nav-bottom__arrow {\n      font-size: 16px;\n      opacity: 0.7;\n    }\n\n    .chapter-nav-bottom__label {\n      font-weight: 500;\n    }\n\n    .chapter-nav-bottom__link--prev {\n      margin-right: auto;\n    }\n\n    .chapter-nav-bottom__link--next {\n      margin-left: auto;\n    }\n\n    .chapter-nav-bottom__link--disabled {\n      opacity: 0.4;\n      cursor: not-allowed;\n      pointer-events: none;\n    }\n\n    .page-widget__pages {\n      max-height: 0;\n      overflow: hidden;\n      transition: max-height 0.4s cubic-bezier(0.4, 0, 0.2, 1),\n                  opacity 0.3s ease,\n                  margin-top 0.3s ease;\n      opacity: 0;\n      margin-top: 0;\n      background: rgba(255, 255, 255, 0.98);\n      backdrop-filter: blur(12px);\n      -webkit-backdrop-filter: blur(12px);\n      border: 1px solid rgba(0, 0, 0, 0.06);\n      border-radius: 12px;\n      box-shadow: 0 2px 12px rgba(0, 0, 0, 0.06);\n    }\n\n    .page-widget__pages--expanded {\n      max-height: 500px;\n      opacity: 1;\n      margin-top: 12px;\n      padding: 8px;\n    }\n\n    .page-widget__pages-list {\n      list-style: none;\n      margin: 0;\n      padding: 0;\n      display: flex;\n      flex-direction: column;\n      gap: 8px;\n      max-height: 400px;\n      overflow-y: auto;\n      padding-right: 4px;\n    }\n\n    .page-widget__pages-list::-webkit-scrollbar {\n      width: 6px;\n    }\n\n    .page-widget__pages-list::-webkit-scrollbar-track {\n      background: rgba(0, 0, 0, 0.02);\n      border-radius: 3px;\n    }\n\n    .page-widget__pages-list::-webkit-scrollbar-thumb {\n      background: rgba(0, 0, 0, 0.12);\n      border-radius: 3px;\n    }\n\n    .page-widget__pages-list::-webkit-scrollbar-thumb:hover {\n      background: rgba(0, 0, 0, 0.2);\n    }\n\n    .page-widget__page-item {\n      display: flex;\n      align-items: center;\n      gap: 10px;\n      padding: 8px 10px;\n      border-radius: 8px;\n      cursor: pointer;\n      transition: all 0.2s ease;\n      text-decoration: none;\n      color: var(--ink);\n    }\n\n    .page-widget__page-item:hover {\n      background: rgba(0, 0, 0, 0.03);\n      transform: translateX(2px);\n    }\n\n    .page-widget__page-item--current {\n      background: rgba(22, 163, 74, 0.08);\n      color: var(--accent);\n      font-weight: 500;\n    }\n\n    .page-widget__page-item--current:hover {\n      background: rgba(22, 163, 74, 0.12);\n    }\n\n    .page-widget__page-number {\n      display: inline-flex;\n      align-items: center;\n      justify-content: center;\n      width: 24px;\n      height: 24px;\n      background: rgba(0, 0, 0, 0.04);\n      border-radius: 5px;\n      font-size: 11px;\n      font-weight: 500;\n      flex-shrink: 0;\n      color: var(--muted);\n    }\n\n    .page-widget__page-item--current .page-widget__page-number {\n      background: rgba(22, 163, 74, 0.15);\n      color: var(--accent);\n    }\n\n    .page-widget__page-info {\n      flex: 1;\n      min-width: 0;\n    }\n\n    .page-widget__page-name {\n      font-size: 13px;\n      font-weight: 500;\n      line-height: 1.3;\n      margin: 0 0 2px 0;\n    }\n\n    .page-widget__page-note {\n      font-size: 11px;\n      color: var(--muted);\n      line-height: 1.3;\n      margin: 0;\n      white-space: nowrap;\n      overflow: hidden;\n      text-overflow: ellipsis;\n    }\n\n    @media (max-width: 768px) {\n      .page-widget__pages-list {\n        max-height: 300px;\n      }\n    }\n\n\n/* ===============================\n   WRAPPER\n================================ */\n.book-wrap {\n  width: 320px;\n  aspect-ratio: 2 / 3;\n  position: relative;\n}\n\n/* ===============================\n   CAST SHADOW SLAB (REAL SHADOW)\n================================ */\n.shadow-slab {\n    position: absolute;\n    position: absolute;\n    inset: 0;\n    border-radius: 22px;\n    /* background: #2a2a2a; */\n    transform: translate(-30px, 30px);\n    filter: blur(13px);\n    opacity: 0.35;\n    z-index: 0;\n    background: radial-gradient(ellipse at 15% 85%, rgba(0, 0, 0, 0.35), rgba(0, 0, 0, 0.18) 35%, transparent 65%), linear-gradient(to right, #1f1f1f 0%, #2a2a2a 45%, #3a3a3a 100%);\n}\n\n.shadow-slab-2 {\n    position: absolute;\n    inset: 0;\n    border-radius: 22px;\n    background: radial-gradient(circle at top right, #f6e6a8 0%, #e2c36b 35%, #b58a3c 70%, #7a5524 100%);\n    transform: translate(-10px, 10px);\n    filter: blur(5px);\n    opacity: 0.35;\n    z-index: 0;\n}\n\n.shadow-slab-3 {\n    position: absolute;\n    inset: 0;\n    border-radius: 22px;\n    background: #333;\n    transform: translate(0px, 0px);\n    filter: blur(11px);\n    opacity: 0.35;\n    z-index: 0;\n}\n\n.shadow-slab-4 {\n    position: absolute;\n    inset: 0;\n    border-radius: 22px;\n    background: #333;\n    transform: translate(0px, 0px);\n    filter: blur(11px);\n    opacity: 0.35;\n    z-index: 0;\n}\n\n/* ===============================\n   FRONT SLAB & SPIN HANDLE\n================================ */\n\n.front-slab {\n    position: absolute;\n    inset: 0;\n    border-radius: 22px;\n    background: linear-gradient(to right, rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.1) 3%, transparent 1%);\n    /* background: green; */\n    z-index: 3;\n    opacity: .5;\n    transform: translateZ(6px);\n    pointer-events: none;\n}\n\n.spin-handle {\n  display: none;\n  position: absolute;\n  top: 50%;\n  right: -22px;\n  width: 14px;\n  height: 48px;\n  border-radius: 999px;\n  background: rgba(0,0,0,0.25);\n  backdrop-filter: blur(4px);\n  cursor: grab;\n  z-index: 10;\n}\n\n/* ===============================\n   BOOK OBJECT (NO SHADOW)\n================================ */\n.book {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  border-radius: 22px;\n  overflow: hidden;\n  z-index: 2;\n\n  /* IMPORTANT: no box-shadow */\n  box-shadow: none;\n\n  /* transform: perspective(1200px) rotateX(0.6deg); */\n}\n\n/* ===============================\n   PAPER SURFACE (LIGHT FIELD)\n================================ */\n.book .surface {\n  position: absolute;\n  inset: 0;\n  border-radius: inherit;\n  pointer-events: none;\n  z-index: 1;\n\n  background:\n    linear-gradient(\n      to bottom left,\n      rgba(255,255,255,1) 0%,\n      rgba(250,250,250,1) 42%,\n      rgba(240,240,240,1) 100%\n    ),\n    repeating-linear-gradient(\n      0deg,\n      rgba(0,0,0,0.01),\n      rgba(0,0,0,0.01) 1px,\n      transparent 1px,\n      transparent 3px\n    );\n}\n\n/* ===============================\n   LEFT OCCLUSION (CURTAIN)\n================================ */\n.book .curtain {\n  position: absolute;\n  inset: 0;\n  border-radius: inherit;\n  pointer-events: none;\n  z-index: 2;\n\n  background:\n    linear-gradient(\n      to right,\n      rgba(0,0,0,0.20) 0%,\n      rgba(0,0,0,0.12) 8%,\n      rgba(0,0,0,0.05) 16%,\n      rgba(0,0,0,0.02) 22%,\n      rgba(0,0,0,0.00) 30%\n    );\n}\n\n/* ===============================\n   RIGHT HIGHLIGHT\n================================ */\n.book .highlight {\n  position: absolute;\n  inset: 0;\n  border-radius: inherit;\n  pointer-events: none;\n  z-index: 3;\n\n  background:\n    linear-gradient(\n      to left,\n      rgba(255,255,255,0.35) 0%,\n      rgba(255,255,255,0.18) 6%,\n      rgba(255,255,255,0.06) 14%,\n      rgba(255,255,255,0.00) 24%\n    );\n}\n\n/* ===============================\n   PAGE EDGE (THICKNESS)\n================================ */\n.book .edge {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 120px;\n  height: 100%;\n  border-radius: 22px 0 0 22px;\n  pointer-events: none;\n  z-index: 4;\n\n  background:\n    linear-gradient(\n      to right,\n      rgba(215,215,215,0.95) 0%,\n      rgba(245,245,245,0.95) 40%,\n      rgba(255,255,255,0.95) 75%\n    );\n\n  box-shadow:\n    inset -1px 0 0 rgba(0,0,0,0.05);\n}\n\n/* ===============================\n   SVG (PURE WHITE)\n================================ */\n.book svg {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  display: block;\n  z-index: 5;\n}\n\n    /* =====================\n       LEFT: BOOK COVER\n    ====================== */\n    .book-cover {\n      display: flex;\n      flex-direction: column;\n      gap: 12px;\n    }\n\n\n    /* ===============================\n       BOOK + SHADOW SYSTEM\n    =============================== */\n    .book-wrap {\n      width: 320px;\n      aspect-ratio: 2 / 3;\n      position: relative;\n    }\n\n    .shadow-slab,\n    .shadow-slab-2,\n    .shadow-slab-3,\n    .shadow-slab-4 {\n      position: absolute;\n      inset: 0;\n      border-radius: 22px;\n      z-index: 0;\n      will-change: transform, filter, opacity;\n    }\n\n    .shadow-slab {\n      background:\n        radial-gradient(ellipse at 15% 85%, rgba(0,0,0,0.35), rgba(0,0,0,0.18) 35%, transparent 65%),\n        linear-gradient(to right, #1f1f1f 0%, #2a2a2a 45%, #3a3a3a 100%);\n      filter: blur(13px);\n      opacity: 0.35;\n    }\n\n    .shadow-slab-2 {\n      background: radial-gradient(circle at top right, #f6e6a8 0%, #e2c36b 35%, #b58a3c 70%, #7a5524 100%);\n      filter: blur(6px);\n      opacity: 0.30;\n    }\n\n    .shadow-slab-3,\n    .shadow-slab-4 {\n      background: #333;\n      filter: blur(11px);\n      opacity: 0.30;\n    }\n\n    .book {\n      position: relative;\n      width: 100%;\n      height: 100%;\n      border-radius: 22px;\n      overflow: hidden;\n      z-index: 2;\n      background: #f7f4ee;\n    }\n\n    .front-slab {\n      position: absolute;\n      inset: 0;\n      border-radius: 22px;\n      background: linear-gradient(to right, rgba(0,0,0,0.4), rgba(0,0,0,0.1) 3%, transparent 10%);\n      z-index: 3;\n      pointer-events: none;\n      opacity: 0.5;\n    }\n\n\n    @media (prefers-reduced-motion: reduce) {\n      .cover-frame {\n        transition: none;\n        transform: none;\n      }\n      .cover-frame:hover {\n        --lift: 0;\n      }\n    }\n\n    .start-reading {\n      display: inline-flex;\n      align-items: center;\n      justify-content: center;\n      width: 100%;\n      padding: 12px 14px;\n      border-radius: 999px;\n\n      font-size: 11px;\n      letter-spacing: 0.16em;\n      text-transform: uppercase;\n      font-weight: 650;\n      color: rgba(34,197,94,0.92);\n      text-shadow:\n        0 0 10px rgba(34,197,94,0.22),\n        0 0 22px rgba(34,197,94,0.14);\n\n      /* graphite: dark + slightly mineral */\n      background:\n        radial-gradient(120% 140% at 20% 10%, rgba(255,255,255,0.10) 0%, rgba(255,255,255,0.00) 55%),\n        radial-gradient(140% 140% at 80% 90%, rgba(255,255,255,0.06) 0%, rgba(255,255,255,0.00) 60%),\n        linear-gradient(180deg, #141414 0%, #0a0a0a 100%);\n      border: 1px solid rgba(255,255,255,0.10);\n      box-shadow:\n        0 14px 34px rgba(0,0,0,0.22),\n        0 8px 16px rgba(0,0,0,0.18),\n        inset 0 1px 0 rgba(255,255,255,0.10),\n        inset 0 -1px 0 rgba(0,0,0,0.55);\n\n      position: relative;\n      overflow: hidden;\n      cursor: pointer;\n      user-select: none;\n      -webkit-tap-highlight-color: transparent;\n\n      transition:\n        transform 160ms cubic-bezier(0.2, 0.8, 0.2, 1),\n        box-shadow 160ms cubic-bezier(0.2, 0.8, 0.2, 1),\n        border-color 160ms cubic-bezier(0.2, 0.8, 0.2, 1);\n    }\n\n    .start-reading::before {\n      content: \"\";\n      position: absolute;\n      inset: 0;\n      pointer-events: none;\n      /* texture + sheen (very subtle) */\n      background:\n        linear-gradient(120deg, rgba(255,255,255,0.12) 0%, rgba(255,255,255,0.00) 46%),\n        repeating-linear-gradient(0deg,\n          rgba(255,255,255,0.028) 0px,\n          rgba(255,255,255,0.028) 1px,\n          rgba(0,0,0,0.00) 3px,\n          rgba(0,0,0,0.00) 6px),\n        radial-gradient(120% 90% at 50% 0%, rgba(34,197,94,0.14) 0%, rgba(34,197,94,0.00) 62%);\n      opacity: 0.75;\n    }\n\n    .start-reading:hover {\n      transform: translateY(-1px);\n      border-color: rgba(34,197,94,0.30);\n      box-shadow:\n        0 18px 42px rgba(0,0,0,0.24),\n        0 10px 18px rgba(0,0,0,0.18),\n        inset 0 1px 0 rgba(255,255,255,0.12),\n        inset 0 -1px 0 rgba(0,0,0,0.55);\n      text-shadow:\n        0 0 12px rgba(34,197,94,0.28),\n        0 0 26px rgba(34,197,94,0.18);\n    }\n\n    .start-reading:active {\n      transform: translateY(0px);\n      box-shadow:\n        0 14px 34px rgba(0,0,0,0.22),\n        0 8px 16px rgba(0,0,0,0.18),\n        inset 0 1px 0 rgba(255,255,255,0.10),\n        inset 0 -1px 0 rgba(0,0,0,0.55);\n    }\n\n    .start-reading:focus-visible {\n      outline: none;\n      box-shadow:\n        0 18px 42px rgba(0,0,0,0.24),\n        0 0 0 4px rgba(34,197,94,0.22),\n        0 0 0 1px rgba(34,197,94,0.26),\n        inset 0 1px 0 rgba(255,255,255,0.12),\n        inset 0 -1px 0 rgba(0,0,0,0.55);\n      border-color: rgba(34,197,94,0.34);\n    }\n\n    @media (prefers-reduced-motion: reduce) {\n      .start-reading {\n        transition: none;\n      }\n      .start-reading:hover {\n        transform: none;\n      }\n    }\n\n    /* =====================\n       CENTER: CONTENT\n    ====================== */\n    .content h1 {\n      font-size: 40px;\n      font-weight: 800;\n      line-height: 1.15;\n      margin: 0;\n    }\n\n    .byline {\n      font-size: 13px;\n      letter-spacing: 0.12em;\n      color: #666;\n      font-weight: 600;\n    }\n\n    .tagline {\n      font-size: 18px;\n      font-weight: 500;\n      color: #333;\n    }\n\n    .paragraph {\n      font-size: 15px;\n      color: #222;\n    }\n\n    .meta {\n      margin-top: 20px;\n      padding-top: 20px;\n      border-top: 1px solid var(--line);\n      display: grid;\n      grid-template-columns: repeat(2, 1fr);\n      gap: 12px 24px;\n      font-size: 13px;\n    }\n\n    .author {\n      margin-top: 20px;\n      padding-top: 20px;\n      border-top: 1px solid var(--line);\n      display: flex;\n      gap: 16px;\n      align-items: flex-start;\n    }\n\n    .author img {\n      width: 44px;\n      height: 44px;\n      border-radius: 50%;\n    }\n\n    /* =====================\n       RIGHT: RELATED\n    ====================== */\n    .related {\n      display: flex;\n      flex-direction: column;\n      gap: 20px;\n    }\n\n    .related-title {\n      font-size: 11px;\n      letter-spacing: 0.14em;\n      color: #666;\n      text-transform: uppercase;\n      font-weight: 600;\n    }\n\n    .related-item {\n      display: flex;\n      flex-direction: column;\n      gap: 6px;\n      cursor: pointer;\n      transition: transform 0.12s ease, box-shadow 0.12s ease;\n    }\n\n    .related-item:hover {\n      transform: translateY(-2px);\n    }\n\n    .related-thumb {\n      border-radius: 6px;\n      overflow: hidden;\n      aspect-ratio: 3 / 4;\n      box-shadow: 0 8px 24px rgba(0,0,0,0.1);\n\n      /* Gray placeholder shape */\n      background: linear-gradient(135deg, #e5e7eb 0%, #d1d5db 45%, #cbd5e1 100%);\n      border: 1px solid rgba(0,0,0,0.06);\n    }\n\n    .related-thumb img {\n      width: 100%;\n      height: 100%;\n      object-fit: cover;\n      filter: grayscale(1);\n      opacity: 0.85;\n      transition: filter 160ms ease, opacity 160ms ease;\n    }\n\n    .related-thumb .thumb-placeholder {\n      width: 100%;\n      height: 100%;\n      display: block;\n    }\n\n    .related-item a {\n      font-size: 12px;\n      font-weight: 600;\n      color: #111;\n    }\n\n    /* =====================\n       RIGHT: 13 CHAPTERS\n    ====================== */\n    .chapters {\n      display: flex;\n      flex-direction: column;\n      gap: 10px;\n    }\n\n    .chapters-title {\n      font-size: 11px;\n      letter-spacing: 0.12em;\n      color: rgba(17,17,17,0.52);\n      text-transform: uppercase;\n      font-weight: 600;\n    }\n\n    .chapters-help {\n      margin-top: -4px;\n      font-size: 11px;\n      line-height: 1.35;\n      color: rgba(17,17,17,0.42);\n    }\n\n    .chapter-list {\n      list-style: none;\n      padding: 0;\n      margin: 0;\n      display: flex;\n      flex-direction: column;\n      gap: 0;\n      border-top: 1px solid rgba(0,0,0,0.06);\n    }\n\n    .chapter-item {\n      display: grid;\n      grid-template-columns: 3ch 1fr;\n      gap: 12px;\n      align-items: start;\n      padding: 10px 0;\n      border-bottom: 1px solid rgba(0,0,0,0.06);\n    }\n\n    .chapter-item--preface .chapter-name {\n      font-weight: 760;\n      letter-spacing: -0.01em;\n      color: rgba(17,17,17,0.90);\n    }\n\n    .chapter-item--current .chapter-name {\n      color: rgba(17,17,17,0.92);\n      text-decoration: underline;\n      text-decoration-thickness: 1px;\n      text-underline-offset: 3px;\n      text-decoration-color: rgba(17,17,17,0.22);\n    }\n\n    .chapter-num {\n      width: auto;\n      height: auto;\n      border-radius: 0;\n      display: block;\n      text-align: right;\n      font-size: 11px;\n      font-weight: 650;\n      color: rgba(17,17,17,0.46);\n      font-variant-numeric: tabular-nums;\n    }\n\n    .chapter-name {\n      font-size: 12px;\n      font-weight: 600;\n      color: rgba(17,17,17,0.80);\n      line-height: 1.3;\n    }\n\n    .chapter-note {\n      margin-top: 2px;\n      font-size: 11px;\n      color: rgba(17,17,17,0.46);\n      line-height: 1.4;\n    }\n\n    /* =====================\n       RESPONSIVE\n    ====================== */\n    @media (max-width: 900px) {\n      .chapter-content {\n        max-width: 100%;\n        padding: 0 24px;\n      }\n\n      .page-widget {\n        max-width: 100%;\n        margin-left: 24px;\n        margin-right: 24px;\n      }\n\n      .chapter-title {\n        font-size: 42px;\n      }\n\n      .chapter-body {\n        font-size: 18px;\n      }\n\n      .chapter-body h2 {\n        font-size: 32px;\n      }\n\n      .chapter-body h3 {\n        font-size: 24px;\n      }\n    }\n\n    @media (max-width: 768px) {\n      .header {\n        flex-direction: column;\n        gap: 12px;\n      }\n\n      .chapter-content {\n        padding: 0 16px;\n      }\n\n      .page-widget {\n        margin-left: 16px;\n        margin-right: 16px;\n      }\n\n      .chapter-title {\n        font-size: 38px;\n      }\n\n      .chapter-body {\n        font-size: 17px;\n      }\n\n      .chapter-body h2 {\n        font-size: 30px;\n      }\n\n      .chapter-body h3 {\n        font-size: 22px;\n      }\n    }\n  </style>\n</head>\n\n<body>\n  <div class=\"page\">\n    <div class=\"container\">\n\n      <!-- SIDEBAR BACKDROP -->\n      <div class=\"sidebar-backdrop\" id=\"sidebarBackdrop\"></div>\n\n      <!-- SIDEBAR -->\n      <aside class=\"sidebar\" id=\"sidebar\">\n        <div class=\"sidebar__title\">Working Fundamentals</div>\n        <ul class=\"sidebar__chapter-list\">\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-introduction\" class=\"sidebar__chapter-link\" target=\"_blank\">Introduction</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-1-of-13-programming-fundamentals\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 1 ¬∑ Programming Fundamentals</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-2-of-13-data-structures\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 2 ¬∑ Data Structures</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-3-of-13-algorithms-and-complexity\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 3 ¬∑ Algorithms & Complexity</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-4-of-13-control-and-flow\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 4 ¬∑ Control & Flow</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-5-of-13-state-and-change\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 5 ¬∑ State & Change</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-6-of-13-design-principles\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 6 ¬∑ Design Principles</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-7-of-13-architecture\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 7 ¬∑ Architecture</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-8-of-13-persistence-and-data-modeling\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 8 ¬∑ Persistence & Data Modeling</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-9-of-13-interfaces-and-apis\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 9 ¬∑ Interfaces & APIs</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-10-of-13-errors-and-failure\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 10 ¬∑ Errors & Failure</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-11-of-13-testing\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 11 ¬∑ Testing</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-12-of-13-performance-and-scale\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 12 ¬∑ Performance & Scale</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-13-of-13-the-developers-role\" class=\"sidebar__chapter-link\" target=\"_blank\">Chapter 13 ¬∑ The Developer''s Role</a>\n          </li>\n          <li class=\"sidebar__chapter-item\">\n            <a href=\"https://arvinjaysoncastro.com/working-fundamentals-outroduction\" class=\"sidebar__chapter-link sidebar__chapter-link--current\" target=\"_blank\">Outroduction</a>\n          </li>\n        </ul>\n      </aside>\n\n      <!-- HEADER -->\n      <header class=\"header\" id=\"header\">\n        <a href=\"https://arvinjaysoncastro.com/\" class=\"brand\" target=\"_blank\">Arvin Jayson Castro</a>\n        <nav class=\"nav\">\n          <a href=\"https://arvinjaysoncastro.com/hungry-dev-mind\" target=\"_blank\">Books</a>\n          <a href=\"https://arvinjaysoncastro.com/working-systems\" target=\"_blank\">Working Systems</a>\n          <a href=\"https://arvinjaysoncastro.com/about\" target=\"_blank\">16 Years</a>\n          <div class=\"linkedin\">\n            <a href=\"https://www.linkedin.com/in/arvin-jayson-castro-7458199a/\" target=\"_blank\">linkedIn</a>\n            <span>let''s connect</span>\n          </div>\n        </nav>\n      </header>\n\n      <!-- PAGE WIDGET (TOP) - REMOVED -->\n      <div style=\"display: none;\">\n          <ol class=\"page-widget__pages-list\">\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">P</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Preface</div>\n                  <div class=\"page-widget__page-note\">Why fundamentals still decide outcomes.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item page-widget__page-item--current\">\n                <span class=\"page-widget__page-number\">1</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 1</div>\n                  <div class=\"page-widget__page-note\">Core principles and constraints.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">2</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 2</div>\n                  <div class=\"page-widget__page-note\">Boundaries, ownership, and interfaces.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">3</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 3</div>\n                  <div class=\"page-widget__page-note\">State, consistency, and failure modes.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">4</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 4</div>\n                  <div class=\"page-widget__page-note\">Abstractions that survive change.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">5</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 5</div>\n                  <div class=\"page-widget__page-note\">Simplicity as an engineering practice.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">6</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 6</div>\n                  <div class=\"page-widget__page-note\">Reliability, observability, and feedback.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">7</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 7</div>\n                  <div class=\"page-widget__page-note\">Delivery systems and decision hygiene.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">8</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 8</div>\n                  <div class=\"page-widget__page-note\">Documentation that stays useful.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">9</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 9</div>\n                  <div class=\"page-widget__page-note\">Testing strategy for predictable change.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">10</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 10</div>\n                  <div class=\"page-widget__page-note\">Pragmatic architecture for teams.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">11</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 11</div>\n                  <div class=\"page-widget__page-note\">Operational excellence without ceremony.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">12</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 12</div>\n                  <div class=\"page-widget__page-note\">Leadership, standards, and leverage.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">13</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 13</div>\n                  <div class=\"page-widget__page-note\">Making fundamentals non-negotiable.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">PS</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Postscript</div>\n                  <div class=\"page-widget__page-note\">A short operating model to carry forward.</div>\n                </div>\n              </a>\n            </li>\n          </ol>\n        </div>\n      </div>\n\n      <!-- MAIN -->\n      <main class=\"main\" id=\"main\">\n\n        <!-- CHAPTER CONTENT (Option 1: Magazine-style) -->\n        <article class=\"chapter-content\">\n          <header class=\"chapter-header\">\n            <div class=\"book-title\">Working Fundamentals</div>\n            <h1 class=\"chapter-title\">Outroduction</h1>\n          </header>\n\n          <div class=\"chapter-body\">\n            <p>\n              <em>Outroduction content will be added here.</em>\n            </p>\n          </div>\n\n            <p>\n              This chapter defines the <strong>minimum thinking system</strong> required to make software behave predictably.\n            </p>\n\n            <p>\n              If you understand this chapter, you can learn any programming language faster. If you skip it, every abstraction you learn later will feel fragile.\n            </p>\n\n            <h2>The core truth</h2>\n\n            <p>\n              Every program‚Äîregardless of language, framework, or scale‚Äîreduces to the same shape:\n            </p>\n\n            <p>\n              <strong>Input ‚Üí Transform ‚Üí Output</strong>\n            </p>\n\n            <p>\n              This is not a metaphor. This is the invariant.\n            </p>\n\n            <p>\n              Languages change. Frameworks change. Paradigms evolve.\n            </p>\n\n            <p>\n              This shape does not.\n            </p>\n\n            <h2>Why fundamentals matter (beyond beginners)</h2>\n\n            <p>\n              Most bugs are not caused by advanced concepts. They are caused by <strong>unclear fundamentals</strong> hidden under abstraction.\n            </p>\n\n            <p>\n              Unclear fundamentals lead to:\n            </p>\n\n            <ul>\n              <li>unpredictable behavior</li>\n              <li>defensive code</li>\n              <li>excessive logging</li>\n              <li>unnecessary complexity</li>\n              <li>fragile refactors</li>\n            </ul>\n\n            <p>\n              Strong fundamentals produce:\n            </p>\n\n            <ul>\n              <li>calm code</li>\n              <li>obvious flow</li>\n              <li>fewer surprises</li>\n              <li>easier collaboration</li>\n              <li>long-term stability</li>\n            </ul>\n\n            <p>\n              This chapter is about <strong>preventing drift</strong>.\n            </p>\n\n            <h2>The six fundamentals (the complete set)</h2>\n\n            <p>\n              Everything you write in code belongs to <strong>one of these six</strong>. If you cannot name which one, the system is already weakening.\n            </p>\n\n            <h3>1. Data</h3>\n\n            <p>\n              <strong>What exists</strong>\n            </p>\n\n            <p>\n              Data is the raw material of a program. Numbers, text, flags, collections, objects.\n            </p>\n\n            <p>\n              Data does nothing by itself. It only exists.\n            </p>\n\n            <p>\n              üß† <strong>Mental Model</strong> Data is passive. Behavior comes later.\n            </p>\n\n            <p>\n              ‚ö†Ô∏è <strong>Common Drift</strong> When developers confuse data with behavior, logic spreads uncontrollably.\n            </p>\n\n            <h3>2. Variables</h3>\n\n            <p>\n              <strong>What names data</strong>\n            </p>\n\n            <p>\n              Variables do not store values. They <strong>point to values</strong>.\n            </p>\n\n            <p>\n              Naming is not cosmetic‚Äîit is structural.\n            </p>\n\n            <p>\n              A good variable name:\n            </p>\n\n            <ul>\n              <li>communicates intent</li>\n              <li>limits misuse</li>\n              <li>reduces comments</li>\n            </ul>\n\n            <p>\n              üß† <strong>Perspective</strong> Poor naming is the earliest form of technical debt.\n            </p>\n\n            <h3>3. Control Flow</h3>\n\n            <p>\n              <strong>What decides what happens</strong>\n            </p>\n\n            <p>\n              Control flow determines:\n            </p>\n\n            <ul>\n              <li>when something runs</li>\n              <li>if something runs</li>\n              <li>how often it runs</li>\n              <li>when it stops</li>\n            </ul>\n\n            <p>\n              Conditionals and loops are not logic. They are <strong>traffic signals</strong>.\n            </p>\n\n            <p>\n              üß† <strong>Mental Model</strong> Control flow answers: <em>\"What path does execution take?\"</em>\n            </p>\n\n            <p>\n              ‚ö†Ô∏è <strong>Common Drift</strong> Nested conditionals are a symptom of unclear rules.\n            </p>\n\n            <h3>4. Functions</h3>\n\n            <p>\n              <strong>What transforms input into output</strong>\n            </p>\n\n            <p>\n              A function is a <strong>boundary</strong>.\n            </p>\n\n            <p>\n              It should answer four questions clearly:\n            </p>\n\n            <ol>\n              <li>What does it take in?</li>\n              <li>What does it return?</li>\n              <li>What rules does it apply?</li>\n              <li>What can go wrong?</li>\n            </ol>\n\n            <p>\n              If a function cannot be explained in one sentence, it is doing too much.\n            </p>\n\n            <p>\n              üß† <strong>Architect''s Note</strong> Good systems are collections of small, honest transformations.\n            </p>\n\n            <h3>5. State & Mutability</h3>\n\n            <p>\n              <strong>What changes over time</strong>\n            </p>\n\n            <p>\n              State is data that can change. Mutability is <em>how</em> it changes.\n            </p>\n\n            <p>\n              Not all data should be mutable. Not all changes should be allowed.\n            </p>\n\n            <p>\n              üß† <strong>Mental Model</strong> The more things that can change, the harder the system is to reason about.\n            </p>\n\n            <p>\n              ‚ö†Ô∏è <strong>Common Drift</strong> Hidden state is responsible for most \"impossible\" bugs.\n            </p>\n\n            <h3>6. Errors</h3>\n\n            <p>\n              <strong>What happens when assumptions break</strong>\n            </p>\n\n            <p>\n              Errors are not edge cases. They are <strong>alternate paths</strong>.\n            </p>\n\n            <p>\n              Every system operates on assumptions:\n            </p>\n\n            <ul>\n              <li>input format</li>\n              <li>timing</li>\n              <li>availability</li>\n              <li>correctness</li>\n            </ul>\n\n            <p>\n              When assumptions fail, errors appear.\n            </p>\n\n            <p>\n              üß† <strong>Perspective</strong> Unhandled errors are silent contracts you didn''t realize you made.\n            </p>\n\n            <h2>How these fundamentals work together</h2>\n\n            <p>\n              A stable program follows this rhythm:\n            </p>\n\n            <ol>\n              <li>Accept input (data)</li>\n              <li>Name it (variables)</li>\n              <li>Choose a path (control flow)</li>\n              <li>Transform it (functions)</li>\n              <li>Update what must change (state)</li>\n              <li>Handle what can fail (errors)</li>\n              <li>Produce output</li>\n            </ol>\n\n            <p>\n              When systems fail, one of these steps is unclear.\n            </p>\n\n            <h2>Minimal practice (no code yet)</h2>\n\n            <p>\n              <strong>Problem (in plain language):</strong> \"Given a list of numbers, return only the even ones, then double them.\"\n            </p>\n\n            <p>\n              Before writing code, answer:\n            </p>\n\n            <ul>\n              <li>What is the input?</li>\n              <li>What is the output?</li>\n              <li>Where is the decision?</li>\n              <li>Where is the transformation?</li>\n              <li>What could go wrong?</li>\n            </ul>\n\n            <p>\n              If you can answer these clearly, implementation is mechanical.\n            </p>\n\n            <p>\n              üß† <strong>Architect''s Note</strong> If you cannot describe behavior in words, code will not save you.\n            </p>\n\n            <h2>What beginners gain here</h2>\n\n            <ul>\n              <li>A stable mental foundation</li>\n              <li>Confidence reading unfamiliar code</li>\n              <li>Reduced dependence on memorization</li>\n            </ul>\n\n            <h2>What experienced developers recognize</h2>\n\n            <ul>\n              <li>Why certain bugs keep returning</li>\n              <li>Why refactors feel risky</li>\n              <li>Why some codebases feel heavy despite \"best practices\"</li>\n            </ul>\n\n            <p>\n              This chapter gives names to intuitions you already had.\n            </p>\n\n            <h2>What this chapter deliberately avoids</h2>\n\n            <ul>\n              <li>Language syntax</li>\n              <li>Framework examples</li>\n              <li>Tooling</li>\n              <li>Patterns</li>\n              <li>Optimization</li>\n            </ul>\n\n            <p>\n              Those come later.\n            </p>\n\n            <p>\n              Foundations come first.\n            </p>\n\n            <h2>Closing</h2>\n\n            <p>\n              Programming fundamentals are not about skill level. They are about <strong>predictability</strong>.\n            </p>\n\n            <p>\n              Predictable systems scale. Predictable systems survive refactors. Predictable systems can be trusted.\n            </p>\n\n            <p>\n              This chapter is not mastery. It is the ground.\n            </p>\n          </div>\n        </article>\n\n        <!-- RIGHT -->\n\n      </main>\n\n      <!-- CHAPTER NAVIGATION (BOTTOM) -->\n      <nav class=\"chapter-nav-bottom\" id=\"chapterNavBottom\">\n        <a href=\"#\" class=\"chapter-nav-bottom__link chapter-nav-bottom__link--prev\" id=\"prevChapter\">\n          <span class=\"chapter-nav-bottom__arrow\">‚Üê</span>\n          <span class=\"chapter-nav-bottom__label\">Previous</span>\n        </a>\n        <a href=\"#\" class=\"chapter-nav-bottom__link chapter-nav-bottom__link--next\" id=\"nextChapter\">\n          <span class=\"chapter-nav-bottom__label\">Next</span>\n          <span class=\"chapter-nav-bottom__arrow\">‚Üí</span>\n        </a>\n      </nav>\n\n      <!-- PAGE WIDGET (BOTTOM) - REMOVED -->\n      <div style=\"display: none;\">\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">P</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Preface</div>\n                  <div class=\"page-widget__page-note\">Why fundamentals still decide outcomes.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item page-widget__page-item--current\">\n                <span class=\"page-widget__page-number\">1</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 1</div>\n                  <div class=\"page-widget__page-note\">Core principles and constraints.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">2</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 2</div>\n                  <div class=\"page-widget__page-note\">Boundaries, ownership, and interfaces.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">3</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 3</div>\n                  <div class=\"page-widget__page-note\">State, consistency, and failure modes.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">4</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 4</div>\n                  <div class=\"page-widget__page-note\">Abstractions that survive change.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">5</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 5</div>\n                  <div class=\"page-widget__page-note\">Simplicity as an engineering practice.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">6</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 6</div>\n                  <div class=\"page-widget__page-note\">Reliability, observability, and feedback.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">7</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 7</div>\n                  <div class=\"page-widget__page-note\">Delivery systems and decision hygiene.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">8</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 8</div>\n                  <div class=\"page-widget__page-note\">Documentation that stays useful.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">9</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 9</div>\n                  <div class=\"page-widget__page-note\">Testing strategy for predictable change.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">10</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 10</div>\n                  <div class=\"page-widget__page-note\">Pragmatic architecture for teams.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">11</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 11</div>\n                  <div class=\"page-widget__page-note\">Operational excellence without ceremony.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">12</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 12</div>\n                  <div class=\"page-widget__page-note\">Leadership, standards, and leverage.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">13</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Chapter 13</div>\n                  <div class=\"page-widget__page-note\">Making fundamentals non-negotiable.</div>\n                </div>\n              </a>\n            </li>\n            <li>\n              <a href=\"#\" class=\"page-widget__page-item\">\n                <span class=\"page-widget__page-number\">PS</span>\n                <div class=\"page-widget__page-info\">\n                  <div class=\"page-widget__page-name\">Postscript</div>\n                  <div class=\"page-widget__page-note\">A short operating model to carry forward.</div>\n                </div>\n              </a>\n            </li>\n          </ol>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <!-- PAGE WIDGET JS -->\n  <!-- SIDEBAR TOGGLE JS -->\n  <script>\n  (() => {\n    const sidebar = document.getElementById(''sidebar'');\n    const backdrop = document.getElementById(''sidebarBackdrop'');\n    const indicator = document.getElementById(''chapterIndicator'');\n    const icon = document.getElementById(''chapterIndicatorIcon'');\n    const header = document.getElementById(''header'');\n    const main = document.getElementById(''main'');\n    const body = document.body;\n\n    if (!sidebar || !backdrop || !indicator || !icon || !header || !main) return;\n\n    let isOpen = false;\n    let scrollTimeout = null;\n\n    const openSidebar = () => {\n      isOpen = true;\n      sidebar.classList.add(''sidebar--open'');\n      backdrop.classList.add(''sidebar-backdrop--visible'');\n      header.classList.add(''header--shifted'');\n      main.classList.add(''main--shifted'');\n      icon.classList.add(''chapter-number__icon--open'');\n      body.classList.add(''sidebar-open'');\n    };\n\n    const closeSidebar = () => {\n      isOpen = false;\n      sidebar.classList.remove(''sidebar--open'');\n      backdrop.classList.remove(''sidebar-backdrop--visible'');\n      header.classList.remove(''header--shifted'');\n      main.classList.remove(''main--shifted'');\n      icon.classList.remove(''chapter-number__icon--open'');\n      body.classList.remove(''sidebar-open'');\n    };\n\n    // Toggle sidebar\n    indicator.addEventListener(''click'', (e) => {\n      e.stopPropagation();\n      if (isOpen) {\n        closeSidebar();\n      } else {\n        openSidebar();\n      }\n    });\n\n    // Close sidebar when clicking backdrop\n    backdrop.addEventListener(''click'', () => {\n      closeSidebar();\n    });\n\n    // Close sidebar when clicking outside\n    document.addEventListener(''click'', (e) => {\n      // Don''t close sidebar if clicking on brand link or nav links\n      const brandLink = header.querySelector(''.brand'');\n      const isClickOnLink = brandLink && brandLink.contains(e.target);\n      const isClickOnNav = header.querySelector(''.nav'') && header.querySelector(''.nav'').contains(e.target);\n      \n      if (isOpen && !sidebar.contains(e.target) && !indicator.contains(e.target) && !isClickOnLink && !isClickOnNav) {\n        closeSidebar();\n      }\n    });\n\n    // Close sidebar on scroll (debounced)\n    const handleScroll = () => {\n      if (isOpen) {\n        clearTimeout(scrollTimeout);\n        scrollTimeout = setTimeout(() => {\n          closeSidebar();\n        }, 100);\n      }\n    };\n\n    // Listen for scroll on main content\n    window.addEventListener(''scroll'', handleScroll, { passive: true });\n    \n    // Also listen for scroll attempts on body (when scroll is disabled)\n    let lastScrollTop = window.pageYOffset;\n    const handleScrollAttempt = () => {\n      if (isOpen) {\n        const currentScrollTop = window.pageYOffset;\n        if (currentScrollTop !== lastScrollTop) {\n          closeSidebar();\n        }\n        lastScrollTop = currentScrollTop;\n      }\n    };\n\n    // Prevent scroll on body when sidebar is open\n    document.addEventListener(''wheel'', (e) => {\n      if (isOpen && !sidebar.contains(e.target)) {\n        e.preventDefault();\n        closeSidebar();\n      }\n    }, { passive: false });\n\n    // Prevent touch scroll on body when sidebar is open\n    document.addEventListener(''touchmove'', (e) => {\n      if (isOpen && !sidebar.contains(e.target)) {\n        e.preventDefault();\n        closeSidebar();\n      }\n    }, { passive: false });\n  })();\n  </script>\n\n  <!-- CHAPTER NAVIGATION (BOTTOM) JS -->\n  <script>\n  (() => {\n    // Chapter list: Introduction = 0, Chapter 1-13 = 1-13, Outroduction = 14\n    const chapters = [\n      { id: ''intro'', title: ''Introduction'', url: ''https://arvinjaysoncastro.com/working-fundamentals-introduction'' },\n      { id: ''ch1'', title: ''Chapter 1'', url: ''https://arvinjaysoncastro.com/working-fundamentals-1-of-13-programming-fundamentals'' },\n      { id: ''ch2'', title: ''Chapter 2'', url: ''https://arvinjaysoncastro.com/working-fundamentals-2-of-13-data-structures'' },\n      { id: ''ch3'', title: ''Chapter 3'', url: ''https://arvinjaysoncastro.com/working-fundamentals-3-of-13-algorithms-and-complexity'' },\n      { id: ''ch4'', title: ''Chapter 4'', url: ''https://arvinjaysoncastro.com/working-fundamentals-4-of-13-control-and-flow'' },\n      { id: ''ch5'', title: ''Chapter 5'', url: ''https://arvinjaysoncastro.com/working-fundamentals-5-of-13-state-and-change'' },\n      { id: ''ch6'', title: ''Chapter 6'', url: ''https://arvinjaysoncastro.com/working-fundamentals-6-of-13-design-principles'' },\n      { id: ''ch7'', title: ''Chapter 7'', url: ''https://arvinjaysoncastro.com/working-fundamentals-7-of-13-architecture'' },\n      { id: ''ch8'', title: ''Chapter 8'', url: ''https://arvinjaysoncastro.com/working-fundamentals-8-of-13-persistence-and-data-modeling'' },\n      { id: ''ch9'', title: ''Chapter 9'', url: ''https://arvinjaysoncastro.com/working-fundamentals-9-of-13-interfaces-and-apis'' },\n      { id: ''ch10'', title: ''Chapter 10'', url: ''https://arvinjaysoncastro.com/working-fundamentals-10-of-13-errors-and-failure'' },\n      { id: ''ch11'', title: ''Chapter 11'', url: ''https://arvinjaysoncastro.com/working-fundamentals-11-of-13-testing'' },\n      { id: ''ch12'', title: ''Chapter 12'', url: ''https://arvinjaysoncastro.com/working-fundamentals-12-of-13-performance-and-scale'' },\n      { id: ''ch13'', title: ''Chapter 13'', url: ''https://arvinjaysoncastro.com/working-fundamentals-13-of-13-the-developers-role'' },\n      { id: ''outro'', title: ''Outroduction'', url: ''https://arvinjaysoncastro.com/working-fundamentals-outroduction'' }\n    ];\n\n    const currentChapterIndex = 13; // Outroduction (after all chapters)\n    const prevLink = document.getElementById(''prevChapter'');\n    const nextLink = document.getElementById(''nextChapter'');\n\n    if (!prevLink || !nextLink) return;\n\n    // Previous chapter (Chapter 13)\n    if (currentChapterIndex > 0) {\n      const prevChapter = chapters[currentChapterIndex - 1];\n      prevLink.href = prevChapter.url;\n      prevLink.target = ''_blank'';\n      prevLink.innerHTML = `\n        <span class=\"chapter-nav-bottom__arrow\">‚Üê</span>\n        <span class=\"chapter-nav-bottom__label\">Previous: ${prevChapter.title}</span>\n      `;\n    }\n\n    // Next chapter (Outroduction has no next - show \"go back to book list\")\n    nextLink.href = ''/books'';\n    nextLink.innerHTML = `\n      <span class=\"chapter-nav-bottom__label\">Go back to book list</span>\n      <span class=\"chapter-nav-bottom__arrow\">‚Üí</span>\n    `;\n  })();\n  </script>\n\n  <!-- OPTIONAL JS -->\n <script>\n(() => {\n  const wrap = document.querySelector(''.book-wrap'');\n  if (!wrap) return;\n\n  const slab1 = wrap.querySelector(''.shadow-slab'');\n  const slab2 = wrap.querySelector(''.shadow-slab-2'');\n  const slab3 = wrap.querySelector(''.shadow-slab-3'');\n  const slab4 = wrap.querySelector(''.shadow-slab-4'');\n  const front = wrap.querySelector(''.front-slab'');\n\n  const clamp = (v, min, max) => Math.max(min, Math.min(max, v));\n\n  let raf = 0;\n  let lx = 0; // light vector x\n  let ly = 0; // light vector y\n\n  function render() {\n    raf = 0;\n\n    // Shadow direction = opposite of light\n    const sx = -lx;\n    const sy = -ly;\n\n    const intensity = Math.abs(lx) + Math.abs(ly);\n\n    /* ---------------------------\n       SLAB 1 ‚Äî KEY CAST SHADOW\n    ---------------------------- */\n    slab1.style.transform =\n      `translate(${(sx * 38).toFixed(2)}px, ${(sy * 38).toFixed(2)}px)`;\n    slab1.style.filter =\n      `blur(${(14 + intensity * 6).toFixed(2)}px)`;\n    slab1.style.opacity =\n      (0.28 + intensity * 0.14).toFixed(2);\n\n    /* ---------------------------\n       SLAB 2 ‚Äî BOUNCE / COLOR BLEED\n    ---------------------------- */\n    slab2.style.transform =\n      `translate(${(sx * 14).toFixed(2)}px, ${(sy * 14).toFixed(2)}px)`;\n    slab2.style.filter =\n      `blur(${(6 + intensity * 4).toFixed(2)}px)`;\n    slab2.style.opacity =\n      (0.16 + intensity * 0.10).toFixed(2);\n\n    /* ---------------------------\n       SLAB 3 ‚Äî CONTACT SHADOW\n    ---------------------------- */\n    slab3.style.transform =\n      `translate(${(sx * 6).toFixed(2)}px, ${(sy * 6).toFixed(2)}px)`;\n    slab3.style.filter = `blur(9px)`;\n    slab3.style.opacity =\n      (0.24 + Math.abs(lx) * 0.06).toFixed(2);\n\n    /* ---------------------------\n       SLAB 4 ‚Äî AMBIENT DEPTH\n    ---------------------------- */\n    slab4.style.transform =\n      `translate(${(sx * 3).toFixed(2)}px, ${(sy * 3).toFixed(2)}px)`;\n    slab4.style.filter = `blur(18px)`;\n    slab4.style.opacity =\n      (0.16 + Math.abs(ly) * 0.04).toFixed(2);\n\n    /* ---------------------------\n       FRONT SLAB ‚Äî SPECULAR RESPONSE\n       (moves TOWARD light)\n    ---------------------------- */\nif (front) {\n  // Very subtle counter-parallax (NOT toward light)\n  front.style.transform =\n    `translate(${(-lx * 1.6).toFixed(2)}px, ${(-ly * 1.6).toFixed(2)}px)`;\n\n  // Opacity increases when light is grazing\n  front.style.opacity =\n    (0.34 + intensity * 0.22).toFixed(2);\n\n  // Highlight shifts OPPOSITE the light direction\n  const gx = 50 - lx * 28;\n  const gy = 50 - ly * 28;\n  front.style.backgroundPosition = `${gx}% ${gy}%`;\n}\n\n  }\n\n  function onMove(e) {\n    const r = wrap.getBoundingClientRect();\n    const cx = r.left + r.width / 2;\n    const cy = r.top + r.height / 2;\n\n    // LIGHT VECTOR (mouse = light source)\n    lx = clamp((e.clientX - cx) / (r.width / 2), -1, 1);\n    ly = clamp((e.clientY - cy) / (r.height / 2), -1, 1);\n\n    if (!raf) raf = requestAnimationFrame(render);\n  }\n\n  window.addEventListener(''mousemove'', onMove, { passive: true });\n})();\n</script>\n</body>\n</html>\n", "css": "body { font-family: system-ui; padding: 20px; }", "js": "console.log(\"Code Runner initialized\");", "imports": {"css": [], "js": []}, "entryPoint": {"type": "htmlDocument", "mountSelector": "#app", "injectMountIfMissing": true}, "settings": {"mode": "play", "viewport": {"type": "responsive", "background": "white"}, "securityPreset": "trusted", "autoRun": true, "runOnLoad": true}, "codePanel": {"isVisible": false, "isEditable": false}}}]}]}',
    NULL,
    1,
    NOW()
);

